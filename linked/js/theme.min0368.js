/*!
 * https://github.com/paulmillr/es6-shim
 * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
 *   and contributors,  MIT License
 * es6-shim: v0.35.3
 * see https://github.com/paulmillr/es6-shim/blob/0.35.3/LICENSE
 * Details and documentation:
 * https://github.com/paulmillr/es6-shim/
 */
!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.returnExports=e()}(this,(function(){"use strict";var t,e=Function.call.bind(Function.apply),r=Function.call.bind(Function.call),n=Array.isArray,o=Object.keys,i=function(t){return function(){return!e(t,this,arguments)}},a=function(t){try{return t(),!1}catch(t){return!0}},u=function(t){try{return t()}catch(t){return!1}},c=i(a),s=function(){return!a((function(){Object.defineProperty({},"x",{get:function(){}})}))},f=!!Object.defineProperty&&s(),p="foo"===function(){}.name,l=Function.call.bind(Array.prototype.forEach),h=Function.call.bind(Array.prototype.reduce),y=Function.call.bind(Array.prototype.filter),v=Function.call.bind(Array.prototype.some),b=function(t,e,r,n){!n&&e in t||(f?Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:r}):t[e]=r)},g=function(t,e,r){l(o(e),(function(n){var o=e[n];b(t,n,o,!!r)}))},d=Function.call.bind(Object.prototype.toString),O="function"==typeof/abc/?function(t){return"function"==typeof t&&"[object Function]"===d(t)}:function(t){return"function"==typeof t},m={getter:function(t,e,r){if(!f)throw new TypeError("getters require true ES5 support");Object.defineProperty(t,e,{configurable:!0,enumerable:!1,get:r})},proxy:function(t,e,r){if(!f)throw new TypeError("getters require true ES5 support");var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,{configurable:n.configurable,enumerable:n.enumerable,get:function(){return t[e]},set:function(r){t[e]=r}})},redefine:function(t,e,r){if(f){var n=Object.getOwnPropertyDescriptor(t,e);n.value=r,Object.defineProperty(t,e,n)}else t[e]=r},defineByDescriptor:function(t,e,r){f?Object.defineProperty(t,e,r):"value"in r&&(t[e]=r.value)},preserveToString:function(t,e){e&&O(e.toString)&&b(t,"toString",e.toString.bind(e),!0)}},w=Object.create||function(t,e){var r=function(){};r.prototype=t;var n=new r;return void 0!==e&&o(e).forEach((function(t){m.defineByDescriptor(n,t,e[t])})),n},j=function(t,e){return!!Object.setPrototypeOf&&u((function(){var r=function e(r){var n=new t(r);return Object.setPrototypeOf(n,e.prototype),n};return Object.setPrototypeOf(r,t),r.prototype=w(t.prototype,{constructor:{value:r}}),e(r)}))},S=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")},T=S(),I=T.isFinite,E=Function.call.bind(String.prototype.indexOf),P=Function.apply.bind(Array.prototype.indexOf),C=Function.call.bind(Array.prototype.concat),M=Function.call.bind(String.prototype.slice),x=Function.call.bind(Array.prototype.push),N=Function.apply.bind(Array.prototype.push),A=Function.call.bind(Array.prototype.shift),_=Math.max,R=Math.min,k=Math.floor,L=Math.abs,F=Math.exp,D=Math.log,z=Math.sqrt,q=Function.call.bind(Object.prototype.hasOwnProperty),G=function(){},H=T.Map,W=H&&H.prototype.delete,V=H&&H.prototype.get,B=H&&H.prototype.has,$=H&&H.prototype.set,U=T.Symbol||{},J=U.species||"@@species",X=Number.isNaN||function(t){return t!=t},Z=Number.isFinite||function(t){return"number"==typeof t&&I(t)},Y=O(Math.sign)?Math.sign:function(t){var e=Number(t);return 0===e||X(e)?e:e<0?-1:1},K=function(t){var e=Number(t);return e<-1||X(e)?NaN:0===e||e===1/0?e:-1===e?-1/0:1+e-1==0?e:e*(D(1+e)/(1+e-1))},Q=function(t){return"[object Arguments]"===d(t)},tt=function(t){return null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==d(t)&&"[object Function]"===d(t.callee)},et=Q(arguments)?Q:tt,rt={primitive:function(t){return null===t||"function"!=typeof t&&"object"!=typeof t},string:function(t){return"[object String]"===d(t)},regex:function(t){return"[object RegExp]"===d(t)},symbol:function(t){return"function"==typeof T.Symbol&&"symbol"==typeof t}},nt=function(t,e,r){var n=t[e];b(t,e,r,!0),m.preserveToString(t[e],n)},ot="function"==typeof U&&"function"==typeof U.for&&rt.symbol(U()),it=rt.symbol(U.iterator)?U.iterator:"_es6-shim iterator_";T.Set&&"function"==typeof(new T.Set)["@@iterator"]&&(it="@@iterator"),T.Reflect||b(T,"Reflect",{},!0);var at,ut=T.Reflect,ct=String,st="undefined"!=typeof document&&document?document.all:null,ft=null==st?function(t){return null==t}:function(t){return null==t&&t!==st},pt={Call:function(t,r){var n=arguments.length>2?arguments[2]:[];if(!pt.IsCallable(t))throw new TypeError(t+" is not a function");return e(t,r,n)},RequireObjectCoercible:function(t,e){if(ft(t))throw new TypeError(e||"Cannot call method on "+t);return t},TypeIsObject:function(t){return null!=t&&!0!==t&&!1!==t&&("function"==typeof t||"object"==typeof t||t===st)},ToObject:function(t,e){return Object(pt.RequireObjectCoercible(t,e))},IsCallable:O,IsConstructor:function(t){return pt.IsCallable(t)},ToInt32:function(t){return pt.ToNumber(t)>>0},ToUint32:function(t){return pt.ToNumber(t)>>>0},ToNumber:function(t){if("[object Symbol]"===d(t))throw new TypeError("Cannot convert a Symbol value to a number");return+t},ToInteger:function(t){var e=pt.ToNumber(t);return X(e)?0:0!==e&&Z(e)?(e>0?1:-1)*k(L(e)):e},ToLength:function(t){var e=pt.ToInteger(t);return e<=0?0:e>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e},SameValue:function(t,e){return t===e?0!==t||1/t==1/e:X(t)&&X(e)},SameValueZero:function(t,e){return t===e||X(t)&&X(e)},IsIterable:function(t){return pt.TypeIsObject(t)&&(void 0!==t[it]||et(t))},GetIterator:function(e){if(et(e))return new t(e,"value");var r=pt.GetMethod(e,it);if(!pt.IsCallable(r))throw new TypeError("value is not an iterable");var n=pt.Call(r,e);if(!pt.TypeIsObject(n))throw new TypeError("bad iterator");return n},GetMethod:function(t,e){var r=pt.ToObject(t)[e];if(!ft(r)){if(!pt.IsCallable(r))throw new TypeError("Method not callable: "+e);return r}},IteratorComplete:function(t){return!!t.done},IteratorClose:function(t,e){var r=pt.GetMethod(t,"return");if(void 0!==r){var n,o;try{n=pt.Call(r,t)}catch(t){o=t}if(!e){if(o)throw o;if(!pt.TypeIsObject(n))throw new TypeError("Iterator's return method returned a non-object.")}}},IteratorNext:function(t){var e=arguments.length>1?t.next(arguments[1]):t.next();if(!pt.TypeIsObject(e))throw new TypeError("bad iterator");return e},IteratorStep:function(t){var e=pt.IteratorNext(t);return!pt.IteratorComplete(e)&&e},Construct:function(t,e,r,n){var o=void 0===r?t:r;if(!n&&ut.construct)return ut.construct(t,e,o);var i=o.prototype;pt.TypeIsObject(i)||(i=Object.prototype);var a=w(i),u=pt.Call(t,a,e);return pt.TypeIsObject(u)?u:a},SpeciesConstructor:function(t,e){var r=t.constructor;if(void 0===r)return e;if(!pt.TypeIsObject(r))throw new TypeError("Bad constructor");var n=r[J];if(ft(n))return e;if(!pt.IsConstructor(n))throw new TypeError("Bad @@species");return n},CreateHTML:function(t,e,r,n){var o=pt.ToString(t),i="<"+e;""!==r&&(i+=" "+r+'="'+pt.ToString(n).replace(/"/g,"&quot;")+'"');return i+">"+o+"</"+e+">"},IsRegExp:function(t){if(!pt.TypeIsObject(t))return!1;var e=t[U.match];return void 0!==e?!!e:rt.regex(t)},ToString:function(t){return ct(t)}};if(f&&ot){var lt=function(t){if(rt.symbol(U[t]))return U[t];var e=U.for("Symbol."+t);return Object.defineProperty(U,t,{configurable:!1,enumerable:!1,writable:!1,value:e}),e};if(!rt.symbol(U.search)){var ht=lt("search"),yt=String.prototype.search;b(RegExp.prototype,ht,(function(t){return pt.Call(yt,t,[this])}));var vt=function(t){var e=pt.RequireObjectCoercible(this);if(!ft(t)){var r=pt.GetMethod(t,ht);if(void 0!==r)return pt.Call(r,t,[e])}return pt.Call(yt,e,[pt.ToString(t)])};nt(String.prototype,"search",vt)}if(!rt.symbol(U.replace)){var bt=lt("replace"),gt=String.prototype.replace;b(RegExp.prototype,bt,(function(t,e){return pt.Call(gt,t,[this,e])}));var dt=function(t,e){var r=pt.RequireObjectCoercible(this);if(!ft(t)){var n=pt.GetMethod(t,bt);if(void 0!==n)return pt.Call(n,t,[r,e])}return pt.Call(gt,r,[pt.ToString(t),e])};nt(String.prototype,"replace",dt)}if(!rt.symbol(U.split)){var Ot=lt("split"),mt=String.prototype.split;b(RegExp.prototype,Ot,(function(t,e){return pt.Call(mt,t,[this,e])}));var wt=function(t,e){var r=pt.RequireObjectCoercible(this);if(!ft(t)){var n=pt.GetMethod(t,Ot);if(void 0!==n)return pt.Call(n,t,[r,e])}return pt.Call(mt,r,[pt.ToString(t),e])};nt(String.prototype,"split",wt)}var jt=rt.symbol(U.match),St=jt&&((at={})[U.match]=function(){return 42},42!=="a".match(at));if(!jt||St){var Tt=lt("match"),It=String.prototype.match;b(RegExp.prototype,Tt,(function(t){return pt.Call(It,t,[this])}));var Et=function(t){var e=pt.RequireObjectCoercible(this);if(!ft(t)){var r=pt.GetMethod(t,Tt);if(void 0!==r)return pt.Call(r,t,[e])}return pt.Call(It,e,[pt.ToString(t)])};nt(String.prototype,"match",Et)}}var Pt=function(t,e,r){m.preserveToString(e,t),Object.setPrototypeOf&&Object.setPrototypeOf(t,e),f?l(Object.getOwnPropertyNames(t),(function(n){n in G||r[n]||m.proxy(t,n,e)})):l(Object.keys(t),(function(n){n in G||r[n]||(e[n]=t[n])})),e.prototype=t.prototype,m.redefine(t.prototype,"constructor",e)},Ct=function(){return this},Mt=function(t){f&&!q(t,J)&&m.getter(t,J,Ct)},xt=function(t,e){var r=e||function(){return this};b(t,it,r),!t[it]&&rt.symbol(it)&&(t[it]=r)},Nt=function(t,e,r){f?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,writable:!0,value:r}):t[e]=r},At=function(t,e,r){if(Nt(t,e,r),!pt.SameValue(t[e],r))throw new TypeError("property is nonconfigurable")},_t=function(t,e,r,n){if(!pt.TypeIsObject(t))throw new TypeError("Constructor requires `new`: "+e.name);var o=e.prototype;pt.TypeIsObject(o)||(o=r);var i=w(o);for(var a in n)if(q(n,a)){var u=n[a];b(i,a,u,!0)}return i};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var Rt=String.fromCodePoint;nt(String,"fromCodePoint",(function(t){return pt.Call(Rt,this,arguments)}))}var kt={fromCodePoint:function(t){for(var e,r=[],n=0,o=arguments.length;n<o;n++){if(e=Number(arguments[n]),!pt.SameValue(e,pt.ToInteger(e))||e<0||e>1114111)throw new RangeError("Invalid code point "+e);e<65536?x(r,String.fromCharCode(e)):(e-=65536,x(r,String.fromCharCode(55296+(e>>10))),x(r,String.fromCharCode(e%1024+56320)))}return r.join("")},raw:function(t){var e=pt.ToObject(t,"bad callSite"),r=pt.ToObject(e.raw,"bad raw value"),n=r.length,o=pt.ToLength(n);if(o<=0)return"";for(var i,a,u,c,s=[],f=0;f<o&&(i=pt.ToString(f),u=pt.ToString(r[i]),x(s,u),!(f+1>=o));)a=f+1<arguments.length?arguments[f+1]:"",c=pt.ToString(a),x(s,c),f+=1;return s.join("")}};String.raw&&"xy"!==String.raw({raw:{0:"x",1:"y",length:2}})&&nt(String,"raw",kt.raw),g(String,kt);var Lt=function t(e,r){if(r<1)return"";if(r%2)return t(e,r-1)+e;var n=t(e,r/2);return n+n},Ft=1/0,Dt={repeat:function(t){var e=pt.ToString(pt.RequireObjectCoercible(this)),r=pt.ToInteger(t);if(r<0||r>=Ft)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return Lt(e,r)},startsWith:function(t){var e=pt.ToString(pt.RequireObjectCoercible(this));if(pt.IsRegExp(t))throw new TypeError('Cannot call method "startsWith" with a regex');var r,n=pt.ToString(t);arguments.length>1&&(r=arguments[1]);var o=_(pt.ToInteger(r),0);return M(e,o,o+n.length)===n},endsWith:function(t){var e=pt.ToString(pt.RequireObjectCoercible(this));if(pt.IsRegExp(t))throw new TypeError('Cannot call method "endsWith" with a regex');var r,n=pt.ToString(t),o=e.length;arguments.length>1&&(r=arguments[1]);var i=void 0===r?o:pt.ToInteger(r),a=R(_(i,0),o);return M(e,a-n.length,a)===n},includes:function(t){if(pt.IsRegExp(t))throw new TypeError('"includes" does not accept a RegExp');var e,r=pt.ToString(t);return arguments.length>1&&(e=arguments[1]),-1!==E(this,r,e)},codePointAt:function(t){var e=pt.ToString(pt.RequireObjectCoercible(this)),r=pt.ToInteger(t),n=e.length;if(r>=0&&r<n){var o=e.charCodeAt(r);if(o<55296||o>56319||r+1===n)return o;var i=e.charCodeAt(r+1);return i<56320||i>57343?o:1024*(o-55296)+(i-56320)+65536}}};if(String.prototype.includes&&!1!=="a".includes("a",1/0)&&nt(String.prototype,"includes",Dt.includes),String.prototype.startsWith&&String.prototype.endsWith){var zt=a((function(){"/a/".startsWith(/a/)})),qt=u((function(){return!1==="abc".startsWith("a",1/0)}));zt&&qt||(nt(String.prototype,"startsWith",Dt.startsWith),nt(String.prototype,"endsWith",Dt.endsWith))}if(ot){var Gt=u((function(){var t=/a/;return t[U.match]=!1,"/a/".startsWith(t)}));Gt||nt(String.prototype,"startsWith",Dt.startsWith);var Ht=u((function(){var t=/a/;return t[U.match]=!1,"/a/".endsWith(t)}));Ht||nt(String.prototype,"endsWith",Dt.endsWith);var Wt=u((function(){var t=/a/;return t[U.match]=!1,"/a/".includes(t)}));Wt||nt(String.prototype,"includes",Dt.includes)}g(String.prototype,Dt);var Vt=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),Bt=new RegExp("(^["+Vt+"]+)|(["+Vt+"]+$)","g"),$t=function(){return pt.ToString(pt.RequireObjectCoercible(this)).replace(Bt,"")},Ut=["","​","￾"].join(""),Jt=new RegExp("["+Ut+"]","g"),Xt=/^[-+]0x[0-9a-f]+$/i,Zt=Ut.trim().length!==Ut.length;b(String.prototype,"trim",$t,Zt);var Yt=function(t){return{value:t,done:0===arguments.length}},Kt=function(t){pt.RequireObjectCoercible(t),this._s=pt.ToString(t),this._i=0};Kt.prototype.next=function(){var t=this._s,e=this._i;if(void 0===t||e>=t.length)return this._s=void 0,Yt();var r,n,o=t.charCodeAt(e);return n=o<55296||o>56319||e+1===t.length||(r=t.charCodeAt(e+1))<56320||r>57343?1:2,this._i=e+n,Yt(t.substr(e,n))},xt(Kt.prototype),xt(String.prototype,(function(){return new Kt(this)}));var Qt={from:function(t){var e,n,o,i=this;if(arguments.length>1&&(e=arguments[1]),void 0===e)n=!1;else{if(!pt.IsCallable(e))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2]),n=!0}var a,u,c,s=void 0!==(et(t)||pt.GetMethod(t,it));if(s){u=pt.IsConstructor(i)?Object(new i):[];var f,p,l=pt.GetIterator(t);for(c=0;!1!==(f=pt.IteratorStep(l));){p=f.value;try{n&&(p=void 0===o?e(p,c):r(e,o,p,c)),u[c]=p}catch(t){throw pt.IteratorClose(l,!0),t}c+=1}a=c}else{var h,y=pt.ToObject(t);for(a=pt.ToLength(y.length),u=pt.IsConstructor(i)?Object(new i(a)):new Array(a),c=0;c<a;++c)h=y[c],n&&(h=void 0===o?e(h,c):r(e,o,h,c)),At(u,c,h)}return u.length=a,u},of:function(){for(var t=arguments.length,e=this,r=n(e)||!pt.IsCallable(e)?new Array(t):pt.Construct(e,[t]),o=0;o<t;++o)At(r,o,arguments[o]);return r.length=t,r}};g(Array,Qt),Mt(Array),g((t=function(t,e){this.i=0,this.array=t,this.kind=e}).prototype,{next:function(){var e=this.i,r=this.array;if(!(this instanceof t))throw new TypeError("Not an ArrayIterator");if(void 0!==r)for(var n=pt.ToLength(r.length);e<n;e++){var o,i=this.kind;return"key"===i?o=e:"value"===i?o=r[e]:"entry"===i&&(o=[e,r[e]]),this.i=e+1,Yt(o)}return this.array=void 0,Yt()}}),xt(t.prototype);var te=Array.of===Qt.of||function(){var t=function(t){this.length=t};t.prototype=[];var e=Array.of.apply(t,[1,2]);return e instanceof t&&2===e.length}();te||nt(Array,"of",Qt.of);var ee={copyWithin:function(t,e){var r,n=pt.ToObject(this),o=pt.ToLength(n.length),i=pt.ToInteger(t),a=pt.ToInteger(e),u=i<0?_(o+i,0):R(i,o),c=a<0?_(o+a,0):R(a,o);arguments.length>2&&(r=arguments[2]);var s=void 0===r?o:pt.ToInteger(r),f=s<0?_(o+s,0):R(s,o),p=R(f-c,o-u),l=1;for(c<u&&u<c+p&&(l=-1,c+=p-1,u+=p-1);p>0;)c in n?n[u]=n[c]:delete n[u],c+=l,u+=l,p-=1;return n},fill:function(t){var e,r;arguments.length>1&&(e=arguments[1]),arguments.length>2&&(r=arguments[2]);var n=pt.ToObject(this),o=pt.ToLength(n.length);e=pt.ToInteger(void 0===e?0:e),r=pt.ToInteger(void 0===r?o:r);for(var i=e<0?_(o+e,0):R(e,o),a=r<0?o+r:r,u=i;u<o&&u<a;++u)n[u]=t;return n},find:function(t){var e=pt.ToObject(this),n=pt.ToLength(e.length);if(!pt.IsCallable(t))throw new TypeError("Array#find: predicate must be a function");for(var o,i=arguments.length>1?arguments[1]:null,a=0;a<n;a++)if(o=e[a],i){if(r(t,i,o,a,e))return o}else if(t(o,a,e))return o},findIndex:function(t){var e=pt.ToObject(this),n=pt.ToLength(e.length);if(!pt.IsCallable(t))throw new TypeError("Array#findIndex: predicate must be a function");for(var o=arguments.length>1?arguments[1]:null,i=0;i<n;i++)if(o){if(r(t,o,e[i],i,e))return i}else if(t(e[i],i,e))return i;return-1},keys:function(){return new t(this,"key")},values:function(){return new t(this,"value")},entries:function(){return new t(this,"entry")}};if(Array.prototype.keys&&!pt.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!pt.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[it]&&(g(Array.prototype,{values:Array.prototype[it]}),rt.symbol(U.unscopables)&&(Array.prototype[U.unscopables].values=!0)),p&&Array.prototype.values&&"values"!==Array.prototype.values.name){var re=Array.prototype.values;nt(Array.prototype,"values",(function(){return pt.Call(re,this,arguments)})),b(Array.prototype,it,Array.prototype.values,!0)}g(Array.prototype,ee),1/[!0].indexOf(!0,-0)<0&&b(Array.prototype,"indexOf",(function(t){var e=P(this,arguments);return 0===e&&1/e<0?0:e}),!0),xt(Array.prototype,(function(){return this.values()})),Object.getPrototypeOf&&xt(Object.getPrototypeOf([].values()));var ne,oe=u((function(){return 0===Array.from({length:-1}).length})),ie=1===(ne=Array.from([0].entries())).length&&n(ne[0])&&0===ne[0][0]&&0===ne[0][1];oe&&ie||nt(Array,"from",Qt.from);var ae=u((function(){return Array.from([0],void 0)}));if(!ae){var ue=Array.from;nt(Array,"from",(function(t){return arguments.length>1&&void 0!==arguments[1]?pt.Call(ue,this,arguments):r(ue,this,t)}))}var ce=-(Math.pow(2,32)-1),se=function(t,e){var n={length:ce};return n[e?(n.length>>>0)-1:0]=!0,u((function(){return r(t,n,(function(){throw new RangeError("should not reach here")}),[]),!0}))};if(!se(Array.prototype.forEach)){var fe=Array.prototype.forEach;nt(Array.prototype,"forEach",(function(t){return pt.Call(fe,this.length>=0?this:[],arguments)}),!0)}if(!se(Array.prototype.map)){var pe=Array.prototype.map;nt(Array.prototype,"map",(function(t){return pt.Call(pe,this.length>=0?this:[],arguments)}),!0)}if(!se(Array.prototype.filter)){var le=Array.prototype.filter;nt(Array.prototype,"filter",(function(t){return pt.Call(le,this.length>=0?this:[],arguments)}),!0)}if(!se(Array.prototype.some)){var he=Array.prototype.some;nt(Array.prototype,"some",(function(t){return pt.Call(he,this.length>=0?this:[],arguments)}),!0)}if(!se(Array.prototype.every)){var ye=Array.prototype.every;nt(Array.prototype,"every",(function(t){return pt.Call(ye,this.length>=0?this:[],arguments)}),!0)}if(!se(Array.prototype.reduce)){var ve=Array.prototype.reduce;nt(Array.prototype,"reduce",(function(t){return pt.Call(ve,this.length>=0?this:[],arguments)}),!0)}if(!se(Array.prototype.reduceRight,!0)){var be=Array.prototype.reduceRight;nt(Array.prototype,"reduceRight",(function(t){return pt.Call(be,this.length>=0?this:[],arguments)}),!0)}var ge=8!==Number("0o10"),de=2!==Number("0b10"),Oe=v(Ut,(function(t){return 0===Number(t+0+t)}));if(ge||de||Oe){var me=Number,we=/^0b[01]+$/i,je=/^0o[0-7]+$/i,Se=we.test.bind(we),Te=je.test.bind(je),Ie=function(t){var e;if("function"==typeof t.valueOf&&(e=t.valueOf(),rt.primitive(e)))return e;if("function"==typeof t.toString&&(e=t.toString(),rt.primitive(e)))return e;throw new TypeError("No default value")},Ee=Jt.test.bind(Jt),Pe=Xt.test.bind(Xt),Ce=function(){var t=function(e){var r;"string"==typeof(r=arguments.length>0?rt.primitive(e)?e:Ie(e,"number"):0)&&(r=pt.Call($t,r),Se(r)?r=parseInt(M(r,2),2):Te(r)?r=parseInt(M(r,2),8):(Ee(r)||Pe(r))&&(r=NaN));var n=this,o=u((function(){return me.prototype.valueOf.call(n),!0}));return n instanceof t&&!o?new me(r):me(r)};return t}();Pt(me,Ce,{}),g(Ce,{NaN:me.NaN,MAX_VALUE:me.MAX_VALUE,MIN_VALUE:me.MIN_VALUE,NEGATIVE_INFINITY:me.NEGATIVE_INFINITY,POSITIVE_INFINITY:me.POSITIVE_INFINITY}),Number=Ce,m.redefine(T,"Number",Ce)}var Me=Math.pow(2,53)-1;g(Number,{MAX_SAFE_INTEGER:Me,MIN_SAFE_INTEGER:-Me,EPSILON:2220446049250313e-31,parseInt:T.parseInt,parseFloat:T.parseFloat,isFinite:Z,isInteger:function(t){return Z(t)&&pt.ToInteger(t)===t},isSafeInteger:function(t){return Number.isInteger(t)&&L(t)<=Number.MAX_SAFE_INTEGER},isNaN:X}),b(Number,"parseInt",T.parseInt,Number.parseInt!==T.parseInt),1===[,1].find((function(){return!0}))&&nt(Array.prototype,"find",ee.find),0!==[,1].findIndex((function(){return!0}))&&nt(Array.prototype,"findIndex",ee.findIndex);var xe,Ne,Ae,_e=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),Re=function(t,e){f&&_e(t,e)&&Object.defineProperty(t,e,{enumerable:!1})},ke=function(){for(var t=Number(this),e=arguments.length,r=e-t,n=new Array(r<0?0:r),o=t;o<e;++o)n[o-t]=arguments[o];return n},Le=function(t){return function(e,r){return e[r]=t[r],e}},Fe=function(t,e){var r,n=o(Object(e));return pt.IsCallable(Object.getOwnPropertySymbols)&&(r=y(Object.getOwnPropertySymbols(Object(e)),_e(e))),h(C(n,r||[]),Le(e),t)},De={assign:function(t,e){var r=pt.ToObject(t,"Cannot convert undefined or null to object");return h(pt.Call(ke,1,arguments),Fe,r)},is:function(t,e){return pt.SameValue(t,e)}},ze=Object.assign&&Object.preventExtensions&&function(){var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}}();if(ze&&nt(Object,"assign",De.assign),g(Object,De),f){var qe={setPrototypeOf:function(t,e){var n,o=function(t,e){return function(t,e){if(!pt.TypeIsObject(t))throw new TypeError("cannot set prototype on a non-object");if(null!==e&&!pt.TypeIsObject(e))throw new TypeError("can only set prototype to an object or null"+e)}(t,e),r(n,t,e),t};try{n=t.getOwnPropertyDescriptor(t.prototype,e).set,r(n,{},null)}catch(r){if(t.prototype!=={}[e])return;n=function(t){this[e]=t},o.polyfill=o(o({},null),t.prototype)instanceof t}return o}(Object,"__proto__")};g(Object,qe)}Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&(xe=Object.create(null),Ne=Object.getPrototypeOf,Ae=Object.setPrototypeOf,Object.getPrototypeOf=function(t){var e=Ne(t);return e===xe?null:e},Object.setPrototypeOf=function(t,e){return Ae(t,null===e?xe:e)},Object.setPrototypeOf.polyfill=!1);var Ge=!a((function(){Object.keys("foo")}));if(!Ge){var He=Object.keys;nt(Object,"keys",(function(t){return He(pt.ToObject(t))})),o=Object.keys}var We=a((function(){Object.keys(/a/g)}));if(We){var Ve=Object.keys;nt(Object,"keys",(function(t){if(rt.regex(t)){var e=[];for(var r in t)q(t,r)&&x(e,r);return e}return Ve(t)})),o=Object.keys}if(Object.getOwnPropertyNames){var Be=!a((function(){Object.getOwnPropertyNames("foo")}));if(!Be){var $e="object"==typeof window?Object.getOwnPropertyNames(window):[],Ue=Object.getOwnPropertyNames;nt(Object,"getOwnPropertyNames",(function(t){var e=pt.ToObject(t);if("[object Window]"===d(e))try{return Ue(e)}catch(t){return C([],$e)}return Ue(e)}))}}if(Object.getOwnPropertyDescriptor){var Je=!a((function(){Object.getOwnPropertyDescriptor("foo","bar")}));if(!Je){var Xe=Object.getOwnPropertyDescriptor;nt(Object,"getOwnPropertyDescriptor",(function(t,e){return Xe(pt.ToObject(t),e)}))}}if(Object.seal){var Ze=!a((function(){Object.seal("foo")}));if(!Ze){var Ye=Object.seal;nt(Object,"seal",(function(t){return pt.TypeIsObject(t)?Ye(t):t}))}}if(Object.isSealed){var Ke=!a((function(){Object.isSealed("foo")}));if(!Ke){var Qe=Object.isSealed;nt(Object,"isSealed",(function(t){return!pt.TypeIsObject(t)||Qe(t)}))}}if(Object.freeze){var tr=!a((function(){Object.freeze("foo")}));if(!tr){var er=Object.freeze;nt(Object,"freeze",(function(t){return pt.TypeIsObject(t)?er(t):t}))}}if(Object.isFrozen){var rr=!a((function(){Object.isFrozen("foo")}));if(!rr){var nr=Object.isFrozen;nt(Object,"isFrozen",(function(t){return!pt.TypeIsObject(t)||nr(t)}))}}if(Object.preventExtensions){var or=!a((function(){Object.preventExtensions("foo")}));if(!or){var ir=Object.preventExtensions;nt(Object,"preventExtensions",(function(t){return pt.TypeIsObject(t)?ir(t):t}))}}if(Object.isExtensible){var ar=!a((function(){Object.isExtensible("foo")}));if(!ar){var ur=Object.isExtensible;nt(Object,"isExtensible",(function(t){return!!pt.TypeIsObject(t)&&ur(t)}))}}if(Object.getPrototypeOf){var cr=!a((function(){Object.getPrototypeOf("foo")}));if(!cr){var sr=Object.getPrototypeOf;nt(Object,"getPrototypeOf",(function(t){return sr(pt.ToObject(t))}))}}var fr,pr=f&&((fr=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags"))&&pt.IsCallable(fr.get));if(f&&!pr){var lr=function(){if(!pt.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t};m.getter(RegExp.prototype,"flags",lr)}var hr,yr=f&&u((function(){return"/a/i"===String(new RegExp(/a/g,"i"))})),vr=ot&&f&&((hr=/./)[U.match]=!1,RegExp(hr)===hr),br=u((function(){return"/abc/"===RegExp.prototype.toString.call({source:"abc"})})),gr=br&&u((function(){return"/a/b"===RegExp.prototype.toString.call({source:"a",flags:"b"})}));if(!br||!gr){var dr=RegExp.prototype.toString;b(RegExp.prototype,"toString",(function(){var t=pt.RequireObjectCoercible(this);return rt.regex(t)?r(dr,t):"/"+ct(t.source)+"/"+ct(t.flags)}),!0),m.preserveToString(RegExp.prototype.toString,dr)}if(f&&(!yr||vr)){var Or=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get,mr=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{},wr=function(){return this.source},jr=pt.IsCallable(mr.get)?mr.get:wr,Sr=RegExp,Tr=function t(e,r){var n=pt.IsRegExp(e);return this instanceof t||!n||void 0!==r||e.constructor!==t?rt.regex(e)?new t(pt.Call(jr,e),void 0===r?pt.Call(Or,e):r):(n&&(e.source,void 0===r&&e.flags),new Sr(e,r)):e};Pt(Sr,Tr,{$input:!0}),RegExp=Tr,m.redefine(T,"RegExp",Tr)}if(f){var Ir={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};l(o(Ir),(function(t){t in RegExp&&!(Ir[t]in RegExp)&&m.getter(RegExp,Ir[t],(function(){return RegExp[t]}))}))}Mt(RegExp);var Er=1/Number.EPSILON,Pr=function(t){return t+Er-Er},Cr=Math.pow(2,-23),Mr=Math.pow(2,127)*(2-Cr),xr=Math.pow(2,-126),Nr=Math.E,Ar=Math.LOG2E,_r=Math.LOG10E,Rr=Number.prototype.clz;delete Number.prototype.clz;var kr={acosh:function(t){var e=Number(t);if(X(e)||t<1)return NaN;if(1===e)return 0;if(e===1/0)return e;var r=1/(e*e);if(e<2)return K(e-1+z(1-r)*e);var n=e/2;return K(n+z(1-r)*n-1)+1/Ar},asinh:function(t){var e=Number(t);if(0===e||!I(e))return e;var r=L(e),n=r*r,o=Y(e);return r<1?o*K(r+n/(z(n+1)+1)):o*(K(r/2+z(1+1/n)*r/2-1)+1/Ar)},atanh:function(t){var e=Number(t);if(0===e)return e;if(-1===e)return-1/0;if(1===e)return 1/0;if(X(e)||e<-1||e>1)return NaN;var r=L(e);return Y(e)*K(2*r/(1-r))/2},cbrt:function(t){var e=Number(t);if(0===e)return e;var r,n=e<0;return n&&(e=-e),r=e===1/0?1/0:(e/((r=F(D(e)/3))*r)+2*r)/3,n?-r:r},clz32:function(t){var e=Number(t),r=pt.ToUint32(e);return 0===r?32:Rr?pt.Call(Rr,r):31-k(D(r+.5)*Ar)},cosh:function(t){var e=Number(t);if(0===e)return 1;if(X(e))return NaN;if(!I(e))return 1/0;var r=F(L(e)-1);return(r+1/(r*Nr*Nr))*(Nr/2)},expm1:function(t){var e=Number(t);if(e===-1/0)return-1;if(!I(e)||0===e)return e;if(L(e)>.5)return F(e)-1;for(var r=e,n=0,o=1;n+r!==n;)n+=r,r*=e/(o+=1);return n},hypot:function(t,e){for(var r=0,n=0,o=0;o<arguments.length;++o){var i=L(Number(arguments[o]));n<i?(r*=n/i*(n/i),r+=1,n=i):r+=i>0?i/n*(i/n):i}return n===1/0?1/0:n*z(r)},log2:function(t){return D(t)*Ar},log10:function(t){return D(t)*_r},log1p:K,sign:Y,sinh:function(t){var e=Number(t);if(!I(e)||0===e)return e;var r=L(e);if(r<1){var n=Math.expm1(r);return Y(e)*n*(1+1/(n+1))/2}var o=F(r-1);return Y(e)*(o-1/(o*Nr*Nr))*(Nr/2)},tanh:function(t){var e=Number(t);return X(e)||0===e?e:e>=20?1:e<=-20?-1:(Math.expm1(e)-Math.expm1(-e))/(F(e)+F(-e))},trunc:function(t){var e=Number(t);return e<0?-k(-e):k(e)},imul:function(t,e){var r=pt.ToUint32(t),n=pt.ToUint32(e),o=65535&r,i=65535&n;return o*i+((r>>>16&65535)*i+o*(n>>>16&65535)<<16>>>0)|0},fround:function(t){var e=Number(t);if(0===e||e===1/0||e===-1/0||X(e))return e;var r=Y(e),n=L(e);if(n<xr)return r*Pr(n/xr/Cr)*xr*Cr;var o=(1+Cr/Number.EPSILON)*n,i=o-(o-n);return i>Mr||X(i)?r*(1/0):r*i}},Lr=function(t,e,r){return L(1-t/e)/Number.EPSILON<(r||8)};g(Math,kr),b(Math,"sinh",kr.sinh,Math.sinh(710)===1/0),b(Math,"cosh",kr.cosh,Math.cosh(710)===1/0),b(Math,"log1p",kr.log1p,-1e-17!==Math.log1p(-1e-17)),b(Math,"asinh",kr.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),b(Math,"asinh",kr.asinh,Math.asinh(1e300)===1/0),b(Math,"atanh",kr.atanh,0===Math.atanh(1e-300)),b(Math,"tanh",kr.tanh,-2e-17!==Math.tanh(-2e-17)),b(Math,"acosh",kr.acosh,Math.acosh(Number.MAX_VALUE)===1/0),b(Math,"acosh",kr.acosh,!Lr(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON))),b(Math,"cbrt",kr.cbrt,!Lr(Math.cbrt(1e-300),1e-100)),b(Math,"sinh",kr.sinh,-2e-17!==Math.sinh(-2e-17));var Fr=Math.expm1(10);b(Math,"expm1",kr.expm1,Fr>22025.465794806718||Fr<22025.465794806718);var Dr=Math.round,zr=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(Number.EPSILON/3.99-.5),qr=Er+1,Gr=2*Er-1,Hr=[qr,Gr].every((function(t){return Math.round(t)===t}));b(Math,"round",(function(t){var e=k(t);return t-e<.5?e:-1===e?-0:e+1}),!zr||!Hr),m.preserveToString(Math.round,Dr);var Wr=Math.imul;-5!==Math.imul(4294967295,5)&&(Math.imul=kr.imul,m.preserveToString(Math.imul,Wr)),2!==Math.imul.length&&nt(Math,"imul",(function(t,e){return pt.Call(Wr,Math,arguments)}));var Vr,Br,$r=function(){var t=T.setTimeout;if("function"==typeof t||"object"==typeof t){pt.IsPromise=function(t){return!!pt.TypeIsObject(t)&&void 0!==t._promise};var e,n=function(t){if(!pt.IsConstructor(t))throw new TypeError("Bad promise constructor");var e=this;if(e.resolve=void 0,e.reject=void 0,e.promise=new t((function(t,r){if(void 0!==e.resolve||void 0!==e.reject)throw new TypeError("Bad Promise implementation!");e.resolve=t,e.reject=r})),!pt.IsCallable(e.resolve)||!pt.IsCallable(e.reject))throw new TypeError("Bad promise constructor")};"undefined"!=typeof window&&pt.IsCallable(window.postMessage)&&(e=function(){var t=[],e="zero-timeout-message";return window.addEventListener("message",(function(r){if(r.source===window&&r.data===e){if(r.stopPropagation(),0===t.length)return;A(t)()}}),!0),function(r){x(t,r),window.postMessage(e,"*")}});var o,i,a,u,c=pt.IsCallable(T.setImmediate)?T.setImmediate:"object"==typeof process&&process.nextTick?process.nextTick:(o=T.Promise,(i=o&&o.resolve&&o.resolve())&&function(t){return i.then(t)}||(pt.IsCallable(e)?e():function(e){t(e,0)})),s=function(t){return t},f=function(t){throw t},p={},l=function(t,e,r){c((function(){h(t,e,r)}))},h=function(t,e,r){var n,o;if(e===p)return t(r);try{n=t(r),o=e.resolve}catch(t){n=t,o=e.reject}o(n)},y=function(t,e){var r=t._promise,n=r.reactionLength;if(n>0&&(l(r.fulfillReactionHandler0,r.reactionCapability0,e),r.fulfillReactionHandler0=void 0,r.rejectReactions0=void 0,r.reactionCapability0=void 0,n>1))for(var o=1,i=0;o<n;o++,i+=3)l(r[i+0],r[i+2],e),t[i+0]=void 0,t[i+1]=void 0,t[i+2]=void 0;r.result=e,r.state=1,r.reactionLength=0},v=function(t,e){var r=t._promise,n=r.reactionLength;if(n>0&&(l(r.rejectReactionHandler0,r.reactionCapability0,e),r.fulfillReactionHandler0=void 0,r.rejectReactions0=void 0,r.reactionCapability0=void 0,n>1))for(var o=1,i=0;o<n;o++,i+=3)l(r[i+1],r[i+2],e),t[i+0]=void 0,t[i+1]=void 0,t[i+2]=void 0;r.result=e,r.state=2,r.reactionLength=0},b=function(t){var e=!1;return{resolve:function(r){var n;if(!e){if(e=!0,r===t)return v(t,new TypeError("Self resolution"));if(!pt.TypeIsObject(r))return y(t,r);try{n=r.then}catch(e){return v(t,e)}if(!pt.IsCallable(n))return y(t,r);c((function(){O(t,r,n)}))}},reject:function(r){if(!e)return e=!0,v(t,r)}}},d=function(t,e,n,o){t===u?r(t,e,n,o,p):r(t,e,n,o)},O=function(t,e,r){var n=b(t),o=n.resolve,i=n.reject;try{d(r,e,o,i)}catch(t){i(t)}},m=function(){var t=function(e){if(!(this instanceof t))throw new TypeError('Constructor Promise requires "new"');if(this&&this._promise)throw new TypeError("Bad construction");if(!pt.IsCallable(e))throw new TypeError("not a valid resolver");var r=_t(this,t,a,{_promise:{result:void 0,state:0,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}}),n=b(r),o=n.reject;try{e(n.resolve,o)}catch(t){o(t)}return r};return t}();a=m.prototype;var w=function(t,e,r,n){var o=!1;return function(i){o||(o=!0,e[t]=i,0==--n.count&&(0,r.resolve)(e))}};return g(m,{all:function(t){var e=this;if(!pt.TypeIsObject(e))throw new TypeError("Promise is not object");var r,o,i=new n(e);try{return function(t,e,r){for(var n,o,i=t.iterator,a=[],u={count:1},c=0;;){try{if(!1===(n=pt.IteratorStep(i))){t.done=!0;break}o=n.value}catch(e){throw t.done=!0,e}a[c]=void 0;var s=e.resolve(o),f=w(c,a,r,u);u.count+=1,d(s.then,s,f,r.reject),c+=1}return 0==--u.count&&(0,r.resolve)(a),r.promise}(o={iterator:r=pt.GetIterator(t),done:!1},e,i)}catch(t){var a=t;if(o&&!o.done)try{pt.IteratorClose(r,!0)}catch(t){a=t}return(0,i.reject)(a),i.promise}},race:function(t){var e=this;if(!pt.TypeIsObject(e))throw new TypeError("Promise is not object");var r,o,i=new n(e);try{return function(t,e,r){for(var n,o,i,a=t.iterator;;){try{if(!1===(n=pt.IteratorStep(a))){t.done=!0;break}o=n.value}catch(e){throw t.done=!0,e}i=e.resolve(o),d(i.then,i,r.resolve,r.reject)}return r.promise}(o={iterator:r=pt.GetIterator(t),done:!1},e,i)}catch(t){var a=t;if(o&&!o.done)try{pt.IteratorClose(r,!0)}catch(t){a=t}return(0,i.reject)(a),i.promise}},reject:function(t){if(!pt.TypeIsObject(this))throw new TypeError("Bad promise constructor");var e=new n(this);return(0,e.reject)(t),e.promise},resolve:function(t){var e=this;if(!pt.TypeIsObject(e))throw new TypeError("Bad promise constructor");if(pt.IsPromise(t)&&t.constructor===e)return t;var r=new n(e);return(0,r.resolve)(t),r.promise}}),g(a,{catch:function(t){return this.then(null,t)},then:function(t,e){var r=this;if(!pt.IsPromise(r))throw new TypeError("not a promise");var o,i=pt.SpeciesConstructor(r,m),a=arguments.length>2&&arguments[2]===p;o=a&&i===m?p:new n(i);var u,c=pt.IsCallable(t)?t:s,h=pt.IsCallable(e)?e:f,y=r._promise;if(0===y.state){if(0===y.reactionLength)y.fulfillReactionHandler0=c,y.rejectReactionHandler0=h,y.reactionCapability0=o;else{var v=3*(y.reactionLength-1);y[v+0]=c,y[v+1]=h,y[v+2]=o}y.reactionLength+=1}else if(1===y.state)u=y.result,l(c,o,u);else{if(2!==y.state)throw new TypeError("unexpected Promise state");u=y.result,l(h,o,u)}return o.promise}}),p=new n(m),u=a.then,m}}();if(T.Promise&&(delete T.Promise.accept,delete T.Promise.defer,delete T.Promise.prototype.chain),"function"==typeof $r){g(T,{Promise:$r});var Ur=j(T.Promise,(function(t){return t.resolve(42).then((function(){}))instanceof t})),Jr=!a((function(){T.Promise.reject(42).then(null,5).then(null,G)})),Xr=a((function(){T.Promise.call(3,G)})),Zr=function(t){var e=t.resolve(5);e.constructor={};var r=t.resolve(e);try{r.then(null,G).then(null,G)}catch(t){return!0}return e===r}(T.Promise),Yr=f&&(Vr=0,Br=Object.defineProperty({},"then",{get:function(){Vr+=1}}),Promise.resolve(Br),1===Vr),Kr=function t(e){var r=new Promise(e);e(3,(function(){})),this.then=r.then,this.constructor=t};Kr.prototype=Promise.prototype,Kr.all=Promise.all;var Qr=u((function(){return!!Kr.all([1,2])}));if(Ur&&Jr&&Xr&&!Zr&&Yr&&!Qr||(window.Promise=$r,nt(T,"Promise",$r)),1!==Promise.all.length){var tn=Promise.all;nt(Promise,"all",(function(t){return pt.Call(tn,this,arguments)}))}if(1!==Promise.race.length){var en=Promise.race;nt(Promise,"race",(function(t){return pt.Call(en,this,arguments)}))}if(1!==Promise.resolve.length){var rn=Promise.resolve;nt(Promise,"resolve",(function(t){return pt.Call(rn,this,arguments)}))}if(1!==Promise.reject.length){var nn=Promise.reject;nt(Promise,"reject",(function(t){return pt.Call(nn,this,arguments)}))}Re(Promise,"all"),Re(Promise,"race"),Re(Promise,"resolve"),Re(Promise,"reject"),Mt(Promise)}var on,an,un=function(t){var e=o(h(t,(function(t,e){return t[e]=!0,t}),{}));return t.join(":")===e.join(":")},cn=un(["z","a","bb"]),sn=un(["z",1,"a","3",2]);if(f){var fn=function(t,e){return e||cn?ft(t)?"^"+pt.ToString(t):"string"==typeof t?"$"+t:"number"==typeof t?sn?t:"n"+t:"boolean"==typeof t?"b"+t:null:null},pn=function(){return Object.create?Object.create(null):{}},ln=function(t,e,o){if(n(o)||rt.string(o))l(o,(function(t){if(!pt.TypeIsObject(t))throw new TypeError("Iterator value "+t+" is not an entry object");e.set(t[0],t[1])}));else if(o instanceof t)r(t.prototype.forEach,o,(function(t,r){e.set(r,t)}));else{var i,a;if(!ft(o)){if(a=e.set,!pt.IsCallable(a))throw new TypeError("bad map");i=pt.GetIterator(o)}if(void 0!==i)for(;;){var u=pt.IteratorStep(i);if(!1===u)break;var c=u.value;try{if(!pt.TypeIsObject(c))throw new TypeError("Iterator value "+c+" is not an entry object");r(a,e,c[0],c[1])}catch(t){throw pt.IteratorClose(i,!0),t}}}},hn=function(t,e,o){if(n(o)||rt.string(o))l(o,(function(t){e.add(t)}));else if(o instanceof t)r(t.prototype.forEach,o,(function(t){e.add(t)}));else{var i,a;if(!ft(o)){if(a=e.add,!pt.IsCallable(a))throw new TypeError("bad set");i=pt.GetIterator(o)}if(void 0!==i)for(;;){var u=pt.IteratorStep(i);if(!1===u)break;var c=u.value;try{r(a,e,c)}catch(t){throw pt.IteratorClose(i,!0),t}}}},yn={Map:function(){var t={},e=function(t,e){this.key=t,this.value=e,this.next=null,this.prev=null};e.prototype.isRemoved=function(){return this.key===t};var n,o=function(t,e){if(!pt.TypeIsObject(t)||!function(t){return!!t._es6map}(t))throw new TypeError("Method Map.prototype."+e+" called on incompatible receiver "+pt.ToString(t))},i=function(t,e){o(t,"[[MapIterator]]"),this.head=t._head,this.i=this.head,this.kind=e};xt(i.prototype={isMapIterator:!0,next:function(){if(!this.isMapIterator)throw new TypeError("Not a MapIterator");var t,e=this.i,r=this.kind,n=this.head;if(void 0===this.i)return Yt();for(;e.isRemoved()&&e!==n;)e=e.prev;for(;e.next!==n;)if(!(e=e.next).isRemoved())return t="key"===r?e.key:"value"===r?e.value:[e.key,e.value],this.i=e,Yt(t);return this.i=void 0,Yt()}});var a=function t(){if(!(this instanceof t))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var r=_t(this,t,n,{_es6map:!0,_head:null,_map:H?new H:null,_size:0,_storage:pn()}),o=new e(null,null);return o.next=o.prev=o,r._head=o,arguments.length>0&&ln(t,r,arguments[0]),r};return n=a.prototype,m.getter(n,"size",(function(){if(void 0===this._size)throw new TypeError("size method called on incompatible Map");return this._size})),g(n,{get:function(t){var e;o(this,"get");var r=fn(t,!0);if(null!==r)return(e=this._storage[r])?e.value:void 0;if(this._map)return(e=V.call(this._map,t))?e.value:void 0;for(var n=this._head,i=n;(i=i.next)!==n;)if(pt.SameValueZero(i.key,t))return i.value},has:function(t){o(this,"has");var e=fn(t,!0);if(null!==e)return void 0!==this._storage[e];if(this._map)return B.call(this._map,t);for(var r=this._head,n=r;(n=n.next)!==r;)if(pt.SameValueZero(n.key,t))return!0;return!1},set:function(t,r){o(this,"set");var n,i=this._head,a=i,u=fn(t,!0);if(null!==u){if(void 0!==this._storage[u])return this._storage[u].value=r,this;n=this._storage[u]=new e(t,r),a=i.prev}else this._map&&(B.call(this._map,t)?V.call(this._map,t).value=r:(n=new e(t,r),$.call(this._map,t,n),a=i.prev));for(;(a=a.next)!==i;)if(pt.SameValueZero(a.key,t))return a.value=r,this;return n=n||new e(t,r),pt.SameValue(-0,t)&&(n.key=0),n.next=this._head,n.prev=this._head.prev,n.prev.next=n,n.next.prev=n,this._size+=1,this},delete:function(e){o(this,"delete");var r=this._head,n=r,i=fn(e,!0);if(null!==i){if(void 0===this._storage[i])return!1;n=this._storage[i].prev,delete this._storage[i]}else if(this._map){if(!B.call(this._map,e))return!1;n=V.call(this._map,e).prev,W.call(this._map,e)}for(;(n=n.next)!==r;)if(pt.SameValueZero(n.key,e))return n.key=t,n.value=t,n.prev.next=n.next,n.next.prev=n.prev,this._size-=1,!0;return!1},clear:function(){o(this,"clear"),this._map=H?new H:null,this._size=0,this._storage=pn();for(var e=this._head,r=e,n=r.next;(r=n)!==e;)r.key=t,r.value=t,n=r.next,r.next=r.prev=e;e.next=e.prev=e},keys:function(){return o(this,"keys"),new i(this,"key")},values:function(){return o(this,"values"),new i(this,"value")},entries:function(){return o(this,"entries"),new i(this,"key+value")},forEach:function(t){o(this,"forEach");for(var e=arguments.length>1?arguments[1]:null,n=this.entries(),i=n.next();!i.done;i=n.next())e?r(t,e,i.value[1],i.value[0],this):t(i.value[1],i.value[0],this)}}),xt(n,n.entries),a}(),Set:function(){var t,e=function(t,e){if(!pt.TypeIsObject(t)||!function(t){return t._es6set&&void 0!==t._storage}(t))throw new TypeError("Set.prototype."+e+" called on incompatible receiver "+pt.ToString(t))},n=function e(){if(!(this instanceof e))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var r=_t(this,e,t,{_es6set:!0,"[[SetData]]":null,_storage:pn()});if(!r._es6set)throw new TypeError("bad set");return arguments.length>0&&hn(e,r,arguments[0]),r};t=n.prototype;var i=function(t){if(!t["[[SetData]]"]){var e=new yn.Map;t["[[SetData]]"]=e,l(o(t._storage),(function(t){var r=function(t){var e=t;if("^null"===e)return null;if("^undefined"!==e){var r=e.charAt(0);return"$"===r?M(e,1):"n"===r?+M(e,1):"b"===r?"btrue"===e:+e}}(t);e.set(r,r)})),t["[[SetData]]"]=e}t._storage=null};m.getter(n.prototype,"size",(function(){return e(this,"size"),this._storage?o(this._storage).length:(i(this),this["[[SetData]]"].size)})),g(n.prototype,{has:function(t){var r;return e(this,"has"),this._storage&&null!==(r=fn(t))?!!this._storage[r]:(i(this),this["[[SetData]]"].has(t))},add:function(t){var r;return e(this,"add"),this._storage&&null!==(r=fn(t))?(this._storage[r]=!0,this):(i(this),this["[[SetData]]"].set(t,t),this)},delete:function(t){var r;if(e(this,"delete"),this._storage&&null!==(r=fn(t))){var n=q(this._storage,r);return delete this._storage[r]&&n}return i(this),this["[[SetData]]"].delete(t)},clear:function(){e(this,"clear"),this._storage&&(this._storage=pn()),this["[[SetData]]"]&&this["[[SetData]]"].clear()},values:function(){return e(this,"values"),i(this),new a(this["[[SetData]]"].values())},entries:function(){return e(this,"entries"),i(this),new a(this["[[SetData]]"].entries())},forEach:function(t){e(this,"forEach");var n=arguments.length>1?arguments[1]:null,o=this;i(o),this["[[SetData]]"].forEach((function(e,i){n?r(t,n,i,i,o):t(i,i,o)}))}}),b(n.prototype,"keys",n.prototype.values,!0),xt(n.prototype,n.prototype.values);var a=function(t){this.it=t};return a.prototype={isSetIterator:!0,next:function(){if(!this.isSetIterator)throw new TypeError("Not a SetIterator");return this.it.next()}},xt(a.prototype),n}()},vn=T.Set&&!Set.prototype.delete&&Set.prototype.remove&&Set.prototype.items&&Set.prototype.map&&Array.isArray((new Set).keys);if(vn&&(T.Set=yn.Set),T.Map||T.Set){var bn=u((function(){return 2===new Map([[1,2]]).get(1)}));bn||(T.Map=function t(){if(!(this instanceof t))throw new TypeError('Constructor Map requires "new"');var e=new H;return arguments.length>0&&ln(t,e,arguments[0]),delete e.constructor,Object.setPrototypeOf(e,T.Map.prototype),e},T.Map.prototype=w(H.prototype),b(T.Map.prototype,"constructor",T.Map,!0),m.preserveToString(T.Map,H));var gn=new Map,dn=((an=new Map([[1,0],[2,0],[3,0],[4,0]])).set(-0,an),an.get(0)===an&&an.get(-0)===an&&an.has(0)&&an.has(-0)),On=gn.set(1,2)===gn;dn&&On||nt(Map.prototype,"set",(function(t,e){return r($,this,0===t?0:t,e),this})),dn||(g(Map.prototype,{get:function(t){return r(V,this,0===t?0:t)},has:function(t){return r(B,this,0===t?0:t)}},!0),m.preserveToString(Map.prototype.get,V),m.preserveToString(Map.prototype.has,B));var mn=new Set,wn=Set.prototype.delete&&Set.prototype.add&&Set.prototype.has&&((on=mn).delete(0),on.add(-0),!on.has(0)),jn=mn.add(1)===mn;if(!wn||!jn){var Sn=Set.prototype.add;Set.prototype.add=function(t){return r(Sn,this,0===t?0:t),this},m.preserveToString(Set.prototype.add,Sn)}if(!wn){var Tn=Set.prototype.has;Set.prototype.has=function(t){return r(Tn,this,0===t?0:t)},m.preserveToString(Set.prototype.has,Tn);var In=Set.prototype.delete;Set.prototype.delete=function(t){return r(In,this,0===t?0:t)},m.preserveToString(Set.prototype.delete,In)}var En=j(T.Map,(function(t){var e=new t([]);return e.set(42,42),e instanceof t})),Pn=Object.setPrototypeOf&&!En,Cn=function(){try{return!(T.Map()instanceof T.Map)}catch(t){return t instanceof TypeError}}();0===T.Map.length&&!Pn&&Cn||(T.Map=function t(){if(!(this instanceof t))throw new TypeError('Constructor Map requires "new"');var e=new H;return arguments.length>0&&ln(t,e,arguments[0]),delete e.constructor,Object.setPrototypeOf(e,t.prototype),e},T.Map.prototype=H.prototype,b(T.Map.prototype,"constructor",T.Map,!0),m.preserveToString(T.Map,H));var Mn=j(T.Set,(function(t){var e=new t([]);return e.add(42,42),e instanceof t})),xn=Object.setPrototypeOf&&!Mn,Nn=function(){try{return!(T.Set()instanceof T.Set)}catch(t){return t instanceof TypeError}}();if(0!==T.Set.length||xn||!Nn){var An=T.Set;T.Set=function t(){if(!(this instanceof t))throw new TypeError('Constructor Set requires "new"');var e=new An;return arguments.length>0&&hn(t,e,arguments[0]),delete e.constructor,Object.setPrototypeOf(e,t.prototype),e},T.Set.prototype=An.prototype,b(T.Set.prototype,"constructor",T.Set,!0),m.preserveToString(T.Set,An)}var _n=new T.Map,Rn=!u((function(){return _n.keys().next().done}));if(("function"!=typeof T.Map.prototype.clear||0!==(new T.Set).size||0!==_n.size||"function"!=typeof T.Map.prototype.keys||"function"!=typeof T.Set.prototype.keys||"function"!=typeof T.Map.prototype.forEach||"function"!=typeof T.Set.prototype.forEach||c(T.Map)||c(T.Set)||"function"!=typeof _n.keys().next||Rn||!En)&&g(T,{Map:yn.Map,Set:yn.Set},!0),T.Set.prototype.keys!==T.Set.prototype.values&&b(T.Set.prototype,"keys",T.Set.prototype.values,!0),xt(Object.getPrototypeOf((new T.Map).keys())),xt(Object.getPrototypeOf((new T.Set).keys())),p&&"has"!==T.Set.prototype.has.name){var kn=T.Set.prototype.has;nt(T.Set.prototype,"has",(function(t){return r(kn,this,t)}))}}g(T,yn),Mt(T.Map),Mt(T.Set)}var Ln=function(t){if(!pt.TypeIsObject(t))throw new TypeError("target must be an object")},Fn={apply:function(){return pt.Call(pt.Call,null,arguments)},construct:function(t,e){if(!pt.IsConstructor(t))throw new TypeError("First argument must be a constructor.");var r=arguments.length>2?arguments[2]:t;if(!pt.IsConstructor(r))throw new TypeError("new.target must be a constructor.");return pt.Construct(t,e,r,"internal")},deleteProperty:function(t,e){if(Ln(t),f){var r=Object.getOwnPropertyDescriptor(t,e);if(r&&!r.configurable)return!1}return delete t[e]},has:function(t,e){return Ln(t),e in t}};Object.getOwnPropertyNames&&Object.assign(Fn,{ownKeys:function(t){Ln(t);var e=Object.getOwnPropertyNames(t);return pt.IsCallable(Object.getOwnPropertySymbols)&&N(e,Object.getOwnPropertySymbols(t)),e}});var Dn=function(t){return!a(t)};if(Object.preventExtensions&&Object.assign(Fn,{isExtensible:function(t){return Ln(t),Object.isExtensible(t)},preventExtensions:function(t){return Ln(t),Dn((function(){Object.preventExtensions(t)}))}}),f){var zn=function(t,e,r){var n=Object.getOwnPropertyDescriptor(t,e);if(!n){var o=Object.getPrototypeOf(t);if(null===o)return;return zn(o,e,r)}return"value"in n?n.value:n.get?pt.Call(n.get,r):void 0},qn=function(t,e,n,o){var i=Object.getOwnPropertyDescriptor(t,e);if(!i){var a=Object.getPrototypeOf(t);if(null!==a)return qn(a,e,n,o);i={value:void 0,writable:!0,enumerable:!0,configurable:!0}}return"value"in i?!!i.writable&&(!!pt.TypeIsObject(o)&&(Object.getOwnPropertyDescriptor(o,e)?ut.defineProperty(o,e,{value:n}):ut.defineProperty(o,e,{value:n,writable:!0,enumerable:!0,configurable:!0}))):!!i.set&&(r(i.set,o,n),!0)};Object.assign(Fn,{defineProperty:function(t,e,r){return Ln(t),Dn((function(){Object.defineProperty(t,e,r)}))},getOwnPropertyDescriptor:function(t,e){return Ln(t),Object.getOwnPropertyDescriptor(t,e)},get:function(t,e){Ln(t);var r=arguments.length>2?arguments[2]:t;return zn(t,e,r)},set:function(t,e,r){Ln(t);var n=arguments.length>3?arguments[3]:t;return qn(t,e,r,n)}})}if(Object.getPrototypeOf){var Gn=Object.getPrototypeOf;Fn.getPrototypeOf=function(t){return Ln(t),Gn(t)}}if(Object.setPrototypeOf&&Fn.getPrototypeOf){var Hn=function(t,e){for(var r=e;r;){if(t===r)return!0;r=Fn.getPrototypeOf(r)}return!1};Object.assign(Fn,{setPrototypeOf:function(t,e){if(Ln(t),null!==e&&!pt.TypeIsObject(e))throw new TypeError("proto must be an object or null");return e===ut.getPrototypeOf(t)||!(ut.isExtensible&&!ut.isExtensible(t))&&(!Hn(t,e)&&(Object.setPrototypeOf(t,e),!0))}})}var Wn=function(t,e){pt.IsCallable(T.Reflect[t])?u((function(){return T.Reflect[t](1),T.Reflect[t](NaN),T.Reflect[t](!0),!0}))&&nt(T.Reflect,t,e):b(T.Reflect,t,e)};Object.keys(Fn).forEach((function(t){Wn(t,Fn[t])}));var Vn=T.Reflect.getPrototypeOf;if(p&&Vn&&"getPrototypeOf"!==Vn.name&&nt(T.Reflect,"getPrototypeOf",(function(t){return r(Vn,T.Reflect,t)})),T.Reflect.setPrototypeOf&&u((function(){return T.Reflect.setPrototypeOf(1,{}),!0}))&&nt(T.Reflect,"setPrototypeOf",Fn.setPrototypeOf),T.Reflect.defineProperty&&(u((function(){var t=!T.Reflect.defineProperty(1,"test",{value:1}),e="function"!=typeof Object.preventExtensions||!T.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return t&&e}))||nt(T.Reflect,"defineProperty",Fn.defineProperty)),T.Reflect.construct&&(u((function(){var t=function(){};return T.Reflect.construct((function(){}),[],t)instanceof t}))||nt(T.Reflect,"construct",Fn.construct)),"Invalid Date"!==String(new Date(NaN))){var Bn=Date.prototype.toString,$n=function(){var t=+this;return t!=t?"Invalid Date":pt.Call(Bn,this)};nt(Date.prototype,"toString",$n)}var Un={anchor:function(t){return pt.CreateHTML(this,"a","name",t)},big:function(){return pt.CreateHTML(this,"big","","")},blink:function(){return pt.CreateHTML(this,"blink","","")},bold:function(){return pt.CreateHTML(this,"b","","")},fixed:function(){return pt.CreateHTML(this,"tt","","")},fontcolor:function(t){return pt.CreateHTML(this,"font","color",t)},fontsize:function(t){return pt.CreateHTML(this,"font","size",t)},italics:function(){return pt.CreateHTML(this,"i","","")},link:function(t){return pt.CreateHTML(this,"a","href",t)},small:function(){return pt.CreateHTML(this,"small","","")},strike:function(){return pt.CreateHTML(this,"strike","","")},sub:function(){return pt.CreateHTML(this,"sub","","")},sup:function(){return pt.CreateHTML(this,"sup","","")}};l(Object.keys(Un),(function(t){var e=String.prototype[t],n=!1;if(pt.IsCallable(e)){var o=r(e,"",' " '),i=C([],o.match(/"/g)).length;n=o!==o.toLowerCase()||i>2}else n=!0;n&&nt(String.prototype,t,Un[t])}));var Jn=function(){if(!ot)return!1;var t="object"==typeof JSON&&"function"==typeof JSON.stringify?JSON.stringify:null;if(!t)return!1;if(void 0!==t(U()))return!0;if("[null]"!==t([U()]))return!0;var e={a:U()};return e[U()]=!0,"{}"!==t(e)}(),Xn=u((function(){return!ot||"{}"===JSON.stringify(Object(U()))&&"[{}]"===JSON.stringify([Object(U())])}));if(Jn||!Xn){var Zn=JSON.stringify;nt(JSON,"stringify",(function(t){if("symbol"!=typeof t){var e;arguments.length>1&&(e=arguments[1]);var o=[t];if(n(e))o.push(e);else{var i=pt.IsCallable(e)?e:null,a=function(t,e){var n=i?r(i,this,t,e):e;if("symbol"!=typeof n)return rt.symbol(n)?Le({})(n):n};o.push(a)}return arguments.length>2&&o.push(arguments[2]),Zn.apply(this,o)}}))}return T}));
/*!
 * jQuery JavaScript Library v1.10.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03T13:48Z
 */
!function(e,t){var n,r,i="undefined",o=e.location,a=e.document,s=a.documentElement,u=e.jQuery,l=e.$,c={},f=[],p="1.10.2",d=f.concat,h=f.push,g=f.slice,m=f.indexOf,y=c.toString,v=c.hasOwnProperty,x=p.trim,b=function(e,t){return new b.fn.init(e,t,r)},w=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=/\S+/g,C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,k=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=/^[\],:{}\s]*$/,S=/(?:^|:|,)(?:\s*\[)+/g,A=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,j=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,D=/^-ms-/,L=/-([\da-z])/gi,H=function(e,t){return t.toUpperCase()},q=function(e){(a.addEventListener||"load"===e.type||"complete"===a.readyState)&&(_(),b.ready())},_=function(){a.addEventListener?(a.removeEventListener("DOMContentLoaded",q,!1),e.removeEventListener("load",q,!1)):(a.detachEvent("onreadystatechange",q),e.detachEvent("onload",q))};function M(e){var t=e.length,n=b.type(e);return!b.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)))}b.fn=b.prototype={jquery:p,constructor:b,init:function(e,n,r){var i,o;if(!e)return this;if("string"==typeof e){if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e))||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof b?n[0]:n,b.merge(this,b.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:a,!0)),k.test(i[1])&&b.isPlainObject(n))for(i in n)b.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if((o=a.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=a,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):b.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),b.makeArray(e,this))},selector:"",length:0,toArray:function(){return g.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return b.each(this,e,t)},ready:function(e){return b.ready.promise().done(e),this},slice:function(){return this.pushStack(g.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},map:function(e){return this.pushStack(b.map(this,(function(t,n){return e.call(t,n,t)})))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},b.fn.init.prototype=b.fn,b.extend=b.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},u=2),"object"==typeof s||b.isFunction(s)||(s={}),l===u&&(s=this,--u);u<l;u++)if(null!=(o=arguments[u]))for(i in o)e=s[i],s!==(r=o[i])&&(c&&r&&(b.isPlainObject(r)||(n=b.isArray(r)))?(n?(n=!1,a=e&&b.isArray(e)?e:[]):a=e&&b.isPlainObject(e)?e:{},s[i]=b.extend(c,a,r)):r!==t&&(s[i]=r));return s},b.extend({expando:"jQuery"+(p+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===b&&(e.$=l),t&&e.jQuery===b&&(e.jQuery=u),b},isReady:!1,readyWait:1,holdReady:function(e){e?b.readyWait++:b.ready(!0)},ready:function(e){if(!(!0===e?--b.readyWait:b.isReady)){if(!a.body)return setTimeout(b.ready);b.isReady=!0,!0!==e&&--b.readyWait>0||(n.resolveWith(a,[b]),b.fn.trigger&&b(a).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===b.type(e)},isArray:Array.isArray||function(e){return"array"===b.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?c[y.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==b.type(e)||e.nodeType||b.isWindow(e))return!1;try{if(e.constructor&&!v.call(e,"constructor")&&!v.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(b.support.ownLast)for(n in e)return v.call(e,n);for(n in e);return n===t||v.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||a;var r=k.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=b.buildFragment([e],t,i),i&&b(i).remove(),b.merge([],r.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=b.trim(t))&&E.test(t.replace(A,"@").replace(j,"]").replace(S,""))?new Function("return "+t)():void b.error("Invalid JSON: "+t)},parseXML:function(n){var r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?r=(new DOMParser).parseFromString(n,"text/xml"):((r=new ActiveXObject("Microsoft.XMLDOM")).async="false",r.loadXML(n))}catch(e){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&b.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(D,"ms-").replace(L,H)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r=0,i=e.length,o=M(e);if(n){if(o)for(;r<i&&!1!==t.apply(e[r],n);r++);else for(r in e)if(!1===t.apply(e[r],n))break}else if(o)for(;r<i&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:x&&!x.call("\ufeff ")?function(e){return null==e?"":x.call(e)}:function(e){return null==e?"":(e+"").replace(C,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?b.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(m)return m.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;o<r;o++)e[i++]=n[o];else for(;n[o]!==t;)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r=[],i=0,o=e.length;for(n=!!n;i<o;i++)n!==!!t(e[i],i)&&r.push(e[i]);return r},map:function(e,t,n){var r,i=0,o=e.length,a=[];if(M(e))for(;i<o;i++)null!=(r=t(e[i],i,n))&&(a[a.length]=r);else for(i in e)null!=(r=t(e[i],i,n))&&(a[a.length]=r);return d.apply([],a)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),b.isFunction(e)?(r=g.call(arguments,2),(i=function(){return e.apply(n||this,r.concat(g.call(arguments)))}).guid=e.guid=e.guid||b.guid++,i):t},access:function(e,n,r,i,o,a,s){var u=0,l=e.length,c=null==r;if("object"===b.type(r))for(u in o=!0,r)b.access(e,n,u,r[u],!0,a,s);else if(i!==t&&(o=!0,b.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(b(e),n)})),n))for(;u<l;u++)n(e[u],r,s?i:i.call(e[u],u,n(e[u],r)));return o?e:c?n.call(e):l?n(e[0],r):a},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i}}),b.ready.promise=function(t){if(!n)if(n=b.Deferred(),"complete"===a.readyState)setTimeout(b.ready);else if(a.addEventListener)a.addEventListener("DOMContentLoaded",q,!1),e.addEventListener("load",q,!1);else{a.attachEvent("onreadystatechange",q),e.attachEvent("onload",q);var r=!1;try{r=null==e.frameElement&&a.documentElement}catch(e){}r&&r.doScroll&&function e(){if(!b.isReady){try{r.doScroll("left")}catch(t){return setTimeout(e,50)}_(),b.ready()}}()}return n.promise(t)},b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){c["[object "+t+"]"]=t.toLowerCase()})),r=b(a),
/*!
 * Sizzle CSS Selector Engine v1.10.2
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03
 */
function(e,t){var n,r,i,o,a,s,u,l,c,f,p,d,h,g,m,y,v,x="sizzle"+-new Date,w=e.document,T=0,C=0,N=ae(),k=ae(),E=ae(),S=!1,A=function(e,t){return e===t?(S=!0,0):0},j="undefined",D=1<<31,L={}.hasOwnProperty,H=[],q=H.pop,_=H.push,M=H.push,O=H.slice,F=H.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",W=R.replace("w","w#"),$="\\[[\\x20\\t\\r\\n\\f]*("+R+")"+P+"*(?:([*^$|!~]?=)"+P+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+W+")|)|)"+P+"*\\]",I=":("+R+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+$.replace(3,8)+")*)|.*)\\)|)",z=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),X=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),U=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),V=new RegExp(P+"*[+~]"),Y=new RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*)[\\x20\\t\\r\\n\\f]*\\]","g"),J=new RegExp(I),G=new RegExp("^"+W+"$"),Q={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R.replace("w","w*")+")"),ATTR:new RegExp("^"+$),PSEUDO:new RegExp("^"+I),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/^(?:input|select|textarea|button)$/i,te=/^h\d$/i,ne=/'|\\/g,re=new RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ie=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{M.apply(H=O.call(w.childNodes),w.childNodes),H[w.childNodes.length].nodeType}catch(e){M={apply:H.length?function(e,t){_.apply(e,O.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function oe(e,t,n,i){var a,s,l,c,d,m,y,b,T,C;if((t?t.ownerDocument||t:w)!==p&&f(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(c=(t=t||p).nodeType)&&9!==c)return[];if(h&&!i){if(a=Z.exec(e))if(l=a[1]){if(9===c){if(!(s=t.getElementById(l))||!s.parentNode)return n;if(s.id===l)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(l))&&v(t,s)&&s.id===l)return n.push(s),n}else{if(a[2])return M.apply(n,t.getElementsByTagName(e)),n;if((l=a[3])&&r.getElementsByClassName&&t.getElementsByClassName)return M.apply(n,t.getElementsByClassName(l)),n}if(r.qsa&&(!g||!g.test(e))){if(b=y=x,T=t,C=9===c&&e,1===c&&"object"!==t.nodeName.toLowerCase()){for(m=ge(e),(y=t.getAttribute("id"))?b=y.replace(ne,"\\$&"):t.setAttribute("id",b),b="[id='"+b+"'] ",d=m.length;d--;)m[d]=b+me(m[d]);T=V.test(e)&&t.parentNode||t,C=m.join(",")}if(C)try{return M.apply(n,T.querySelectorAll(C)),n}catch(e){}finally{y||t.removeAttribute("id")}}}return function(e,t,n,i){var a,s,l,c,f,p=ge(e);if(!i&&1===p.length){if((s=p[0]=p[0].slice(0)).length>2&&"ID"===(l=s[0]).type&&r.getById&&9===t.nodeType&&h&&o.relative[s[1].type]){if(!(t=(o.find.ID(l.matches[0].replace(re,ie),t)||[])[0]))return n;e=e.slice(s.shift().value.length)}for(a=Q.needsContext.test(e)?0:s.length;a--&&(l=s[a],!o.relative[c=l.type]);)if((f=o.find[c])&&(i=f(l.matches[0].replace(re,ie),V.test(s[0].type)&&t.parentNode||t))){if(s.splice(a,1),!(e=i.length&&me(s)))return M.apply(n,i),n;break}}return u(e,p)(i,t,!h,n,V.test(e)),n}(e.replace(z,"$1"),t,n,i)}function ae(){var e=[];return function t(n,r){return e.push(n+=" ")>o.cacheLength&&delete t[e.shift()],t[n]=r}}function se(e){return e[x]=!0,e}function ue(e){var t=p.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var n=e.split("|"),r=e.length;r--;)o.attrHandle[n[r]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||D)-(~e.sourceIndex||D);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return se((function(t){return t=+t,se((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}for(n in s=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},r=oe.support={},f=oe.setDocument=function(e){var t=e?e.ownerDocument||e:w,n=t.defaultView;return t!==p&&9===t.nodeType&&t.documentElement?(p=t,d=t.documentElement,h=!s(t),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",(function(){f()})),r.attributes=ue((function(e){return e.className="i",!e.getAttribute("className")})),r.getElementsByTagName=ue((function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length})),r.getElementsByClassName=ue((function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length})),r.getById=ue((function(e){return d.appendChild(e).id=x,!t.getElementsByName||!t.getElementsByName(x).length})),r.getById?(o.find.ID=function(e,t){if(typeof t.getElementById!==j&&h){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},o.filter.ID=function(e){var t=e.replace(re,ie);return function(e){return e.getAttribute("id")===t}}):(delete o.find.ID,o.filter.ID=function(e){var t=e.replace(re,ie);return function(e){var n=typeof e.getAttributeNode!==j&&e.getAttributeNode("id");return n&&n.value===t}}),o.find.TAG=r.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==j)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},o.find.CLASS=r.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==j&&h)return t.getElementsByClassName(e)},m=[],g=[],(r.qsa=K.test(t.querySelectorAll))&&(ue((function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||g.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+B+")"),e.querySelectorAll(":checked").length||g.push(":checked")})),ue((function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&g.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(r.matchesSelector=K.test(y=d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ue((function(e){r.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),m.push("!=",I)})),g=g.length&&new RegExp(g.join("|")),m=m.length&&new RegExp(m.join("|")),v=K.test(d.contains)||d.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=d.compareDocumentPosition?function(e,n){if(e===n)return S=!0,0;var i=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n);return i?1&i||!r.sortDetached&&n.compareDocumentPosition(e)===i?e===t||v(w,e)?-1:n===t||v(w,n)?1:c?F.call(c,e)-F.call(c,n):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var r,i=0,o=e.parentNode,a=n.parentNode,s=[e],u=[n];if(e===n)return S=!0,0;if(!o||!a)return e===t?-1:n===t?1:o?-1:a?1:c?F.call(c,e)-F.call(c,n):0;if(o===a)return ce(e,n);for(r=e;r=r.parentNode;)s.unshift(r);for(r=n;r=r.parentNode;)u.unshift(r);for(;s[i]===u[i];)i++;return i?ce(s[i],u[i]):s[i]===w?-1:u[i]===w?1:0},t):p},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&f(e),t=t.replace(Y,"='$1']"),r.matchesSelector&&h&&(!m||!m.test(t))&&(!g||!g.test(t)))try{var n=y.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return oe(t,p,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==p&&f(e),v(e,t)},oe.attr=function(e,n){(e.ownerDocument||e)!==p&&f(e);var i=o.attrHandle[n.toLowerCase()],a=i&&L.call(o.attrHandle,n.toLowerCase())?i(e,n,!h):t;return a===t?r.attributes||!h?e.getAttribute(n):(a=e.getAttributeNode(n))&&a.specified?a.value:null:a},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,n=[],i=0,o=0;if(S=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(A),S){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return e},a=oe.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=a(t);return n},(o=oe.selectors={cacheLength:50,createPseudo:se,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(re,ie),e[3]=(e[4]||e[5]||"").replace(re,ie),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&J.test(r)&&(n=ge(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(re,ie).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=N[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+P+"|$)"))&&N(e,(function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==j&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(m){if(o){for(;g;){for(f=t;f=f[g];)if(s?f.nodeName.toLowerCase()===y:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){for(d=(l=(c=m[x]||(m[x]={}))[e]||[])[0]===T&&l[1],p=l[0]===T&&l[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(p=d=0)||h.pop();)if(1===f.nodeType&&++p&&f===t){c[e]=[T,d,p];break}}else if(v&&(l=(t[x]||(t[x]={}))[e])&&l[0]===T)p=l[1];else for(;(f=++d&&f&&f[g]||(p=d=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==y:1!==f.nodeType)||!++p||(v&&((f[x]||(f[x]={}))[e]=[T,p]),f!==t)););return(p-=i)===r||p%r==0&&p/r>=0}}},PSEUDO:function(e,t){var n,r=o.pseudos[e]||o.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return r[x]?r(t):r.length>1?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?se((function(e,n){for(var i,o=r(e,t),a=o.length;a--;)e[i=F.call(e,o[a])]=!(n[i]=o[a])})):function(e){return r(e,0,n)}):r}},pseudos:{not:se((function(e){var t=[],n=[],r=u(e.replace(z,"$1"));return r[x]?se((function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}})),has:se((function(e){return function(t){return oe(e,t).length>0}})),contains:se((function(e){return function(t){return(t.textContent||t.innerText||a(t)).indexOf(e)>-1}})),lang:se((function(e){return G.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(re,ie).toLowerCase(),function(t){var n;do{if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return te.test(e.nodeName)},input:function(e){return ee.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:de((function(){return[0]})),last:de((function(e,t){return[t-1]})),eq:de((function(e,t,n){return[n<0?n+t:n]})),even:de((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:de((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:de((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:de((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=o.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[n]=fe(n);for(n in{submit:!0,reset:!0})o.pseudos[n]=pe(n);function he(){}function ge(e,t){var n,r,i,a,s,u,l,c=k[e+" "];if(c)return t?0:c.slice(0);for(s=e,u=[],l=o.preFilter;s;){for(a in n&&!(r=X.exec(s))||(r&&(s=s.slice(r[0].length)||s),u.push(i=[])),n=!1,(r=U.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(z," ")}),s=s.slice(n.length)),o.filter)!(r=Q[a].exec(s))||l[a]&&!(r=l[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):k(e,u).slice(0)}function me(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ye(e,t,n){var r=t.dir,o=n&&"parentNode"===r,a=C++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,s){var u,l,c,f=T+" "+a;if(s){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||o)if((l=(c=t[x]||(t[x]={}))[r])&&l[0]===f){if(!0===(u=l[1])||u===i)return!0===u}else if((l=c[r]=[f])[1]=e(t,n,s)||i,!0===l[1])return!0}}function ve(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function xe(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function be(e,t,n,r,i,o){return r&&!r[x]&&(r=be(r)),i&&!i[x]&&(i=be(i,o)),se((function(o,a,s,u){var l,c,f,p=[],d=[],h=a.length,g=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:xe(g,p,e,s,u),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,u),r)for(l=xe(y,d),r(l,[],s,u),c=l.length;c--;)(f=l[c])&&(y[d[c]]=!(m[d[c]]=f));if(o){if(i||e){if(i){for(l=[],c=y.length;c--;)(f=y[c])&&l.push(m[c]=f);i(null,y=[],l,u)}for(c=y.length;c--;)(f=y[c])&&(l=i?F.call(o,f):p[c])>-1&&(o[l]=!(a[l]=f))}}else y=xe(y===a?y.splice(h,y.length):y),i?i(null,a,y,u):M.apply(a,y)}))}function we(e){for(var t,n,r,i=e.length,a=o.relative[e[0].type],s=a||o.relative[" "],u=a?1:0,c=ye((function(e){return e===t}),s,!0),f=ye((function(e){return F.call(t,e)>-1}),s,!0),p=[function(e,n,r){return!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r))}];u<i;u++)if(n=o.relative[e[u].type])p=[ye(ve(p),n)];else{if((n=o.filter[e[u].type].apply(null,e[u].matches))[x]){for(r=++u;r<i&&!o.relative[e[r].type];r++);return be(u>1&&ve(p),u>1&&me(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(z,"$1"),n,u<r&&we(e.slice(u,r)),r<i&&we(e=e.slice(r)),r<i&&me(e))}p.push(n)}return ve(p)}he.prototype=o.filters=o.pseudos,o.setFilters=new he,u=oe.compile=function(e,t){var n,r=[],a=[],s=E[e+" "];if(!s){for(t||(t=ge(e)),n=t.length;n--;)(s=we(t[n]))[x]?r.push(s):a.push(s);s=E(e,function(e,t){var n=0,r=t.length>0,a=e.length>0,s=function(s,u,c,f,d){var h,g,m,y=[],v=0,x="0",b=s&&[],w=null!=d,C=l,N=s||a&&o.find.TAG("*",d&&u.parentNode||u),k=T+=null==C?1:Math.random()||.1;for(w&&(l=u!==p&&u,i=n);null!=(h=N[x]);x++){if(a&&h){for(g=0;m=e[g++];)if(m(h,u,c)){f.push(h);break}w&&(T=k,i=++n)}r&&((h=!m&&h)&&v--,s&&b.push(h))}if(v+=x,r&&x!==v){for(g=0;m=t[g++];)m(b,y,u,c);if(s){if(v>0)for(;x--;)b[x]||y[x]||(y[x]=q.call(f));y=xe(y)}M.apply(f,y),w&&!s&&y.length>0&&v+t.length>1&&oe.uniqueSort(f)}return w&&(T=k,l=C),b};return r?se(s):s}(a,r))}return s},r.sortStable=x.split("").sort(A).join("")===x,r.detectDuplicates=S,f(),r.sortDetached=ue((function(e){return 1&e.compareDocumentPosition(p.createElement("div"))})),ue((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||le("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),r.attributes&&ue((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||le("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ue((function(e){return null==e.getAttribute("disabled")}))||le(B,(function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&r.specified?r.value:!0===e[t]?t.toLowerCase():null})),b.find=oe,b.expr=oe.selectors,b.expr[":"]=b.expr.pseudos,b.unique=oe.uniqueSort,b.text=oe.getText,b.isXMLDoc=oe.isXML,b.contains=oe.contains}(e);var O={};b.Callbacks=function(e){e="string"==typeof e?O[e]||function(e){var t=O[e]={};return b.each(e.match(T)||[],(function(e,n){t[n]=!0})),t}(e):b.extend({},e);var n,r,i,o,a,s,u=[],l=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=u.length,n=!0;u&&a<o;a++)if(!1===u[a].apply(t[0],t[1])&&e.stopOnFalse){r=!1;break}n=!1,u&&(l?l.length&&c(l.shift()):r?u=[]:f.disable())},f={add:function(){if(u){var t=u.length;!function t(n){b.each(n,(function(n,r){var i=b.type(r);"function"===i?e.unique&&f.has(r)||u.push(r):r&&r.length&&"string"!==i&&t(r)}))}(arguments),n?o=u.length:r&&(s=t,c(r))}return this},remove:function(){return u&&b.each(arguments,(function(e,t){for(var r;(r=b.inArray(t,u,r))>-1;)u.splice(r,1),n&&(r<=o&&o--,r<=a&&a--)})),this},has:function(e){return e?b.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],o=0,this},disable:function(){return u=l=r=t,this},disabled:function(){return!u},lock:function(){return l=t,r||f.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!u||i&&!l||(t=[e,(t=t||[]).slice?t.slice():t],n?l.push(t):c(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!i}};return f},b.extend({Deferred:function(e){var t=[["resolve","done",b.Callbacks("once memory"),"resolved"],["reject","fail",b.Callbacks("once memory"),"rejected"],["notify","progress",b.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return b.Deferred((function(n){b.each(t,(function(t,o){var a=o[0],s=b.isFunction(e[t])&&e[t];i[o[1]]((function(){var e=s&&s.apply(this,arguments);e&&b.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?b.extend(e,r):r}},i={};return r.pipe=r.then,b.each(t,(function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add((function(){n=s}),t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith})),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=g.call(arguments),a=o.length,s=1!==a||e&&b.isFunction(e.promise)?a:0,u=1===s?e:b.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?g.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);i<a;i++)o[i]&&b.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--s;return s||u.resolveWith(r,o),u.promise()}}),b.support=function(t){var n,r,o,s,u,l,c,f,p,d=a.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],!(r=d.getElementsByTagName("a")[0])||!r.style||!n.length)return t;l=(s=a.createElement("select")).appendChild(a.createElement("option")),o=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized="/a"===r.getAttribute("href"),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!o.value,t.optSelected=l.selected,t.enctype=!!a.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==a.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!l.disabled;try{delete d.test}catch(e){t.deleteExpando=!1}for(p in(o=a.createElement("input")).setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),(u=a.createDocumentFragment()).appendChild(o),t.appendChecked=o.checked,t.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",(function(){t.noCloneEvent=!1})),d.cloneNode(!0).click()),{submit:!0,change:!0,focusin:!0})d.setAttribute(c="on"+p,"t"),t[p+"Bubbles"]=c in e||!1===d.attributes[c].expando;for(p in d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip,b(t))break;return t.ownLast="0"!==p,b((function(){var n,r,o,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",u=a.getElementsByTagName("body")[0];u&&((n=a.createElement("div")).style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",u.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(o=d.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",f=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=f&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.swap(u,null!=u.style.zoom?{zoom:1}:{},(function(){t.boxSizing=4===d.offsetWidth})),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,(r=d.appendChild(a.createElement("div"))).style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(u.style.zoom=1)),u.removeChild(n),n=d=o=r=null)})),n=s=u=l=r=o=null,t}({});var F=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,B=/([A-Z])/g;function P(e,n,r,i){if(b.acceptData(e)){var o,a,s=b.expando,u=e.nodeType,l=u?b.cache:e,c=u?e[s]:e[s]&&s;if(c&&l[c]&&(i||l[c].data)||r!==t||"string"!=typeof n)return c||(c=u?e[s]=f.pop()||b.guid++:s),l[c]||(l[c]=u?{}:{toJSON:b.noop}),"object"!=typeof n&&"function"!=typeof n||(i?l[c]=b.extend(l[c],n):l[c].data=b.extend(l[c].data,n)),a=l[c],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[b.camelCase(n)]=r),"string"==typeof n?null==(o=a[n])&&(o=a[b.camelCase(n)]):o=a,o}}function R(e,t,n){if(b.acceptData(e)){var r,i,o=e.nodeType,a=o?b.cache:e,s=o?e[b.expando]:b.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){i=(t=b.isArray(t)?t.concat(b.map(t,b.camelCase)):t in r||(t=b.camelCase(t))in r?[t]:t.split(" ")).length;for(;i--;)delete r[t[i]];if(n?!$(r):!b.isEmptyObject(r))return}(n||(delete a[s].data,$(a[s])))&&(o?b.cleanData([e],!0):b.support.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function W(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(B,"-$1").toLowerCase();if("string"==typeof(r=e.getAttribute(i))){try{r="true"===r||"false"!==r&&("null"===r?null:+r+""===r?+r:F.test(r)?b.parseJSON(r):r)}catch(e){}b.data(e,n,r)}else r=t}return r}function $(e){var t;for(t in e)if(("data"!==t||!b.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}b.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?b.cache[e[b.expando]]:e[b.expando])&&!$(e)},data:function(e,t,n){return P(e,t,n)},removeData:function(e,t){return R(e,t)},_data:function(e,t,n){return P(e,t,n,!0)},_removeData:function(e,t){return R(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&b.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),b.fn.extend({data:function(e,n){var r,i,o=null,a=0,s=this[0];if(e===t){if(this.length&&(o=b.data(s),1===s.nodeType&&!b._data(s,"parsedAttrs"))){for(r=s.attributes;a<r.length;a++)0===(i=r[a].name).indexOf("data-")&&W(s,i=b.camelCase(i.slice(5)),o[i]);b._data(s,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each((function(){b.data(this,e)})):arguments.length>1?this.each((function(){b.data(this,e,n)})):s?W(s,e,b.data(s,e)):null},removeData:function(e){return this.each((function(){b.removeData(this,e)}))}}),b.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=b._data(e,t),n&&(!r||b.isArray(n)?r=b._data(e,t,b.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=b.queue(e,t),r=n.length,i=n.shift(),o=b._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){b.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return b._data(e,n)||b._data(e,n,{empty:b.Callbacks("once memory").add((function(){b._removeData(e,t+"queue"),b._removeData(e,n)}))})}}),b.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?b.queue(this[0],e):n===t?this:this.each((function(){var t=b.queue(this,e,n);b._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&b.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){b.dequeue(this,e)}))},delay:function(e,t){return e=b.fx&&b.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=b.Deferred(),a=this,s=this.length,u=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)(r=b._data(a[s],e+"queueHooks"))&&r.empty&&(i++,r.empty.add(u));return u(),o.promise(n)}});var I,z,X=/[\t\r\n\f]/g,U=/\r/g,V=/^(?:input|select|textarea|button|object)$/i,Y=/^(?:a|area)$/i,J=/^(?:checked|selected)$/i,G=b.support.getSetAttribute,Q=b.support.input;b.fn.extend({attr:function(e,t){return b.access(this,b.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){b.removeAttr(this,e)}))},prop:function(e,t){return b.access(this,b.prop,e,t,arguments.length>1)},removeProp:function(e){return e=b.propFix[e]||e,this.each((function(){try{this[e]=t,delete this[e]}catch(e){}}))},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,u="string"==typeof e&&e;if(b.isFunction(e))return this.each((function(t){b(this).addClass(e.call(this,t,this.className))}));if(u)for(t=(e||"").match(T)||[];a<s;a++)if(r=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(X," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=b.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,u=0===arguments.length||"string"==typeof e&&e;if(b.isFunction(e))return this.each((function(t){b(this).removeClass(e.call(this,t,this.className))}));if(u)for(t=(e||"").match(T)||[];a<s;a++)if(r=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(X," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=e?b.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):b.isFunction(e)?this.each((function(n){b(this).toggleClass(e.call(this,n,this.className,t),t)})):this.each((function(){if("string"===n)for(var t,r=0,o=b(this),a=e.match(T)||[];t=a[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else n!==i&&"boolean"!==n||(this.className&&b._data(this,"__className__",this.className),this.className=this.className||!1===e?"":b._data(this,"__className__")||"")}))},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(X," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];return arguments.length?(i=b.isFunction(e),this.each((function(n){var o;1===this.nodeType&&(null==(o=i?e.call(this,n,b(this).val()):e)?o="":"number"==typeof o?o+="":b.isArray(o)&&(o=b.map(o,(function(e){return null==e?"":e+""}))),(r=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&r.set(this,o,"value")!==t||(this.value=o))}))):o?(r=b.valHooks[o.type]||b.valHooks[o.nodeName.toLowerCase()])&&"get"in r&&(n=r.get(o,"value"))!==t?n:"string"==typeof(n=o.value)?n.replace(U,""):null==n?"":n:void 0}}),b.extend({valHooks:{option:{get:function(e){var t=b.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(((n=r[u]).selected||u===i)&&(b.support.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!b.nodeName(n.parentNode,"optgroup"))){if(t=b(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=b.makeArray(t),a=i.length;a--;)((r=i[a]).selected=b.inArray(b(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,r){var o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===i?b.prop(e,n,r):(1===s&&b.isXMLDoc(e)||(n=n.toLowerCase(),o=b.attrHooks[n]||(b.expr.match.bool.test(n)?z:I)),r===t?o&&"get"in o&&null!==(a=o.get(e,n))?a:null==(a=b.find.attr(e,n))?t:a:null!==r?o&&"set"in o&&(a=o.set(e,r,n))!==t?a:(e.setAttribute(n,r+""),r):void b.removeAttr(e,n))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(T);if(o&&1===e.nodeType)for(;n=o[i++];)r=b.propFix[n]||n,b.expr.match.bool.test(n)?Q&&G||!J.test(n)?e[r]=!1:e[b.camelCase("default-"+n)]=e[r]=!1:b.attr(e,n,""),e.removeAttribute(G?n:r)},attrHooks:{type:{set:function(e,t){if(!b.support.radioValue&&"radio"===t&&b.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{for:"htmlFor",class:"className"},prop:function(e,n,r){var i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return(1!==a||!b.isXMLDoc(e))&&(n=b.propFix[n]||n,o=b.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var t=b.find.attr(e,"tabindex");return t?parseInt(t,10):V.test(e.nodeName)||Y.test(e.nodeName)&&e.href?0:-1}}}}),z={set:function(e,t,n){return!1===t?b.removeAttr(e,n):Q&&G||!J.test(n)?e.setAttribute(!G&&b.propFix[n]||n,n):e[b.camelCase("default-"+n)]=e[n]=!0,n}},b.each(b.expr.match.bool.source.match(/\w+/g),(function(e,n){var r=b.expr.attrHandle[n]||b.find.attr;b.expr.attrHandle[n]=Q&&G||!J.test(n)?function(e,n,i){var o=b.expr.attrHandle[n],a=i?t:(b.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return b.expr.attrHandle[n]=o,a}:function(e,n,r){return r?t:e[b.camelCase("default-"+n)]?n.toLowerCase():null}})),Q&&G||(b.attrHooks.value={set:function(e,t,n){if(!b.nodeName(e,"input"))return I&&I.set(e,t,n);e.defaultValue=t}}),G||(I={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},b.expr.attrHandle.id=b.expr.attrHandle.name=b.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&""!==i.value?i.value:null},b.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:I.set},b.attrHooks.contenteditable={set:function(e,t,n){I.set(e,""!==t&&t,n)}},b.each(["width","height"],(function(e,t){b.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}}))),b.support.hrefNormalized||b.each(["href","src"],(function(e,t){b.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),b.support.style||(b.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),b.support.optSelected||(b.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),b.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){b.propFix[this.toLowerCase()]=this})),b.support.enctype||(b.propFix.enctype="encoding"),b.each(["radio","checkbox"],(function(){b.valHooks[this]={set:function(e,t){if(b.isArray(t))return e.checked=b.inArray(b(e).val(),t)>=0}},b.support.checkOn||(b.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var K=/^(?:input|select|textarea)$/i,Z=/^key/,ee=/^(?:mouse|contextmenu)|click/,te=/^(?:focusinfocus|focusoutblur)$/,ne=/^([^.]*)(?:\.(.+)|)$/;function re(){return!0}function ie(){return!1}function oe(){try{return a.activeElement}catch(e){}}b.event={global:{},add:function(e,n,r,o,a){var s,u,l,c,f,p,d,h,g,m,y,v=b._data(e);if(v){for(r.handler&&(r=(c=r).handler,a=c.selector),r.guid||(r.guid=b.guid++),(u=v.events)||(u=v.events={}),(p=v.handle)||((p=v.handle=function(e){return typeof b===i||e&&b.event.triggered===e.type?t:b.event.dispatch.apply(p.elem,arguments)}).elem=e),l=(n=(n||"").match(T)||[""]).length;l--;)g=y=(s=ne.exec(n[l])||[])[1],m=(s[2]||"").split(".").sort(),g&&(f=b.event.special[g]||{},g=(a?f.delegateType:f.bindType)||g,f=b.event.special[g]||{},d=b.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&b.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=u[g])||((h=u[g]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,o,m,p)||(e.addEventListener?e.addEventListener(g,p,!1):e.attachEvent&&e.attachEvent("on"+g,p))),f.add&&(f.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),b.event.global[g]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,m=b.hasData(e)&&b._data(e);if(m&&(c=m.events)){for(l=(t=(t||"").match(T)||[""]).length;l--;)if(d=g=(s=ne.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){for(f=b.event.special[d]||{},p=c[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=p.length;o--;)a=p[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(p.splice(o,1),a.selector&&p.delegateCount--,f.remove&&f.remove.call(e,a));u&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,m.handle)||b.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)b.event.remove(e,d+t[l],n,r,!0);b.isEmptyObject(c)&&(delete m.handle,b._removeData(e,"events"))}},trigger:function(n,r,i,o){var s,u,l,c,f,p,d,h=[i||a],g=v.call(n,"type")?n.type:n,m=v.call(n,"namespace")?n.namespace.split("."):[];if(l=p=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!te.test(g+b.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),u=g.indexOf(":")<0&&"on"+g,(n=n[b.expando]?n:new b.Event(g,"object"==typeof n&&n)).isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:b.makeArray(r,[n]),f=b.event.special[g]||{},o||!f.trigger||!1!==f.trigger.apply(i,r))){if(!o&&!f.noBubble&&!b.isWindow(i)){for(c=f.delegateType||g,te.test(c+g)||(l=l.parentNode);l;l=l.parentNode)h.push(l),p=l;p===(i.ownerDocument||a)&&h.push(p.defaultView||p.parentWindow||e)}for(d=0;(l=h[d++])&&!n.isPropagationStopped();)n.type=d>1?c:f.bindType||g,(s=(b._data(l,"events")||{})[n.type]&&b._data(l,"handle"))&&s.apply(l,r),(s=u&&l[u])&&b.acceptData(l)&&s.apply&&!1===s.apply(l,r)&&n.preventDefault();if(n.type=g,!o&&!n.isDefaultPrevented()&&(!f._default||!1===f._default.apply(h.pop(),r))&&b.acceptData(i)&&u&&i[g]&&!b.isWindow(i)){(p=i[u])&&(i[u]=null),b.event.triggered=g;try{i[g]()}catch(e){}b.event.triggered=t,p&&(i[u]=p)}return n.result}},dispatch:function(e){e=b.event.fix(e);var n,r,i,o,a,s=[],u=g.call(arguments),l=(b._data(this,"events")||{})[e.type]||[],c=b.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(s=b.event.handlers.call(this,e,l),n=0;(o=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,a=0;(i=o.handlers[a++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(i.namespace)||(e.handleObj=i,e.data=i.data,(r=((b.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u))!==t&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],u=n.delegateCount,l=e.target;if(u&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(o=[],a=0;a<u;a++)o[r=(i=n[a]).selector+" "]===t&&(o[r]=i.needsContext?b(r,this).index(l)>=0:b.find(r,this,null,[l]).length),o[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return u<n.length&&s.push({elem:this,handlers:n.slice(u)}),s},fix:function(e){if(e[b.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=ee.test(i)?this.mouseHooks:Z.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new b.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=o.srcElement||a),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,s=n.button,u=n.fromElement;return null==e.pageX&&null!=n.clientX&&(o=(i=e.target.ownerDocument||a).documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&u&&(e.relatedTarget=u===e.target?n.toElement:u),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==oe()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===oe()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(b.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return b.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=b.extend(new b.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?b.event.trigger(i,null,t):b.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},b.removeEvent=a.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},b.Event=function(e,t){if(!(this instanceof b.Event))return new b.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?re:ie):this.type=e,t&&b.extend(this,t),this.timeStamp=e&&e.timeStamp||b.now(),this[b.expando]=!0},b.Event.prototype={isDefaultPrevented:ie,isPropagationStopped:ie,isImmediatePropagationStopped:ie,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=re,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=re,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=re,this.stopPropagation()}},b.each({mouseenter:"mouseover",mouseleave:"mouseout"},(function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||b.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),b.support.submitBubbles||(b.event.special.submit={setup:function(){if(b.nodeName(this,"form"))return!1;b.event.add(this,"click._submit keypress._submit",(function(e){var n=e.target,r=b.nodeName(n,"input")||b.nodeName(n,"button")?n.form:t;r&&!b._data(r,"submitBubbles")&&(b.event.add(r,"submit._submit",(function(e){e._submit_bubble=!0})),b._data(r,"submitBubbles",!0))}))},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&b.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(b.nodeName(this,"form"))return!1;b.event.remove(this,"._submit")}}),b.support.changeBubbles||(b.event.special.change={setup:function(){if(K.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(b.event.add(this,"propertychange._change",(function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)})),b.event.add(this,"click._change",(function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),b.event.simulate("change",this,e,!0)}))),!1;b.event.add(this,"beforeactivate._change",(function(e){var t=e.target;K.test(t.nodeName)&&!b._data(t,"changeBubbles")&&(b.event.add(t,"change._change",(function(e){!this.parentNode||e.isSimulated||e.isTrigger||b.event.simulate("change",this.parentNode,e,!0)})),b._data(t,"changeBubbles",!0))}))},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return b.event.remove(this,"._change"),!K.test(this.nodeName)}}),b.support.focusinBubbles||b.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=0,r=function(e){b.event.simulate(t,e.target,b.event.fix(e),!0)};b.event.special[t]={setup:function(){0==n++&&a.addEventListener(e,r,!0)},teardown:function(){0==--n&&a.removeEventListener(e,r,!0)}}})),b.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){for(a in"string"!=typeof n&&(r=r||n,n=t),e)this.on(a,n,r,e[a],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),!1===i)i=ie;else if(!i)return this;return 1===o&&(s=i,(i=function(e){return b().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=b.guid++)),this.each((function(){b.event.add(this,e,i,r,n)}))},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,b(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return!1!==n&&"function"!=typeof n||(r=n,n=t),!1===r&&(r=ie),this.each((function(){b.event.remove(this,e,r,n)}))},trigger:function(e,t){return this.each((function(){b.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return b.event.trigger(e,t,n,!0)}});var ae=/^.[^:#\[\.,]*$/,se=/^(?:parents|prev(?:Until|All))/,ue=b.expr.match.needsContext,le={children:!0,contents:!0,next:!0,prev:!0};function ce(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function fe(e,t,n){if(b.isFunction(t))return b.grep(e,(function(e,r){return!!t.call(e,r,e)!==n}));if(t.nodeType)return b.grep(e,(function(e){return e===t!==n}));if("string"==typeof t){if(ae.test(t))return b.filter(t,e,n);t=b.filter(t,e)}return b.grep(e,(function(e){return b.inArray(e,t)>=0!==n}))}function pe(e){var t=de.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}b.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(b(e).filter((function(){for(t=0;t<i;t++)if(b.contains(r[t],this))return!0})));for(t=0;t<i;t++)b.find(e,r[t],n);return(n=this.pushStack(i>1?b.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=b(e,this),r=n.length;return this.filter((function(){for(t=0;t<r;t++)if(b.contains(this,n[t]))return!0}))},not:function(e){return this.pushStack(fe(this,e||[],!0))},filter:function(e){return this.pushStack(fe(this,e||[],!1))},is:function(e){return!!fe(this,"string"==typeof e&&ue.test(e)?b(e):e||[],!1).length},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ue.test(e)||"string"!=typeof e?b(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&b.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?b.unique(o):o)},index:function(e){return e?"string"==typeof e?b.inArray(this[0],b(e)):b.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?b(e,t):b.makeArray(e&&e.nodeType?[e]:e),r=b.merge(this.get(),n);return this.pushStack(b.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),b.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return b.dir(e,"parentNode")},parentsUntil:function(e,t,n){return b.dir(e,"parentNode",n)},next:function(e){return ce(e,"nextSibling")},prev:function(e){return ce(e,"previousSibling")},nextAll:function(e){return b.dir(e,"nextSibling")},prevAll:function(e){return b.dir(e,"previousSibling")},nextUntil:function(e,t,n){return b.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return b.dir(e,"previousSibling",n)},siblings:function(e){return b.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return b.sibling(e.firstChild)},contents:function(e){return b.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b.merge([],e.childNodes)}},(function(e,t){b.fn[e]=function(n,r){var i=b.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=b.filter(r,i)),this.length>1&&(le[e]||(i=b.unique(i)),se.test(e)&&(i=i.reverse())),this.pushStack(i)}})),b.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?b.find.matchesSelector(r,e)?[r]:[]:b.find.matches(e,b.grep(t,(function(e){return 1===e.nodeType})))},dir:function(e,n,r){for(var i=[],o=e[n];o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!b(o).is(r));)1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var de="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",he=/ jQuery\d+="(?:null|\d+)"/g,ge=new RegExp("<(?:"+de+")[\\s/>]","i"),me=/^\s+/,ye=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ve=/<([\w:]+)/,xe=/<tbody/i,be=/<|&#?\w+;/,we=/<(?:script|style|link)/i,Te=/^(?:checkbox|radio)$/i,Ce=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^$|\/(?:java|ecma)script/i,ke=/^true\/(.*)/,Ee=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Se={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:b.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ae=pe(a).appendChild(a.createElement("div"));function je(e,t){return b.nodeName(e,"table")&&b.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function De(e){return e.type=(null!==b.find.attr(e,"type"))+"/"+e.type,e}function Le(e){var t=ke.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function He(e,t){for(var n,r=0;null!=(n=e[r]);r++)b._data(n,"globalEval",!t||b._data(t[r],"globalEval"))}function qe(e,t){if(1===t.nodeType&&b.hasData(e)){var n,r,i,o=b._data(e),a=b._data(t,o),s=o.events;if(s)for(n in delete a.handle,a.events={},s)for(r=0,i=s[n].length;r<i;r++)b.event.add(t,n,s[n][r]);a.data&&(a.data=b.extend({},a.data))}}function _e(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!b.support.noCloneEvent&&t[b.expando]){for(r in(i=b._data(t)).events)b.removeEvent(t,r,i.handle);t.removeAttribute(b.expando)}"script"===n&&t.text!==e.text?(De(t).text=e.text,Le(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),b.support.html5Clone&&e.innerHTML&&!b.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Te.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function Me(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++)!n||b.nodeName(o,n)?s.push(o):b.merge(s,Me(o,n));return n===t||n&&b.nodeName(e,n)?b.merge([e],s):s}function Oe(e){Te.test(e.type)&&(e.defaultChecked=e.checked)}Se.optgroup=Se.option,Se.tbody=Se.tfoot=Se.colgroup=Se.caption=Se.thead,Se.th=Se.td,b.fn.extend({text:function(e){return b.access(this,(function(e){return e===t?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||a).createTextNode(e))}),null,e,arguments.length)},append:function(){return this.domManip(arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)}))},prepend:function(){return this.domManip(arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},remove:function(e,t){for(var n,r=e?b.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||b.cleanData(Me(n)),n.parentNode&&(t&&b.contains(n.ownerDocument,n)&&He(Me(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&b.cleanData(Me(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&b.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return b.clone(this,e,t)}))},html:function(e){return b.access(this,(function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(he,""):t;if("string"==typeof e&&!we.test(e)&&(b.support.htmlSerialize||!ge.test(e))&&(b.support.leadingWhitespace||!me.test(e))&&!Se[(ve.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ye,"<$1></$2>");try{for(;r<i;r++)1===(n=this[r]||{}).nodeType&&(b.cleanData(Me(n,!1)),n.innerHTML=e);n=0}catch(e){}}n&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=b.map(this,(function(e){return[e.nextSibling,e.parentNode]})),t=0;return this.domManip(arguments,(function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),b(this).remove(),i.insertBefore(n,r))}),!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=d.apply([],e);var r,i,o,a,s,u,l=0,c=this.length,f=this,p=c-1,h=e[0],g=b.isFunction(h);if(g||!(c<=1||"string"!=typeof h||b.support.checkClone)&&Ce.test(h))return this.each((function(r){var i=f.eq(r);g&&(e[0]=h.call(this,r,i.html())),i.domManip(e,t,n)}));if(c&&(r=(u=b.buildFragment(e,this[0].ownerDocument,!1,!n&&this)).firstChild,1===u.childNodes.length&&(u=r),r)){for(o=(a=b.map(Me(u,"script"),De)).length;l<c;l++)i=u,l!==p&&(i=b.clone(i,!0,!0),o&&b.merge(a,Me(i,"script"))),t.call(this[l],i,l);if(o)for(s=a[a.length-1].ownerDocument,b.map(a,Le),l=0;l<o;l++)i=a[l],Ne.test(i.type||"")&&!b._data(i,"globalEval")&&b.contains(s,i)&&(i.src?b._evalUrl(i.src):b.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Ee,"")));u=r=null}return this}}),b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){b.fn[e]=function(e){for(var n,r=0,i=[],o=b(e),a=o.length-1;r<=a;r++)n=r===a?this:this.clone(!0),b(o[r])[t](n),h.apply(i,n.get());return this.pushStack(i)}})),b.extend({clone:function(e,t,n){var r,i,o,a,s,u=b.contains(e.ownerDocument,e);if(b.support.html5Clone||b.isXMLDoc(e)||!ge.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Ae.innerHTML=e.outerHTML,Ae.removeChild(o=Ae.firstChild)),!(b.support.noCloneEvent&&b.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||b.isXMLDoc(e)))for(r=Me(o),s=Me(e),a=0;null!=(i=s[a]);++a)r[a]&&_e(i,r[a]);if(t)if(n)for(s=s||Me(e),r=r||Me(o),a=0;null!=(i=s[a]);a++)qe(i,r[a]);else qe(e,o);return(r=Me(o,"script")).length>0&&He(r,!u&&Me(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,c,f=e.length,p=pe(t),d=[],h=0;h<f;h++)if((o=e[h])||0===o)if("object"===b.type(o))b.merge(d,o.nodeType?[o]:o);else if(be.test(o)){for(s=s||p.appendChild(t.createElement("div")),u=(ve.exec(o)||["",""])[1].toLowerCase(),c=Se[u]||Se._default,s.innerHTML=c[1]+o.replace(ye,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!b.support.leadingWhitespace&&me.test(o)&&d.push(t.createTextNode(me.exec(o)[0])),!b.support.tbody)for(i=(o="table"!==u||xe.test(o)?"<table>"!==c[1]||xe.test(o)?0:s:s.firstChild)&&o.childNodes.length;i--;)b.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(b.merge(d,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else d.push(t.createTextNode(o));for(s&&p.removeChild(s),b.support.appendChecked||b.grep(Me(d,"input"),Oe),h=0;o=d[h++];)if((!r||-1===b.inArray(o,r))&&(a=b.contains(o.ownerDocument,o),s=Me(p.appendChild(o),"script"),a&&He(s),n))for(i=0;o=s[i++];)Ne.test(o.type||"")&&n.push(o);return s=null,p},cleanData:function(e,t){for(var n,r,o,a,s=0,u=b.expando,l=b.cache,c=b.support.deleteExpando,p=b.event.special;null!=(n=e[s]);s++)if((t||b.acceptData(n))&&(a=(o=n[u])&&l[o])){if(a.events)for(r in a.events)p[r]?b.event.remove(n,r):b.removeEvent(n,r,a.handle);l[o]&&(delete l[o],c?delete n[u]:typeof n.removeAttribute!==i?n.removeAttribute(u):n[u]=null,f.push(o))}},_evalUrl:function(e){return b.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})}}),b.fn.extend({wrapAll:function(e){if(b.isFunction(e))return this.each((function(t){b(this).wrapAll(e.call(this,t))}));if(this[0]){var t=b(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e})).append(this)}return this},wrapInner:function(e){return b.isFunction(e)?this.each((function(t){b(this).wrapInner(e.call(this,t))})):this.each((function(){var t=b(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=b.isFunction(e);return this.each((function(n){b(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(){return this.parent().each((function(){b.nodeName(this,"body")||b(this).replaceWith(this.childNodes)})).end()}});var Fe,Be,Pe,Re=/alpha\([^)]*\)/i,We=/opacity\s*=\s*([^)]*)/,$e=/^(top|right|bottom|left)$/,Ie=/^(none|table(?!-c[ea]).+)/,ze=/^margin/,Xe=new RegExp("^("+w+")(.*)$","i"),Ue=new RegExp("^("+w+")(?!px)[a-z%]+$","i"),Ve=new RegExp("^([+-])=("+w+")","i"),Ye={BODY:"block"},Je={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:0,fontWeight:400},Qe=["Top","Right","Bottom","Left"],Ke=["Webkit","O","Moz","ms"];function Ze(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Ke.length;i--;)if((t=Ke[i]+n)in e)return t;return r}function et(e,t){return e=t||e,"none"===b.css(e,"display")||!b.contains(e.ownerDocument,e)}function tt(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(o[a]=b._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&et(r)&&(o[a]=b._data(r,"olddisplay",ot(r.nodeName)))):o[a]||(i=et(r),(n&&"none"!==n||!i)&&b._data(r,"olddisplay",i?n:b.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function nt(e,t,n){var r=Xe.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function rt(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=b.css(e,n+Qe[o],!0,i)),r?("content"===n&&(a-=b.css(e,"padding"+Qe[o],!0,i)),"margin"!==n&&(a-=b.css(e,"border"+Qe[o]+"Width",!0,i))):(a+=b.css(e,"padding"+Qe[o],!0,i),"padding"!==n&&(a+=b.css(e,"border"+Qe[o]+"Width",!0,i)));return a}function it(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Be(e),a=b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(((i=Pe(e,t,o))<0||null==i)&&(i=e.style[t]),Ue.test(i))return i;r=a&&(b.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+rt(e,t,n||(a?"border":"content"),r,o)+"px"}function ot(e){var t=a,n=Ye[e];return n||("none"!==(n=at(e,t))&&n||((t=((Fe=(Fe||b("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement))[0].contentWindow||Fe[0].contentDocument).document).write("<!doctype html><html><body>"),t.close(),n=at(e,t),Fe.detach()),Ye[e]=n),n}function at(e,t){var n=b(t.createElement(e)).appendTo(t.body),r=b.css(n[0],"display");return n.remove(),r}b.fn.extend({css:function(e,n){return b.access(this,(function(e,n,r){var i,o,a={},s=0;if(b.isArray(n)){for(o=Be(e),i=n.length;s<i;s++)a[n[s]]=b.css(e,n[s],!1,o);return a}return r!==t?b.style(e,n,r):b.css(e,n)}),e,n,arguments.length>1)},show:function(){return tt(this,!0)},hide:function(){return tt(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){et(this)?b(this).show():b(this).hide()}))}}),b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Pe(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:b.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,u=b.camelCase(n),l=e.style;if(n=b.cssProps[u]||(b.cssProps[u]=Ze(l,u)),s=b.cssHooks[n]||b.cssHooks[u],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:l[n];if(!("string"===(a=typeof r)&&(o=Ve.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(b.css(e,n)),a="number"),null==r||"number"===a&&isNaN(r)||("number"!==a||b.cssNumber[u]||(r+="px"),b.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(l[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{l[n]=r}catch(e){}}},css:function(e,n,r,i){var o,a,s,u=b.camelCase(n);return n=b.cssProps[u]||(b.cssProps[u]=Ze(e.style,u)),(s=b.cssHooks[n]||b.cssHooks[u])&&"get"in s&&(a=s.get(e,!0,r)),a===t&&(a=Pe(e,n,i)),"normal"===a&&n in Ge&&(a=Ge[n]),""===r||r?(o=parseFloat(a),!0===r||b.isNumeric(o)?o||0:a):a}}),e.getComputedStyle?(Be=function(t){return e.getComputedStyle(t,null)},Pe=function(e,n,r){var i,o,a,s=r||Be(e),u=s?s.getPropertyValue(n)||s[n]:t,l=e.style;return s&&(""!==u||b.contains(e.ownerDocument,e)||(u=b.style(e,n)),Ue.test(u)&&ze.test(n)&&(i=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=u,u=s.width,l.width=i,l.minWidth=o,l.maxWidth=a)),u}):a.documentElement.currentStyle&&(Be=function(e){return e.currentStyle},Pe=function(e,n,r){var i,o,a,s=r||Be(e),u=s?s[n]:t,l=e.style;return null==u&&l&&l[n]&&(u=l[n]),Ue.test(u)&&!$e.test(n)&&(i=l.left,(a=(o=e.runtimeStyle)&&o.left)&&(o.left=e.currentStyle.left),l.left="fontSize"===n?"1em":u,u=l.pixelLeft+"px",l.left=i,a&&(o.left=a)),""===u?"auto":u}),b.each(["height","width"],(function(e,t){b.cssHooks[t]={get:function(e,n,r){if(n)return 0===e.offsetWidth&&Ie.test(b.css(e,"display"))?b.swap(e,Je,(function(){return it(e,t,r)})):it(e,t,r)},set:function(e,n,r){var i=r&&Be(e);return nt(0,n,r?rt(e,t,r,b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,i),i):0)}}})),b.support.opacity||(b.cssHooks.opacity={get:function(e,t){return We.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=b.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===b.trim(o.replace(Re,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=Re.test(o)?o.replace(Re,i):o+" "+i)}}),b((function(){b.support.reliableMarginRight||(b.cssHooks.marginRight={get:function(e,t){if(t)return b.swap(e,{display:"inline-block"},Pe,[e,"marginRight"])}}),!b.support.pixelPosition&&b.fn.position&&b.each(["top","left"],(function(e,t){b.cssHooks[t]={get:function(e,n){if(n)return n=Pe(e,t),Ue.test(n)?b(e).position()[t]+"px":n}}}))})),b.expr&&b.expr.filters&&(b.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!b.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||b.css(e,"display"))},b.expr.filters.visible=function(e){return!b.expr.filters.hidden(e)}),b.each({margin:"",padding:"",border:"Width"},(function(e,t){b.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Qe[r]+t]=o[r]||o[r-2]||o[0];return i}},ze.test(e)||(b.cssHooks[e+t].set=nt)}));var st=/%20/g,ut=/\[\]$/,lt=/\r?\n/g,ct=/^(?:submit|button|image|reset|file)$/i,ft=/^(?:input|select|textarea|keygen)/i;function pt(e,t,n,r){var i;if(b.isArray(t))b.each(t,(function(t,i){n||ut.test(e)?r(e,i):pt(e+"["+("object"==typeof i?t:"")+"]",i,n,r)}));else if(n||"object"!==b.type(t))r(e,t);else for(i in t)pt(e+"["+i+"]",t[i],n,r)}b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&ft.test(this.nodeName)&&!ct.test(e)&&(this.checked||!Te.test(e))})).map((function(e,t){var n=b(this).val();return null==n?null:b.isArray(n)?b.map(n,(function(e){return{name:t.name,value:e.replace(lt,"\r\n")}})):{name:t.name,value:n.replace(lt,"\r\n")}})).get()}}),b.param=function(e,n){var r,i=[],o=function(e,t){t=b.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=b.ajaxSettings&&b.ajaxSettings.traditional),b.isArray(e)||e.jquery&&!b.isPlainObject(e))b.each(e,(function(){o(this.name,this.value)}));else for(r in e)pt(r,e[r],n,o);return i.join("&").replace(st,"+")},b.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){b.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),b.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var dt,ht,gt=b.now(),mt=/\?/,yt=/#.*$/,vt=/([?&])_=[^&]*/,xt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,bt=/^(?:GET|HEAD)$/,wt=/^\/\//,Tt=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ct=b.fn.load,Nt={},kt={},Et="*/".concat("*");try{ht=o.href}catch(e){(ht=a.createElement("a")).href="",ht=ht.href}function St(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(T)||[];if(b.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function At(e,t,n,r){var i={},o=e===kt;function a(s){var u;return i[s]=!0,b.each(e[s]||[],(function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)})),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function jt(e,n){var r,i,o=b.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&b.extend(!0,e,r),e}dt=Tt.exec(ht.toLowerCase())||[],b.fn.load=function(e,n,r){if("string"!=typeof e&&Ct)return Ct.apply(this,arguments);var i,o,a,s=this,u=e.indexOf(" ");return u>=0&&(i=e.slice(u,e.length),e=e.slice(0,u)),b.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&b.ajax({url:e,type:a,dataType:"html",data:n}).done((function(e){o=arguments,s.html(i?b("<div>").append(b.parseHTML(e)).find(i):e)})).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){b.fn[t]=function(e){return this.on(t,e)}})),b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ht,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(dt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Et,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?jt(jt(e,b.ajaxSettings),t):jt(b.ajaxSettings,e)},ajaxPrefilter:St(Nt),ajaxTransport:St(kt),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,u,l,c,f=b.ajaxSetup({},n),p=f.context||f,d=f.context&&(p.nodeType||p.jquery)?b(p):b.event,h=b.Deferred(),g=b.Callbacks("once memory"),m=f.statusCode||{},y={},v={},x=0,w="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!c)for(c={};t=xt.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return x||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)m[t]=[m[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||w;return l&&l.abort(t),N(0,t),this}};if(h.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,f.url=((e||f.url||ht)+"").replace(yt,"").replace(wt,dt[1]+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=b.trim(f.dataType||"*").toLowerCase().match(T)||[""],null==f.crossDomain&&(r=Tt.exec(f.url.toLowerCase()),f.crossDomain=!(!r||r[1]===dt[1]&&r[2]===dt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(dt[3]||("http:"===dt[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=b.param(f.data,f.traditional)),At(Nt,f,n,C),2===x)return C;for(i in(u=f.global)&&0==b.active++&&b.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!bt.test(f.type),o=f.url,f.hasContent||(f.data&&(o=f.url+=(mt.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=vt.test(o)?o.replace(vt,"$1_="+gt++):o+(mt.test(o)?"&":"?")+"_="+gt++)),f.ifModified&&(b.lastModified[o]&&C.setRequestHeader("If-Modified-Since",b.lastModified[o]),b.etag[o]&&C.setRequestHeader("If-None-Match",b.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&C.setRequestHeader("Content-Type",f.contentType),C.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Et+"; q=0.01":""):f.accepts["*"]),f.headers)C.setRequestHeader(i,f.headers[i]);if(f.beforeSend&&(!1===f.beforeSend.call(p,C,f)||2===x))return C.abort();for(i in w="abort",{success:1,error:1,complete:1})C[i](f[i]);if(l=At(kt,f,n,C)){C.readyState=1,u&&d.trigger("ajaxSend",[C,f]),f.async&&f.timeout>0&&(s=setTimeout((function(){C.abort("timeout")}),f.timeout));try{x=1,l.send(y,N)}catch(e){if(!(x<2))throw e;N(-1,e)}}else N(-1,"No Transport");function N(e,n,r,i){var c,y,v,w,T,N=n;2!==x&&(x=2,s&&clearTimeout(s),l=t,a=i||"",C.readyState=e>0?4:0,c=e>=200&&e<300||304===e,r&&(w=function(e,n,r){var i,o,a,s,u=e.contents,l=e.dataTypes;for(;"*"===l[0];)l.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in u)if(u[s]&&u[s].test(o)){l.unshift(s);break}if(l[0]in r)a=l[0];else{for(s in r){if(!l[0]||e.converters[s+" "+l[0]]){a=s;break}i||(i=s)}a=a||i}if(a)return a!==l[0]&&l.unshift(a),r[a]}(f,C,r)),w=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();for(;o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(f,w,C,c),c?(f.ifModified&&((T=C.getResponseHeader("Last-Modified"))&&(b.lastModified[o]=T),(T=C.getResponseHeader("etag"))&&(b.etag[o]=T)),204===e||"HEAD"===f.type?N="nocontent":304===e?N="notmodified":(N=w.state,y=w.data,c=!(v=w.error))):(v=N,!e&&N||(N="error",e<0&&(e=0))),C.status=e,C.statusText=(n||N)+"",c?h.resolveWith(p,[y,N,C]):h.rejectWith(p,[C,N,v]),C.statusCode(m),m=t,u&&d.trigger(c?"ajaxSuccess":"ajaxError",[C,f,c?y:v]),g.fireWith(p,[C,N]),u&&(d.trigger("ajaxComplete",[C,f]),--b.active||b.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return b.get(e,t,n,"json")},getScript:function(e,n){return b.get(e,t,n,"script")}}),b.each(["get","post"],(function(e,n){b[n]=function(e,r,i,o){return b.isFunction(r)&&(o=o||i,i=r,r=t),b.ajax({url:e,type:n,dataType:o,data:r,success:i})}})),b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",(function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)})),b.ajaxTransport("script",(function(e){if(e.crossDomain){var n,r=a.head||b("head")[0]||a.documentElement;return{send:function(t,i){(n=a.createElement("script")).async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}}));var Dt=[],Lt=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Dt.pop()||b.expando+"_"+gt++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",(function(n,r,i){var o,a,s,u=!1!==n.jsonp&&(Lt.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Lt.test(n.data)&&"data");if(u||"jsonp"===n.dataTypes[0])return o=n.jsonpCallback=b.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,u?n[u]=n[u].replace(Lt,"$1"+o):!1!==n.jsonp&&(n.url+=(mt.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||b.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always((function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Dt.push(o)),s&&b.isFunction(a)&&a(s[0]),s=a=t})),"script"}));var Ht,qt,_t=0,Mt=e.ActiveXObject&&function(){var e;for(e in Ht)Ht[e](t,!0)};function Ot(){try{return new e.XMLHttpRequest}catch(e){}}b.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&Ot()||function(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:Ot,qt=b.ajaxSettings.xhr(),b.support.cors=!!qt&&"withCredentials"in qt,(qt=b.support.ajax=!!qt)&&b.ajaxTransport((function(n){var r;if(!n.crossDomain||b.support.cors)return{send:function(i,o){var a,s,u=n.xhr();if(n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)u[s]=n.xhrFields[s];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)u.setRequestHeader(s,i[s])}catch(e){}u.send(n.hasContent&&n.data||null),r=function(e,i){var s,l,c,f;try{if(r&&(i||4===u.readyState))if(r=t,a&&(u.onreadystatechange=b.noop,Mt&&delete Ht[a]),i)4!==u.readyState&&u.abort();else{f={},s=u.status,l=u.getAllResponseHeaders(),"string"==typeof u.responseText&&(f.text=u.responseText);try{c=u.statusText}catch(e){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=f.text?200:404}}catch(e){i||o(-1,e)}f&&o(s,c,f,l)},n.async?4===u.readyState?setTimeout(r):(a=++_t,Mt&&(Ht||(Ht={},b(e).unload(Mt)),Ht[a]=r),u.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}));var Ft,Bt,Pt=/^(?:toggle|show|hide)$/,Rt=new RegExp("^(?:([+-])=|)("+w+")([a-z%]*)$","i"),Wt=/queueHooks$/,$t=[function(e,t,n){var r,i,o,a,s,u,l=this,c={},f=e.style,p=e.nodeType&&et(e),d=b._data(e,"fxshow");n.queue||(null==(s=b._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,l.always((function(){l.always((function(){s.unqueued--,b.queue(e,"fx").length||s.empty.fire()}))})));1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===b.css(e,"display")&&"none"===b.css(e,"float")&&(b.support.inlineBlockNeedsLayout&&"inline"!==ot(e.nodeName)?f.zoom=1:f.display="inline-block"));n.overflow&&(f.overflow="hidden",b.support.shrinkWrapBlocks||l.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})));for(r in t)if(i=t[r],Pt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(p?"hide":"show"))continue;c[r]=d&&d[r]||b.style(e,r)}if(!b.isEmptyObject(c))for(r in d?"hidden"in d&&(p=d.hidden):d=b._data(e,"fxshow",{}),o&&(d.hidden=!p),p?b(e).show():l.done((function(){b(e).hide()})),l.done((function(){var t;for(t in b._removeData(e,"fxshow"),c)b.style(e,t,c[t])})),c)a=Xt(p?d[r]:0,r,l),r in d||(d[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}],It={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Rt.exec(t),o=i&&i[3]||(b.cssNumber[e]?"":"px"),a=(b.cssNumber[e]||"px"!==o&&+r)&&Rt.exec(b.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{a/=s=s||".5",b.style(n.elem,e,a+o)}while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};function zt(){return setTimeout((function(){Ft=t})),Ft=b.now()}function Xt(e,t,n){for(var r,i=(It[t]||[]).concat(It["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function Ut(e,t,n){var r,i,o=0,a=$t.length,s=b.Deferred().always((function(){delete u.elem})),u=function(){if(i)return!1;for(var t=Ft||zt(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ft||zt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=b.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=b.camelCase(n)],o=e[n],b.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=b.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);o<a;o++)if(r=$t[o].call(l,e,c,l.opts))return r;return b.map(c,Xt,l),b.isFunction(l.opts.start)&&l.opts.start.call(e,l),b.fx.timer(b.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function Vt(e,t,n,r,i){return new Vt.prototype.init(e,t,n,r,i)}function Yt(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=Qe[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function Jt(e){return b.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}b.Animation=b.extend(Ut,{tweener:function(e,t){b.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;r<i;r++)n=e[r],It[n]=It[n]||[],It[n].unshift(t)},prefilter:function(e,t){t?$t.unshift(e):$t.push(e)}}),b.Tween=Vt,Vt.prototype={constructor:Vt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(b.cssNumber[n]?"":"px")},cur:function(){var e=Vt.propHooks[this.prop];return e&&e.get?e.get(this):Vt.propHooks._default.get(this)},run:function(e){var t,n=Vt.propHooks[this.prop];return this.options.duration?this.pos=t=b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Vt.propHooks._default.set(this),this}},Vt.prototype.init.prototype=Vt.prototype,Vt.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=b.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[b.cssProps[e.prop]]||b.cssHooks[e.prop])?b.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Vt.propHooks.scrollTop=Vt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.each(["toggle","show","hide"],(function(e,t){var n=b.fn[t];b.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Yt(t,!0),e,r,i)}})),b.fn.extend({fadeTo:function(e,t,n,r){return this.filter(et).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=b.isEmptyObject(e),o=b.speed(t,n,r),a=function(){var t=Ut(this,b.extend({},e),o);(i||b._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,n=null!=e&&e+"queueHooks",o=b.timers,a=b._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Wt.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));!t&&r||b.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=b._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=b.timers,a=r?r.length:0;for(n.finish=!0,b.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),b.each({slideDown:Yt("show"),slideUp:Yt("hide"),slideToggle:Yt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){b.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),b.speed=function(e,t,n){var r=e&&"object"==typeof e?b.extend({},e):{complete:n||!n&&t||b.isFunction(e)&&e,duration:e,easing:n&&t||t&&!b.isFunction(t)&&t};return r.duration=b.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in b.fx.speeds?b.fx.speeds[r.duration]:b.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){b.isFunction(r.old)&&r.old.call(this),r.queue&&b.dequeue(this,r.queue)},r},b.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},b.timers=[],b.fx=Vt.prototype.init,b.fx.tick=function(){var e,n=b.timers,r=0;for(Ft=b.now();r<n.length;r++)(e=n[r])()||n[r]!==e||n.splice(r--,1);n.length||b.fx.stop(),Ft=t},b.fx.timer=function(e){e()&&b.timers.push(e)&&b.fx.start()},b.fx.interval=13,b.fx.start=function(){Bt||(Bt=setInterval(b.fx.tick,b.fx.interval))},b.fx.stop=function(){clearInterval(Bt),Bt=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fx.step={},b.expr&&b.expr.filters&&(b.expr.filters.animated=function(e){return b.grep(b.timers,(function(t){return e===t.elem})).length}),b.fn.offset=function(e){if(arguments.length)return e===t?this:this.each((function(t){b.offset.setOffset(this,e,t)}));var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;return s?(n=s.documentElement,b.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=Jt(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o):void 0},b.offset={setOffset:function(e,t,n){var r=b.css(e,"position");"static"===r&&(e.style.position="relative");var i,o,a=b(e),s=a.offset(),u=b.css(e,"top"),l=b.css(e,"left"),c={},f={};("absolute"===r||"fixed"===r)&&b.inArray("auto",[u,l])>-1?(i=(f=a.position()).top,o=f.left):(i=parseFloat(u)||0,o=parseFloat(l)||0),b.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(c.top=t.top-s.top+i),null!=t.left&&(c.left=t.left-s.left+o),"using"in t?t.using.call(e,c):a.css(c)}},b.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===b.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),b.nodeName(e[0],"html")||(n=e.offset()),n.top+=b.css(e[0],"borderTopWidth",!0),n.left+=b.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-b.css(r,"marginTop",!0),left:t.left-n.left-b.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||s;e&&!b.nodeName(e,"html")&&"static"===b.css(e,"position");)e=e.offsetParent;return e||s}))}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,n){var r=/Y/.test(n);b.fn[e]=function(i){return b.access(this,(function(e,i,o){var a=Jt(e);if(o===t)return a?n in a?a[n]:a.document.documentElement[i]:e[i];a?a.scrollTo(r?b(a).scrollLeft():o,r?o:b(a).scrollTop()):e[i]=o}),e,i,arguments.length,null)}})),b.each({Height:"height",Width:"width"},(function(e,n){b.each({padding:"inner"+e,content:n,"":"outer"+e},(function(r,i){b.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(!0===i||!0===o?"margin":"border");return b.access(this,(function(n,r,i){var o;return b.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?b.css(n,r,s):b.style(n,r,i,s)}),n,a?i:t,a,null)}}))})),b.fn.size=function(){return this.length},b.fn.andSelf=b.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=b:(e.jQuery=e.$=b,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return b})))}(window);
/* NUGET: BEGIN LICENSE TEXT
 *
 * Microsoft grants you the right to use these script files for the sole
 * purpose of either: (i) interacting through your browser with the Microsoft
 * website or online service, subject to the applicable licensing or use
 * terms; or (ii) using the files as included with a Microsoft product subject
 * to that product's license terms. Microsoft reserves all other rights to the
 * files not expressly granted by Microsoft, whether by implication, estoppel
 * or otherwise. Insofar as a script file is dual licensed under GPL,
 * Microsoft neither took the code under GPL nor distributes it thereunder but
 * under the terms set out in this paragraph. All notices and licenses
 * below are for informational purposes only.
 *
 * NUGET: END LICENSE TEXT */
/*! jQuery Validation Plugin - v1.11.1 - 3/22/2013\n* https://github.com/jzaefferer/jquery-validation
* Copyright (c) 2013 Jörn Zaefferer; Licensed MIT */(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."),void 0;var i=t.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(e.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(e.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(e){function s(){var s;return i.settings.submitHandler?(i.submitButton&&(s=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&s.remove(),!1):!0}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,s()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):s():(i.focusInvalid(),!1)})),i)},valid:function(){if(t(this[0]).is("form"))return this.validate().form();var e=!0,i=t(this[0].form).validate();return this.each(function(){e=e&&i.element(this)}),e},removeAttrs:function(e){var i={},s=this;return t.each(e.split(/\s/),function(t,e){i[e]=s.attr(e),s.removeAttr(e)}),i},rules:function(e,i){var s=this[0];if(e){var r=t.data(s.form,"validator").settings,n=r.rules,a=t.validator.staticRules(s);switch(e){case"add":t.extend(a,t.validator.normalizeRule(i)),delete a.messages,n[s.name]=a,i.messages&&(r.messages[s.name]=t.extend(r.messages[s.name],i.messages));break;case"remove":if(!i)return delete n[s.name],a;var u={};return t.each(i.split(/\s/),function(t,e){u[e]=a[e],delete a[e]}),u}}var o=t.validator.normalizeRules(t.extend({},t.validator.classRules(s),t.validator.attributeRules(s),t.validator.dataRules(s),t.validator.staticRules(s)),s);if(o.required){var l=o.required;delete o.required,o=t.extend({required:l},o)}return o}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(t)).hide())},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){(9!==e.which||""!==this.elementValue(t))&&(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(s):t(e).addClass(i).removeClass(s)},unhighlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(s):t(e).removeClass(i).addClass(s)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this[0].form,"validator"),s="on"+e.type.replace(/^validate/,"");i.settings[s]&&i.settings[s].call(i,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i=this.groups={};t.each(this.settings.groups,function(e,s){"string"==typeof s&&(s=s.split(/\s/)),t.each(s,function(t,s){i[s]=e})});var s=this.settings.rules;t.each(s,function(e,i){s[e]=t.validator.normalizeRule(i)}),t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",e).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){e=this.validationTargetFor(this.clean(e)),this.lastElement=e,this.prepareElement(e),this.currentElements=t(e);var i=this.check(e)!==!1;return i?delete this.invalid[e.name]:this.invalid[e.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e=0;for(var i in t)e++;return e},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!e.objectLength(t(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.replace(" ",".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i=t(e).attr("type"),s=t(e).val();return"radio"===i||"checkbox"===i?t("input[name='"+t(e).attr("name")+"']:checked").val():"string"==typeof s?s.replace(/\r/g,""):s},check:function(e){e=this.validationTargetFor(this.clean(e));var i,s=t(e).rules(),r=!1,n=this.elementValue(e);for(var a in s){var u={method:a,parameters:s[a]};try{if(i=t.validator.methods[a].call(this,n,e,u.parameters),"dependency-mismatch"===i){r=!0;continue}if(r=!1,"pending"===i)return this.toHide=this.toHide.not(this.errorsFor(e)),void 0;if(!i)return this.formatAndAdd(e,u),!1}catch(o){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+u.method+"' method.",o),o}}return r?void 0:(this.objectLength(s)&&this.successList.push(e),!0)},customDataMessage:function(e,i){return t(e).data("msg-"+i.toLowerCase())||e.attributes&&t(e).attr("data-msg-"+i.toLowerCase())},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;arguments.length>t;t++)if(void 0!==arguments[t])return arguments[t];return void 0},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customDataMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,i){var s=this.defaultMessage(e,i.method),r=/\$?\{(\d+)\}/g;"function"==typeof s?s=s.call(this,i.parameters,e):r.test(s)&&(s=t.validator.format(s.replace(r,"{$1}"),i.parameters)),this.errorList.push({message:s,element:e}),this.errorMap[e.name]=s,this.submitted[e.name]=s},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e;for(t=0;this.errorList[t];t++){var i=this.errorList[t];this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var s=this.errorsFor(e);s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(i)):(s=t("<"+this.settings.errorElement+">").attr("for",this.idOrName(e)).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(s=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(s).length||(this.settings.errorPlacement?this.settings.errorPlacement(s,t(e)):s.insertAfter(e))),!i&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,e)),this.toShow=this.toShow.add(s)},errorsFor:function(e){var i=this.idOrName(e);return this.errors().filter(function(){return t(this).attr("for")===i})},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,0>this.pendingRequest&&(this.pendingRequest=0),delete this.pending[e.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},s=t(e).attr("class");return s&&t.each(s.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},attributeRules:function(e){var i={},s=t(e),r=s[0].getAttribute("type");for(var n in t.validator.methods){var a;"required"===n?(a=s.get(0).getAttribute(n),""===a&&(a=!0),a=!!a):a=s.attr(n),/min|max/.test(n)&&(null===r||/number|range|text/.test(r))&&(a=Number(a)),a?i[n]=a:r===n&&"range"!==r&&(i[n]=!0)}return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(e){var i,s,r={},n=t(e);for(i in t.validator.methods)s=n.data("rule-"+i.toLowerCase()),void 0!==s&&(r[i]=s);return r},staticRules:function(e){var i={},s=t.data(e.form,"validator");return s.settings.rules&&(i=t.validator.normalizeRule(s.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(s,r){if(r===!1)return delete e[s],void 0;if(r.param||r.depends){var n=!0;switch(typeof r.depends){case"string":n=!!t(r.depends,i.form).length;break;case"function":n=r.depends.call(i,i)}n?e[s]=void 0!==r.param?r.param:!0:delete e[s]}}),t.each(e,function(s,r){e[s]=t.isFunction(r)?r(i):r}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,s){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==s?s:t.validator.messages[e],3>i.length&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,s){if(!this.depend(s,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var r=t(i).val();return r&&r.length>0}return this.checkable(i)?this.getLength(e,i)>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(""+new Date(t))},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i=0,s=0,r=!1;t=t.replace(/\D/g,"");for(var n=t.length-1;n>=0;n--){var a=t.charAt(n);s=parseInt(a,10),r&&(s*=2)>9&&(s-=9),i+=s,r=!r}return 0===i%10},minlength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||r>=s},maxlength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||s>=r},rangelength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||r>=s[0]&&s[1]>=r},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||i>=t},range:function(t,e,i){return this.optional(e)||t>=i[0]&&i[1]>=t},equalTo:function(e,i,s){var r=t(s);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(i).valid()}),e===r.val()},remote:function(e,i,s){if(this.optional(i))return"dependency-mismatch";var r=this.previousValue(i);if(this.settings.messages[i.name]||(this.settings.messages[i.name]={}),r.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=r.message,s="string"==typeof s&&{url:s}||s,r.old===e)return r.valid;r.old=e;var n=this;this.startRequest(i);var a={};return a[i.name]=e,t.ajax(t.extend(!0,{url:s,mode:"abort",port:"validate"+i.name,dataType:"json",data:a,success:function(s){n.settings.messages[i.name].remote=r.originalMessage;var a=s===!0||"true"===s;if(a){var u=n.formSubmitted;n.prepareElement(i),n.formSubmitted=u,n.successList.push(i),delete n.invalid[i.name],n.showErrors()}else{var o={},l=s||n.defaultMessage(i,"remote");o[i.name]=r.message=t.isFunction(l)?l(e):l,n.invalid[i.name]=!0,n.showErrors(o)}r.valid=a,n.stopRequest(i,a)}},s)),"pending"}}}),t.format=t.validator.format})(jQuery),function(t){var e={};if(t.ajaxPrefilter)t.ajaxPrefilter(function(t,i,s){var r=t.port;"abort"===t.mode&&(e[r]&&e[r].abort(),e[r]=s)});else{var i=t.ajax;t.ajax=function(s){var r=("mode"in s?s:t.ajaxSettings).mode,n=("port"in s?s:t.ajaxSettings).port;return"abort"===r?(e[n]&&e[n].abort(),e[n]=i.apply(this,arguments),e[n]):i.apply(this,arguments)}}}(jQuery),function(t){t.extend(t.fn,{validateDelegate:function(e,i,s){return this.bind(i,function(i){var r=t(i.target);return r.is(e)?s.apply(r,arguments):void 0})}})}(jQuery);
/* NUGET: BEGIN LICENSE TEXT
 *
 * Microsoft grants you the right to use these script files for the sole
 * purpose of either: (i) interacting through your browser with the Microsoft
 * website or online service, subject to the applicable licensing or use
 * terms; or (ii) using the files as included with a Microsoft product subject
 * to that product's license terms. Microsoft reserves all other rights to the
 * files not expressly granted by Microsoft, whether by implication, estoppel
 * or otherwise. Insofar as a script file is dual licensed under GPL,
 * Microsoft neither took the code under GPL nor distributes it thereunder but
 * under the terms set out in this paragraph. All notices and licenses
 * below are for informational purposes only.
 *
 * NUGET: END LICENSE TEXT */
/*
** Unobtrusive validation support library for jQuery and jQuery Validate
** Copyright (C) Microsoft Corporation. All rights reserved.
*/
(function(a){var d=a.validator,b,e="unobtrusiveValidation";function c(a,b,c){a.rules[b]=c;if(a.message)a.messages[b]=a.message}function j(a){return a.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}function f(a){return a.replace(/([!"#$%&'()*+,./:;<=>?@\[\\\]^`{|}~])/g,"\\$1")}function h(a){return a.substr(0,a.lastIndexOf(".")+1)}function g(a,b){if(a.indexOf("*.")===0)a=a.replace("*.",b);return a}function m(c,e){var b=a(this).find("[data-valmsg-for='"+f(e[0].name)+"']"),d=b.attr("data-valmsg-replace"),g=d?a.parseJSON(d)!==false:null;b.removeClass("field-validation-valid").addClass("field-validation-error");c.data("unobtrusiveContainer",b);if(g){b.empty();c.removeClass("input-validation-error").appendTo(b)}else c.hide()}function l(e,d){var c=a(this).find("[data-valmsg-summary=true]"),b=c.find("ul");if(b&&b.length&&d.errorList.length){b.empty();c.addClass("validation-summary-errors").removeClass("validation-summary-valid");a.each(d.errorList,function(){a("<li />").html(this.message).appendTo(b)})}}function k(d){var b=d.data("unobtrusiveContainer"),c=b.attr("data-valmsg-replace"),e=c?a.parseJSON(c):null;if(b){b.addClass("field-validation-valid").removeClass("field-validation-error");d.removeData("unobtrusiveContainer");e&&b.empty()}}function n(){var b=a(this),c="__jquery_unobtrusive_validation_form_reset";if(b.data(c))return;b.data(c,true);try{b.data("validator").resetForm()}finally{b.removeData(c)}b.find(".validation-summary-errors").addClass("validation-summary-valid").removeClass("validation-summary-errors");b.find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").removeData("unobtrusiveContainer").find(">*").removeData("unobtrusiveContainer")}function i(b){var c=a(b),f=c.data(e),i=a.proxy(n,b),g=d.unobtrusive.options||{},h=function(e,d){var c=g[e];c&&a.isFunction(c)&&c.apply(b,d)};if(!f){f={options:{errorClass:g.errorClass||"input-validation-error",errorElement:g.errorElement||"span",errorPlacement:function(){m.apply(b,arguments);h("errorPlacement",arguments)},invalidHandler:function(){l.apply(b,arguments);h("invalidHandler",arguments)},messages:{},rules:{},success:function(){k.apply(b,arguments);h("success",arguments)}},attachValidation:function(){c.off("reset."+e,i).on("reset."+e,i).validate(this.options)},validate:function(){c.validate();return c.valid()}};c.data(e,f)}return f}d.unobtrusive={adapters:[],parseElement:function(b,h){var d=a(b),f=d.parents("form")[0],c,e,g;if(!f)return;c=i(f);c.options.rules[b.name]=e={};c.options.messages[b.name]=g={};a.each(this.adapters,function(){var c="data-val-"+this.name,i=d.attr(c),h={};if(i!==undefined){c+="-";a.each(this.params,function(){h[this]=d.attr(c+this)});this.adapt({element:b,form:f,message:i,params:h,rules:e,messages:g})}});a.extend(e,{__dummy__:true});!h&&c.attachValidation()},parse:function(c){var b=a(c),e=b.parents().addBack().filter("form").add(b.find("form")).has("[data-val=true]");b.find("[data-val=true]").each(function(){d.unobtrusive.parseElement(this,true)});e.each(function(){var a=i(this);a&&a.attachValidation()})}};b=d.unobtrusive.adapters;b.add=function(c,a,b){if(!b){b=a;a=[]}this.push({name:c,params:a,adapt:b});return this};b.addBool=function(a,b){return this.add(a,function(d){c(d,b||a,true)})};b.addMinMax=function(e,g,f,a,d,b){return this.add(e,[d||"min",b||"max"],function(b){var e=b.params.min,d=b.params.max;if(e&&d)c(b,a,[e,d]);else if(e)c(b,g,e);else d&&c(b,f,d)})};b.addSingleVal=function(a,b,d){return this.add(a,[b||"val"],function(e){c(e,d||a,e.params[b])})};d.addMethod("__dummy__",function(){return true});d.addMethod("regex",function(b,c,d){var a;if(this.optional(c))return true;a=(new RegExp(d)).exec(b);return a&&a.index===0&&a[0].length===b.length});d.addMethod("nonalphamin",function(c,d,b){var a;if(b){a=c.match(/\W/g);a=a&&a.length>=b}return a});if(d.methods.extension){b.addSingleVal("accept","mimtype");b.addSingleVal("extension","extension")}else b.addSingleVal("extension","extension","accept");b.addSingleVal("regex","pattern");b.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url");b.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range");b.addMinMax("minlength","minlength").addMinMax("maxlength","minlength","maxlength");b.add("equalto",["other"],function(b){var i=h(b.element.name),j=b.params.other,d=g(j,i),e=a(b.form).find(":input").filter("[name='"+f(d)+"']")[0];c(b,"equalTo",e)});b.add("required",function(a){(a.element.tagName.toUpperCase()!=="INPUT"||a.element.type.toUpperCase()!=="CHECKBOX")&&c(a,"required",true)});b.add("remote",["url","type","additionalfields"],function(b){var d={url:b.params.url,type:b.params.type||"GET",data:{}},e=h(b.element.name);a.each(j(b.params.additionalfields||b.element.name),function(i,h){var c=g(h,e);d.data[c]=function(){var d=a(b.form).find(":input").filter("[name='"+f(c)+"']");return d.is(":checkbox")?d.filter(":checked").val()||d.filter(":hidden").val()||"":d.is(":radio")?d.filter(":checked").val()||"":d.val()}});c(b,"remote",d)});b.add("password",["min","nonalphamin","regex"],function(a){a.params.min&&c(a,"minlength",a.params.min);a.params.nonalphamin&&c(a,"nonalphamin",a.params.nonalphamin);a.params.regex&&c(a,"regex",a.params.regex)});a(function(){d.unobtrusive.parse(document)})})(jQuery);
/*! jQuery Validation Plugin - v1.11.0 - 2/4/2013
* https://github.com/jzaefferer/jquery-validation
* Copyright (c) 2013 Jörn Zaefferer; Licensed MIT */
(function(){function e(e){return e.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'"_+=\/\-]*/g,"")}jQuery.validator.addMethod("maxWords",function(t,n,r){return this.optional(n)||e(t).match(/\b\w+\b/g).length<=r},jQuery.validator.format("Please enter {0} words or less.")),jQuery.validator.addMethod("minWords",function(t,n,r){return this.optional(n)||e(t).match(/\b\w+\b/g).length>=r},jQuery.validator.format("Please enter at least {0} words.")),jQuery.validator.addMethod("rangeWords",function(t,n,r){var i=e(t),s=/\b\w+\b/g;return this.optional(n)||i.match(s).length>=r[0]&&i.match(s).length<=r[1]},jQuery.validator.format("Please enter between {0} and {1} words."))})(),jQuery.validator.addMethod("letterswithbasicpunc",function(e,t){return this.optional(t)||/^[a-z\-.,()'"\s]+$/i.test(e)},"Letters or punctuation only please"),jQuery.validator.addMethod("alphanumeric",function(e,t){return this.optional(t)||/^\w+$/i.test(e)},"Letters, numbers, and underscores only please"),jQuery.validator.addMethod("lettersonly",function(e,t){return this.optional(t)||/^[a-z]+$/i.test(e)},"Letters only please"),jQuery.validator.addMethod("nowhitespace",function(e,t){return this.optional(t)||/^\S+$/i.test(e)},"No white space please"),jQuery.validator.addMethod("ziprange",function(e,t){return this.optional(t)||/^90[2-5]\d\{2\}-\d{4}$/.test(e)},"Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx"),jQuery.validator.addMethod("zipcodeUS",function(e,t){return this.optional(t)||/\d{5}-\d{4}$|^\d{5}$/.test(e)},"The specified US ZIP Code is invalid"),jQuery.validator.addMethod("integer",function(e,t){return this.optional(t)||/^-?\d+$/.test(e)},"A positive or negative non-decimal number please"),jQuery.validator.addMethod("vinUS",function(e){if(e.length!==17)return!1;var t,n,r,i,s,o,u=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],a=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],f=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],l=0;for(t=0;t<17;t++){i=f[t],r=e.slice(t,t+1),t===8&&(o=r);if(!isNaN(r))r*=i;else for(n=0;n<u.length;n++)if(r.toUpperCase()===u[n]){r=a[n],r*=i,isNaN(o)&&n===8&&(o=u[n]);break}l+=r}return s=l%11,s===10&&(s="X"),s===o?!0:!1},"The specified vehicle identification number (VIN) is invalid."),jQuery.validator.addMethod("dateITA",function(e,t){var n=!1,r=/^\d{1,2}\/\d{1,2}\/\d{4}$/;if(r.test(e)){var i=e.split("/"),s=parseInt(i[0],10),o=parseInt(i[1],10),u=parseInt(i[2],10),a=new Date(u,o-1,s);a.getFullYear()===u&&a.getMonth()===o-1&&a.getDate()===s?n=!0:n=!1}else n=!1;return this.optional(t)||n},"Please enter a correct date"),jQuery.validator.addMethod("dateNL",function(e,t){return this.optional(t)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(e)},"Vul hier een geldige datum in."),jQuery.validator.addMethod("time",function(e,t){return this.optional(t)||/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/.test(e)},"Please enter a valid time, between 00:00 and 23:59"),jQuery.validator.addMethod("time12h",function(e,t){return this.optional(t)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}( ?[AP]M))$/i.test(e)},"Please enter a valid time in 12-hour format"),jQuery.validator.addMethod("phoneUS",function(e,t){return e=e.replace(/\s+/g,""),this.optional(t)||e.length>9&&e.match(/^(\+?1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number"),jQuery.validator.addMethod("phoneUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:(?:\d{5}\)?\s?\d{4,5})|(?:\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3}))|(?:\d{3}\)?\s?\d{3}\s?\d{3,4})|(?:\d{2}\)?\s?\d{4}\s?\d{4}))$/)},"Please specify a valid phone number"),jQuery.validator.addMethod("mobileUK",function(e,t){return e=e.replace(/\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[45789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),jQuery.validator.addMethod("phonesUK",function(e,t){return e=e.replace(/\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[45789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),jQuery.validator.addMethod("postcodeUK",function(e,t){return e=e.toUpperCase().replace(/\s+/g,""),this.optional(t)||e.match(/^([^QZ][^IJZ]{0,1}\d{1,2})(\d[^CIKMOV]{2})$/)||e.match(/^([^QV]\d[ABCDEFGHJKSTUW])(\d[^CIKMOV]{2})$/)||e.match(/^([^QV][^IJZ]\d[ABEHMNPRVWXY])(\d[^CIKMOV]{2})$/)||e.match(/^(GIR)(0AA)$/)||e.match(/^(BFPO)(\d{1,4})$/)||e.match(/^(BFPO)(C\/O\d{1,3})$/)},"Please specify a valid postcode"),jQuery.validator.addMethod("strippedminlength",function(e,t,n){return jQuery(e).text().length>=n},jQuery.validator.format("Please enter at least {0} characters")),jQuery.validator.addMethod("email2",function(e,t,n){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)},jQuery.validator.messages.email),jQuery.validator.addMethod("url2",function(e,t,n){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},jQuery.validator.messages.url),jQuery.validator.addMethod("creditcardtypes",function(e,t,n){if(/[^0-9\-]+/.test(e))return!1;e=e.replace(/\D/g,"");var r=0;return n.mastercard&&(r|=1),n.visa&&(r|=2),n.amex&&(r|=4),n.dinersclub&&(r|=8),n.enroute&&(r|=16),n.discover&&(r|=32),n.jcb&&(r|=64),n.unknown&&(r|=128),n.all&&(r=255),r&1&&/^(5[12345])/.test(e)?e.length===16:r&2&&/^(4)/.test(e)?e.length===16:r&4&&/^(3[47])/.test(e)?e.length===15:r&8&&/^(3(0[012345]|[68]))/.test(e)?e.length===14:r&16&&/^(2(014|149))/.test(e)?e.length===15:r&32&&/^(6011)/.test(e)?e.length===16:r&64&&/^(3)/.test(e)?e.length===16:r&64&&/^(2131|1800)/.test(e)?e.length===15:r&128?!0:!1},"Please enter a valid credit card number."),jQuery.validator.addMethod("ipv4",function(e,t,n){return this.optional(t)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)},"Please enter a valid IP v4 address."),jQuery.validator.addMethod("ipv6",function(e,t,n){return this.optional(t)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)},"Please enter a valid IP v6 address."),jQuery.validator.addMethod("pattern",function(e,t,n){return this.optional(t)?!0:(typeof n=="string"&&(n=new RegExp("^(?:"+n+")$")),n.test(e))},"Invalid format."),jQuery.validator.addMethod("require_from_group",function(e,t,n){var r=this,i=n[1],s=$(i,t.form).filter(function(){return r.elementValue(this)}).length>=n[0];if(!$(t).data("being_validated")){var o=$(i,t.form);o.data("being_validated",!0),o.valid(),o.data("being_validated",!1)}return s},jQuery.format("Please fill at least {0} of these fields.")),jQuery.validator.addMethod("skip_or_fill_minimum",function(e,t,n){var r=this,i=n[0],s=n[1],o=$(s,t.form).filter(function(){return r.elementValue(this)}).length,u=o>=i||o===0;if(!$(t).data("being_validated")){var a=$(s,t.form);a.data("being_validated",!0),a.valid(),a.data("being_validated",!1)}return u},jQuery.format("Please either skip these fields or fill at least {0} of them.")),jQuery.validator.addMethod("accept",function(e,t,n){var r=typeof n=="string"?n.replace(/\s/g,"").replace(/,/g,"|"):"image/*",i=this.optional(t),s,o;if(i)return i;if($(t).attr("type")==="file"){r=r.replace(/\*/g,".*");if(t.files&&t.files.length)for(s=0;s<t.files.length;s++){o=t.files[s];if(!o.type.match(new RegExp(".?("+r+")$","i")))return!1}}return!0},jQuery.format("Please enter a value with a valid mimetype.")),jQuery.validator.addMethod("extension",function(e,t,n){return n=typeof n=="string"?n.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||e.match(new RegExp(".("+n+")$","i"))},jQuery.format("Please enter a value with a valid extension."));
/*! jQuery UI - v1.12.1 - 2019-08-07
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, keycode.js, scroll-parent.js, unique-id.js, widgets/draggable.js, widgets/autocomplete.js, widgets/datepicker.js, widgets/menu.js, widgets/mouse.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}((function(t){t.ui=t.ui||{};t.ui.version="1.12.1";
/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */var e,i=0,s=Array.prototype.slice;t.cleanData=(e=t.cleanData,function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{(s=t._data(n,"events"))&&s.remove&&t(n).triggerHandler("remove")}catch(t){}e(i)}),t.widget=function(e,i,s){var n,a,o,r={},l=e.split(".")[0],h=l+"-"+(e=e.split(".")[1]);return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][h.toLowerCase()]=function(e){return!!t.data(e,h)},t[l]=t[l]||{},n=t[l][e],a=t[l][e]=function(t,e){if(!this._createWidget)return new a(t,e);arguments.length&&this._createWidget(t,e)},t.extend(a,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),(o=new i).options=t.widget.extend({},o.options),t.each(s,(function(e,s){t.isFunction(s)?r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,a=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=a,e}}():r[e]=s})),a.prototype=t.widget.extend(o,{widgetEventPrefix:n&&o.widgetEventPrefix||e},r,{constructor:a,namespace:l,widgetName:e,widgetFullName:h}),n?(t.each(n._childConstructors,(function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,a,i._proto)})),delete n._childConstructors):i._childConstructors.push(a),t.widget.bridge(e,a),a},t.widget.extend=function(e){for(var i,n,a=s.call(arguments,1),o=0,r=a.length;o<r;o++)for(i in a[o])n=a[o][i],a[o].hasOwnProperty(i)&&void 0!==n&&(t.isPlainObject(n)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):e[i]=n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(a){var o="string"==typeof a,r=s.call(arguments,1),l=this;return o?this.length||"instance"!==a?this.each((function(){var i,s=t.data(this,n);return"instance"===a?(l=s,!1):s?t.isFunction(s[a])&&"_"!==a.charAt(0)?(i=s[a].apply(s,r))!==s&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:t.error("no such method '"+a+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+a+"'")})):l=void 0:(r.length&&(a=t.widget.extend.apply(null,[a].concat(r))),this.each((function(){var e=t.data(this,n);e?(e.option(a||{}),e._init&&e._init()):t.data(this,n,new i(a,this))}))),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,(function(t,i){e._removeClass(i,t)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,a,o=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(o={},s=e.split("."),e=s.shift(),s.length){for(n=o[e]=t.widget.extend({},this.options[e]),a=0;a<s.length-1;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=i}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var i=[],s=this;function n(n,a){var o,r;for(r=0;r<n.length;r++)o=s.classesElementLookup[n[r]]||t(),o=e.add?t(t.unique(o.get().concat(e.element.get()))):t(o.not(e.element).get()),s.classesElementLookup[n[r]]=o,i.push(n[r]),a&&e.classes[n[r]]&&i.push(e.classes[n[r]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&n(e.keys.match(/\S+/g)||[],!0),e.extra&&n(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,(function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))}))},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,a={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return a.element.toggleClass(this._classes(a),s),this},_on:function(e,i,s){var n,a=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,(function(s,o){function r(){if(e||!0!==a.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof o?a[o]:o).apply(a,arguments)}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||t.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+a.eventNamespace,c=l[2];c?n.on(h,c,r):i.on(h,r)}))},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var i=this;return setTimeout((function(){return("string"==typeof t?i[t]:t).apply(i,arguments)}),e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,a,o=this.options[e];if(s=s||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(t.isFunction(o)&&!1===o.apply(this.element[0],[i].concat(s))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,i){t.Widget.prototype["_"+e]=function(s,n,a){var o;"string"==typeof n&&(n={effect:n});var r=n?!0===n||"number"==typeof n?i:n.effect||i:e;"number"==typeof(n=n||{})&&(n={duration:n}),o=!t.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,a):s.queue((function(i){t(this)[e](),a&&a.call(s[0]),i()}))}}));t.widget;
/*!
 * jQuery UI Position 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */!function(){var e,i=Math.max,s=Math.abs,n=/left|center|right/,a=/top|center|bottom/,o=/[\+\-]\d+(\.[\d]+)?%?/,r=/^\w+/,l=/%$/,h=t.fn.position;function c(t,e,i){return[parseFloat(t[0])*(l.test(t[0])?e/100:1),parseFloat(t[1])*(l.test(t[1])?i/100:1)]}function u(e,i){return parseInt(t.css(e,i),10)||0}function d(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.position={scrollbarWidth:function(){if(void 0!==e)return e;var i,s,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=n.children()[0];return t("body").append(n),i=a.offsetWidth,n.css("overflow","scroll"),i===(s=a.offsetWidth)&&(s=n[0].clientWidth),n.remove(),e=i-s},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth;return{width:"scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:!s&&!n?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return h.apply(this,arguments);e=t.extend({},e);var l,p,f,g,m,_,v=t(e.of),y=t.position.getWithinInfo(e.within),k=t.position.getScrollInfo(y),D=(e.collision||"flip").split(" "),b={};return _=d(v),v[0].preventDefault&&(e.at="left top"),p=_.width,f=_.height,g=_.offset,m=t.extend({},g),t.each(["my","at"],(function(){var t,i,s=(e[this]||"").split(" ");1===s.length&&(s=n.test(s[0])?s.concat(["center"]):a.test(s[0])?["center"].concat(s):["center","center"]),s[0]=n.test(s[0])?s[0]:"center",s[1]=a.test(s[1])?s[1]:"center",t=o.exec(s[0]),i=o.exec(s[1]),b[this]=[t?t[0]:0,i?i[0]:0],e[this]=[r.exec(s[0])[0],r.exec(s[1])[0]]})),1===D.length&&(D[1]=D[0]),"right"===e.at[0]?m.left+=p:"center"===e.at[0]&&(m.left+=p/2),"bottom"===e.at[1]?m.top+=f:"center"===e.at[1]&&(m.top+=f/2),l=c(b.at,p,f),m.left+=l[0],m.top+=l[1],this.each((function(){var n,a,o=t(this),r=o.outerWidth(),h=o.outerHeight(),d=u(this,"marginLeft"),_=u(this,"marginTop"),w=r+d+u(this,"marginRight")+k.width,M=h+_+u(this,"marginBottom")+k.height,x=t.extend({},m),C=c(b.my,o.outerWidth(),o.outerHeight());"right"===e.my[0]?x.left-=r:"center"===e.my[0]&&(x.left-=r/2),"bottom"===e.my[1]?x.top-=h:"center"===e.my[1]&&(x.top-=h/2),x.left+=C[0],x.top+=C[1],n={marginLeft:d,marginTop:_},t.each(["left","top"],(function(i,s){t.ui.position[D[i]]&&t.ui.position[D[i]][s](x,{targetWidth:p,targetHeight:f,elemWidth:r,elemHeight:h,collisionPosition:n,collisionWidth:w,collisionHeight:M,offset:[l[0]+C[0],l[1]+C[1]],my:e.my,at:e.at,within:y,elem:o})})),e.using&&(a=function(t){var n=g.left-x.left,a=n+p-r,l=g.top-x.top,c=l+f-h,u={target:{element:v,left:g.left,top:g.top,width:p,height:f},element:{element:o,left:x.left,top:x.top,width:r,height:h},horizontal:a<0?"left":n>0?"right":"center",vertical:c<0?"top":l>0?"bottom":"middle"};p<r&&s(n+a)<p&&(u.horizontal="center"),f<h&&s(l+c)<f&&(u.vertical="middle"),i(s(n),s(a))>i(s(l),s(c))?u.important="horizontal":u.important="vertical",e.using.call(this,t,u)}),o.offset(t.extend(x,{using:a}))}))},t.ui.position={fit:{left:function(t,e){var s,n=e.within,a=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,r=t.left-e.collisionPosition.marginLeft,l=a-r,h=r+e.collisionWidth-o-a;e.collisionWidth>o?l>0&&h<=0?(s=t.left+l+e.collisionWidth-o-a,t.left+=l-s):t.left=h>0&&l<=0?a:l>h?a+o-e.collisionWidth:a:l>0?t.left+=l:h>0?t.left-=h:t.left=i(t.left-r,t.left)},top:function(t,e){var s,n=e.within,a=n.isWindow?n.scrollTop:n.offset.top,o=e.within.height,r=t.top-e.collisionPosition.marginTop,l=a-r,h=r+e.collisionHeight-o-a;e.collisionHeight>o?l>0&&h<=0?(s=t.top+l+e.collisionHeight-o-a,t.top+=l-s):t.top=h>0&&l<=0?a:l>h?a+o-e.collisionHeight:a:l>0?t.top+=l:h>0?t.top-=h:t.top=i(t.top-r,t.top)}},flip:{left:function(t,e){var i,n,a=e.within,o=a.offset.left+a.scrollLeft,r=a.width,l=a.isWindow?a.scrollLeft:a.offset.left,h=t.left-e.collisionPosition.marginLeft,c=h-l,u=h+e.collisionWidth-r-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];c<0?((i=t.left+d+p+f+e.collisionWidth-r-o)<0||i<s(c))&&(t.left+=d+p+f):u>0&&((n=t.left-e.collisionPosition.marginLeft+d+p+f-l)>0||s(n)<u)&&(t.left+=d+p+f)},top:function(t,e){var i,n,a=e.within,o=a.offset.top+a.scrollTop,r=a.height,l=a.isWindow?a.scrollTop:a.offset.top,h=t.top-e.collisionPosition.marginTop,c=h-l,u=h+e.collisionHeight-r-l,d="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];c<0?((n=t.top+d+p+f+e.collisionHeight-r-o)<0||n<s(c))&&(t.top+=d+p+f):u>0&&((i=t.top-e.collisionPosition.marginTop+d+p+f-l)>0||s(i)<u)&&(t.top+=d+p+f)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}();t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo((function(e){return function(i){return!!t.data(i,e)}})):function(e,i,s){return!!t.data(e,s[3])}}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.fn.scrollParent=function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter((function(){var e=t(this);return(!s||"static"!==e.css("position"))&&n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))})).eq(0);return"fixed"!==i&&a.length?a:t(this[0].ownerDocument||document)},t.fn.extend({uniqueId:(n=0,function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++n)}))}),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")}))}}),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
/*!
 * jQuery UI :data 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */var n,a=!1;t(document).on("mouseup",(function(){a=!1}));t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,(function(t){return e._mouseDown(t)})).on("click."+this.widgetName,(function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!a){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(s&&!n&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){i.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),a=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,a=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,s){var n,a=t.ui[e].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,a=t.plugins[e];if(a&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;n<a.length;n++)t.options[a[n][0]]&&a[n][1].apply(t.element,i)}},t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")};
/*!
 * jQuery UI Draggable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map((function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===t(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(!1===this._trigger("drag",e,s))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==i._trigger("stop",e)&&i._clear()})):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,a=this.document[0];this.relativeContainer=null,n.containment?"window"!==n.containment?"document"!==n.containment?n.containment.constructor!==Array?("parent"===n.containment&&(n.containment=this.helper[0].parentNode),(s=(i=t(n.containment))[0])&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i)):this.containment=n.containment:this.containment=[0,0,t(a).width()-this.helperProportions.width-this.margins.left,(t(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,a,o=this.options,r=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,h=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a),"y"===o.axis&&(l=this.originalPageX),"x"===o.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each((function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))}))},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,(function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))}))},drag:function(e,i,s){t.each(s.sortables,(function(){var n=!1,a=this;a.positionAbs=s.positionAbs,a.helperProportions=s.helperProportions,a.offset.click=s.offset.click,a._intersectsWith(a.containerCache)&&(n=!0,t.each(s.sortables,(function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&t.contains(a.element[0],this.element[0])&&(n=!1),n}))),n?(a.isOver||(a.isOver=1,s._parent=i.helper.parent(),a.currentItem=i.helper.appendTo(a.element).data("ui-sortable-item",!0),a.options._helper=a.options.helper,a.options.helper=function(){return i.helper[0]},e.target=a.currentItem[0],a._mouseCapture(e,!0),a._mouseStart(e,!0,!0),a.offset.click.top=s.offset.click.top,a.offset.click.left=s.offset.click.left,a.offset.parent.left-=s.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=s.offset.parent.top-a.offset.parent.top,s._trigger("toSortable",e),s.dropped=a.element,t.each(s.sortables,(function(){this.refreshPositions()})),s.currentItem=s.element,a.fromOutside=s),a.currentItem&&(a._mouseDrag(e),i.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger("out",e,a._uiHash(a)),a._mouseStop(e,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,(function(){this.refreshPositions()})))}))}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),a=s.options;n.css("cursor")&&(a._cursor=n.css("cursor")),n.css("cursor",a.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),a=s.options;n.css("opacity")&&(a._opacity=n.css("opacity")),n.css("opacity",a.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,a=!1,o=s.scrollParentNotHidden[0],r=s.document[0];o!==r&&"HTML"!==o.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+o.offsetHeight-e.pageY<n.scrollSensitivity?o.scrollTop=a=o.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+o.offsetWidth-e.pageX<n.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?a=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(a=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?a=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(a=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),!1!==a&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each((function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})}))},drag:function(e,i,s){var n,a,o,r,l,h,c,u,d,p,f=s.options,g=f.snapTolerance,m=i.offset.left,_=m+s.helperProportions.width,v=i.offset.top,y=v+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)h=(l=s.snapElements[d].left-s.margins.left)+s.snapElements[d].width,u=(c=s.snapElements[d].top-s.margins.top)+s.snapElements[d].height,_<l-g||m>h+g||y<c-g||v>u+g||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=Math.abs(c-y)<=g,a=Math.abs(u-v)<=g,o=Math.abs(l-_)<=g,r=Math.abs(h-m)<=g,n&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left)),p=n||a||o||r,"outer"!==f.snapMode&&(n=Math.abs(c-v)<=g,a=Math.abs(u-y)<=g,o=Math.abs(l-m)<=g,r=Math.abs(h-_)<=g,n&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||a||o||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||a||o||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,a=s.options,o=t.makeArray(t(a.stack)).sort((function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)}));o.length&&(n=parseInt(t(o[0]).css("zIndex"),10)||0,t(o).each((function(e){t(this).css("zIndex",n+e)})),this.css("zIndex",n+o.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),a=s.options;n.css("zIndex")&&(a._zIndex=n.css("zIndex")),n.css("zIndex",a.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}});t.ui.draggable,t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),s=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&s.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),s=t(e.currentTarget);i[0]===s[0]&&(this._removeClass(s.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,s))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay((function(){!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]))&&this.collapseAll(e)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each((function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()}))},_keydown:function(e){var i,s,n,a,o=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:o=!1,s=this.previousFilter||"",a=!1,n=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),n===s?a=!0:n=s+n,i=this._filterMenuItems(n),(i=a&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter}o&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,s,n,a=this,o=this.options.icons.submenu,r=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),i=r.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var e=t(this),i=e.prev(),s=t("<span>").data("ui-menu-submenu-caret",!0);a._addClass(s,"ui-menu-icon","ui-icon "+o),i.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",i.attr("id"))})),this._addClass(i,"ui-menu","ui-widget ui-widget-content ui-front"),(e=r.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var e=t(this);a._isDivider(e)&&a._addClass(e,"ui-menu-divider","ui-widget-content")})),n=(s=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(s,"ui-menu-item")._addClass(n,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,s,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(i=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=e.outerHeight(),n<0?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(t)}),this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay((function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this._removeClass(s.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=s}),this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay((function(){this.focus(t,e)})))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;this.active?this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return(i=t(this)).offset().top-s-n<0})),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var i,s,n;this.active?this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(i=t(this)).offset().top-s+n>0})),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter((function(){return s.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))}))}});
/*!
 * jQuery UI Menu 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
/*!
 * jQuery UI Autocomplete 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),a="textarea"===n,o="input"===n;this.isMultiLine=a||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,void(i=!0);e=!1,s=!1,i=!1;var a=t.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:e=!0,this._move("previousPage",n);break;case a.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case a.UP:e=!0,this._keyEvent("previous",n);break;case a.DOWN:e=!0,this._keyEvent("next",n);break;case a.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||s.preventDefault());if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){if(s)return s=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")}))},menufocus:function(e,i){var s,n;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){t(e.target).trigger(e.originalEvent)}));n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),(s=i.item.attr("aria-label")||n.value)&&t.trim(s).length&&(this.liveRegion.children().hide(),t("<div>").text(s).appendTo(this.liveRegion))},menuselect:function(e,i){var s=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay((function(){this.previous=n,this.selectedItem=s}))),!1!==this._trigger("select",e,{item:s})&&this._value(s.value),this.term=this._value(),this.close(e),this.selectedItem=s}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay((function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;e&&(!e||i||s)||(this.selectedItem=null,this.search(null,t))}),this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy((function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}),this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,(function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})}))},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,(function(t,i){s._renderItemData(e,i)}))},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,(function(t){return s.test(t.label||t.value||t)}))}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}});var o;
/*!
 * jQuery UI Datepicker 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.ui.autocomplete;function r(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=l(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function l(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,(function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")})).on("mouseover",i,h)}function h(){t.datepicker._isDisabledDatepicker(o.inline?o.dpDiv.parent()[0]:o.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function c(e,i){for(var s in t.extend(e,i),i)null==i[s]&&(e[s]=i[s]);return e}t.extend(t.ui,{datepicker:{version:"1.12.1"}}),t.extend(r.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return c(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,a;n="div"===(s=e.nodeName.toLowerCase())||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(a=this._newInst(t(e),n)).settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,a):n&&this._inlineDatepicker(e,a)},_newInst:function(e,i){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?l(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,a,o=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=t("<span class='"+this._appendClass+"'>"+o+"</span>"),e[r?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),"focus"!==(s=this._get(i,"showOn"))&&"both"!==s||e.on("focus",this._showDatepicker),"button"!==s&&"both"!==s||(n=this._get(i,"buttonText"),a=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:a,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(a?t("<img/>").attr({src:a,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.on("click",(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1})))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,a=new Date(2009,11,20),o=this._get(t,"dateFormat");o.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;n<t.length;n++)t[n].length>i&&(i=t[n].length,s=n);return s},a.setMonth(e(this._get(t,o.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(e(this._get(t,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),t.input.attr("size",this._formatDate(t,a).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,n,a){var o,r,l,h,u,d=this._dialogInst;return d||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),(d=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",d)),c(d.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(r=document.documentElement.clientWidth,l=document.documentElement.clientHeight,h=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[r/2-100+h,l/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||s.removeClass(this.markerClassName).empty(),o===n&&(o=null))},_enableDatepicker:function(e){var i,s,n=t(e),a=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!1,a.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||((s=n.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,(function(t){return t===e?null:t})))},_disableDatepicker:function(e){var i,s,n=t(e),a=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!0,a.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||((s=n.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,(function(t){return t===e?null:t})),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,s){var n,a,o,r,l=this._getInst(e);if(2===arguments.length&&"string"==typeof i)return"defaults"===i?t.extend({},t.datepicker._defaults):l?"all"===i?t.extend({},l.settings):this._get(l,i):null;n=i||{},"string"==typeof i&&((n={})[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),a=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(l,"min"),r=this._getMinMaxDate(l,"max"),c(l.settings,n),null!==o&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,o)),null!==r&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,r)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,a),this._updateAlternate(l),this._updateDatepicker(l))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,a=t.datepicker._getInst(e.target),o=!0,r=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),o=!1;break;case 13:return(n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",a.dpDiv))[0]&&t.datepicker._selectDay(e.target,a.selectedMonth,a.selectedYear,n[0]),(i=t.datepicker._get(a,"onSelect"))?(s=t.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[s,a])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(a,"stepBigMonths"):-t.datepicker._get(a,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(a,"stepBigMonths"):+t.datepicker._get(a,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(a,"stepBigMonths"):-t.datepicker._get(a,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(a,"stepBigMonths"):+t.datepicker._get(a,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,s,n=t.datepicker._getInst(e.target);if(t.datepicker._get(n,"constrainInput"))return i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||s<" "||!i||i.indexOf(s)>-1},_doKeyUp:function(e){var i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i))&&(t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i))}catch(t){}return!0},_showDatepicker:function(e){var i,s,n,a,o,r,l;("input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e)||(i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),!1!==(n=(s=t.datepicker._get(i,"beforeShow"))?s.apply(e,[e,i]):{})&&(c(i.settings,n),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),a=!1,t(e).parents().each((function(){return!(a|="fixed"===t(this).css("position"))})),o={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),o=t.datepicker._checkOffset(i,o,a),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),i.inline||(r=t.datepicker._get(i,"showAnim"),l=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",function(t){for(var e,i;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[r]?i.dpDiv.show(r,t.datepicker._get(i,"showOptions"),l):i.dpDiv[r||"show"](r?l:null),t.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),t.datepicker._curInst=i)))},_updateDatepicker:function(e){this.maxRows=4,o=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,s=this._getNumberOfMonths(e),n=s[1],a=e.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&h.apply(a.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",17*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout((function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null}),0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),a=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),h=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-o:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>l&&l>n?Math.abs(i.left+n-l):0),i.top-=Math.min(i.top,i.top+a>h&&h>a?Math.abs(a+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return[(i=t(e).offset()).left,i.top]},_hideDatepicker:function(e){var i,s,n,a,o=this._curInst;!o||e&&o!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),s=this._get(o,"duration"),n=function(){t.datepicker._tidyDialog(o)},t.effects&&(t.effects.effect[i]||t.effects[i])?o.dpDiv.hide(i,t.datepicker._get(o,"showOptions"),s,n):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,(a=this._get(o,"onClose"))&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id===t.datepicker._mainDivId||0!==i.parents("#"+t.datepicker._mainDivId).length||i.hasClass(t.datepicker.markerClassName)||i.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!i.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===s)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),a=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(a,i+("M"===s?this._get(a,"showCurrentAtPos"):0),s),this._updateDatepicker(a))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),a=this._getInst(n[0]);a["selected"+("M"===s?"Month":"Year")]=a["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(n)},_selectDay:function(e,i,s,n){var a,o=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((a=this._getInst(o[0])).selectedDay=a.currentDay=t("a",n).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=s,this._selectDate(e,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),a=this._getInst(n[0]);i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),(s=this._get(a,"onSelect"))?s.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,a=this._get(e,"altField");a&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(a).val(n))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,s){if(null==e||null==i)throw"Invalid arguments";if(""===(i="object"==typeof i?i.toString():i+""))return null;var n,a,o,r,l=0,h=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),u=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,_=-1,v=-1,y=!1,k=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},D=function(t){var e=k(t),s="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n=new RegExp("^\\d{"+("y"===t?s:1)+","+s+"}"),a=i.substring(l).match(n);if(!a)throw"Missing number at position "+l;return l+=a[0].length,parseInt(a[0],10)},b=function(e,s,n){var a=-1,o=t.map(k(e)?n:s,(function(t,e){return[[e,t]]})).sort((function(t,e){return-(t[1].length-e[1].length)}));if(t.each(o,(function(t,e){var s=e[1];if(i.substr(l,s.length).toLowerCase()===s.toLowerCase())return a=e[0],l+=s.length,!1})),-1!==a)return a+1;throw"Unknown name at position "+l},w=function(){if(i.charAt(l)!==e.charAt(n))throw"Unexpected literal at position "+l;l++};for(n=0;n<e.length;n++)if(y)"'"!==e.charAt(n)||k("'")?w():y=!1;else switch(e.charAt(n)){case"d":_=D("d");break;case"D":b("D",u,d);break;case"o":v=D("o");break;case"m":m=D("m");break;case"M":m=b("M",p,f);break;case"y":g=D("y");break;case"@":g=(r=new Date(D("@"))).getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"!":g=(r=new Date((D("!")-this._ticksTo1970)/1e4)).getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"'":k("'")?w():y=!0;break;default:w()}if(l<i.length&&(o=i.substr(l),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=c?0:-100)),v>-1)for(m=1,_=v;;){if(_<=(a=this._getDaysInMonth(g,m-1)))break;m++,_-=a}if((r=this._daylightSavingAdjust(new Date(g,m-1,_))).getFullYear()!==g||r.getMonth()+1!==m||r.getDate()!==_)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=s+1<t.length&&t.charAt(s+1)===e;return i&&s++,i},h=function(t,e,i){var s=""+e;if(l(t))for(;s.length<i;)s="0"+s;return s},c=function(t,e,i,s){return l(t)?s[e]:i[e]},u="",d=!1;if(e)for(s=0;s<t.length;s++)if(d)"'"!==t.charAt(s)||l("'")?u+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":u+=h("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),n,a);break;case"o":u+=h("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=h("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),o,r);break;case"y":u+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":d=!0;break;default:u+=t.charAt(s)}return u},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=e+1<t.length&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;e<t.length;e++)if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),a=n,o=this._getFormatConfig(t);try{a=this.parseDate(i,s,o)||n}catch(t){s=e?"":s}t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),t.currentDay=s?a.getDate():0,t.currentMonth=s?a.getMonth():0,t.currentYear=s?a.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var n=null==i||""===i?s:"string"==typeof i?function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(t){}for(var s=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,n=s.getFullYear(),a=s.getMonth(),o=s.getDate(),r=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=r.exec(i);l;){switch(l[2]||"d"){case"d":case"D":o+=parseInt(l[1],10);break;case"w":case"W":o+=7*parseInt(l[1],10);break;case"m":case"M":a+=parseInt(l[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(n,a));break;case"y":case"Y":n+=parseInt(l[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(n,a))}l=r.exec(i)}return new Date(n,a,o)}(i):"number"==typeof i?isNaN(i)?s:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(i):new Date(i.getTime());return(n=n&&"Invalid Date"===n.toString()?s:n)&&(n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),this._daylightSavingAdjust(n)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,a=t.selectedYear,o=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=o.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=o.getMonth(),t.drawYear=t.selectedYear=t.currentYear=o.getFullYear(),n===t.selectedMonth&&a===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map((function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])}))},_generateHTML:function(t){var e,i,s,n,a,o,r,l,h,c,u,d,p,f,g,m,_,v,y,k,D,b,w,M,x,C,I,T,P,N,S,A,E,F,O,Y,W,H,L,R=new Date,j=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),K=this._get(t,"isRTL"),U=this._get(t,"showButtonPanel"),z=this._get(t,"hideIfNoPrevNext"),B=this._get(t,"navigationAsDateFormat"),q=this._getNumberOfMonths(t),X=this._get(t,"showCurrentAtPos"),G=this._get(t,"stepMonths"),$=1!==q[0]||1!==q[1],V=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),Z=t.drawMonth-X,tt=t.drawYear;if(Z<0&&(Z+=12,tt--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-q[0]*q[1]+1,Q.getDate())),e=J&&e<J?J:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)--Z<0&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,i=this._get(t,"prevText"),i=B?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,Z-G,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(K?"e":"w")+"'>"+i+"</span></a>":z?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(K?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=B?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Z+G,1)),this._getFormatConfig(t)):n,a=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(K?"w":"e")+"'>"+n+"</span></a>":z?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(K?"w":"e")+"'>"+n+"</span></a>",o=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?V:j,o=B?this.formatDate(o,r,this._getFormatConfig(t)):o,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",h=U?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(K?l:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(K?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),_=this._get(t,"showOtherMonths"),v=this._get(t,"selectOtherMonths"),y=this._getDefaultDate(t),k="",b=0;b<q[0];b++){for(w="",this.maxRows=4,M=0;M<q[1];M++){if(x=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),C=" ui-corner-all",I="",$){if(I+="<div class='ui-datepicker-group",q[1]>1)switch(M){case 0:I+=" ui-datepicker-group-first",C=" ui-corner-"+(K?"right":"left");break;case q[1]-1:I+=" ui-datepicker-group-last",C=" ui-corner-"+(K?"left":"right");break;default:I+=" ui-datepicker-group-middle",C=""}I+="'>"}for(I+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&0===b?K?a:s:"")+(/all|right/.test(C)&&0===b?K?s:a:"")+this._generateMonthYearHeader(t,Z,tt,J,Q,b>0||M>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",D=0;D<7;D++)T+="<th scope='col'"+((D+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[P=(D+c)%7]+"'>"+p[P]+"</span></th>";for(I+=T+"</tr></thead><tbody>",N=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,N)),S=(this._getFirstDayOfMonth(tt,Z)-c+7)%7,A=Math.ceil((S+N)/7),E=$&&this.maxRows>A?this.maxRows:A,this.maxRows=E,F=this._daylightSavingAdjust(new Date(tt,Z,1-S)),O=0;O<E;O++){for(I+="<tr>",Y=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(F)+"</td>":"",D=0;D<7;D++)W=m?m.apply(t.input?t.input[0]:null,[F]):[!0,""],L=(H=F.getMonth()!==Z)&&!v||!W[0]||J&&F<J||Q&&F>Q,Y+="<td class='"+((D+c+6)%7>=5?" ui-datepicker-week-end":"")+(H?" ui-datepicker-other-month":"")+(F.getTime()===x.getTime()&&Z===t.selectedMonth&&t._keyEvent||y.getTime()===F.getTime()&&y.getTime()===x.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(H&&!_?"":" "+W[1]+(F.getTime()===V.getTime()?" "+this._currentClass:"")+(F.getTime()===j.getTime()?" ui-datepicker-today":""))+"'"+(H&&!_||!W[2]?"":" title='"+W[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+F.getMonth()+"' data-year='"+F.getFullYear()+"'")+">"+(H&&!_?"&#xa0;":L?"<span class='ui-state-default'>"+F.getDate()+"</span>":"<a class='ui-state-default"+(F.getTime()===j.getTime()?" ui-state-highlight":"")+(F.getTime()===V.getTime()?" ui-state-active":"")+(H?" ui-priority-secondary":"")+"' href='#'>"+F.getDate()+"</a>")+"</td>",F.setDate(F.getDate()+1),F=this._daylightSavingAdjust(F);I+=Y+"</tr>"}++Z>11&&(Z=0,tt++),w+=I+="</tbody></table>"+($?"</div>"+(q[0]>0&&M===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}k+=w}return k+=h,t._keyEvent=!1,k},_generateMonthYearHeader:function(t,e,i,s,n,a,o,r){var l,h,c,u,d,p,f,g,m=this._get(t,"changeMonth"),_=this._get(t,"changeYear"),v=this._get(t,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",k="";if(a||!m)k+="<span class='ui-datepicker-month'>"+o[e]+"</span>";else{for(l=s&&s.getFullYear()===i,h=n&&n.getFullYear()===i,k+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=s.getMonth())&&(!h||c<=n.getMonth())&&(k+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");k+="</select>"}if(v||(y+=k+(!a&&m&&_?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",a||!_)y+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),f=(p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e})(u[0]),g=Math.max(f,p(u[1]||"")),f=s?Math.max(f,s.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=g;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",y+=t.yearshtml,t.yearshtml=null}return y+=this._get(t,"yearSuffix"),v&&(y+=(!a&&m&&_?"":"&#xa0;")+k),y+="</div>"},_adjustInstDate:function(t,e,i){var s=t.selectedYear+("Y"===i?e:0),n=t.selectedMonth+("M"===i?e:0),a=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),o=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,a)));t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&e<i?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),a=this._daylightSavingAdjust(new Date(i,s+(e<0?e:n[0]*n[1]),1));return e<0&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(t,a)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),a=this._getMinMaxDate(t,"max"),o=null,r=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),s=(new Date).getFullYear(),o=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!a||e.getTime()<=a.getTime())&&(!o||e.getFullYear()>=o)&&(!r||e.getFullYear()<=r)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each((function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)})):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new r,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1";t.datepicker}));
/*!
 * @fileOverview TouchSwipe - jQuery Plugin
 * @version 1.6.18
 *
 * @author Matt Bryson http://www.github.com/mattbryson
 * @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
 * @see http://labs.rampinteractive.co.uk/touchSwipe/
 * @see http://plugins.jquery.com/project/touchSwipe
 * @license
 * Copyright (c) 2010-2015 Matt Bryson
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */
!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):"undefined"!=typeof module&&module.exports?e(require("jquery")):e(jQuery)}((function(e){"use strict";var n="left",t="right",i="up",r="down",l="in",o="out",a="none",u="auto",s="swipe",c="pinch",p="tap",h="doubletap",f="longtap",d="horizontal",g="vertical",w="all",v="start",T="move",b="end",y="cancel",E="ontouchstart"in window,m=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!E,S=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!E,x="TouchSwipe";function O(n){return!n||void 0!==n.allowPageScroll||void 0===n.swipe&&void 0===n.swipeStatus||(n.allowPageScroll=a),void 0!==n.click&&void 0===n.tap&&(n.tap=n.click),n||(n={}),n=e.extend({},e.fn.swipe.defaults,n),this.each((function(){var t=e(this),i=t.data(x);i||(i=new M(this,n),t.data(x,i))}))}function M(O,M){M=e.extend({},M);var D=E||S||!M.fallbackToMouseEvents,P=D?S?m?"MSPointerDown":"pointerdown":"touchstart":"mousedown",L=D?S?m?"MSPointerMove":"pointermove":"touchmove":"mousemove",R=D?S?m?"MSPointerUp":"pointerup":"touchend":"mouseup",k=D?S?"mouseleave":null:"mouseleave",A=S?m?"MSPointerCancel":"pointercancel":"touchcancel",I=0,U=null,j=null,N=0,H=0,_=0,q=1,Q=0,C=0,F=null,X=e(O),Y="start",V=0,W={},z=0,G=0,Z=0,B=0,J=0,K=null,$=null;try{X.bind(P,ee),X.bind(A,ie)}catch(n){e.error("events not supported "+P+","+A+" on jQuery.swipe")}function ee(l){if(!0!==X.data("TouchSwipe_intouch")&&!(e(l.target).closest(M.excludedElements,X).length>0)){var o=l.originalEvent?l.originalEvent:l;if(!o.pointerType||"mouse"!=o.pointerType||0!=M.fallbackToMouseEvents){var a,u,s=o.touches,c=s?s[0]:o;return Y=v,s?V=s.length:!1!==M.preventDefaultEvents&&l.preventDefault(),I=0,U=null,j=null,C=null,N=0,H=0,_=0,q=1,Q=0,(u={}).left=De(n),u.right=De(t),u.up=De(i),u.down=De(r),F=u,Ee(),xe(0,c),!s||V===M.fingers||M.fingers===w||fe()?(z=ke(),2==V&&(xe(1,s[1]),H=_=Le(W[0].start,W[1].start)),(M.swipeStatus||M.pinchStatus)&&(a=ae(o,Y))):a=!1,!1===a?(ae(o,Y=y),a):(M.hold&&($=setTimeout(e.proxy((function(){X.trigger("hold",[o.target]),M.hold&&(a=M.hold.call(X,o,o.target))}),this),M.longTapThreshold)),Se(!0),null)}}}function ne(s){var c=s.originalEvent?s.originalEvent:s;if(Y!==b&&Y!==y&&!me()){var p,h,f,v,E,m=c.touches,S=Oe(m?m[0]:c);if(G=ke(),m&&(V=m.length),M.hold&&clearTimeout($),Y=T,2==V&&(0==H?(xe(1,m[1]),H=_=Le(W[0].start,W[1].start)):(Oe(m[1]),_=Le(W[0].end,W[1].end),W[0].end,W[1].end,C=q<1?o:l),q=(_/H*1).toFixed(2),Q=Math.abs(H-_)),V===M.fingers||M.fingers===w||!m||fe()){if(U=Re(S.start,S.end),function(e,l){if(!1===M.preventDefaultEvents)return;if(M.allowPageScroll===a)e.preventDefault();else{var o=M.allowPageScroll===u;switch(l){case n:(M.swipeLeft&&o||!o&&M.allowPageScroll!=d)&&e.preventDefault();break;case t:(M.swipeRight&&o||!o&&M.allowPageScroll!=d)&&e.preventDefault();break;case i:(M.swipeUp&&o||!o&&M.allowPageScroll!=g)&&e.preventDefault();break;case r:(M.swipeDown&&o||!o&&M.allowPageScroll!=g)&&e.preventDefault()}}}(s,j=Re(S.last,S.end)),v=S.start,E=S.end,I=Math.round(Math.sqrt(Math.pow(E.x-v.x,2)+Math.pow(E.y-v.y,2))),N=Pe(),function(e,n){if(e==a)return;n=Math.max(n,Me(e)),F[e].distance=n}(U,I),p=ae(c,Y),!M.triggerOnTouchEnd||M.triggerOnTouchLeave){var x=!0;if(M.triggerOnTouchLeave){var O={left:(f=(h=e(h=this)).offset()).left,right:f.left+h.outerWidth(),top:f.top,bottom:f.top+h.outerHeight()};x=function(e,n){return e.x>n.left&&e.x<n.right&&e.y>n.top&&e.y<n.bottom}(S.end,O)}!M.triggerOnTouchEnd&&x?Y=oe(T):M.triggerOnTouchLeave&&!x&&(Y=oe(b)),Y!=y&&Y!=b||ae(c,Y)}}else ae(c,Y=y);!1===p&&ae(c,Y=y)}}function te(e){var n=e.originalEvent?e.originalEvent:e,t=n.touches;if(t){if(t.length&&!me())return function(e){Z=ke(),B=e.touches.length+1}(n),!0;if(t.length&&me())return!0}return me()&&(V=B),G=ke(),N=Pe(),ce()||!se()?ae(n,Y=y):M.triggerOnTouchEnd||!1===M.triggerOnTouchEnd&&Y===T?(!1!==M.preventDefaultEvents&&e.preventDefault(),ae(n,Y=b)):!M.triggerOnTouchEnd&&Te()?ue(n,Y=b,p):Y===T&&ae(n,Y=y),Se(!1),null}function ie(){V=0,G=0,z=0,H=0,_=0,q=1,Ee(),Se(!1)}function re(e){var n=e.originalEvent?e.originalEvent:e;M.triggerOnTouchLeave&&ae(n,Y=oe(b))}function le(){X.unbind(P,ee),X.unbind(A,ie),X.unbind(L,ne),X.unbind(R,te),k&&X.unbind(k,re),Se(!1)}function oe(e){var n=e,t=pe(),i=se(),r=ce();return!t||r?n=y:!i||e!=T||M.triggerOnTouchEnd&&!M.triggerOnTouchLeave?!i&&e==b&&M.triggerOnTouchLeave&&(n=y):n=b,n}function ae(e,n){var t,i=e.touches;return(de()&&ge()||ge())&&(t=ue(e,n,s)),(he()&&fe()||fe())&&!1!==t&&(t=ue(e,n,c)),ye()&&be()&&!1!==t?t=ue(e,n,h):N>M.longTapThreshold&&I<10&&M.longTap&&!1!==t?t=ue(e,n,f):1!==V&&E||!(isNaN(I)||I<M.threshold)||!Te()||!1===t||(t=ue(e,n,p)),n===y&&ie(),n===b&&(i&&i.length||ie()),t}function ue(a,u,d){var g;if(d==s){if(X.trigger("swipeStatus",[u,U||null,I||0,N||0,V,W,j]),M.swipeStatus&&!1===(g=M.swipeStatus.call(X,a,u,U||null,I||0,N||0,V,W,j)))return!1;if(u==b&&de()){if(clearTimeout(K),clearTimeout($),X.trigger("swipe",[U,I,N,V,W,j]),M.swipe&&!1===(g=M.swipe.call(X,a,U,I,N,V,W,j)))return!1;switch(U){case n:X.trigger("swipeLeft",[U,I,N,V,W,j]),M.swipeLeft&&(g=M.swipeLeft.call(X,a,U,I,N,V,W,j));break;case t:X.trigger("swipeRight",[U,I,N,V,W,j]),M.swipeRight&&(g=M.swipeRight.call(X,a,U,I,N,V,W,j));break;case i:X.trigger("swipeUp",[U,I,N,V,W,j]),M.swipeUp&&(g=M.swipeUp.call(X,a,U,I,N,V,W,j));break;case r:X.trigger("swipeDown",[U,I,N,V,W,j]),M.swipeDown&&(g=M.swipeDown.call(X,a,U,I,N,V,W,j))}}}if(d==c){if(X.trigger("pinchStatus",[u,C||null,Q||0,N||0,V,q,W]),M.pinchStatus&&!1===(g=M.pinchStatus.call(X,a,u,C||null,Q||0,N||0,V,q,W)))return!1;if(u==b&&he())switch(C){case l:X.trigger("pinchIn",[C||null,Q||0,N||0,V,q,W]),M.pinchIn&&(g=M.pinchIn.call(X,a,C||null,Q||0,N||0,V,q,W));break;case o:X.trigger("pinchOut",[C||null,Q||0,N||0,V,q,W]),M.pinchOut&&(g=M.pinchOut.call(X,a,C||null,Q||0,N||0,V,q,W))}}return d==p?u!==y&&u!==b||(clearTimeout(K),clearTimeout($),be()&&!ye()?(J=ke(),K=setTimeout(e.proxy((function(){J=null,X.trigger("tap",[a.target]),M.tap&&(g=M.tap.call(X,a,a.target))}),this),M.doubleTapThreshold)):(J=null,X.trigger("tap",[a.target]),M.tap&&(g=M.tap.call(X,a,a.target)))):d==h?u!==y&&u!==b||(clearTimeout(K),clearTimeout($),J=null,X.trigger("doubletap",[a.target]),M.doubleTap&&(g=M.doubleTap.call(X,a,a.target))):d==f&&(u!==y&&u!==b||(clearTimeout(K),J=null,X.trigger("longtap",[a.target]),M.longTap&&(g=M.longTap.call(X,a,a.target)))),g}function se(){var e=!0;return null!==M.threshold&&(e=I>=M.threshold),e}function ce(){var e=!1;return null!==M.cancelThreshold&&null!==U&&(e=Me(U)-I>=M.cancelThreshold),e}function pe(){return!M.maxTimeThreshold||!(N>=M.maxTimeThreshold)}function he(){var e=we(),n=ve(),t=null===M.pinchThreshold||Q>=M.pinchThreshold;return e&&n&&t}function fe(){return!!(M.pinchStatus||M.pinchIn||M.pinchOut)}function de(){var e=pe(),n=se(),t=we(),i=ve();return!ce()&&i&&t&&n&&e}function ge(){return!!(M.swipe||M.swipeStatus||M.swipeLeft||M.swipeRight||M.swipeUp||M.swipeDown)}function we(){return V===M.fingers||M.fingers===w||!E}function ve(){return 0!==W[0].end.x}function Te(){return!!M.tap}function be(){return!!M.doubleTap}function ye(){if(null==J)return!1;var e=ke();return be()&&e-J<=M.doubleTapThreshold}function Ee(){Z=0,B=0}function me(){var e=!1;Z&&(ke()-Z<=M.fingerReleaseThreshold&&(e=!0));return e}function Se(e){X&&(!0===e?(X.bind(L,ne),X.bind(R,te),k&&X.bind(k,re)):(X.unbind(L,ne,!1),X.unbind(R,te,!1),k&&X.unbind(k,re,!1)),X.data("TouchSwipe_intouch",!0===e))}function xe(e,n){var t={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return t.start.x=t.last.x=t.end.x=n.pageX||n.clientX,t.start.y=t.last.y=t.end.y=n.pageY||n.clientY,W[e]=t,t}function Oe(e){var n=void 0!==e.identifier?e.identifier:0,t=function(e){return W[e]||null}(n);return null===t&&(t=xe(n,e)),t.last.x=t.end.x,t.last.y=t.end.y,t.end.x=e.pageX||e.clientX,t.end.y=e.pageY||e.clientY,t}function Me(e){if(F[e])return F[e].distance}function De(e){return{direction:e,distance:0}}function Pe(){return G-z}function Le(e,n){var t=Math.abs(e.x-n.x),i=Math.abs(e.y-n.y);return Math.round(Math.sqrt(t*t+i*i))}function Re(e,l){if(u=l,(o=e).x==u.x&&o.y==u.y)return a;var o,u,s=function(e,n){var t=e.x-n.x,i=n.y-e.y,r=Math.atan2(i,t),l=Math.round(180*r/Math.PI);return l<0&&(l=360-Math.abs(l)),l}(e,l);return s<=45&&s>=0||s<=360&&s>=315?n:s>=135&&s<=225?t:s>45&&s<135?r:i}function ke(){return(new Date).getTime()}this.enable=function(){return this.disable(),X.bind(P,ee),X.bind(A,ie),X},this.disable=function(){return le(),X},this.destroy=function(){le(),X.data(x,null),X=null},this.option=function(n,t){if("object"==typeof n)M=e.extend(M,n);else if(void 0!==M[n]){if(void 0===t)return M[n];M[n]=t}else{if(!n)return M;e.error("Option "+n+" does not exist on jQuery.swipe.options")}return null}}e.fn.swipe=function(n){var t=e(this),i=t.data(x);if(i&&"string"==typeof n){if(i[n])return i[n].apply(i,Array.prototype.slice.call(arguments,1));e.error("Method "+n+" does not exist on jQuery.swipe")}else if(i&&"object"==typeof n)i.option.apply(i,arguments);else if(!(i||"object"!=typeof n&&n))return O.apply(this,arguments);return t},e.fn.swipe.version="1.6.18",e.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},e.fn.swipe.phases={PHASE_START:v,PHASE_MOVE:T,PHASE_END:b,PHASE_CANCEL:y},e.fn.swipe.directions={LEFT:n,RIGHT:t,UP:i,DOWN:r,IN:l,OUT:o},e.fn.swipe.pageScroll={NONE:a,HORIZONTAL:d,VERTICAL:g,AUTO:u},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:w}}));
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}((function(e){"use strict";var t={idSuffix:"-styler",filePlaceholder:"File not found",fileBrowse:"Browse...",fileNumber:"Number of choosen files: %s",selectPlaceholder:"Select...",selectSearch:!1,selectSearchLimit:10,selectSearchNotFound:"No matches found",selectSearchPlaceholder:"Search...",selectVisibleOptions:0,singleSelectzIndex:"100",selectSmartPositioning:!0,onSelectOpened:function(){},onSelectClosed:function(){},onFormStyled:function(){}};function s(s,i){this.element=s,this.options=e.extend({},t,i),this.init()}function i(t){if(!e(t.target).parents().hasClass("jq-selectbox")&&"OPTION"!=t.target.nodeName&&e("div.jq-selectbox.opened").length){var s=e("div.jq-selectbox.opened"),i=e("div.jq-selectbox__search input",s),l=e("div.jq-selectbox__dropdown",s);s.find("select").data("_styler").options.onSelectClosed.call(s),i.length&&i.val("").keyup(),l.hide().find("li.sel").addClass("selected"),s.removeClass("focused opened dropup dropdown")}}s.prototype={init:function(){var t=e(this.element),s=this.options,l=!(!navigator.userAgent.match(/(iPad|iPhone|iPod)/i)||navigator.userAgent.match(/(Windows\sPhone)/i)),o=!(!navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/(Windows\sPhone)/i));function a(){void 0!==t.attr("id")&&""!==t.attr("id")&&(this.id=t.attr("id")+s.idSuffix),this.title=t.attr("title"),this.classes=t.attr("class"),this.data=t.data()}if(t.is(":checkbox")){var d=function(){var s=new a,i=e('<div class="jq-checkbox"><div class="jq-checkbox__div"></div></div>').attr({id:s.id,title:s.title}).addClass(s.classes).data(s.data);t.css({position:"absolute",zIndex:"-1",opacity:0,margin:0,padding:0}).after(i).prependTo(i),i.attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none",display:"inline-block",position:"relative",overflow:"hidden"}),t.is(":checked")&&i.addClass("checked"),t.is(":disabled")&&i.addClass("disabled"),i.click((function(e){e.preventDefault(),i.is(".disabled")||(t.is(":checked")?(t.prop("checked",!1),i.removeClass("checked")):(t.prop("checked",!0),i.addClass("checked")),t.focus().change())})),t.closest("label").add('label[for="'+t.attr("id")+'"]').on("click.styler",(function(t){e(t.target).is("a")||e(t.target).closest(i).length||(i.triggerHandler("click"),t.preventDefault())})),t.on("change.styler",(function(){t.is(":checked")?i.addClass("checked"):i.removeClass("checked")})).on("keydown.styler",(function(e){32==e.which&&i.click()})).on("focus.styler",(function(){i.is(".disabled")||i.addClass("focused")})).on("blur.styler",(function(){i.removeClass("focused")}))};d(),t.on("refresh",(function(){t.closest("label").add('label[for="'+t.attr("id")+'"]').off(".styler"),t.off(".styler").parent().before(t).remove(),d()}))}else if(t.is(":radio")){var r=function(){var s=new a,i=e('<div class="jq-radio"><div class="jq-radio__div"></div></div>').attr({id:s.id,title:s.title}).addClass(s.classes).data(s.data);t.css({position:"absolute",zIndex:"-1",opacity:0,margin:0,padding:0}).after(i).prependTo(i),i.attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none",display:"inline-block",position:"relative"}),t.is(":checked")&&i.addClass("checked"),t.is(":disabled")&&i.addClass("disabled"),e.fn.commonParents=function(){var t=this;return t.first().parents().filter((function(){return e(this).find(t).length===t.length}))},e.fn.commonParent=function(){return e(this).commonParents().first()},i.click((function(s){if(s.preventDefault(),!i.is(".disabled")){var l=e('input[name="'+t.attr("name")+'"]');l.commonParent().find(l).prop("checked",!1).parent().removeClass("checked"),t.prop("checked",!0).parent().addClass("checked"),t.focus().change()}})),t.closest("label").add('label[for="'+t.attr("id")+'"]').on("click.styler",(function(t){e(t.target).is("a")||e(t.target).closest(i).length||(i.triggerHandler("click"),t.preventDefault())})),t.on("change.styler",(function(){t.parent().addClass("checked")})).on("focus.styler",(function(){i.is(".disabled")||i.addClass("focused")})).on("blur.styler",(function(){i.removeClass("focused")}))};r(),t.on("refresh",(function(){t.closest("label").add('label[for="'+t.attr("id")+'"]').off(".styler"),t.off(".styler").parent().before(t).remove(),r()}))}else if(t.is(":file")){t.css({position:"absolute",top:0,right:0,margin:0,padding:0,opacity:0,fontSize:"100px"});var n=function(){var i=new a,l=t.data("placeholder");void 0===l&&(l=s.filePlaceholder);var o=t.data("browse");void 0!==o&&""!==o||(o=s.fileBrowse);var d=e('<div class="jq-file"><div class="jq-file__name">'+l+'</div><div class="jq-file__browse">'+o+"</div></div>").css({display:"inline-block",position:"relative",overflow:"hidden"}).attr({id:i.id,title:i.title}).addClass(i.classes).data(i.data);t.after(d).appendTo(d),t.is(":disabled")&&d.addClass("disabled"),t.on("change.styler",(function(){var i=t.val(),o=e("div.jq-file__name",d);if(t.is("[multiple]")){i="";var a=t[0].files.length;if(a>0){var r=t.data("number");void 0===r&&(r=s.fileNumber),i=r=r.replace("%s",a)}}o.text(i.replace(/.+[\\\/]/,"")),""===i?(o.text(l),d.removeClass("changed")):d.addClass("changed")})).on("focus.styler",(function(){d.addClass("focused")})).on("blur.styler",(function(){d.removeClass("focused")})).on("click.styler",(function(){d.removeClass("focused")}))};n(),t.on("refresh",(function(){t.off(".styler").parent().before(t).remove(),n()}))}else if(t.is('input[type="number"]')){var c=function(){var s=new a,i=e('<div class="jq-number"><div class="jq-number__spin minus"></div><div class="jq-number__spin plus"></div></div>').attr({id:s.id,title:s.title}).addClass(s.classes).data(s.data);t.after(i).prependTo(i).wrap('<div class="jq-number__field"></div>'),t.is(":disabled")&&i.addClass("disabled");var l,o,d,r=null,n=null;void 0!==t.attr("min")&&(l=t.attr("min")),void 0!==t.attr("max")&&(o=t.attr("max")),d=void 0!==t.attr("step")&&e.isNumeric(t.attr("step"))?Number(t.attr("step")):Number(1);var c=function(s){var i,a=t.val();e.isNumeric(a)||(a=0,t.val("0")),s.is(".minus")?i=Number(a)-d:s.is(".plus")&&(i=Number(a)+d);var r=(d.toString().split(".")[1]||[]).length;if(r>0){for(var n="1";n.length<=r;)n+="0";i=Math.round(i*n)/n}e.isNumeric(l)&&e.isNumeric(o)?i>=l&&i<=o&&t.val(i):e.isNumeric(l)&&!e.isNumeric(o)?i>=l&&t.val(i):!e.isNumeric(l)&&e.isNumeric(o)?i<=o&&t.val(i):t.val(i)};i.is(".disabled")||(i.on("mousedown","div.jq-number__spin",(function(){var t=e(this);c(t),r=setTimeout((function(){n=setInterval((function(){c(t)}),40)}),350)})).on("mouseup mouseout","div.jq-number__spin",(function(){clearTimeout(r),clearInterval(n)})).on("mouseup","div.jq-number__spin",(function(){t.change()})),t.on("focus.styler",(function(){i.addClass("focused")})).on("blur.styler",(function(){i.removeClass("focused")})))};c(),t.on("refresh",(function(){t.off(".styler").closest(".jq-number").before(t).remove(),c()}))}else if(t.is("select")){var f=function(){function d(t){t.off("mousewheel DOMMouseScroll").on("mousewheel DOMMouseScroll",(function(t){var s=null;"mousewheel"==t.type?s=-1*t.originalEvent.wheelDelta:"DOMMouseScroll"==t.type&&(s=40*t.originalEvent.detail),s&&(t.stopPropagation(),t.preventDefault(),e(this).scrollTop(s+e(this).scrollTop()))}))}var r=e("option",t),n="";function c(){for(var e=0;e<r.length;e++){var t=r.eq(e),i="",l="",o="",a="",d="",c="",f="",h="",u="";t.prop("selected")&&(l="selected sel"),t.is(":disabled")&&(l="disabled"),t.is(":selected:disabled")&&(l="selected sel disabled"),void 0!==t.attr("id")&&""!==t.attr("id")&&(a=' id="'+t.attr("id")+s.idSuffix+'"'),void 0!==t.attr("title")&&""!==r.attr("title")&&(d=' title="'+t.attr("title")+'"'),void 0!==t.attr("class")&&(f=" "+t.attr("class"),u=' data-jqfs-class="'+t.attr("class")+'"');var p=t.data();for(var v in p)""!==p[v]&&(c+=" data-"+v+'="'+p[v]+'"');l+f!==""&&(o=' class="'+l+f+'"'),i="<li"+u+c+o+d+a+">"+t.html()+"</li>",t.parent().is("optgroup")&&(void 0!==t.parent().attr("class")&&(h=" "+t.parent().attr("class")),i="<li"+u+c+' class="'+l+f+" option"+h+'"'+d+a+">"+t.html()+"</li>",t.is(":first-child")&&(i='<li class="optgroup'+h+'">'+t.parent().attr("label")+"</li>"+i)),n+=i}}if(t.is("[multiple]")){if(o||l)return;!function(){var s=new a,i=e('<div class="jq-select-multiple jqselect"></div>').css({display:"inline-block",position:"relative"}).attr({id:s.id,title:s.title}).addClass(s.classes).data(s.data);t.css({margin:0,padding:0}).after(i),c(),i.append("<ul>"+n+"</ul>");var l=e("ul",i).css({position:"relative","overflow-x":"hidden","-webkit-overflow-scrolling":"touch"}),o=e("li",i).attr("unselectable","on"),f=t.attr("size"),h=l.outerHeight(),u=o.outerHeight();void 0!==f&&f>0?l.css({height:u*f}):l.css({height:4*u}),h>i.height()&&(l.css("overflowY","scroll"),d(l),o.filter(".selected").length&&l.scrollTop(l.scrollTop()+o.filter(".selected").position().top)),t.prependTo(i).css({position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0}),t.is(":disabled")?(i.addClass("disabled"),r.each((function(){e(this).is(":selected")&&o.eq(e(this).index()).addClass("selected")}))):(o.filter(":not(.disabled):not(.optgroup)").click((function(s){t.focus();var i=e(this);if(s.ctrlKey||s.metaKey||i.addClass("selected"),s.shiftKey||i.addClass("first"),s.ctrlKey||s.metaKey||s.shiftKey||i.siblings().removeClass("selected first"),(s.ctrlKey||s.metaKey)&&(i.is(".selected")?i.removeClass("selected first"):i.addClass("selected first"),i.siblings().removeClass("first")),s.shiftKey){var l=!1,a=!1;i.siblings().removeClass("selected").siblings(".first").addClass("selected"),i.prevAll().each((function(){e(this).is(".first")&&(l=!0)})),i.nextAll().each((function(){e(this).is(".first")&&(a=!0)})),l&&i.prevAll().each((function(){if(e(this).is(".selected"))return!1;e(this).not(".disabled, .optgroup").addClass("selected")})),a&&i.nextAll().each((function(){if(e(this).is(".selected"))return!1;e(this).not(".disabled, .optgroup").addClass("selected")})),1==o.filter(".selected").length&&i.addClass("first")}r.prop("selected",!1),o.filter(".selected").each((function(){var t=e(this),s=t.index();t.is(".option")&&(s-=t.prevAll(".optgroup").length),r.eq(s).prop("selected",!0)})),t.change()})),r.each((function(t){e(this).data("optionIndex",t)})),t.on("change.styler",(function(){o.removeClass("selected");var t=[];r.filter(":selected").each((function(){t.push(e(this).data("optionIndex"))})),o.not(".optgroup").filter((function(s){return e.inArray(s,t)>-1})).addClass("selected")})).on("focus.styler",(function(){i.addClass("focused")})).on("blur.styler",(function(){i.removeClass("focused")})),h>i.height()&&t.on("keydown.styler",(function(e){38!=e.which&&37!=e.which&&33!=e.which||l.scrollTop(l.scrollTop()+o.filter(".selected").position().top-u),40!=e.which&&39!=e.which&&34!=e.which||l.scrollTop(l.scrollTop()+o.filter(".selected:last").position().top-l.innerHeight()+2*u)})))}()}else!function(){var o=new a,f="",h=t.data("placeholder"),u=t.data("search"),p=t.data("search-limit"),v=t.data("search-not-found"),m=t.data("search-placeholder"),g=t.data("z-index"),b=t.data("smart-positioning");void 0===h&&(h=s.selectPlaceholder),void 0!==u&&""!==u||(u=s.selectSearch),void 0!==p&&""!==p||(p=s.selectSearchLimit),void 0!==v&&""!==v||(v=s.selectSearchNotFound),void 0===m&&(m=s.selectSearchPlaceholder),void 0!==g&&""!==g||(g=s.singleSelectzIndex),void 0!==b&&""!==b||(b=s.selectSmartPositioning);var y=e('<div class="jq-selectbox jqselect"><div class="jq-selectbox__select" style="position: relative"><div class="jq-selectbox__select-text"></div><div class="jq-selectbox__trigger"><div class="jq-selectbox__trigger-arrow"></div></div></div></div>').css({display:"inline-block",position:"relative",zIndex:g}).attr({id:o.id,title:o.title}).addClass(o.classes).data(o.data);t.css({margin:0,padding:0}).after(y).prependTo(y);var C=e("div.jq-selectbox__select",y),x=e("div.jq-selectbox__select-text",y),w=r.filter(":selected");c(),u&&(f='<div class="jq-selectbox__search"><input type="search" autocomplete="off" placeholder="'+m+'"></div><div class="jq-selectbox__not-found">'+v+"</div>");var q=e('<div class="jq-selectbox__dropdown" style="position: absolute">'+f+'<ul style="position: relative; list-style: none; overflow: auto; overflow-x: hidden">'+n+"</ul></div>");y.append(q);var _=e("ul",q),j=e("li",q),k=e("input",q),S=e("div.jq-selectbox__not-found",q).hide();j.length<p&&k.parent().hide(),""===r.first().text()&&r.first().is(":selected")?x.text(h).addClass("placeholder"):x.text(w.text());var T=0,N=0;if(j.css({display:"inline-block"}),j.each((function(){var t=e(this);t.innerWidth()>T&&(T=t.innerWidth(),N=t.width())})),j.css({display:""}),x.is(".placeholder")&&x.width()>T)x.width(x.width());else{var P=y.clone().appendTo("body").width("auto"),A=P.outerWidth();P.remove(),A==y.outerWidth()&&x.width(N)}T>y.width()&&q.width(T),""===r.first().text()&&""!==t.data("placeholder")&&j.first().hide(),t.css({position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0});var D=y.outerHeight(!0),I=k.parent().outerHeight(!0),H=_.css("max-height"),z=j.filter(".selected");z.length<1&&j.first().addClass("selected sel"),void 0===j.data("li-height")&&j.data("li-height",j.outerHeight());var K=q.css("top");if("auto"==q.css("left")&&q.css({left:0}),"auto"==q.css("top")&&(q.css({top:D}),K=D),q.hide(),z.length&&(r.first().text()!=w.text()&&y.addClass("changed"),y.data("jqfs-class",z.data("jqfs-class")),y.addClass(z.data("jqfs-class"))),t.is(":disabled"))return y.addClass("disabled"),!1;C.click((function(){if(e("div.jq-selectbox").filter(".opened").length&&s.onSelectClosed.call(e("div.jq-selectbox").filter(".opened")),t.focus(),!l){var i=e(window),o=j.data("li-height"),a=y.offset().top,n=i.height()-D-(a-i.scrollTop()),c=t.data("visible-options");void 0!==c&&""!==c||(c=s.selectVisibleOptions);var f=5*o,h=o*c;c>0&&c<6&&(f=h),0===c&&(h="auto");var u=function(){q.height("auto").css({bottom:"auto",top:K});var e=function(){_.css("max-height",Math.floor((n-20-I)/o)*o)};e(),_.css("max-height",h),"none"!=H&&_.css("max-height",H),n<q.outerHeight()+20&&e()};!0===b||1===b?n>f+I+20?(u(),y.removeClass("dropup").addClass("dropdown")):(function(){q.height("auto").css({top:"auto",bottom:K});var e=function(){_.css("max-height",Math.floor((a-i.scrollTop()-20-I)/o)*o)};e(),_.css("max-height",h),"none"!=H&&_.css("max-height",H),a-i.scrollTop()-20<q.outerHeight()+20&&e()}(),y.removeClass("dropdown").addClass("dropup")):!1!==b&&0!==b||n>f+I+20&&(u(),y.removeClass("dropup").addClass("dropdown")),y.offset().left+q.outerWidth()>i.width()&&q.css({left:"auto",right:0}),e("div.jqselect").css({zIndex:g-1}).removeClass("opened"),y.css({zIndex:g}),q.is(":hidden")?(e("div.jq-selectbox__dropdown:visible").hide(),q.show(),y.addClass("opened focused"),s.onSelectOpened.call(y)):(q.hide(),y.removeClass("opened dropup dropdown"),e("div.jq-selectbox").filter(".opened").length&&s.onSelectClosed.call(y)),k.length&&(k.val("").keyup(),S.hide(),k.keyup((function(){var s=e(this).val();j.each((function(){e(this).html().match(new RegExp(".*?"+s+".*?","i"))?e(this).show():e(this).hide()})),""===r.first().text()&&""!==t.data("placeholder")&&j.first().hide(),j.filter(":visible").length<1?S.show():S.hide()}))),j.filter(".selected").length&&(""===t.val()?_.scrollTop(0):(_.innerHeight()/o%2!=0&&(o/=2),_.scrollTop(_.scrollTop()+j.filter(".selected").position().top-_.innerHeight()/2+o))),d(_)}})),j.hover((function(){e(this).siblings().removeClass("selected")})),j.filter(".selected").text(),j.filter(":not(.disabled):not(.optgroup)").click((function(){t.focus();var i=e(this),l=i.text();if(!i.is(".selected")){var o=i.index();o-=i.prevAll(".optgroup").length,i.addClass("selected sel").siblings().removeClass("selected sel"),r.prop("selected",!1).eq(o).prop("selected",!0),x.text(l),y.data("jqfs-class")&&y.removeClass(y.data("jqfs-class")),y.data("jqfs-class",i.data("jqfs-class")),y.addClass(i.data("jqfs-class")),t.change()}q.hide(),y.removeClass("opened dropup dropdown"),s.onSelectClosed.call(y)})),q.mouseout((function(){e("li.sel",q).addClass("selected")})),t.on("change.styler",(function(){x.text(r.filter(":selected").text()).removeClass("placeholder"),j.removeClass("selected sel").not(".optgroup").eq(t[0].selectedIndex).addClass("selected sel"),r.first().text()!=j.filter(".selected").text()?y.addClass("changed"):y.removeClass("changed")})).on("focus.styler",(function(){y.addClass("focused"),e("div.jqselect").not(".focused").removeClass("opened dropup dropdown").find("div.jq-selectbox__dropdown").hide()})).on("blur.styler",(function(){y.removeClass("focused")})).on("keydown.styler keyup.styler",(function(e){var i=j.data("li-height");""===t.val()?x.text(h).addClass("placeholder"):x.text(r.filter(":selected").text()),j.removeClass("selected sel").not(".optgroup").eq(t[0].selectedIndex).addClass("selected sel"),38!=e.which&&37!=e.which&&33!=e.which&&36!=e.which||(""===t.val()?_.scrollTop(0):_.scrollTop(_.scrollTop()+j.filter(".selected").position().top)),40!=e.which&&39!=e.which&&34!=e.which&&35!=e.which||_.scrollTop(_.scrollTop()+j.filter(".selected").position().top-_.innerHeight()+i),13==e.which&&(e.preventDefault(),q.hide(),y.removeClass("opened dropup dropdown"),s.onSelectClosed.call(y))})).on("keydown.styler",(function(e){32==e.which&&(e.preventDefault(),C.click())})),i.registered||(e(document).on("click",i),i.registered=!0)}()};f(),t.on("refresh",(function(){t.off(".styler").parent().before(t).remove(),f()}))}else t.is(":reset")&&t.on("click",(function(){setTimeout((function(){t.closest("form").find("input, select").trigger("refresh")}),1)}))},destroy:function(){var t=e(this.element);t.is(":checkbox")||t.is(":radio")?(t.removeData("_styler").off(".styler refresh").removeAttr("style").parent().before(t).remove(),t.closest("label").add('label[for="'+t.attr("id")+'"]').off(".styler")):t.is('input[type="number"]')?t.removeData("_styler").off(".styler refresh").closest(".jq-number").before(t).remove():(t.is(":file")||t.is("select"))&&t.removeData("_styler").off(".styler refresh").removeAttr("style").parent().before(t).remove()}},e.fn.styler=function(t){var i,l=arguments;return void 0===t||"object"==typeof t?(this.each((function(){e.data(this,"_styler")||e.data(this,"_styler",new s(this,t))})).promise().done((function(){var t=e(this[0]).data("_styler");t&&t.options.onFormStyled.call()})),this):"string"==typeof t&&"_"!==t[0]&&"init"!==t?(this.each((function(){var o=e.data(this,"_styler");o instanceof s&&"function"==typeof o[t]&&(i=o[t].apply(o,Array.prototype.slice.call(l,1)))})),void 0!==i?i:this):void 0},i.registered=!1}));
/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2006, 2014 Klaus Hartl
 * Released under the MIT license
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}((function(e){var n=/\+/g;function o(e){return c.raw?e:encodeURIComponent(e)}function i(e){return c.raw?e:decodeURIComponent(e)}function r(e){return o(c.json?JSON.stringify(e):String(e))}function t(o,i){var r=c.raw?o:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(n," ")),c.json?JSON.parse(e):e}catch(e){}}(o);return e.isFunction(i)?i(r):r}var c=e.cookie=function(n,u,s){if(arguments.length>1&&!e.isFunction(u)){if("number"==typeof(s=e.extend({},c.defaults,s)).expires){var a=s.expires,d=s.expires=new Date;d.setMilliseconds(d.getMilliseconds()+864e5*a)}return document.cookie=[o(n),"=",r(u),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}for(var f=n?void 0:{},p=document.cookie?document.cookie.split("; "):[],l=0,m=p.length;l<m;l++){var x=p[l].split("="),g=i(x.shift()),v=x.join("=");if(n===g){f=t(v,u);break}n||void 0===(v=t(v))||(f[g]=v)}return f};c.defaults={},e.removeCookie=function(n,o){return e.cookie(n,"",e.extend({},o,{expires:-1})),!e.cookie(n)}}));
/***************************************************************************************************
LoadingOverlay - A flexible loading overlay jQuery plugin
    Author          : Gaspare Sganga
    Version         : 1.4.1
    License         : MIT
    Documentation   : http://gasparesganga.com/labs/jquery-loading-overlay/
****************************************************************************************************/
!function(a,b){function d(c,d){c=a(c);var e=c.is("body"),g=c.data("LoadingOverlayCount");if(g===b&&(g=0),0==g){var h=a("<div>",{"class":"loadingoverlay",css:{"background-color":d.color,display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}});if(d.zIndex!==b&&h.css("z-index",d.zIndex),d.image&&h.css({"background-image":"url("+d.image+")","background-position":d.imagePosition,"background-repeat":"no-repeat"}),d.fontawesome&&a("<div>",{"class":"loadingoverlay_fontawesome "+d.fontawesome}).appendTo(h),d.custom&&a(d.custom).appendTo(h),e?h.css({position:"fixed",top:0,left:0,width:"100%",height:"100%"}):h.css("position","fixed"==c.css("position")?"fixed":"absolute"),f(c,h,d,e),d.resizeInterval>0){var i=setInterval(function(){f(c,h,d,e)},d.resizeInterval);c.data("LoadingOverlayResizeIntervalId",i)}d.fade?d.fade===!0?d.fade=[400,200]:("string"==typeof d.fade||"number"==typeof d.fade)&&(d.fade=[d.fade,d.fade]):d.fade=[0,0],c.data({LoadingOverlay:h,LoadingOverlayFadeOutDuration:d.fade[1]}),h.hide().appendTo("body").fadeIn(d.fade[0])}g++,c.data("LoadingOverlayCount",g)}function e(c,d){c=a(c);var e=c.data("LoadingOverlayCount");if(e!==b)if(e--,d||0>=e){var f=c.data("LoadingOverlayResizeIntervalId");f&&clearInterval(f),c.data("LoadingOverlay").fadeOut(c.data("LoadingOverlayFadeOutDuration"),function(){a(this).remove()}),c.removeData(["LoadingOverlay","LoadingOverlayCount","LoadingOverlayFadeOutDuration","LoadingOverlayResizeIntervalId"])}else c.data("LoadingOverlayCount",e)}function f(b,c,d,e){if(!e){var f="fixed"==b.css("position")?b.position():b.offset();c.css({top:f.top+parseInt(b.css("border-top-width"),10),left:f.left+parseInt(b.css("border-left-width"),10),width:b.innerWidth(),height:b.innerHeight()})}var g=e?a(window):b,h="auto";d.size&&"auto"!=d.size&&(h=Math.min(g.innerWidth(),g.innerHeight())*parseFloat(d.size)/100,d.maxSize&&h>parseInt(d.maxSize,10)&&(h=parseInt(d.maxSize,10)+"px"),d.minSize&&h<parseInt(d.minSize,10)&&(h=parseInt(d.minSize,10)+"px")),c.css("background-size",h),c.children(".loadingoverlay_fontawesome").css("font-size",h)}var c={color:"rgba(255, 255, 255, 0.8)",custom:"",fade:!0,fontawesome:"",image:"data:image/gif;base64,R0lGODlhZABkAKUAADQyNJyanGRmZMzOzExOTLS2tISChOzq7ERCRKyqrHR2dNze3FxaXMTCxIyOjPT29Dw6PKSipGxubNTW1FRWVLy+vIyKjPTy9ExKTLSytHx+fOTm5GRiZMzKzJSWlPz+/DQ2NJyenGxqbNTS1FRSVLy6vISGhOzu7ERGRKyurHx6fOTi5FxeXMTGxJSSlPz6/Dw+PKSmpHRydNza3P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJBQA0ACwAAAAAZABkAAAG/kCacEgsGo/IJO1SEEBAosJFSa1ar9jswQQBeAEgyyFLLpvNL893DXC9zvC4XDggsb+EwXzPtyZAd14gCX2FhkQRgIEAIYeOSAMWIgoxY1UpioEpj5xCFx6ZACQVH1QjFIt5nY8PIV1sKCtUaYsOpVcfb6tWM6iBJlUnJqEAJidYKxYaFbq7SSXEXxQPVQ8VEjBQFVNXDypeKCPOSR8ZiwAox50rLF8Z40kV0V7Tqw8WXgQT8EgzDIvAdm1I4WFAM35EPqSAcYeAul25ECZ5EYPAGgH7JGo08mFACAcOChy4tbHkkA8PDppcybKly5cwY8rc8+HEiBYDRs509qKF/goCCAhIaEBy56MBFtcQaGCU04ukbFgsaErlQAQFETZgGbAIRAmqEx0oskDNirlFMcAieWDHCwtZVkqce6fWyAMBXyQ8pHKCYcOMdROOEIBBQIssAQI5KBs44YEWcLGcELvGWONCHyZ40OBhQtHLoEOLHk26tOnTqFOrXs26tevXEj+0MCFDBTPYSi64QPAFhgFLrl8c2HCC5IsUvNeAiMB49YsCFBCwICrkgIRABICvboEBz1QaC7oHmuEa1JdBQhZAZfOdtXlBdE8oCERBa+tTX94KeZ58TYjPqfWkAAsaiDPEcX6B4UFzrV1wAoNCbBCCCSG0h9uFGGao4YYc/nbo4YcghijiiCW9sMEMG6i04QsjKKCICICJ9sACE6wAoRILcMAGBRZe9kIIDKDAQALcWBGCYgDWVcIrACBQQpJHtHOHAHs1dt0aGhRJhZRR2QeaCGwooKUSBgSiwY1qRcBGDCpCkqAgh4l2wpUAKOBlFS9UQIEiBFRQ2gsDFKAHGR8skEAIKSwAJYmMNuroo5BGSkSbHa6wmQEljNnJBzOMUGVJMxCgCAwWfOrIARpggAIFBSw6zgl4sZGAq3uc8M0ag5bUAApT0jrHAG8CoMFKBfQnDZp9tDDlSh3wyoYEvsoxgrNfOLDSA2Uq5ycuKzQAGaVHnOBCJrGwtEKsUwDAEAOyRbyQgQAoIMBBAeAasUEMArBgQq4rndCCB4myWwSwa8DAbzXDPRBtU/M9++E/O35I5xcCfNgAMdt2+EACe4JAAZsgvrBABRUsUK+knAQBACH5BAkFADQALAAAAABkAGQAAAb+QJpwSCwaj8gk7bNKaVSx2UtJrVqv2CytwgJ4AZTCVEsum7ED0veLaJzfcPhDsV4LTvG83jpR170oLXuDhEQdBH9eMBVXHwcHF4VnLwMJGQtXfYkAKB1VlBoMFAIekZJYLxMUXiAQBitVc5sseEovATB1LBMfp1Yjq3UyD1UtKH8gBVUNIIkSsL5KDxabjFQfBYhfMCljSQ8Cm8m90UgzXYkaVi8LMSoKIVJVExibACbE5Ucj2n8CvsbsScinr8gCBpvUnaJnTwPBgkMeGNhUwtcDdIlSkINI5NyfgdE6NPt4gOORCQJycbKwodyHEMfszDCJ5ESDFClGPLTYwgT+i1EhWtIcKu3AhhMbiSpdyrSp06dQoya5sOKEN6kcTyRQIEBGgFpYC14woRIACAklw+oLkMjATrVJUhWQ16jfGgoT4Fb50AIRCmtWLoysE0gvlRfUvGi4agtCok6GbYX44iApFTr+hEau6YKFAc1WOsT8Mm6zLataXlQIZrYEY9N6PjwYkKLFBcuwc+vezbu379/AgwsfTry48ePIk1950CFFA1PKr6GEQJ1ChdfIcS/gUAdDC9zFHzTI0ILgiwiDv6iAjjxFLgQJhpzQkIhAWuQXEHohkO8C/T8UgGbcA/qBkc956SnG3nHuAcANESuEs0Yg4BH3QgsFlEfEBzP+CNAMCAR8F91eM1QwwVsjpqjiiiy26OKLMMYo44w01gjXBy/kWCGLFxQgAgEsxADWbw9AosUDISCwhgUowvbBBBYoYMEA2CExgZJrwFCRb/l9wcJMV0SQiAm/ZVBHDDsWMdkfGqRpWAJ1hFClEQ0kEsJvE5S1CBYbSFAHAQLq9kIMx4AQQ5NIrKABCiDAIAAmwX1wVBkPTFBBBwvaqOmmnHbq6aegKiHpADrR+EIIBCCAggILuKnHCw1IwIADgQ71QQx1iABNNC806AUFmdJ0QoFfaFTOASLUkUJTE9jlRWXlLMDas01tQKwXIbgKxwEy1KFMUx78mRcWJ0wwwgFZ2grxQQn9CIBoVgqMRIAYjUxgAAkkKNDBnEY80JMGMdRK1AW0FbABv0WcgBEABOy63APpGlbAHx7IKGYdZMZY55kynuDnFwHOeIAHLLDgAKQzvnDCwaEqFQQAIfkECQUANAAsAAAAAGQAZAAABv5AmnBILBqPyKTwMqtUZheldEqtWq/ClQMDAMBMC6x4TMZeZKCuWnAou9/wGERN93zg+Dz1JaHTWSd6goNEJwJ+ahQrhIxJLxuBVQ8iiF0sG1QPJSYqHhONZh4YIBAsJQ9UEWmIJlQTHH4BkaBSJxZ+MCl3tYd+BItSGwyIICGotEoFMIgos0ozGnQCA1QhlQAUn8hIDwbXBVUnAyEhLSe7Si8s1wAF6NuFMtceoBcE7DEv8EYP0ZUpoD6s+7bPyIcEq+iAaAPKwzUUIwry8+ZHF60TFCqF0CexyAMHLFCgkFDhGK0BAhKC8BClo8EFA0Y4o/VhRQoLCjw04Oiy5/6RDw8u8PRJtKjRo0iTKh304cWDB++W7jtQwoUBFyU2RFXyYUIICwFabJX6TMGyLiAUaJvyogSFOQBQxCBb5YCChGpYmFQyAAGuDHSlvFA1j8otRApaBj5yQt41FoqTwELEIsziIxsGVvo1hRJlTJeNHNCMiABoJTHwdnEwNPQSE+wktD5yoA8dCpZdE/nQAsW1FlRqmlglIbduIg9CqAbA2grQE0+PI+FNAQYIGCwK7JWe58GEFiMicx9Pvrz58+jTq1/Pvr379/B9PtoeX8oFUTAQmFgxtj6RC7BJA4x/MPFHRAtcKJTAbO3NwAEGHMwwxAcxVKIBfe05oIYDRP5UiMiF/mm42oEJ0pECg+zNEJIAEg5xwWFrnFZfgVFdEAMB1zmglX/BncPjj0AGKeSQRBZp5JFIJqnkktx90B+RLyxQQAAVGHjkCw0M0wWL6b2wQgvGUZGZH7KdxxsLBHDQwBUNIALDWuRNEqMVKbgJnHkPZGRJmHyphsKA5L0QQBogOIAhEhf4syGKx52QggYxiDfFfQSgQIAHhwr5wQIj7Mjkp6CGKuqopJZqxQMrMKRkBwJggIEBgNLkaAAdZCrRAmd1IYGqtKiIlgtIueAHCHfS8oIHKvHqk2N0ZPBkHon6USxRDilEDTLJKTRTTyvco4YG23J1gY9XLHCXF08hJNWCCRRQ4IGMU5yQgAIyhKDsFDal0IKtEn1wwQYb8OtRAHCBYICkQq6QaxfXGjkDIhUguYFvaoDAp5AvxHDWSgL790IFJmignakk7xMEACH5BAkFADQALAAAAABkAGQAAAb+QJpwSCwaj8ik8HVaLU4vpXRKrVqvy4KKRFBkHtiweBxOoABoACxEbrvftMU5jYaN4Pj8NAKipy16gYJDJn5pEoOJeR6GaBpWJy0VM1GKVi8jFiwCMRsfVCMIhiANVCcBcyAsE5WWSh8Vc2giM1UOfXQarUkvFrhpJAOuUjMMhrpUFzEUaCghB1QTv7kXw0kxEKMnVS8bCxMbYFQBjQAEE9ZIjI3oihrlMB3pRzHTaduKDuUEd/NFEwQMsfikaEA5Afj8DfmQIVuac65evPODooXCIxUUsGDhYIG1Aw5kUahwEcmDDQd2uXowIEaMAh5LypxJs6bNmzhz6tzJM8/+hwUNSlRYoHLKiwElOlTrWeVBBhYw1LCIsZTKCg0EYKAQsYLplA8JRNGBwIbKAQl+KGzwqqRDwEbCpjQYFYEtkhchygFwQCXvMYJ2iVwoVA7RnkaPAhd5oK9wtKh0QJBUTORDCntp6k55EAIyGhPiKA9ZIaARCmjJCghAMTWhaCEfOshCA2FylQ8vHrwA/HrhBhMEUBDQsIB3bzgXNrg+zry58+fQo0ufTr269evYsy+ZUCJBgRnGtRtRxgAGBBgMElR90cGABBNEs58wYA+EhW0vEnjGUKGo9AKYAQBCATRMwAwdAqx1XWnliEBDBvbAYJF1L4jVCAw0pOBQGhL+XveCZ4ZgOAAJfrAQk3UMNiIADZz9AkIG/kWXgl4pCPFABQIQIMEAoVl3ggKNKLCceENsYIEsCDigIJFHsBSDByEMEB6TVFZp5ZVYZqnlllx26eWXrlwwQQcjDHnlBi6cAYMGSzrHxJRK4LUhACZAB5IA911xQIrNtNkbXn2A4AKcR6xwIIe1NNdLGirEeMQFKqTVY2+wqEmgFZWmAcKEzj0wQgEjTErFAhpQoICUYKaq6qqsturqq7CyekIMMijQgqOC4KYbTi/IkAYEMeCax1EahWDmRQbRwUJXwyzAILA3zUgHDO240gIGh9zUQYknWrIAC2mUVdMLaKEBQgpXwuLxQQkicHTsRRuEoIAGBVRFxQcTRBDCCOka0YSoND1wwgWEHhEbBRCAQEADBYt3QrloMPAukQccqgZqWV7gaxosTCzewSAoXEHDRC6QQAzFxaqyJUEAACH5BAkFADQALAAAAABkAGQAAAb+QJpwSCwaj8jk8HW5vJTQqHRKrQ4/q5jBEFt8rOCwGDzjgAAAEGsybrvftJcETQdwHvC8PjqA1dEgLXuDhEMlZ38gKYWMeg0Qf2gFVl+NYActIQkzeFInFJEoJ1IvAyowICQhF5ZTKxKIKKtTJSh1IJNRHw0EfxajrUovGn8wJZVQLxUKKCgKFZ1QD6CJGcFKAxiREk9SHxcbGyfIUB2RaAqs10cFCJEE3Ywp5wACG+tHLbZ/LPGFDfQkAMNH5AKHSCHIETrhJ5IHfwSFzOhFx8RARh8yNKQj4GLEIQs8KNBQIJqlBxkEwIBBQMW9jzCPfNjQocIEkzFz6tzJs6f+z59AgwodKuXBggkrcE45sAAiUSgzTHCgwMHCBIVKTgSgQIJDCqxPjUxg8YfBjCkXVPyJADaskAMizlFwemQAIjoEDrhF0mBfpAFS5hUDvNeI4HMxpBSIBINN4SIZ6AHIBWUFRTrcHhcZcPnPAlIFLlNwrHnIAwvnNFB5MSGEgxReShfZoOCPgBWUPrQt/SCFAgoSSsoeTry48ePIkytfzry58+fQoxN8sWDECrrSxWpgQIKFhs8FWySoMC76iwLa6pCoUIk2xxHRZ6T/QwH3C9R1FHhcHkFyAhorHFQHAfA9Vxs9qi1A1oCEOSeDZKo9YIJtej3ngWQhSLQgACj+tLDbcX2c05gQM8VgggcbYJfcCyHcBUgKKkp3ngAowIACBxXEmB0NGwxQwQD77SjkkEQWaeSRSCap5JJMjvHCDAM0teQHHQhAAAoYSNCCjkV8cMAKG3zo1gMxQLKWmEtUIAMLEmTAJVEdzFcHBA2WcxkMHRB3AX6poXnaHxIQt8GGkVBQoRIXEFMHC4JScw4BLwkTwh8OEAeXZBQodcQCAuAVaWksSlbpFA8U8FqQj73yqKY7jjBHHQKQduQGKWgggQYphDnlAxc8gGaTwAYr7LDEXkNdASVc8KseH7yJTwJmroHPASkEMICzrVzgFwAOsDrICw6gQYKsOS3wh35d16ywoTU8XWAmGiZ4u8cDagEAQ4E8hdAQC3W2soIJCpQgL0EXVOBBCFeB8QK2XQ4Mk25goMQCC24y2YI7HAqi5AcJ1JHAstA10BAMGiv5QAIEUJCAw0I2W+zLOgUBACH5BAkFADQALAAAAABkAGQAAAb+QJpwSCwaj8ikcslsOp/Q5WOQSAwe0ax2q724SAAQyYPlms9oWggEaIdj6bi8+cC43YTyfM+nLWB3bRAbfYVyB4CBMCeGjUMXAxUtBy9PKoEAGk4fBykqEh4TH45NByqJAh2VTQssdyyErDJsbSgNo6RJLw6BHCubCyEaGjELuEsvFrRuDAu5SQtggQXHTB8XJ9VLF4l3IHDPRx0omCHaewuYbQ7hRxvSdxWOJ8t3Ie1Gu4Gwjh8imDAG4DPywAQMEDAkiCI1gUKgGOcGflhRYYKefhNMUKAgIcXAj0pebFhwISLIkyhTqlzJsqXLlzBjSrlwUaajBxkMqDBQ4UL+lA0BNIQ4YJOOgW4IPPhs8qEFATcIJhQN6aBem3tNTly6I2HVVCMzXGEiYLLICjt3UBD9aqQFWkyMmKx4mjYuWyId6GKqieSBhUCa7hbZ8A8TiyczFNCS8EswkQ8prIKQt2lDixgtNpT9+iDGMhAp+FpznOTDhhgOUmQjzbq169ewY8ueTbu27du4c+vG9+KE193bEkgQoCDFbxovDmygtPvDBAnLIGhYS6OzHRQR7N4+IUOdgzIlusHwmLuD1TYEnL3Y6kbB0tsR1LXpgFxBIAnaaweQD4CyZ3vH0VaBfDBIRcMJVbVhQiy4bSBWIO4N8cAMFYlGW1N6tcHCDMD+KTGDRgRQ4ACDHSaxwgQHbFbiiiy26OKLMMYo44w01mgjEheEIAAFAiSQXxMvPBCgYx8M4NArBjoRjAUhzKCiTSsUFogAFhqxwixtCPCeYy8kcF4bLTAV2R0FtHaBAfyZAGR8d0TQmlb8KeBEBQjcIRBrD/AinwdOeEELGa19UEE3gYwAxQYVaPbaAy6cxyeMJ3hATi1KyThFAh6kYFGNHzx546egXvjAAQesZmkHDgyngY8xfhBBhiAY0FhKQb7gKRoNQKCOCVt+dEAIDCgwwK1cXPCgIregFAEtAsxayACTquPBkOF0Vwt9jRRQp3wmVJmLB26w4EwjLWzrHbVTz2xgAgsCVEDsFiccG4i7KT2wAHWOpCCfBCSyNoMLHoxLhwljLeRaK1n2q8QDFQhAAAoiesvWOOgZCsUDG8xQkmwIA9AsjR+MoIEJBodq8skDBQEAIfkECQUANAAsAAAAAGQAZAAABv5AmnBILBqPyKRyyWw6n9Dla1IqLV7RrHarfUQoMASrhOWaz2haAQJoA2CTtHzuZLndGrp+X8Tc2wJ8gnoCfwB5g4lDHxcbB2VOFWxuMAtPDxMpEQMnik8NKhwiKReXKSwwMAIVkEsXAShtICoHnkwTfm0wEQ9PLwstLRutSh8ZMH8mxLZFGn8EM4oPhX8o0cxHL3Z/A4ovsX8wDdhHHzLhcYkvFIYoI+RHDX8KnYkfAYYCvfBFHykEMFBo2GDrgAYQbggQ5HfkxABL2E4U0KDAw0KGGDNq3Mixo8ePIEOKHEmypMkPExIESLEiy4cBBWYsM3mkAAEIICBwaPHhyf6Kc20UlKKZpASyOyjSMXkRAKGbFESRXFBgCIADJyck/JER9ciCbX8CNTlB9Q6irkRWUAvr5MUxNyBaoC3ywETVGE9OhABDIcbMriMI/GFxscmDBRNW7JtL5MMIsBJm9GQ85/CEYZQza97MubPnz6BDix5NurTp06gZTghgIUZhIYxODD19wgUCWRgKtBqggoWKAZNJvwgxyQ0GnkJWsGvD4hrpDSSqahgaozgIvKVHVAVAYWEIpwBAhDDdYTsFiCNyAXBnegG4PxLqvSjAAAYFVqYfuDAEokLwDydscEJwpa2gAHggBLBYakY8UIACAmggF4MUVmjhhRhmqOGGHP526OGHIG7xwgABmBDBCgReeIBdlHgwmxMrDHBAinNdYAF4skQARQMCECCBUpR1oB5SCyqhlhsy/EXTBzFsB0A3TczAgBssFNnVcE5WgJUBsoSg5EkZ4HgHkEtsEIICMdST2QzLPUMjgwW810ZSGn5QgQAogICCAgN8idoHBwzQwgRqhmjooYiW9sIDfqb2wQoFeOBBAu/U2YEAxZGQQaO2fPDCm3xsIFg1BYCKzQsteJBBoYJ8wGVVArSk0QC5BMCpGSdEVxUME2bUZBscsLrHDEP+UcJGLUyiTF4ZCIAAAjJU8CISom4X10YPZKCAA68pcUBZcFkwrREfqLAdC1QQYWtqgw6IGV4Efk5w1B9+BTmqIectYYycAHhgZVQROAlCAU2YKQALJkBJ2T0CJ3BhwNYSbGEL9z5DZmp1bRfAuqVtAK4bJoxL4QYpCBCQBNJqFAQAIfkECQUANAAsAAAAAGQAZAAABv5AmnBILBqPyKRyyWw6n1Dma3P6RK/YrHZhEYhCB614TB4eOCAAAGS6lN9wZ0RNBwzi+HxRU1cn9IB4Ln0AFYGHRS8XD1EzKHUUJ09TJSUDjIhOKxEaLgMvkxUCKCgKE1ZNLwUUajAumJlKDyJpABQtqE0fGy0Dkk8TJH0xsUsZfQq/gR8hhJHFSSZ9LCuILxaEBAvQSDF9EsqAH97TbtxGJwx0MCm5gQssfSnnSCsmBBK4sR8zIjAwKEKAokcQyYMBAza4K8iwocOHECNKnEixosWLGDPSu9ChxISBUR6E0dhkgQAMMEiYGOnkQgQYAAhkAEnSyAJhdZI5+VABwf66DTWPfPBQiw6IO6k89CkQ1MgDFYQAEEsVoI+hpkReQCU0z8kAdWoomMM6JEXRVtt2ttAgwcQpskROGKgDIgQsJydO3IUr5EAICigEFNjLV8yHDw8OF17MuLHjx5AjS55MubLly5gza05ysMGChZuHvKhAAQYEGAqqEXnQosCnyx8aYPjGkkYEnxhKXD6xlW4GVBcI0OFAU/KG2YRMYApOh0XxyBseJR8bAgIAGEwtn1AQNUauCyVitHge+UUJmHVYACWiOLMq4WoEfA595ESBFANA09/Pv7///wAGKOCABBZo4GMfXDBAATO8oN9mDxTgkxocjBfFCyeQ19QLGf5MSAcBE0CxggYCBBAOWSsIEJUGk0izxm+FNSBdHzA8aMQF3KnhgYYkVYAeIYQh8UEGMBHQgY0aDYBTHwRA8cAIDAYZFI5RheBfin208d8GDgjAggQpnMjfBwcsIOaBaKap5hgYHrCBlKGtEIIMLIjgCY9xKFhABi2cec4IEpxFQAJIlrGBBSRAAAIGMqRV0AqBEgLDCIc8IMNZAHCgGj0vmBUVABLgOcYxUZkgKiAX8PEpCuvpIcOnAmzKzQUifAoACkjpwUpUFIS4kapRoSCrQRMEoIABMSxwKg0SfKoeQZ1iSocAhT4Qg4cAkFBCoTQU8KkDcCJi0qctMEEkIWsYULrECSoyOQNDHyhJSAiFbsDBpxpwu0COaoDILSInOEABAQSokB8TFczYBwWOKvHBBDHE0EG43Hxwwga1LVHAj0yqG5qMn2qzn72fKrCsZOf2gYKv+z2QAHxhXdXfCxN4IIECMazwbyBBAAAh+QQJBQA0ACwAAAAAZABkAAAG/kCacEgsGo/IpHLJbDqf0Kh0Sq1CLxmNpfWyer/fiwkGAKBSXbB63RyAymXCgU2vFzNw+MbOp7fyADBzfYRhCm8AICFpTg8HGxcfhU8XLSkle1ArHgIKKSdPHwsuHCwmI5NOLiiBGitRLyegUAcKeRSDqUkLEHAgMZKFDYhwEbpKFYAmD4UfEYAAGsdJM4CLk8nW00gfJnACC6kbAnkoudtFDxUeFSfBzSsKKCgS4ej3ShsbzPj9/v8AAwocSLCgwYMIEyr092LFiFcLC71wQQEDhQCznhyIoCJBxohHXnjLY+LCkxMm3oCIwAhkkQms8oCY8WQCg2/8XBYpQQZQ/oUnKzjAUdBSp5AWPfO0CFWCBQoBE4wauSACEItzTEQN2PBO6pABLOBQaNHVqxVRBTwUWFDW7JcPbd3KnUu3rt27ePPq3cu3r9+/gAMXeXGgqGAiHzaYQACDRIqcQkR1gOh3BjlfASAP4IBBAOW9D0IQizOAiAE4AfxesAUIRAYiGuB4UM1a5ushI5x69hsaGoHSQ7Rmqhw2jwPIh2l8WKEBBogzyJMPcWRYuvXr2LNr3869u/fvgU+MqDAhevIHGRigQNC5Q1ydLy4cePA+5Mg8EBKYj/hhgoReCLjAVRMFQEOaWSPc5IsKHyFBlYFleLBfQg+c1loBTMxAAIQA/gjQYEQzFAeIAkxMsCGEAmAVkU0GSsDEARRwqMGHC50ggYEOMCEShynUh9AHMYwWSFRMnBAjNDOa9UIAMQFAQAM+EjGAAKO5ItcHLXhgQghshbJBASZo4EAFJmn3wQsPvBAleGy22WYs9G2njgcGOJDBgJMkNsAAK1S3zQkuIAAHBBIQSQgWIpBAAAcB+KnLAy70YlWZfDiTVCIWTDjJABhAGAMhKwgZSAn4vBADhwIQkgCEJqxpxwsecEgAIS5AqICmfZiKahMfHNBBBAlMEEkTpxpogqOFDNAkIJ8y0YJQZUCggT1LrHBpGSD8hM8FDohKAI0vHZmHBJQm8UEAWEIu488JDgDCACpL7AgNCCk08UAKR8IQQrn9DOCABBqUgKsQCygIjQKuCqFPwghNQAKKyO61gsEjMmyXvNBgaN0KIg41MF8DHBKtCcNZ98EJA6RA3seEBAEAIfkECQUANAAsAAAAAGQAZAAABv5AmnBILBqPyKRyyWw6n9CodEqtQj+TSGZl7Xq/rwIBAmGNvuj080QCuAGah3pOL67ebtapzp8fMHgKF32EYCkEICAUA1EfFycvhVEXK3tRLwMhMQsfUCcZKioRB5JOByYcEg2lNA8RMG4gGqxMDm8CXJIzbXgTtEoCbwSMkiMQeAAFv0kBIG4CpJILFMi+y0cbLhQKI52SD81vCt7XRi8PD+TfFQoSKZbl8fLz9PX29/j5+vv8/f7/AAMKpPJhgAEOFhZIeTCiwAw5A498SICHQAd1Sz5kgGURY0QaB3i9MQCPyQUFbzxE+khkAAJkLKI1eWHiTQqPEWegQCahJP6TFRoEeBjEksgLFXhAxFj55MUFpkWHLFDgDIUHn1GtnBjQYgLErGDDih1LtqzZs2jTql3Ltq1bGi86RNA0AupbIgc8IAKgKALWtweoIgNggmjaBx0EEBDRYmWEwW+UpX0RA5YbGAnkMIDsRoLaCZvxUJhBwxlnFGorHMMDowSN1ZAJpLb8pjUNFpwByFC7gAMyCgpT5K6gNgxtEAU6ndAA2cRXtC8mBNUwgNwJB3sBEAhh+K7RASliFJiA07v58+jTq1/Pvr379+wvbHie/sMMAxQIMHDw9+OHFwCWh0QBO4lGXlYHRMACARJU0J0SKwAymAQbRLUcHgjEQB8SHv5wBoFkLCUAmxsYKLTEC8FwphJLR0GWARMv+MaZAxsC9ABKg8XQBHOcxSBgPx90OBgxS7TAGQFnFLUAAcgo0J8RDpj2BggvZjUBCyiAgIIJFTpxQQgUmMZCAXaxdEEL4/14xAsLVFBACyuoCd+cdNZp551CzFBAAimMUGMfJ6xQZjkfFMDAaiRcJQkWLsjAgQYd0PNBCRJO6cKgagwQ2mUVyNnHBiJwZiIfD2wqzKjXdFDgYCEQsoCUtaUgj2ozEtIBZ63GM0ClyOjYxAMbzLDCAZgasQBkyMlzgAScdbnEBgGQkAgLCTyIxAfMwuTsNR+0sGpKcl6AFB4QBODEAFi41RbpPJgwGYtfTWQwohsooJrEBwt4wAIFDhxYzwMDvPmnER/gOFgE6D0QKmQeoPcBjzmm1wCs9G7r3QcO0AYADMSp90AGChBAgQaNsffCCRtscIKnhAQBACH5BAkFADQALAAAAABkAGQAAAb+QJpwSCwaj8ikcslsOp/QqHRKrUofL6t2yxVeQiRKKtstm5efAgwAQHTO8PjwFWGzM/K8+VOCsFFveoJbDzEULAVkUC+Kg08vH1SQUi8jMREtD45NDwUqDhubNC0sbBgJoksdCGwmjXknBnYAMK+pRDF2HCeOKwKzAKG3RwMEbB62cReydijJwy8dHgW8jh8DFGwgBcNJH5OiHycFBQuR3ejp6uvs7e7v8PHy7y8PFw/n84MfKykmMhYyCNOnZ4AAP9oUzCAIKxswAAoOMFxyIoGHFs+MfLDw0E6MfBOLzMBgR8JAJQcYdGSjoFrIIhpmgYiRccgMYytZnHxJ4wP+CWAmLjBZ4bCjgJ08f83yoGnJCwUrAThoynNIHzsEBjhpAaIjCq1VibyIIYCCAoxOPnjoOCZskQ8HFpwAyeRFBQEwYCAQMICuWy0PFgxYUfOv4cOIEytezLix48eQI0sOe2JAgwEuJyt50UAEARQkZKDVjITOmlkIEhRG/GJFAAspJAoZgMLrwsgfKuAEIGCFkABRQ0hewQGYgywyoiqQ3KL2LAESoa7UILmDczsCeOVamULyBgnAPES66dU37gGl2Gio9qLA9T8VVh+GWyAG5iITFFAgQEDDbdJK8DPBCn4BaOCBCCao4IIMNujggxBG6MgFJajAggbxLfZNgUr+LCACMAZk5tYHMyTgQAwLyEfDUw+BwNRhIxTFQAUc4tfVQxRMYNgFStnBgmxL1NERCBUYtspDLTQhZIvc/FXBabM0uUQDKwFi2AokyaQjEw/sNosEIvKkFjAaULVEMcBQsABiHxiCAgUehOnNCCbsR4EJSP11glxTBDbBBipKKOighBZqqBEXjFBBBwfUKIejt6ygHwIYSJDhIONooEEEeUbaIxsIFADpFgdocBoIDHS6yQsO3DgLAWbC8QFwwEgQayrfrbSlHC8UZQcGuw6zQHEdFZnHA1DaAUMD6RyQXEfBBnjBBgdcMKoQL6T36n/DtOmqj/I9UCEJDJjQgXxkH6TwLQAmXJtHqcCgkGQTGbyXlRMneAClBECmk69zCowg3wZessGCig9MEEMILciZzq1LqNviCAxGsC4AIDC7YAkXg7Dmghf4yoYE7kKGzSw6OfjCBCEooEEMG5QsmTgXBJpHEAAh+QQJBQA0ACwAAAAAZABkAAAG/kCacEgsGo/IpHLJbDqf0Kh0Sq1ar9is9TMwmUYfrXjcXHAAAMGKzG5+LpPNK9pBoAmjth55cbBIFAoND08rLGgCG3uLQlwMaJAgLoROMx4ea4yLGyKQngAFmjQfKxMXokofGRCfkCyniy8FAgwWiqhHDxatkCh5iwOPaDG4RxcKvGgwLYwVKJAaxUa6yQAwE4wLhwAgKdJFHwUgyQKUey8dEhQhsN9DJyrJzJofLw9h7kULyJ4wKfj5Ah6IoYAFCwcD5gRcSOPFiQMnzDGcSLGixYsYxdQDmBHVgxEFQmRI2FHUCRcEIBEI0K6kHgvjPEEIoNClkhcLKhyA0iIZ/ooKNpU8MDAORAiJSnYl81AzaJEGnjDMYyKhmgakToU4+ESsSbxkDrBmjeEJRKgmKar9y2rkwDYAGm4xuUCBVyK2Rj5YMpFiAZQBdT2RwIb3yAexTA6EYEGABbvCkCNLnky5suXLmDNr3sy5s+d8HzZMyPS5yQoLLBiwsEC6tOERb9EwGMCR84URFWaYO8Dvk4ATn1doQAPCA6UBrHgN8PzCRUxrJYQUqNaV84FOnqLRmJ7MW+cDVT2ZEDLBDi/CnD9EeA6jg5ALBngpaLn5RAgYAAisFbJCwfM0C9S22QsbbHBCU6OkoIAACiQAnGtMHCYghBRWaOGFGGao4YYc/nbo4YeofHBACgGkcMCEkaEoVATmcZMCYlmF1kACLez0RAb49RPdZDOIMA4EGrR2U2CfSGAjZC/0xo1xTWzwn0roFbZASp6wIJcSKyRDwHKRLfCMJxRcmcQDX35ipWQPnJEdfUl4wIsHKgbVQo750ebECSb8Z0KcTi3ggAIhiDlXARpIoEEBMFr4wAWJgujoo5BGKukSH5ywwAoIZvhBAjKwIIADM+DywAAVYDrRCwEkhwYLfjHywQgiIIAACi5kKo0zrShg6xjafBICn4t84AIvEDR6hSqtUHDkNy+YkMyybHzg5icoRPmNB09aY+wQb1ywq2FpfRLmQiMQCYkDZ8COskACBpiQwArp0rCAuQB4wJAsdAKggKBIzKAmNyLwe8QLDbylwYMLceGAABKkcEK8SqIxnhOhVVDABAhLdkC+ymzL2QwcWwNthReU2Uu8nE3rSXUZ9vElCkxyOGoMMQzg8aRtBAEAOw==",imagePosition:"center center",maxSize:"100px",minSize:"20px",resizeInterval:50,size:"50%",zIndex:b};a.LoadingOverlaySetup=function(b){a.extend(!0,c,b)},a.LoadingOverlay=function(b,f){switch(b.toLowerCase()){case"show":var g=a.extend(!0,{},c,f);d("body",g);break;case"hide":e("body",f)}},a.fn.LoadingOverlay=function(b,f){switch(b.toLowerCase()){case"show":var g=a.extend(!0,{},c,f);return this.each(function(){d(this,g)});case"hide":return this.each(function(){e(this,f)})}}}(jQuery);
/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.14.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *   GPL v3 http://opensource.org/licenses/GPL-3.0
 *
 */
!function(t,e){"use strict";"object"==typeof exports?module.exports=e(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],e):t.URI=e(t.punycode,t.IPv6,t.SecondLevelDomains,t)}(this,(function(t,e,r,s){"use strict";var n=s&&s.URI;function i(t,e){return this instanceof i?(void 0===t&&(t="undefined"!=typeof location?location.href+"":""),this.href(t),void 0!==e?this.absoluteTo(e):this):new i(t,e)}i.version="1.14.1";var a=i.prototype,o=Object.prototype.hasOwnProperty;function h(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function u(t){return void 0===t?"Undefined":String(Object.prototype.toString.call(t)).slice(8,-1)}function p(t){return"Array"===u(t)}function c(t,e){var r,s;if(p(e)){for(r=0,s=e.length;r<s;r++)if(!c(t,e[r]))return!1;return!0}var n=u(e);for(r=0,s=t.length;r<s;r++)if("RegExp"===n){if("string"==typeof t[r]&&t[r].match(e))return!0}else if(t[r]===e)return!0;return!1}function l(t,e){if(!p(t)||!p(e))return!1;if(t.length!==e.length)return!1;t.sort(),e.sort();for(var r=0,s=t.length;r<s;r++)if(t[r]!==e[r])return!1;return!0}function d(t){return escape(t)}function f(t){return encodeURIComponent(t).replace(/[!'()*]/g,d).replace(/\*/g,"%2A")}i._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:i.duplicateQueryParameters,escapeQuerySpace:i.escapeQuerySpace}},i.duplicateQueryParameters=!1,i.escapeQuerySpace=!0,i.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,i.idn_expression=/[^a-z0-9\.-]/i,i.punycode_expression=/(xn--)/i,i.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,i.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,i.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/},i.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},i.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,i.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},i.getDomAttribute=function(t){if(t&&t.nodeName){var e=t.nodeName.toLowerCase();if("input"!==e||"image"===t.type)return i.domAttributes[e]}},i.encode=f,i.decode=decodeURIComponent,i.iso8859=function(){i.encode=escape,i.decode=unescape},i.unicode=function(){i.encode=f,i.decode=decodeURIComponent},i.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},i.encodeQuery=function(t,e){var r=i.encode(t+"");return void 0===e&&(e=i.escapeQuerySpace),e?r.replace(/%20/g,"+"):r},i.decodeQuery=function(t,e){t+="",void 0===e&&(e=i.escapeQuerySpace);try{return i.decode(e?t.replace(/\+/g,"%20"):t)}catch(e){return t}},i.recodePath=function(t){for(var e=(t+"").split("/"),r=0,s=e.length;r<s;r++)e[r]=i.encodePathSegment(i.decode(e[r]));return e.join("/")},i.decodePath=function(t){for(var e=(t+"").split("/"),r=0,s=e.length;r<s;r++)e[r]=i.decodePathSegment(e[r]);return e.join("/")};var m,_={encode:"encode",decode:"decode"},g=function(t,e){return function(r){try{return i[e](r+"").replace(i.characters[t][e].expression,(function(r){return i.characters[t][e].map[r]}))}catch(t){return r}}};for(m in _)i[m+"PathSegment"]=g("pathname",_[m]);function y(t){return function(e,r){return void 0===e?this._parts[t]||"":(this._parts[t]=e||null,this.build(!r),this)}}function v(t,e){return function(r,s){return void 0===r?this._parts[t]||"":(null!==r&&(r+="").charAt(0)===e&&(r=r.substring(1)),this._parts[t]=r,this.build(!s),this)}}i.encodeReserved=g("reserved","encode"),i.parse=function(t,e){var r;return e||(e={}),(r=t.indexOf("#"))>-1&&(e.fragment=t.substring(r+1)||null,t=t.substring(0,r)),(r=t.indexOf("?"))>-1&&(e.query=t.substring(r+1)||null,t=t.substring(0,r)),"//"===t.substring(0,2)?(e.protocol=null,t=t.substring(2),t=i.parseAuthority(t,e)):(r=t.indexOf(":"))>-1&&(e.protocol=t.substring(0,r)||null,e.protocol&&!e.protocol.match(i.protocol_expression)?e.protocol=void 0:"//"===t.substring(r+1,r+3)?(t=t.substring(r+3),t=i.parseAuthority(t,e)):(t=t.substring(r+1),e.urn=!0)),e.path=t,e},i.parseHost=function(t,e){var r,s,n=t.indexOf("/");return-1===n&&(n=t.length),"["===t.charAt(0)?(r=t.indexOf("]"),e.hostname=t.substring(1,r)||null,e.port=t.substring(r+2,n)||null,"/"===e.port&&(e.port=null)):t.indexOf(":")!==t.lastIndexOf(":")?(e.hostname=t.substring(0,n)||null,e.port=null):(s=t.substring(0,n).split(":"),e.hostname=s[0]||null,e.port=s[1]||null),e.hostname&&"/"!==t.substring(n).charAt(0)&&(n++,t="/"+t),t.substring(n)||"/"},i.parseAuthority=function(t,e){return t=i.parseUserinfo(t,e),i.parseHost(t,e)},i.parseUserinfo=function(t,e){var r,s=t.indexOf("/"),n=t.lastIndexOf("@",s>-1?s:t.length-1);return n>-1&&(-1===s||n<s)?(r=t.substring(0,n).split(":"),e.username=r[0]?i.decode(r[0]):null,r.shift(),e.password=r[0]?i.decode(r.join(":")):null,t=t.substring(n+1)):(e.username=null,e.password=null),t},i.parseQuery=function(t,e){if(!t)return{};if(!(t=t.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var r,s,n,a={},h=t.split("&"),u=h.length,p=0;p<u;p++)r=h[p].split("="),s=i.decodeQuery(r.shift(),e),n=r.length?i.decodeQuery(r.join("="),e):null,o.call(a,s)?("string"==typeof a[s]&&(a[s]=[a[s]]),a[s].push(n)):a[s]=n;return a},i.build=function(t){var e="";return t.protocol&&(e+=t.protocol+":"),t.urn||!e&&!t.hostname||(e+="//"),e+=i.buildAuthority(t)||"","string"==typeof t.path&&("/"!==t.path.charAt(0)&&"string"==typeof t.hostname&&(e+="/"),e+=t.path),"string"==typeof t.query&&t.query&&(e+="?"+t.query),"string"==typeof t.fragment&&t.fragment&&(e+="#"+t.fragment),e},i.buildHost=function(t){var e="";return t.hostname?(i.ip6_expression.test(t.hostname)?e+="["+t.hostname+"]":e+=t.hostname,t.port&&(e+=":"+t.port),e):""},i.buildAuthority=function(t){return i.buildUserinfo(t)+i.buildHost(t)},i.buildUserinfo=function(t){var e="";return t.username&&(e+=i.encode(t.username),t.password&&(e+=":"+i.encode(t.password)),e+="@"),e},i.buildQuery=function(t,e,r){var s,n,a,h,u="";for(n in t)if(o.call(t,n)&&n)if(p(t[n]))for(s={},a=0,h=t[n].length;a<h;a++)void 0!==t[n][a]&&void 0===s[t[n][a]+""]&&(u+="&"+i.buildQueryParameter(n,t[n][a],r),!0!==e&&(s[t[n][a]+""]=!0));else void 0!==t[n]&&(u+="&"+i.buildQueryParameter(n,t[n],r));return u.substring(1)},i.buildQueryParameter=function(t,e,r){return i.encodeQuery(t,r)+(null!==e?"="+i.encodeQuery(e,r):"")},i.addQuery=function(t,e,r){if("object"==typeof e)for(var s in e)o.call(e,s)&&i.addQuery(t,s,e[s]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===t[e])return void(t[e]=r);"string"==typeof t[e]&&(t[e]=[t[e]]),p(r)||(r=[r]),t[e]=(t[e]||[]).concat(r)}},i.removeQuery=function(t,e,r){var s,n,a;if(p(e))for(s=0,n=e.length;s<n;s++)t[e[s]]=void 0;else if("object"==typeof e)for(a in e)o.call(e,a)&&i.removeQuery(t,a,e[a]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");void 0!==r?t[e]===r?t[e]=void 0:p(t[e])&&(t[e]=function(t,e){var r,s,n={};if(p(e))for(r=0,s=e.length;r<s;r++)n[e[r]]=!0;else n[e]=!0;for(r=0,s=t.length;r<s;r++)void 0!==n[t[r]]&&(t.splice(r,1),s--,r--);return t}(t[e],r)):t[e]=void 0}},i.hasQuery=function(t,e,r,s){if("object"==typeof e){for(var n in e)if(o.call(e,n)&&!i.hasQuery(t,n,e[n]))return!1;return!0}if("string"!=typeof e)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(u(r)){case"Undefined":return e in t;case"Boolean":return r===Boolean(p(t[e])?t[e].length:t[e]);case"Function":return!!r(t[e],e,t);case"Array":return!!p(t[e])&&(s?c:l)(t[e],r);case"RegExp":return p(t[e])?!!s&&c(t[e],r):Boolean(t[e]&&t[e].match(r));case"Number":r=String(r);case"String":return p(t[e])?!!s&&c(t[e],r):t[e]===r;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},i.commonPath=function(t,e){var r,s=Math.min(t.length,e.length);for(r=0;r<s;r++)if(t.charAt(r)!==e.charAt(r)){r--;break}return r<1?t.charAt(0)===e.charAt(0)&&"/"===t.charAt(0)?"/":"":("/"===t.charAt(r)&&"/"===e.charAt(r)||(r=t.substring(0,r).lastIndexOf("/")),t.substring(0,r+1))},i.withinString=function(t,e,r){r||(r={});var s=r.start||i.findUri.start,n=r.end||i.findUri.end,a=r.trim||i.findUri.trim,o=/[a-z0-9-]=["']?$/i;for(s.lastIndex=0;;){var h=s.exec(t);if(!h)break;var u=h.index;if(r.ignoreHtml){var p=t.slice(Math.max(u-3,0),u);if(p&&o.test(p))continue}var c=u+t.slice(u).search(n),l=t.slice(u,c).replace(a,"");if(!r.ignore||!r.ignore.test(l)){var d=e(l,u,c=u+l.length,t);t=t.slice(0,u)+d+t.slice(c),s.lastIndex=u+d.length}}return s.lastIndex=0,t},i.ensureValidHostname=function(e){if(e.match(i.invalid_hostname_characters)){if(!t)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(t.toASCII(e).match(i.invalid_hostname_characters))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]')}},i.noConflict=function(t){if(t){var e={URI:this.noConflict()};return s.URITemplate&&"function"==typeof s.URITemplate.noConflict&&(e.URITemplate=s.URITemplate.noConflict()),s.IPv6&&"function"==typeof s.IPv6.noConflict&&(e.IPv6=s.IPv6.noConflict()),s.SecondLevelDomains&&"function"==typeof s.SecondLevelDomains.noConflict&&(e.SecondLevelDomains=s.SecondLevelDomains.noConflict()),e}return s.URI===this&&(s.URI=n),this},a.build=function(t){return!0===t?this._deferred_build=!0:(void 0===t||this._deferred_build)&&(this._string=i.build(this._parts),this._deferred_build=!1),this},a.clone=function(){return new i(this)},a.valueOf=a.toString=function(){return this.build(!1)._string},a.protocol=y("protocol"),a.username=y("username"),a.password=y("password"),a.hostname=y("hostname"),a.port=y("port"),a.query=v("query","?"),a.fragment=v("fragment","#"),a.search=function(t,e){var r=this.query(t,e);return"string"==typeof r&&r.length?"?"+r:r},a.hash=function(t,e){var r=this.fragment(t,e);return"string"==typeof r&&r.length?"#"+r:r},a.pathname=function(t,e){if(void 0===t||!0===t){var r=this._parts.path||(this._parts.hostname?"/":"");return t?i.decodePath(r):r}return this._parts.path=t?i.recodePath(t):"/",this.build(!e),this},a.path=a.pathname,a.href=function(t,e){var r;if(void 0===t)return this.toString();this._string="",this._parts=i._parts();var s=t instanceof i,n="object"==typeof t&&(t.hostname||t.path||t.pathname);t.nodeName&&(t=t[i.getDomAttribute(t)]||"",n=!1);if(!s&&n&&void 0!==t.pathname&&(t=t.toString()),"string"==typeof t||t instanceof String)this._parts=i.parse(String(t),this._parts);else{if(!s&&!n)throw new TypeError("invalid input");var a=s?t._parts:t;for(r in a)o.call(this._parts,r)&&(this._parts[r]=a[r])}return this.build(!e),this},a.is=function(t){var e=!1,s=!1,n=!1,a=!1,o=!1,h=!1,u=!1,p=!this._parts.urn;switch(this._parts.hostname&&(p=!1,s=i.ip4_expression.test(this._parts.hostname),n=i.ip6_expression.test(this._parts.hostname),o=(a=!(e=s||n))&&r&&r.has(this._parts.hostname),h=a&&i.idn_expression.test(this._parts.hostname),u=a&&i.punycode_expression.test(this._parts.hostname)),t.toLowerCase()){case"relative":return p;case"absolute":return!p;case"domain":case"name":return a;case"sld":return o;case"ip":return e;case"ip4":case"ipv4":case"inet4":return s;case"ip6":case"ipv6":case"inet6":return n;case"idn":return h;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return u}return null};var b=a.protocol,Q=a.port,w=a.hostname;a.protocol=function(t,e){if(void 0!==t&&t&&!(t=t.replace(/:(\/\/)?$/,"")).match(i.protocol_expression))throw new TypeError('Protocol "'+t+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return b.call(this,t,e)},a.scheme=a.protocol,a.port=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t&&(0===t&&(t=null),t&&(":"===(t+="").charAt(0)&&(t=t.substring(1)),t.match(/[^0-9]/))))throw new TypeError('Port "'+t+'" contains characters other than [0-9]');return Q.call(this,t,e)},a.hostname=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t){var r={};i.parseHost(t,r),t=r.hostname}return w.call(this,t,e)},a.host=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?i.buildHost(this._parts):"":(i.parseHost(t,this._parts),this.build(!e),this)},a.authority=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?i.buildAuthority(this._parts):"":(i.parseAuthority(t,this._parts),this.build(!e),this)},a.userinfo=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.username)return"";var r=i.buildUserinfo(this._parts);return r.substring(0,r.length-1)}return"@"!==t[t.length-1]&&(t+="@"),i.parseUserinfo(t,this._parts),this.build(!e),this},a.resource=function(t,e){var r;return void 0===t?this.path()+this.search()+this.hash():(r=i.parse(t),this._parts.path=r.path,this._parts.query=r.query,this._parts.fragment=r.fragment,this.build(!e),this)},a.subdomain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,r)||""}var s=this._parts.hostname.length-this.domain().length,n=this._parts.hostname.substring(0,s),a=new RegExp("^"+h(n));return t&&"."!==t.charAt(t.length-1)&&(t+="."),t&&i.ensureValidHostname(t),this._parts.hostname=this._parts.hostname.replace(a,t),this.build(!e),this},a.domain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.match(/\./g);if(r&&r.length<2)return this._parts.hostname;var s=this._parts.hostname.length-this.tld(e).length-1;return s=this._parts.hostname.lastIndexOf(".",s-1)+1,this._parts.hostname.substring(s)||""}if(!t)throw new TypeError("cannot set domain empty");if(i.ensureValidHostname(t),!this._parts.hostname||this.is("IP"))this._parts.hostname=t;else{var n=new RegExp(h(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(n,t)}return this.build(!e),this},a.tld=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var s=this._parts.hostname.lastIndexOf("."),n=this._parts.hostname.substring(s+1);return!0!==e&&r&&r.list[n.toLowerCase()]&&r.get(this._parts.hostname)||n}var i;if(!t)throw new TypeError("cannot set TLD empty");if(t.match(/[^a-zA-Z0-9-]/)){if(!r||!r.is(t))throw new TypeError('TLD "'+t+'" contains characters other than [A-Z0-9]');i=new RegExp(h(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(i,t)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");i=new RegExp(h(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(i,t)}return this.build(!e),this},a.directory=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var r=this._parts.path.length-this.filename().length-1,s=this._parts.path.substring(0,r)||(this._parts.hostname?"/":"");return t?i.decodePath(s):s}var n=this._parts.path.length-this.filename().length,a=this._parts.path.substring(0,n),o=new RegExp("^"+h(a));return this.is("relative")||(t||(t="/"),"/"!==t.charAt(0)&&(t="/"+t)),t&&"/"!==t.charAt(t.length-1)&&(t+="/"),t=i.recodePath(t),this._parts.path=this._parts.path.replace(o,t),this.build(!e),this},a.filename=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this._parts.path||"/"===this._parts.path)return"";var r=this._parts.path.lastIndexOf("/"),s=this._parts.path.substring(r+1);return t?i.decodePathSegment(s):s}var n=!1;"/"===t.charAt(0)&&(t=t.substring(1)),t.match(/\.?\//)&&(n=!0);var a=new RegExp(h(this.filename())+"$");return t=i.recodePath(t),this._parts.path=this._parts.path.replace(a,t),n?this.normalizePath(e):this.build(!e),this},a.suffix=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this._parts.path||"/"===this._parts.path)return"";var r,s,n=this.filename(),a=n.lastIndexOf(".");return-1===a?"":(r=n.substring(a+1),s=/^[a-z0-9%]+$/i.test(r)?r:"",t?i.decodePathSegment(s):s)}"."===t.charAt(0)&&(t=t.substring(1));var o,u=this.suffix();if(u)o=t?new RegExp(h(u)+"$"):new RegExp(h("."+u)+"$");else{if(!t)return this;this._parts.path+="."+i.recodePath(t)}return o&&(t=i.recodePath(t),this._parts.path=this._parts.path.replace(o,t)),this.build(!e),this},a.segment=function(t,e,r){var s=this._parts.urn?":":"/",n=this.path(),i="/"===n.substring(0,1),a=n.split(s);if(void 0!==t&&"number"!=typeof t&&(r=e,e=t,t=void 0),void 0!==t&&"number"!=typeof t)throw new Error('Bad segment "'+t+'", must be 0-based integer');if(i&&a.shift(),t<0&&(t=Math.max(a.length+t,0)),void 0===e)return void 0===t?a:a[t];if(null===t||void 0===a[t])if(p(e)){a=[];for(var o=0,h=e.length;o<h;o++)(e[o].length||a.length&&a[a.length-1].length)&&(a.length&&!a[a.length-1].length&&a.pop(),a.push(e[o]))}else(e||"string"==typeof e)&&(""===a[a.length-1]?a[a.length-1]=e:a.push(e));else e?a[t]=e:a.splice(t,1);return i&&a.unshift(""),this.path(a.join(s),r)},a.segmentCoded=function(t,e,r){var s,n,a;if("number"!=typeof t&&(r=e,e=t,t=void 0),void 0===e){if(p(s=this.segment(t,e,r)))for(n=0,a=s.length;n<a;n++)s[n]=i.decode(s[n]);else s=void 0!==s?i.decode(s):void 0;return s}if(p(e))for(n=0,a=e.length;n<a;n++)e[n]=i.decode(e[n]);else e="string"==typeof e||e instanceof String?i.encode(e):e;return this.segment(t,e,r)};var A=a.query;return a.query=function(t,e){if(!0===t)return i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof t){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace),s=t.call(this,r);return this._parts.query=i.buildQuery(s||r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this}return void 0!==t&&"string"!=typeof t?(this._parts.query=i.buildQuery(t,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this):A.call(this,t,e)},a.setQuery=function(t,e,r){var s=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof t||t instanceof String)s[t]=void 0!==e?e:null;else{if("object"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var n in t)o.call(t,n)&&(s[n]=t[n])}return this._parts.query=i.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},a.addQuery=function(t,e,r){var s=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.addQuery(s,t,void 0===e?null:e),this._parts.query=i.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},a.removeQuery=function(t,e,r){var s=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.removeQuery(s,t,e),this._parts.query=i.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(r=e),this.build(!r),this},a.hasQuery=function(t,e,r){var s=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.hasQuery(s,t,e,r)},a.setSearch=a.setQuery,a.addSearch=a.addQuery,a.removeSearch=a.removeQuery,a.hasSearch=a.hasQuery,a.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},a.normalizeProtocol=function(t){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!t)),this},a.normalizeHostname=function(r){return this._parts.hostname&&(this.is("IDN")&&t?this._parts.hostname=t.toASCII(this._parts.hostname):this.is("IPv6")&&e&&(this._parts.hostname=e.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!r)),this},a.normalizePort=function(t){return"string"==typeof this._parts.protocol&&this._parts.port===i.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!t)),this},a.normalizePath=function(t){if(this._parts.urn)return this;if(!this._parts.path||"/"===this._parts.path)return this;var e,r,s,n=this._parts.path,a="";for("/"!==n.charAt(0)&&(e=!0,n="/"+n),n=n.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),e&&(a=n.substring(1).match(/^(\.\.\/)+/)||"")&&(a=a[0]);-1!==(r=n.indexOf("/.."));)0!==r?(-1===(s=n.substring(0,r).lastIndexOf("/"))&&(s=r),n=n.substring(0,s)+n.substring(r+3)):n=n.substring(3);return e&&this.is("relative")&&(n=a+n.substring(1)),n=i.recodePath(n),this._parts.path=n,this.build(!t),this},a.normalizePathname=a.normalizePath,a.normalizeQuery=function(t){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(i.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!t)),this},a.normalizeFragment=function(t){return this._parts.fragment||(this._parts.fragment=null,this.build(!t)),this},a.normalizeSearch=a.normalizeQuery,a.normalizeHash=a.normalizeFragment,a.iso8859=function(){var t=i.encode,e=i.decode;return i.encode=escape,i.decode=decodeURIComponent,this.normalize(),i.encode=t,i.decode=e,this},a.unicode=function(){var t=i.encode,e=i.decode;return i.encode=f,i.decode=unescape,this.normalize(),i.encode=t,i.decode=e,this},a.readable=function(){var e=this.clone();e.username("").password("").normalize();var r="";if(e._parts.protocol&&(r+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&t?(r+=t.toUnicode(e._parts.hostname),e._parts.port&&(r+=":"+e._parts.port)):r+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path.charAt(0)&&(r+="/"),r+=e.path(!0),e._parts.query){for(var s="",n=0,a=e._parts.query.split("&"),o=a.length;n<o;n++){var h=(a[n]||"").split("=");s+="&"+i.decodeQuery(h[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==h[1]&&(s+="="+i.decodeQuery(h[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}r+="?"+s.substring(1)}return r+=i.decodeQuery(e.hash(),!0)},a.absoluteTo=function(t){var e,r,s,n=this.clone(),a=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t instanceof i||(t=new i(t)),n._parts.protocol||(n._parts.protocol=t._parts.protocol),this._parts.hostname)return n;for(r=0;s=a[r];r++)n._parts[s]=t._parts[s];return n._parts.path?".."===n._parts.path.substring(-2)&&(n._parts.path+="/"):(n._parts.path=t._parts.path,n._parts.query||(n._parts.query=t._parts.query)),"/"!==n.path().charAt(0)&&(e=t.directory(),n._parts.path=(e?e+"/":"")+n._parts.path,n.normalizePath()),n.build(),n},a.relativeTo=function(t){var e,r,s,n,a,o=this.clone().normalize();if(o._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t=new i(t).normalize(),e=o._parts,r=t._parts,n=o.path(),a=t.path(),"/"!==n.charAt(0))throw new Error("URI is already relative");if("/"!==a.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(e.protocol===r.protocol&&(e.protocol=null),e.username!==r.username||e.password!==r.password)return o.build();if(null!==e.protocol||null!==e.username||null!==e.password)return o.build();if(e.hostname!==r.hostname||e.port!==r.port)return o.build();if(e.hostname=null,e.port=null,n===a)return e.path="",o.build();if(!(s=i.commonPath(o.path(),t.path())))return o.build();var h=r.path.substring(s.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return e.path=h+e.path.substring(s.length),o.build()},a.equals=function(t){var e,r,s,n,a,h=this.clone(),u=new i(t),c={};if(h.normalize(),u.normalize(),h.toString()===u.toString())return!0;if(s=h.query(),n=u.query(),h.query(""),u.query(""),h.toString()!==u.toString())return!1;if(s.length!==n.length)return!1;for(a in e=i.parseQuery(s,this._parts.escapeQuerySpace),r=i.parseQuery(n,this._parts.escapeQuerySpace),e)if(o.call(e,a)){if(p(e[a])){if(!l(e[a],r[a]))return!1}else if(e[a]!==r[a])return!1;c[a]=!0}for(a in r)if(o.call(r,a)&&!c[a])return!1;return!0},a.duplicateQueryParameters=function(t){return this._parts.duplicateQueryParameters=!!t,this},a.escapeQuerySpace=function(t){return this._parts.escapeQuerySpace=!!t,this},i}));
!function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}(),n=function(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n},r=function(e){return encodeURIComponent(e).replace(/%20/g,"+")},o=function(e){return decodeURIComponent(e).replace(/\+/g," ")};"URLSearchParams"in e&&"a=1"===new URLSearchParams("?a=1").toString()||function(){var i=function(e){if(Object.defineProperty(this,"_entries",{value:{}}),"string"==typeof e){if(""!==e)for(var t,n=(e=e.replace(/^\?/,"")).split("&"),r=0;r<n.length;r++)t=n[r].split("="),this.append(o(t[0]),t.length>1?o(t[1]):"")}else if(e instanceof i){var a=this;e.forEach((function(e,t){a.append(e,t)}))}},a=i.prototype;a.append=function(e,t){e in this._entries?this._entries[e].push(t.toString()):this._entries[e]=[t.toString()]},a.delete=function(e){delete this._entries[e]},a.get=function(e){return e in this._entries?this._entries[e][0]:null},a.getAll=function(e){return e in this._entries?this._entries[e].slice(0):[]},a.has=function(e){return e in this._entries},a.set=function(e,t){this._entries[e]=[t.toString()]},a.forEach=function(e,t){var n;for(var r in this._entries)if(this._entries.hasOwnProperty(r)){n=this._entries[r];for(var o=0;o<n.length;o++)e.call(t,n[o],r,this)}},a.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),n(e)},a.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),n(e)},a.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),n(e)},t&&(a[Symbol.iterator]=a.entries),a.toString=function(){var e="";return this.forEach((function(t,n){e.length>0&&(e+="&"),e+=r(n)+"="+r(t)})),e},e.URLSearchParams=i}()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(e){if(function(){try{var e=new URL("b","http://a");return e.pathname="c%20d","http://a/c%20d"===e.href&&e.searchParams}catch(e){return!1}}()||function(){var t=e.URL,n=function(e,t){"string"!=typeof e&&(e=String(e));var n=document.implementation.createHTMLDocument("");if(window.doc=n,t){var r=n.createElement("base");r.href=t,n.head.appendChild(r)}var o=n.createElement("a");if(o.href=e,n.body.appendChild(o),o.href=o.href,":"===o.protocol||!/:/.test(o.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:o})},r=n.prototype;["hash","host","hostname","port","protocol","search"].forEach((function(e){!function(e){Object.defineProperty(r,e,{get:function(){return this._anchorElement[e]},set:function(t){this._anchorElement[e]=t},enumerable:!0})}(e)})),Object.defineProperties(r,{toString:{get:function(){var e=this;return function(){return e.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(e){this._anchorElement.href=e},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(e){this._anchorElement.pathname=e},enumerable:!0},origin:{get:function(){var e={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],t=this._anchorElement.port!=e&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(t?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(e){},enumerable:!0},username:{get:function(){return""},set:function(e){},enumerable:!0},searchParams:{get:function(){var e=new URLSearchParams(this.search),t=this;return["append","delete","set"].forEach((function(n){var r=e[n];e[n]=function(){r.apply(e,arguments),t.search=e.toString()}})),e},enumerable:!0}}),n.createObjectURL=function(e){return t.createObjectURL.apply(t,arguments)},n.revokeObjectURL=function(e){return t.revokeObjectURL.apply(t,arguments)},e.URL=n}(),void 0!==e.location&&!("origin"in e.location)){var t=function(){return e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")};try{Object.defineProperty(e.location,"origin",{get:t,enumerable:!0})}catch(n){setInterval((function(){e.location.origin=t()}),100)}}}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this);
if(!jQuery)throw new Error("Bootstrap requires jQuery");!function(t){"use strict";t.fn.emulateTransitionEnd=function(e){var i=!1,o=this;t(this).one(t.support.transition.end,(function(){i=!0}));return setTimeout((function(){i||t(o).trigger(t.support.transition.end)}),e),this},t((function(){t.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]}}()}))}(window.jQuery),function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){var i=t(this),o=i.attr("data-target");o||(o=(o=i.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,""));var n=t(o);function s(){n.trigger("closed.bs.alert").remove()}e&&e.preventDefault(),n.length||(n=i.hasClass("alert")?i:i.parent()),n.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(n.removeClass("in"),t.support.transition&&n.hasClass("fade")?n.one(t.support.transition.end,s).emulateTransitionEnd(150):s())};var o=t.fn.alert;t.fn.alert=function(e){return this.each((function(){var o=t(this),n=o.data("bs.alert");n||o.data("bs.alert",n=new i(this)),"string"==typeof e&&n[e].call(o)}))},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",e,i.prototype.close)}(window.jQuery),function(t){"use strict";var e=function(i,o){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,o)};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(t){var e="disabled",i=this.$element,o=i.is("input")?"val":"html",n=i.data();t+="Text",n.resetText||i.data("resetText",i[o]()),i[o](n[t]||this.options[t]),setTimeout((function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)}),0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons"]');t.length&&("radio"===this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change").prop("type")&&t.find(".active").removeClass("active"));this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each((function(){var o=t(this),n=o.data("bs.button"),s="object"==typeof i&&i;n||o.data("bs.button",n=new e(this,s)),"toggle"==i?n.toggle():i&&n.setState(i)}))},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",(function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle"),e.preventDefault()}))}(window.jQuery),function(t){"use strict";var e=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var i=this,o=this.getActiveIndex();if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid",(function(){i.to(e)})):o==e?this.pause().cycle():this.slide(e>o?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){if(!this.sliding)return this.slide("next")},e.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},e.prototype.slide=function(e,i){var o=this.$element.find(".item.active"),n=i||o[e](),s=this.interval,a="next"==e?"left":"right",r="next"==e?"first":"last",l=this;if(!n.length){if(!this.options.wrap)return;n=this.$element.find(".item")[r]()}this.sliding=!0,s&&this.pause();var h=t.Event("slide.bs.carousel",{relatedTarget:n[0],direction:a});if(!n.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",(function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")}))),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(h),h.isDefaultPrevented())return;n.addClass(e),n[0].offsetWidth,o.addClass(a),n.addClass(a),o.one(t.support.transition.end,(function(){n.removeClass([e,a].join(" ")).addClass("active"),o.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout((function(){l.$element.trigger("slid")}),0)})).emulateTransitionEnd(600)}else{if(this.$element.trigger(h),h.isDefaultPrevented())return;o.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=function(i){return this.each((function(){var o=t(this),n=o.data("bs.carousel"),s=t.extend({},e.DEFAULTS,o.data(),"object"==typeof i&&i),a="string"==typeof i?i:s.slide;n||o.data("bs.carousel",n=new e(this,s)),"number"==typeof i?n.to(i):a?n[a]():s.interval&&n.pause().cycle()}))},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",(function(e){var i,o=t(this),n=t(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),s=t.extend({},n.data(),o.data()),a=o.attr("data-slide-to");a&&(s.interval=!1),n.carousel(s),(a=o.attr("data-slide-to"))&&n.data("bs.carousel").to(a),e.preventDefault()})),t(window).on("load",(function(){t('[data-ride="carousel"]').each((function(){var e=t(this);e.carousel(e.data())}))}))}(window.jQuery),function(t){"use strict";var e=function(i,o){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,o),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var o=i.data("bs.collapse");if(o&&o.transitioning)return;i.collapse("hide"),o||i.data("bs.collapse",null)}var n=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[n](0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("in")[n]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var a=t.camelCase(["scroll",n].join("-"));this.$element.one(t.support.transition.end,t.proxy(s,this)).emulateTransitionEnd(350)[n](this.$element[0][a])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!t.support.transition)return o.call(this);this.$element[i](0).one(t.support.transition.end,t.proxy(o,this)).emulateTransitionEnd(350)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each((function(){var o=t(this),n=o.data("bs.collapse"),s=t.extend({},e.DEFAULTS,o.data(),"object"==typeof i&&i);n||o.data("bs.collapse",n=new e(this,s)),"string"==typeof i&&n[i]()}))},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",(function(e){var i,o=t(this),n=o.attr("data-target")||e.preventDefault()||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),s=t(n),a=s.data("bs.collapse"),r=a?"toggle":o.data(),l=o.attr("data-parent"),h=l&&t(l);a&&a.transitioning||(h&&h.find('[data-toggle=collapse][data-parent="'+l+'"]').not(o).addClass("collapsed"),o[s.hasClass("in")?"addClass":"removeClass"]("collapsed")),s.collapse(r)}))}(window.jQuery),function(t){"use strict";var e="[data-toggle=dropdown]",i=function(e){t(e).on("click.bs.dropdown",this.toggle)};function o(){t(".dropdown-backdrop").remove(),t(e).each((function(e){var i=n(t(this));i.hasClass("open")&&(i.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown"))}))}function n(e){var i=e.attr("data-target");i||(i=(i=e.attr("href"))&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var o=i&&t(i);return o&&o.length?o:e.parent()}i.prototype.toggle=function(e){var i=t(this);if(!i.is(".disabled, :disabled")){var s=n(i),a=s.hasClass("open");if(o(),!a){if("ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",o),s.trigger(e=t.Event("show.bs.dropdown")),e.isDefaultPrevented())return;s.toggleClass("open").trigger("shown.bs.dropdown"),i.focus()}return!1}},i.prototype.keydown=function(i){if(/(38|40|27)/.test(i.keyCode)){var o=t(this);if(i.preventDefault(),i.stopPropagation(),!o.is(".disabled, :disabled")){var s=n(o),a=s.hasClass("open");if(!a||a&&27==i.keyCode)return 27==i.which&&s.find(e).focus(),o.click();var r=t("[role=menu] li:not(.divider):visible a",s);if(r.length){var l=r.index(r.filter(":focus"));38==i.keyCode&&l>0&&l--,40==i.keyCode&&l<r.length-1&&l++,~l||(l=0),r.eq(l).focus()}}}};var s=t.fn.dropdown;t.fn.dropdown=function(e){return this.each((function(){var o=t(this),n=o.data("dropdown");n||o.data("dropdown",n=new i(this)),"string"==typeof e&&n[e].call(o)}))},t.fn.dropdown.Constructor=i,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",(function(t){t.stopPropagation()})).on("click.bs.dropdown.data-api",e,i.prototype.toggle).on("keydown.bs.dropdown.data-api",e+", [role=menu]",i.prototype.keydown)}(window.jQuery),function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var i=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop((function(){var o=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show(),o&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var n=t.Event("shown.bs.modal",{relatedTarget:e});o?i.$element.find(".modal-dialog").one(t.support.transition.end,(function(){i.$element.focus().trigger(n)})).emulateTransitionEnd(300):i.$element.focus().trigger(n)})))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy((function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()}),this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy((function(t){27==t.which&&this.hide()}),this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop((function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")}))},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",t.proxy((function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))}),this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var i=t.fn.modal;t.fn.modal=function(i,o){return this.each((function(){var n=t(this),s=n.data("bs.modal"),a=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i);s||n.data("bs.modal",s=new e(this,a)),"string"==typeof i?s[i](o):a.show&&s.show(o)}))},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(e){var i=t(this),o=i.attr("href"),n=t(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),s=n.data("modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},n.data(),i.data());e.preventDefault(),n.modal(s,this).one("hide",(function(){i.is(":visible")&&i.focus()}))})),t(document).on("show.bs.modal",".modal",(function(){t(document.body).addClass("modal-open")})).on("hidden.bs.modal",".modal",(function(){t(document.body).removeClass("modal-open")}))}(window.jQuery),function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,i,o){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o);for(var n=this.options.trigger.split(" "),s=n.length;s--;){var a=n[s];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focus",l="hover"==a?"mouseleave":"blur";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return(e=t.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,(function(t,o){i[t]!=o&&(e[t]=o)})),e},e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(i.timeout),i.hoverState="in",!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout((function(){"in"==i.hoverState&&i.show()}),i.options.delay.show)},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout((function(){"out"==i.hoverState&&i.hide()}),i.options.delay.hide)},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var i=this.tip();this.setContent(),this.options.animation&&i.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,n=/\s?auto?\s?/i,s=n.test(o);s&&(o=o.replace(n,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(o),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var a=this.getPosition(),r=i[0].offsetWidth,l=i[0].offsetHeight;if(s){var h=this.$element.parent(),p=o,d=document.documentElement.scrollTop||document.body.scrollTop,c="body"==this.options.container?window.innerWidth:h.outerWidth(),f="body"==this.options.container?window.innerHeight:h.outerHeight(),u="body"==this.options.container?0:h.offset().left;o="bottom"==o&&a.top+a.height+l-d>f?"top":"top"==o&&a.top-d-l<0?"bottom":"right"==o&&a.right+r>c?"left":"left"==o&&a.left-r<u?"right":o,i.removeClass(p).addClass(o)}var m=this.getCalculatedOffset(o,a,r,l);this.applyPlacement(m,o),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){var i,o=this.tip(),n=o[0].offsetWidth,s=o[0].offsetHeight,a=parseInt(o.css("margin-top"),10),r=parseInt(o.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),t.top=t.top+a,t.left=t.left+r,o.offset(t).addClass("in");var l=o[0].offsetWidth,h=o[0].offsetHeight;if("top"==e&&h!=s&&(i=!0,t.top=t.top+s-h),/bottom|top/.test(e)){var p=0;t.left<0&&(p=-2*t.left,t.left=0,o.offset(t),l=o[0].offsetWidth,h=o[0].offsetHeight),this.replaceArrow(p-n+l,l,"left")}else this.replaceArrow(h-s,h,"top");i&&o.offset(t)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){var e=this,i=this.tip(),o=t.Event("hide.bs."+this.type);function n(){"in"!=e.hoverState&&i.detach()}if(this.$element.trigger(o),!o.isDefaultPrevented())return i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?i.one(t.support.transition.end,n).emulateTransitionEnd(150):n(),this.$element.trigger("hidden.bs."+this.type),this},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each((function(){var o=t(this),n=o.data("bs.tooltip"),s="object"==typeof i&&i;n||o.data("bs.tooltip",n=new e(this,s)),"string"==typeof i&&n[i]()}))},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(window.jQuery),function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),(e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype)).constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=function(i){return this.each((function(){var o=t(this),n=o.data("bs.popover"),s="object"==typeof i&&i;n||o.data("bs.popover",n=new e(this,s)),"string"==typeof i&&n[i]()}))},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(window.jQuery),function(t){"use strict";function e(i,o){var n,s=t.proxy(this.process,this);this.$element=t(i).is("body")?t(window):t(i),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",s),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||(n=t(i).attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);var i=this;this.$body.find(this.selector).map((function(){var o=t(this),n=o.data("target")||o.attr("href"),s=/^#\w/.test(n)&&t(n);return s&&s.length&&[[s[e]().top+(!t.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),n]]||null})).sort((function(t,e){return t[0]-e[0]})).each((function(){i.offsets.push(this[0]),i.targets.push(this[1])}))},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),o=this.offsets,n=this.targets,s=this.activeTarget;if(e>=i)return s!=(t=n.last()[0])&&this.activate(t);for(t=o.length;t--;)s!=n[t]&&e>=o[t]&&(!o[t+1]||e<=o[t+1])&&this.activate(n[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parents(".active").removeClass("active");var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(i).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate")};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each((function(){var o=t(this),n=o.data("bs.scrollspy"),s="object"==typeof i&&i;n||o.data("bs.scrollspy",n=new e(this,s)),"string"==typeof i&&n[i]()}))},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load",(function(){t('[data-spy="scroll"]').each((function(){var e=t(this);e.scrollspy(e.data())}))}))}(window.jQuery),function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),o=e.attr("data-target");if(o||(o=(o=e.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var n=i.find(".active:last a")[0],s=t.Event("show.bs.tab",{relatedTarget:n});if(e.trigger(s),!s.isDefaultPrevented()){var a=t(o);this.activate(e.parent("li"),i),this.activate(a,a.parent(),(function(){e.trigger({type:"shown.bs.tab",relatedTarget:n})}))}}},e.prototype.activate=function(e,i,o){var n=i.find("> .active"),s=o&&t.support.transition&&n.hasClass("fade");function a(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),o&&o()}s?n.one(t.support.transition.end,a).emulateTransitionEnd(150):a(),n.removeClass("in")};var i=t.fn.tab;t.fn.tab=function(i){return this.each((function(){var o=t(this),n=o.data("bs.tab");n||o.data("bs.tab",n=new e(this)),"string"==typeof i&&n[i]()}))},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',(function(e){e.preventDefault(),t(this).tab("show")}))}(window.jQuery),function(t){"use strict";var e=function(i,o){this.options=t.extend({},e.DEFAULTS,o),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(i),this.affixed=this.unpin=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=t(document).height(),o=this.$window.scrollTop(),n=this.$element.offset(),s=this.options.offset,a=s.top,r=s.bottom;"object"!=typeof s&&(r=a=s),"function"==typeof a&&(a=s.top()),"function"==typeof r&&(r=s.bottom());var l=!(null!=this.unpin&&o+this.unpin<=n.top)&&(null!=r&&n.top+this.$element.height()>=i-r?"bottom":null!=a&&o<=a&&"top");this.affixed!==l&&(this.unpin&&this.$element.css("top",""),this.affixed=l,this.unpin="bottom"==l?n.top-o:null,this.$element.removeClass(e.RESET).addClass("affix"+(l?"-"+l:"")),"bottom"==l&&this.$element.offset({top:document.body.offsetHeight-r-this.$element.height()}))}};var i=t.fn.affix;t.fn.affix=function(i){return this.each((function(){var o=t(this),n=o.data("bs.affix"),s="object"==typeof i&&i;n||o.data("bs.affix",n=new e(this,s)),"string"==typeof i&&n[i]()}))},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",(function(){t('[data-spy="affix"]').each((function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)}))}))}(window.jQuery);
/*
    A simple jQuery modal (http://github.com/kylefox/jquery-modal)
    Version 0.8.0
*/
!function(o){"object"==typeof module&&"object"==typeof module.exports?o(require("jquery"),window,document):o(jQuery,window,document)}(function(o,t,e,i){var s=[],l=function(){return s.length?s[s.length-1]:null},n=function(){var o,t=!1;for(o=s.length-1;o>=0;o--)s[o].$blocker&&(s[o].$blocker.toggleClass("current",!t).toggleClass("behind",t),t=!0)};o.modal=function(t,e){var i,n;if(this.$body=o("body"),this.options=o.extend({},o.modal.defaults,e),this.options.doFade=!isNaN(parseInt(this.options.fadeDuration,10)),this.$blocker=null,this.options.closeExisting)for(;o.modal.isActive();)o.modal.close();if(s.push(this),t.is("a"))if(n=t.attr("href"),/^#/.test(n)){if(this.$elm=o(n),1!==this.$elm.length)return null;this.$body.append(this.$elm),this.open()}else this.$elm=o("<div>"),this.$body.append(this.$elm),i=function(o,t){t.elm.remove()},this.showSpinner(),t.trigger(o.modal.AJAX_SEND),o.get(n).done(function(e){if(o.modal.isActive()){t.trigger(o.modal.AJAX_SUCCESS);var s=l();s.$elm.empty().append(e).on(o.modal.CLOSE,i),s.hideSpinner(),s.open(),t.trigger(o.modal.AJAX_COMPLETE)}}).fail(function(){t.trigger(o.modal.AJAX_FAIL);var e=l();e.hideSpinner(),s.pop(),t.trigger(o.modal.AJAX_COMPLETE)});else this.$elm=t,this.$body.append(this.$elm),this.open()},o.modal.prototype={constructor:o.modal,open:function(){var t=this;this.block(),this.options.doFade?setTimeout(function(){t.show()},this.options.fadeDuration*this.options.fadeDelay):this.show(),o(e).off("keydown.modal").on("keydown.modal",function(o){var t=l();27==o.which&&t.options.escapeClose&&t.close()}),this.options.clickClose&&this.$blocker.click(function(t){t.target==this&&o.modal.close()})},close:function(){s.pop(),this.unblock(),this.hide(),o.modal.isActive()||o(e).off("keydown.modal")},block:function(){this.$elm.trigger(o.modal.BEFORE_BLOCK,[this._ctx()]),this.$body.css("overflow","hidden"),this.$blocker=o('<div class="jquery-modal blocker current"></div>').appendTo(this.$body),n(),this.options.doFade&&this.$blocker.css("opacity",0).animate({opacity:1},this.options.fadeDuration),this.$elm.trigger(o.modal.BLOCK,[this._ctx()])},unblock:function(t){!t&&this.options.doFade?this.$blocker.fadeOut(this.options.fadeDuration,this.unblock.bind(this,!0)):(this.$blocker.children().appendTo(this.$body),this.$blocker.remove(),this.$blocker=null,n(),o.modal.isActive()||this.$body.css("overflow",""))},show:function(){this.$elm.trigger(o.modal.BEFORE_OPEN,[this._ctx()]),this.options.showClose&&(this.closeButton=o('<a href="#close-modal" rel="modal:close" class="close-modal '+this.options.closeClass+'">'+this.options.closeText+"</a>"),this.$elm.append(this.closeButton)),this.$elm.addClass(this.options.modalClass).appendTo(this.$blocker),this.options.doFade?this.$elm.css("opacity",0).show().animate({opacity:1},this.options.fadeDuration):this.$elm.show(),this.$elm.trigger(o.modal.OPEN,[this._ctx()])},hide:function(){this.$elm.trigger(o.modal.BEFORE_CLOSE,[this._ctx()]),this.closeButton&&this.closeButton.remove();var t=this;this.options.doFade?this.$elm.fadeOut(this.options.fadeDuration,function(){t.$elm.trigger(o.modal.AFTER_CLOSE,[t._ctx()])}):this.$elm.hide(0,function(){t.$elm.trigger(o.modal.AFTER_CLOSE,[t._ctx()])}),this.$elm.trigger(o.modal.CLOSE,[this._ctx()])},showSpinner:function(){this.options.showSpinner&&(this.spinner=this.spinner||o('<div class="'+this.options.modalClass+'-spinner"></div>').append(this.options.spinnerHtml),this.$body.append(this.spinner),this.spinner.show())},hideSpinner:function(){this.spinner&&this.spinner.remove()},_ctx:function(){return{elm:this.$elm,$blocker:this.$blocker,options:this.options}}},o.modal.close=function(t){if(o.modal.isActive()){t&&t.preventDefault();var e=l();return e.close(),e.$elm}},o.modal.isActive=function(){return s.length>0},o.modal.getCurrent=l,o.modal.defaults={closeExisting:!0,escapeClose:!0,clickClose:!0,closeText:"Close",closeClass:"",modalClass:"modal",spinnerHtml:null,showSpinner:!0,showClose:!0,fadeDuration:null,fadeDelay:1},o.modal.BEFORE_BLOCK="modal:before-block",o.modal.BLOCK="modal:block",o.modal.BEFORE_OPEN="modal:before-open",o.modal.OPEN="modal:open",o.modal.BEFORE_CLOSE="modal:before-close",o.modal.CLOSE="modal:close",o.modal.AFTER_CLOSE="modal:after-close",o.modal.AJAX_SEND="modal:ajax:send",o.modal.AJAX_SUCCESS="modal:ajax:success",o.modal.AJAX_FAIL="modal:ajax:fail",o.modal.AJAX_COMPLETE="modal:ajax:complete",o.fn.modal=function(t){return 1===this.length&&new o.modal(this,t),this},o(e).on("click.modal",'a[rel~="modal:close"]',o.modal.close),o(e).on("click.modal",'a[rel~="modal:open"]',function(t){t.preventDefault(),o(this).modal()})});
!function(t){"use strict";var e={},n={},a={};function r(a,r,i){var l,f,u,p,d=this;return r=r||{},u=t.extend(!0,{async:!0,overwriteCache:!1,complete:null,success:null,error:function(){t(this).each((function(){t(this).html(u.errorMessage)}))},errorMessage:"There was an error loading the template.",paged:!1,pageNo:1,elemPerPage:10,append:!1,prepend:!1,beforeInsert:null,afterInsert:null,bindingOptions:{ignoreUndefined:!1,ignoreNull:!1,ignoreEmptyString:!1}},i),"array"===t.type(r)?(!0,o.call(this,a,r,u)):("string"==typeof(p=a)&&p.indexOf("/")>-1||(l=t(a),"string"==typeof a&&0===a.indexOf("#")&&(u.isFile=!1)),(f=u.isFile||void 0===u.isFile&&(void 0===l||0===l.length))&&!u.overwriteCache&&e[a]?function(t,n,a,r){var i=e[t].clone();s.call(n,i,a,r),"function"==typeof r.success&&r.success()}(a,d,r,u):f&&!u.overwriteCache&&e.hasOwnProperty(a)?function(t,e,a,r){n[t]?n[t].push({data:a,selection:e,settings:r}):n[t]=[{data:a,selection:e,settings:r}]}(a,d,r,u):f?function(a,r,i,o){e[a]=null;var l=a;o.overwriteCache&&(l=-1!==(f=l).indexOf("?")?f+"&_="+c():f+"?_="+c());var f;t.ajax({url:l,async:o.async,success:function(c){!function(t,a,r,i,o){var c;e[a]=t.clone(),s.call(r,t,i,o),"function"==typeof o.success&&o.success.call(r);for(;n[a]&&(c=n[a].shift());)s.call(c.selection,e[a].clone(),c.data,c.settings),"function"==typeof c.settings.success&&c.settings.success.call(c.selection)}(t(c),a,r,i,o)},error:function(e){!function(e,a,r,i,o){var c;"function"==typeof i.error&&i.error.call(a,o);t(n[e]).each((function(t,e){"function"==typeof e.settings.error&&e.settings.error.call(e.selection,o)})),"function"==typeof i.complete&&i.complete.call(a);for(;n[e]&&(c=n[e].shift());)"function"==typeof c.settings.complete&&c.settings.complete.call(c.selection);void 0!==n[e]&&n[e].length>0&&(n[e]=[])}(a,r,0,o,e)}})}(a,d,r,u):function(e,n,a,r){(e.is("script")||e.is("template"))&&(e=t.parseHTML(t.trim(e.html())));s.call(n,e,a,r),"function"==typeof r.success&&r.success()}(l,d,r,u),this)}function i(e,n){n?a[e]=n:a=t.extend(a,e)}function o(e,n,a){a=a||{};var i,o=this,c=n.length,s=a.prepend&&!a.append,l=0,f=0,u=!1,p=[];if(a.paged){var d=(a.pageNo-1)*a.elemPerPage;n=n.slice(d,d+a.elemPerPage),c=n.length}return a.append||a.prepend||o.html(""),i=t.extend({},a,{append:!a.prepend&&!0,complete:function(t){(++l===c||u)&&(u&&a&&"function"==typeof a.error&&a.error.call(o,p),a&&"function"==typeof a.complete&&a.complete())},success:function(){++f===c&&a&&"function"==typeof a.success&&a.success()},error:function(t){u=!0,p.push(t)}}),s&&n.reverse(),t(n).each((function(){if(r.call(o,e,this,i),u)return!1})),this}function c(){return(new Date).getTime()}function s(e,n,a){!function(e,n,a){l("data-content",e,n=n||{},a,(function(t,e){t.html(d(t,e,"content",a))})),l("data-content-append",e,n,a,(function(t,e){t.append(d(t,e,"content",a))})),l("data-content-prepend",e,n,a,(function(t,e){t.prepend(d(t,e,"content",a))})),l("data-content-text",e,n,a,(function(t,e){t.text(d(t,e,"content",a))})),l("data-innerHTML",e,n,a,(function(t,e){t.html(d(t,e,"content",a))})),l("data-src",e,n,a,(function(t,e){t.attr("src",d(t,e,"src",a))}),(function(t){t.remove()})),l("data-href",e,n,a,(function(t,e){t.attr("href",d(t,e,"href",a))}),(function(t){t.remove()})),l("data-alt",e,n,a,(function(t,e){t.attr("alt",d(t,e,"alt",a))})),l("data-id",e,n,a,(function(t,e){t.attr("id",d(t,e,"id",a))})),l("data-class",e,n,a,(function(t,e){t.addClass(d(t,e,"class",a))})),l("data-link",e,n,a,(function(e,n){var r=t("<a/>");r.attr("href",d(e,n,"link",a)),r.html(e.html()),e.html(r)})),l("data-link-wrap",e,n,a,(function(e,n){var r=t("<a/>");r.attr("href",d(e,n,"link-wrap",a)),e.wrap(r)})),l("data-options",e,n,a,(function(e,n){t(n).each((function(){t("<option/>").attr("value",this).text(this).appendTo(e)}))})),function(e,n,a){t("[data-template-bind]",e).each((function(){var e=t(this),r=t.parseJSON(e.attr("data-template-bind"));e.removeAttr("data-template-bind"),t(r).each((function(){var r;if(r="object"==typeof this.value?p(n,this.value.data):p(n,this.value),this.attribute){if(!f(this,r,a))return void e.remove();switch(this.attribute){case"content":case"innerHTML":e.html(u(e,r,this));break;case"contentAppend":e.append(u(e,r,this));break;case"contentPrepend":e.prepend(u(e,r,this));break;case"contentText":e.text(u(e,r,this));break;case"options":var i=this;t(r).each((function(){t("<option/>").attr("value",this[i.value.value]).text(u(e,this[i.value.content],i)).attr("selected",null!=typeof this[i.value.selected]&&this[i.value.selected]).appendTo(e)}));break;default:e.attr(this.attribute,u(e,r,this))}}}))}))}(e,n,a),l("data-value",e,n,a,(function(t,e){t.val(d(t,e,"value",a))}))}(e=t("<div/>").append(e),n,a),t(this).each((function(){var r=e.children().clone(!0);t("select",r).each((function(n,a){t(this).val(t("select",e).eq(n).val())})),a.beforeInsert&&a.beforeInsert(r,n),a.append?t(this).append(r):a.prepend?t(this).prepend(r):t(this).html("").append(r),a.afterInsert&&a.afterInsert(r,n)})),"function"==typeof a.complete&&a.complete.call(t(this),n)}function l(e,n,a,r,i,o){t("["+e+"]",n).each((function(){var n=t(this),c=n.attr(e),s=p(a,c);f(n,s,r)?(n.removeAttr(e),void 0!==s&&i?i(n,s):o&&o(n)):n.remove()}))}function f(e,n,a){var r=function(e,n){var a={};e instanceof jQuery&&e.attr("data-binding-options")?(a=t.parseJSON(e.attr("data-binding-options")),e.removeAttr("data-binding-options")):"object"==typeof e&&e.hasOwnProperty("bindingOptions")&&(a=e.bindingOptions);return t.extend({},n.bindingOptions,a)}(e,a);return(!r.ignoreUndefined||void 0!==n)&&((!r.ignoreNull||null!==n)&&(!r.ignoreEmptyString||""!==n))}function u(t,e,n,r){return n.formatter&&a[n.formatter]?(i=r,a[n.formatter].call(t,e,n.formatOptions,i)):e;var i}function p(t,e){if("this"===e)return t;for(var n,a=e.split("."),r=t;(n=a.shift())&&void 0!==r&&null!=r;)r=r[n];return r}function d(e,n,r,i){var o,c,s=e.attr("data-format-target");if((s===r||!s&&"content"===r)&&(o=e.attr("data-format"))&&"function"==typeof a[o]){var l=e.attr("data-format-options");return c=i,a[o].call(e[0],n,l,t.extend({},c))}return n}i("nestedTemplateFormatter",(function(e,n,a){if(n){"string"==typeof n&&"{"===n[0]&&(n=t.parseJSON(n));var r=n.parentElement||"div",i=n.template||n;return n.parentElement?t("<"+r+"/>").loadTemplate(i,e,a):t("<"+r+"/>").loadTemplate(i,e,a).children()}})),t.fn.loadTemplate=r,t.addTemplateFormatter=i}(jQuery);
/*! Select2 4.0.3 | https://github.com/select2/select2/blob/master/LICENSE.md */!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){var b=function(){if(a&&a.fn&&a.fn.select2&&a.fn.select2.amd)var b=a.fn.select2.amd;var b;return function(){if(!b||!b.requirejs){b?c=b:b={};var a,c,d;!function(b){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=s.map,p=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(a=a.split("/"),g=a.length-1,s.nodeIdCompat&&w.test(a[g])&&(a[g]=a[g].replace(w,"")),a=n.slice(0,n.length-1).concat(a),k=0;k<a.length;k+=1)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===a[2]||".."===a[0]))break;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||p)&&o){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;l>0;l-=1)if(e=o[n.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&p&&p[d]&&(i=p[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(a,c){return function(){var d=v.call(arguments,0);return"string"!=typeof d[0]&&1===d.length&&d.push(null),n.apply(b,d.concat([a,c]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){q[a]=b}}function j(a){if(e(r,a)){var c=r[a];delete r[a],t[a]=!0,m.apply(b,c)}if(!e(q,a)&&!e(t,a))throw new Error("No "+a);return q[a]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return function(){return s&&s.config&&s.config[a]||{}}}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice,w=/\.js$/;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(e=f(e,b),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(b)):f(a,b):(a=f(a,b),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return"undefined"!=typeof b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:l(a)}}},m=function(a,c,d,f){var h,k,l,m,n,s,u=[],v=typeof d;if(f=f||a,"undefined"===v||"function"===v){for(c=!c.length&&d.length?["require","exports","module"]:c,n=0;n<c.length;n+=1)if(m=o(c[n],f),k=m.f,"require"===k)u[n]=p.require(a);else if("exports"===k)u[n]=p.exports(a),s=!0;else if("module"===k)h=u[n]=p.module(a);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{if(!m.p)throw new Error(a+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=d?d.apply(q[a],u):void 0,a&&(h&&h.exports!==b&&h.exports!==q[a]?q[a]=h.exports:l===b&&s||(q[a]=l))}else a&&(q[a]=d)},a=c=n=function(a,c,d,e,f){if("string"==typeof a)return p[a]?p[a](c):j(o(a,c).f);if(!a.splice){if(s=a,s.deps&&n(s.deps,s.callback),!c)return;c.splice?(a=c,c=d,d=null):a=b}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?m(b,a,c,d):setTimeout(function(){m(b,a,c,d)},4),n},n.config=function(a){return n(a)},a._defined=q,d=function(a,b,c){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])},d.amd={jQuery:!0}}(),b.requirejs=a,b.require=c,b.define=d}}(),b.define("almond",function(){}),b.define("jquery",[],function(){var b=a||$;return null==b&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),b}),b.define("select2/utils",["jquery"],function(a){function b(a){var b=a.prototype,c=[];for(var d in b){var e=b[d];"function"==typeof e&&"constructor"!==d&&c.push(d)}return c}var c={};c.Extend=function(a,b){function c(){this.constructor=a}var d={}.hasOwnProperty;for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},c.Decorate=function(a,c){function d(){var b=Array.prototype.unshift,d=c.prototype.constructor.length,e=a.prototype.constructor;d>0&&(b.call(arguments,a.prototype.constructor),e=c.prototype.constructor),e.apply(this,arguments)}function e(){this.constructor=d}var f=b(c),g=b(a);c.displayName=a.displayName,d.prototype=new e;for(var h=0;h<g.length;h++){var i=g[h];d.prototype[i]=a.prototype[i]}for(var j=(function(a){var b=function(){};a in d.prototype&&(b=d.prototype[a]);var e=c.prototype[a];return function(){var a=Array.prototype.unshift;return a.call(arguments,b),e.apply(this,arguments)}}),k=0;k<f.length;k++){var l=f[k];d.prototype[l]=j(l)}return d};var d=function(){this.listeners={}};return d.prototype.on=function(a,b){this.listeners=this.listeners||{},a in this.listeners?this.listeners[a].push(b):this.listeners[a]=[b]},d.prototype.trigger=function(a){var b=Array.prototype.slice,c=b.call(arguments,1);this.listeners=this.listeners||{},null==c&&(c=[]),0===c.length&&c.push({}),c[0]._type=a,a in this.listeners&&this.invoke(this.listeners[a],b.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},d.prototype.invoke=function(a,b){for(var c=0,d=a.length;d>c;c++)a[c].apply(this,b)},c.Observable=d,c.generateChars=function(a){for(var b="",c=0;a>c;c++){var d=Math.floor(36*Math.random());b+=d.toString(36)}return b},c.bind=function(a,b){return function(){a.apply(b,arguments)}},c._convertData=function(a){for(var b in a){var c=b.split("-"),d=a;if(1!==c.length){for(var e=0;e<c.length;e++){var f=c[e];f=f.substring(0,1).toLowerCase()+f.substring(1),f in d||(d[f]={}),e==c.length-1&&(d[f]=a[b]),d=d[f]}delete a[b]}}return a},c.hasScroll=function(b,c){var d=a(c),e=c.style.overflowX,f=c.style.overflowY;return e!==f||"hidden"!==f&&"visible"!==f?"scroll"===e||"scroll"===f?!0:d.innerHeight()<c.scrollHeight||d.innerWidth()<c.scrollWidth:!1},c.escapeMarkup=function(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof a?a:String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})},c.appendMany=function(b,c){if("1.7"===a.fn.jquery.substr(0,3)){var d=a();a.map(c,function(a){d=d.add(a)}),c=d}b.append(c)},c}),b.define("select2/results",["jquery","./utils"],function(a,b){function c(a,b,d){this.$element=a,this.data=d,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&b.attr("aria-multiselectable","true"),this.$results=b,b},c.prototype.clear=function(){this.$results.empty()},c.prototype.displayMessage=function(b){var c=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var d=a('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),e=this.options.get("translations").get(b.message);d.append(c(e(b.args))),d[0].className+=" select2-results__message",this.$results.append(d)},c.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},c.prototype.append=function(a){this.hideLoading();var b=[];if(null==a.results||0===a.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));a.results=this.sort(a.results);for(var c=0;c<a.results.length;c++){var d=a.results[c],e=this.option(d);b.push(e)}this.$results.append(b)},c.prototype.position=function(a,b){var c=b.find(".select2-results");c.append(a)},c.prototype.sort=function(a){var b=this.options.get("sorter");return b(a)},c.prototype.highlightFirstItem=function(){var a=this.$results.find(".select2-results__option[aria-selected]"),b=a.filter("[aria-selected=true]");b.length>0?b.first().trigger("mouseenter"):a.first().trigger("mouseenter"),this.ensureHighlightVisible()},c.prototype.setClasses=function(){var b=this;this.data.current(function(c){var d=a.map(c,function(a){return a.id.toString()}),e=b.$results.find(".select2-results__option[aria-selected]");e.each(function(){var b=a(this),c=a.data(this,"data"),e=""+c.id;null!=c.element&&c.element.selected||null==c.element&&a.inArray(e,d)>-1?b.attr("aria-selected","true"):b.attr("aria-selected","false")})})},c.prototype.showLoading=function(a){this.hideLoading();var b=this.options.get("translations").get("searching"),c={disabled:!0,loading:!0,text:b(a)},d=this.option(c);d.className+=" loading-results",this.$results.prepend(d)},c.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},c.prototype.option=function(b){var c=document.createElement("li");c.className="select2-results__option";var d={role:"treeitem","aria-selected":"false"};b.disabled&&(delete d["aria-selected"],d["aria-disabled"]="true"),null==b.id&&delete d["aria-selected"],null!=b._resultId&&(c.id=b._resultId),b.title&&(c.title=b.title),b.children&&(d.role="group",d["aria-label"]=b.text,delete d["aria-selected"]);for(var e in d){var f=d[e];c.setAttribute(e,f)}if(b.children){var g=a(c),h=document.createElement("strong");h.className="select2-results__group";a(h);this.template(b,h);for(var i=[],j=0;j<b.children.length;j++){var k=b.children[j],l=this.option(k);i.push(l)}var m=a("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});m.append(i),g.append(h),g.append(m)}else this.template(b,c);return a.data(c,"data",b),c},c.prototype.bind=function(b,c){var d=this,e=b.id+"-results";this.$results.attr("id",e),b.on("results:all",function(a){d.clear(),d.append(a.data),b.isOpen()&&(d.setClasses(),d.highlightFirstItem())}),b.on("results:append",function(a){d.append(a.data),b.isOpen()&&d.setClasses()}),b.on("query",function(a){d.hideMessages(),d.showLoading(a)}),b.on("select",function(){b.isOpen()&&(d.setClasses(),d.highlightFirstItem())}),b.on("unselect",function(){b.isOpen()&&(d.setClasses(),d.highlightFirstItem())}),b.on("open",function(){d.$results.attr("aria-expanded","true"),d.$results.attr("aria-hidden","false"),d.setClasses(),d.ensureHighlightVisible()}),b.on("close",function(){d.$results.attr("aria-expanded","false"),d.$results.attr("aria-hidden","true"),d.$results.removeAttr("aria-activedescendant")}),b.on("results:toggle",function(){var a=d.getHighlightedResults();0!==a.length&&a.trigger("mouseup")}),b.on("results:select",function(){var a=d.getHighlightedResults();if(0!==a.length){var b=a.data("data");"true"==a.attr("aria-selected")?d.trigger("close",{}):d.trigger("select",{data:b})}}),b.on("results:previous",function(){var a=d.getHighlightedResults(),b=d.$results.find("[aria-selected]"),c=b.index(a);if(0!==c){var e=c-1;0===a.length&&(e=0);var f=b.eq(e);f.trigger("mouseenter");var g=d.$results.offset().top,h=f.offset().top,i=d.$results.scrollTop()+(h-g);0===e?d.$results.scrollTop(0):0>h-g&&d.$results.scrollTop(i)}}),b.on("results:next",function(){var a=d.getHighlightedResults(),b=d.$results.find("[aria-selected]"),c=b.index(a),e=c+1;if(!(e>=b.length)){var f=b.eq(e);f.trigger("mouseenter");var g=d.$results.offset().top+d.$results.outerHeight(!1),h=f.offset().top+f.outerHeight(!1),i=d.$results.scrollTop()+h-g;0===e?d.$results.scrollTop(0):h>g&&d.$results.scrollTop(i)}}),b.on("results:focus",function(a){a.element.addClass("select2-results__option--highlighted")}),b.on("results:message",function(a){d.displayMessage(a)}),a.fn.mousewheel&&this.$results.on("mousewheel",function(a){var b=d.$results.scrollTop(),c=d.$results.get(0).scrollHeight-b+a.deltaY,e=a.deltaY>0&&b-a.deltaY<=0,f=a.deltaY<0&&c<=d.$results.height();e?(d.$results.scrollTop(0),a.preventDefault(),a.stopPropagation()):f&&(d.$results.scrollTop(d.$results.get(0).scrollHeight-d.$results.height()),a.preventDefault(),a.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(b){var c=a(this),e=c.data("data");return"true"===c.attr("aria-selected")?void(d.options.get("multiple")?d.trigger("unselect",{originalEvent:b,data:e}):d.trigger("close",{})):void d.trigger("select",{originalEvent:b,data:e})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(b){var c=a(this).data("data");d.getHighlightedResults().removeClass("select2-results__option--highlighted"),d.trigger("results:focus",{data:c,element:a(this)})})},c.prototype.getHighlightedResults=function(){var a=this.$results.find(".select2-results__option--highlighted");return a},c.prototype.destroy=function(){this.$results.remove()},c.prototype.ensureHighlightVisible=function(){var a=this.getHighlightedResults();if(0!==a.length){var b=this.$results.find("[aria-selected]"),c=b.index(a),d=this.$results.offset().top,e=a.offset().top,f=this.$results.scrollTop()+(e-d),g=e-d;f-=2*a.outerHeight(!1),2>=c?this.$results.scrollTop(0):(g>this.$results.outerHeight()||0>g)&&this.$results.scrollTop(f)}},c.prototype.template=function(b,c){var d=this.options.get("templateResult"),e=this.options.get("escapeMarkup"),f=d(b,c);null==f?c.style.display="none":"string"==typeof f?c.innerHTML=e(f):a(c).append(f)},c}),b.define("select2/keys",[],function(){var a={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return a}),b.define("select2/selection/base",["jquery","../utils","../keys"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,b.Observable),d.prototype.render=function(){var b=a('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),b.attr("title",this.$element.attr("title")),b.attr("tabindex",this._tabindex),this.$selection=b,b},d.prototype.bind=function(a,b){var d=this,e=(a.id+"-container",a.id+"-results");this.container=a,this.$selection.on("focus",function(a){d.trigger("focus",a)}),this.$selection.on("blur",function(a){d._handleBlur(a)}),this.$selection.on("keydown",function(a){d.trigger("keypress",a),a.which===c.SPACE&&a.preventDefault()}),a.on("results:focus",function(a){d.$selection.attr("aria-activedescendant",a.data._resultId)}),a.on("selection:update",function(a){d.update(a.data)}),a.on("open",function(){d.$selection.attr("aria-expanded","true"),d.$selection.attr("aria-owns",e),d._attachCloseHandler(a)}),a.on("close",function(){d.$selection.attr("aria-expanded","false"),d.$selection.removeAttr("aria-activedescendant"),d.$selection.removeAttr("aria-owns"),d.$selection.focus(),d._detachCloseHandler(a)}),a.on("enable",function(){d.$selection.attr("tabindex",d._tabindex)}),a.on("disable",function(){d.$selection.attr("tabindex","-1")})},d.prototype._handleBlur=function(b){var c=this;window.setTimeout(function(){document.activeElement==c.$selection[0]||a.contains(c.$selection[0],document.activeElement)||c.trigger("blur",b)},1)},d.prototype._attachCloseHandler=function(b){a(document.body).on("mousedown.select2."+b.id,function(b){var c=a(b.target),d=c.closest(".select2"),e=a(".select2.select2-container--open");e.each(function(){var b=a(this);if(this!=d[0]){var c=b.data("element");c.select2("close")}})})},d.prototype._detachCloseHandler=function(b){a(document.body).off("mousedown.select2."+b.id)},d.prototype.position=function(a,b){var c=b.find(".selection");c.append(a)},d.prototype.destroy=function(){this._detachCloseHandler(this.container)},d.prototype.update=function(a){throw new Error("The `update` method must be defined in child classes.")},d}),b.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(a,b,c,d){function e(){e.__super__.constructor.apply(this,arguments)}return c.Extend(e,b),e.prototype.render=function(){var a=e.__super__.render.call(this);return a.addClass("select2-selection--single"),a.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),a},e.prototype.bind=function(a,b){var c=this;e.__super__.bind.apply(this,arguments);var d=a.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",d),this.$selection.attr("aria-labelledby",d),this.$selection.on("mousedown",function(a){1===a.which&&c.trigger("toggle",{originalEvent:a})}),this.$selection.on("focus",function(a){}),this.$selection.on("blur",function(a){}),a.on("focus",function(b){a.isOpen()||c.$selection.focus()}),a.on("selection:update",function(a){c.update(a.data)})},e.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},e.prototype.display=function(a,b){var c=this.options.get("templateSelection"),d=this.options.get("escapeMarkup");return d(c(a,b))},e.prototype.selectionContainer=function(){return a("<span></span>")},e.prototype.update=function(a){if(0===a.length)return void this.clear();var b=a[0],c=this.$selection.find(".select2-selection__rendered"),d=this.display(b,c);c.empty().append(d),c.prop("title",b.title||b.text)},e}),b.define("select2/selection/multiple",["jquery","./base","../utils"],function(a,b,c){function d(a,b){d.__super__.constructor.apply(this,arguments)}return c.Extend(d,b),d.prototype.render=function(){var a=d.__super__.render.call(this);return a.addClass("select2-selection--multiple"),a.html('<ul class="select2-selection__rendered"></ul>'),a},d.prototype.bind=function(b,c){var e=this;d.__super__.bind.apply(this,arguments),this.$selection.on("click",function(a){e.trigger("toggle",{originalEvent:a})}),this.$selection.on("click",".select2-selection__choice__remove",function(b){if(!e.options.get("disabled")){var c=a(this),d=c.parent(),f=d.data("data");e.trigger("unselect",{originalEvent:b,data:f})}})},d.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},d.prototype.display=function(a,b){var c=this.options.get("templateSelection"),d=this.options.get("escapeMarkup");return d(c(a,b))},d.prototype.selectionContainer=function(){var b=a('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return b},d.prototype.update=function(a){if(this.clear(),0!==a.length){for(var b=[],d=0;d<a.length;d++){var e=a[d],f=this.selectionContainer(),g=this.display(e,f);f.append(g),f.prop("title",e.title||e.text),f.data("data",e),b.push(f)}var h=this.$selection.find(".select2-selection__rendered");c.appendMany(h,b)}},d}),b.define("select2/selection/placeholder",["../utils"],function(a){function b(a,b,c){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c)}return b.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},b.prototype.createPlaceholder=function(a,b){var c=this.selectionContainer();return c.html(this.display(b)),c.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),c},b.prototype.update=function(a,b){var c=1==b.length&&b[0].id!=this.placeholder.id,d=b.length>1;if(d||c)return a.call(this,b);this.clear();var e=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(e)},b}),b.define("select2/selection/allowClear",["jquery","../keys"],function(a,b){function c(){}return c.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(a){d._handleClear(a)}),b.on("keypress",function(a){d._handleKeyboardClear(a,b)})},c.prototype._handleClear=function(a,b){if(!this.options.get("disabled")){var c=this.$selection.find(".select2-selection__clear");if(0!==c.length){b.stopPropagation();for(var d=c.data("data"),e=0;e<d.length;e++){var f={data:d[e]};if(this.trigger("unselect",f),f.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},c.prototype._handleKeyboardClear=function(a,c,d){d.isOpen()||(c.which==b.DELETE||c.which==b.BACKSPACE)&&this._handleClear(c)},c.prototype.update=function(b,c){if(b.call(this,c),!(this.$selection.find(".select2-selection__placeholder").length>0||0===c.length)){var d=a('<span class="select2-selection__clear">&times;</span>');d.data("data",c),this.$selection.find(".select2-selection__rendered").prepend(d)}},c}),b.define("select2/selection/search",["jquery","../utils","../keys"],function(a,b,c){function d(a,b,c){a.call(this,b,c)}return d.prototype.render=function(b){var c=a('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=c,this.$search=c.find("input");var d=b.call(this);return this._transferTabIndex(),d},d.prototype.bind=function(a,b,d){var e=this;a.call(this,b,d),b.on("open",function(){e.$search.trigger("focus")}),b.on("close",function(){e.$search.val(""),e.$search.removeAttr("aria-activedescendant"),e.$search.trigger("focus")}),b.on("enable",function(){e.$search.prop("disabled",!1),e._transferTabIndex()}),b.on("disable",function(){e.$search.prop("disabled",!0)}),b.on("focus",function(a){e.$search.trigger("focus")}),b.on("results:focus",function(a){e.$search.attr("aria-activedescendant",a.id)}),this.$selection.on("focusin",".select2-search--inline",function(a){e.trigger("focus",a)}),this.$selection.on("focusout",".select2-search--inline",function(a){e._handleBlur(a)}),this.$selection.on("keydown",".select2-search--inline",function(a){a.stopPropagation(),e.trigger("keypress",a),e._keyUpPrevented=a.isDefaultPrevented();var b=a.which;if(b===c.BACKSPACE&&""===e.$search.val()){var d=e.$searchContainer.prev(".select2-selection__choice");if(d.length>0){var f=d.data("data");e.searchRemoveChoice(f),a.preventDefault()}}});var f=document.documentMode,g=f&&11>=f;this.$selection.on("input.searchcheck",".select2-search--inline",function(a){return g?void e.$selection.off("input.search input.searchcheck"):void e.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(a){if(g&&"input"===a.type)return void e.$selection.off("input.search input.searchcheck");var b=a.which;b!=c.SHIFT&&b!=c.CTRL&&b!=c.ALT&&b!=c.TAB&&e.handleSearch(a)})},d.prototype._transferTabIndex=function(a){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},d.prototype.createPlaceholder=function(a,b){this.$search.attr("placeholder",b.text)},d.prototype.update=function(a,b){var c=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),a.call(this,b),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),c&&this.$search.focus()},d.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var a=this.$search.val();this.trigger("query",{term:a})}this._keyUpPrevented=!1},d.prototype.searchRemoveChoice=function(a,b){this.trigger("unselect",{data:b}),this.$search.val(b.text),this.handleSearch()},d.prototype.resizeSearch=function(){this.$search.css("width","25px");var a="";if(""!==this.$search.attr("placeholder"))a=this.$selection.find(".select2-selection__rendered").innerWidth();else{var b=this.$search.val().length+1;a=.75*b+"em"}this.$search.css("width",a)},d}),b.define("select2/selection/eventRelay",["jquery"],function(a){function b(){}return b.prototype.bind=function(b,c,d){var e=this,f=["open","opening","close","closing","select","selecting","unselect","unselecting"],g=["opening","closing","selecting","unselecting"];b.call(this,c,d),c.on("*",function(b,c){if(-1!==a.inArray(b,f)){c=c||{};var d=a.Event("select2:"+b,{params:c});e.$element.trigger(d),-1!==a.inArray(b,g)&&(c.prevented=d.isDefaultPrevented())}})},b}),b.define("select2/translation",["jquery","require"],function(a,b){function c(a){this.dict=a||{}}return c.prototype.all=function(){return this.dict},c.prototype.get=function(a){return this.dict[a]},c.prototype.extend=function(b){this.dict=a.extend({},b.all(),this.dict)},c._cache={},c.loadPath=function(a){if(!(a in c._cache)){var d=b(a);c._cache[a]=d}return new c(c._cache[a])},c}),b.define("select2/diacritics",[],function(){var a={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};return a}),b.define("select2/data/base",["../utils"],function(a){function b(a,c){b.__super__.constructor.call(this)}return a.Extend(b,a.Observable),b.prototype.current=function(a){throw new Error("The `current` method must be defined in child classes.")},b.prototype.query=function(a,b){throw new Error("The `query` method must be defined in child classes.")},b.prototype.bind=function(a,b){},b.prototype.destroy=function(){},b.prototype.generateResultId=function(b,c){var d=b.id+"-result-";return d+=a.generateChars(4),d+=null!=c.id?"-"+c.id.toString():"-"+a.generateChars(4)},b}),b.define("select2/data/select",["./base","../utils","jquery"],function(a,b,c){function d(a,b){this.$element=a,this.options=b,d.__super__.constructor.call(this)}return b.Extend(d,a),d.prototype.current=function(a){var b=[],d=this;this.$element.find(":selected").each(function(){var a=c(this),e=d.item(a);b.push(e)}),a(b)},d.prototype.select=function(a){var b=this;if(a.selected=!0,c(a.element).is("option"))return a.element.selected=!0,void this.$element.trigger("change");
if(this.$element.prop("multiple"))this.current(function(d){var e=[];a=[a],a.push.apply(a,d);for(var f=0;f<a.length;f++){var g=a[f].id;-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")});else{var d=a.id;this.$element.val(d),this.$element.trigger("change")}},d.prototype.unselect=function(a){var b=this;if(this.$element.prop("multiple"))return a.selected=!1,c(a.element).is("option")?(a.element.selected=!1,void this.$element.trigger("change")):void this.current(function(d){for(var e=[],f=0;f<d.length;f++){var g=d[f].id;g!==a.id&&-1===c.inArray(g,e)&&e.push(g)}b.$element.val(e),b.$element.trigger("change")})},d.prototype.bind=function(a,b){var c=this;this.container=a,a.on("select",function(a){c.select(a.data)}),a.on("unselect",function(a){c.unselect(a.data)})},d.prototype.destroy=function(){this.$element.find("*").each(function(){c.removeData(this,"data")})},d.prototype.query=function(a,b){var d=[],e=this,f=this.$element.children();f.each(function(){var b=c(this);if(b.is("option")||b.is("optgroup")){var f=e.item(b),g=e.matches(a,f);null!==g&&d.push(g)}}),b({results:d})},d.prototype.addOptions=function(a){b.appendMany(this.$element,a)},d.prototype.option=function(a){var b;a.children?(b=document.createElement("optgroup"),b.label=a.text):(b=document.createElement("option"),void 0!==b.textContent?b.textContent=a.text:b.innerText=a.text),a.id&&(b.value=a.id),a.disabled&&(b.disabled=!0),a.selected&&(b.selected=!0),a.title&&(b.title=a.title);var d=c(b),e=this._normalizeItem(a);return e.element=b,c.data(b,"data",e),d},d.prototype.item=function(a){var b={};if(b=c.data(a[0],"data"),null!=b)return b;if(a.is("option"))b={id:a.val(),text:a.text(),disabled:a.prop("disabled"),selected:a.prop("selected"),title:a.prop("title")};else if(a.is("optgroup")){b={text:a.prop("label"),children:[],title:a.prop("title")};for(var d=a.children("option"),e=[],f=0;f<d.length;f++){var g=c(d[f]),h=this.item(g);e.push(h)}b.children=e}return b=this._normalizeItem(b),b.element=a[0],c.data(a[0],"data",b),b},d.prototype._normalizeItem=function(a){c.isPlainObject(a)||(a={id:a,text:a}),a=c.extend({},{text:""},a);var b={selected:!1,disabled:!1};return null!=a.id&&(a.id=a.id.toString()),null!=a.text&&(a.text=a.text.toString()),null==a._resultId&&a.id&&null!=this.container&&(a._resultId=this.generateResultId(this.container,a)),c.extend({},b,a)},d.prototype.matches=function(a,b){var c=this.options.get("matcher");return c(a,b)},d}),b.define("select2/data/array",["./select","../utils","jquery"],function(a,b,c){function d(a,b){var c=b.get("data")||[];d.__super__.constructor.call(this,a,b),this.addOptions(this.convertToOptions(c))}return b.Extend(d,a),d.prototype.select=function(a){var b=this.$element.find("option").filter(function(b,c){return c.value==a.id.toString()});0===b.length&&(b=this.option(a),this.addOptions(b)),d.__super__.select.call(this,a)},d.prototype.convertToOptions=function(a){function d(a){return function(){return c(this).val()==a.id}}for(var e=this,f=this.$element.find("option"),g=f.map(function(){return e.item(c(this)).id}).get(),h=[],i=0;i<a.length;i++){var j=this._normalizeItem(a[i]);if(c.inArray(j.id,g)>=0){var k=f.filter(d(j)),l=this.item(k),m=c.extend(!0,{},j,l),n=this.option(m);k.replaceWith(n)}else{var o=this.option(j);if(j.children){var p=this.convertToOptions(j.children);b.appendMany(o,p)}h.push(o)}}return h},d}),b.define("select2/data/ajax",["./array","../utils","jquery"],function(a,b,c){function d(a,b){this.ajaxOptions=this._applyDefaults(b.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),d.__super__.constructor.call(this,a,b)}return b.Extend(d,a),d.prototype._applyDefaults=function(a){var b={data:function(a){return c.extend({},a,{q:a.term})},transport:function(a,b,d){var e=c.ajax(a);return e.then(b),e.fail(d),e}};return c.extend({},b,a,!0)},d.prototype.processResults=function(a){return a},d.prototype.query=function(a,b){function d(){var d=f.transport(f,function(d){var f=e.processResults(d,a);e.options.get("debug")&&window.console&&console.error&&(f&&f.results&&c.isArray(f.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),b(f)},function(){d.status&&"0"===d.status||e.trigger("results:message",{message:"errorLoading"})});e._request=d}var e=this;null!=this._request&&(c.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var f=c.extend({type:"GET"},this.ajaxOptions);"function"==typeof f.url&&(f.url=f.url.call(this.$element,a)),"function"==typeof f.data&&(f.data=f.data.call(this.$element,a)),this.ajaxOptions.delay&&null!=a.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(d,this.ajaxOptions.delay)):d()},d}),b.define("select2/data/tags",["jquery"],function(a){function b(b,c,d){var e=d.get("tags"),f=d.get("createTag");void 0!==f&&(this.createTag=f);var g=d.get("insertTag");if(void 0!==g&&(this.insertTag=g),b.call(this,c,d),a.isArray(e))for(var h=0;h<e.length;h++){var i=e[h],j=this._normalizeItem(i),k=this.option(j);this.$element.append(k)}}return b.prototype.query=function(a,b,c){function d(a,f){for(var g=a.results,h=0;h<g.length;h++){var i=g[h],j=null!=i.children&&!d({results:i.children},!0),k=i.text===b.term;if(k||j)return f?!1:(a.data=g,void c(a))}if(f)return!0;var l=e.createTag(b);if(null!=l){var m=e.option(l);m.attr("data-select2-tag",!0),e.addOptions([m]),e.insertTag(g,l)}a.results=g,c(a)}var e=this;return this._removeOldTags(),null==b.term||null!=b.page?void a.call(this,b,c):void a.call(this,b,d)},b.prototype.createTag=function(b,c){var d=a.trim(c.term);return""===d?null:{id:d,text:d}},b.prototype.insertTag=function(a,b,c){b.unshift(c)},b.prototype._removeOldTags=function(b){var c=(this._lastTag,this.$element.find("option[data-select2-tag]"));c.each(function(){this.selected||a(this).remove()})},b}),b.define("select2/data/tokenizer",["jquery"],function(a){function b(a,b,c){var d=c.get("tokenizer");void 0!==d&&(this.tokenizer=d),a.call(this,b,c)}return b.prototype.bind=function(a,b,c){a.call(this,b,c),this.$search=b.dropdown.$search||b.selection.$search||c.find(".select2-search__field")},b.prototype.query=function(b,c,d){function e(b){var c=g._normalizeItem(b),d=g.$element.find("option").filter(function(){return a(this).val()===c.id});if(!d.length){var e=g.option(c);e.attr("data-select2-tag",!0),g._removeOldTags(),g.addOptions([e])}f(c)}function f(a){g.trigger("select",{data:a})}var g=this;c.term=c.term||"";var h=this.tokenizer(c,this.options,e);h.term!==c.term&&(this.$search.length&&(this.$search.val(h.term),this.$search.focus()),c.term=h.term),b.call(this,c,d)},b.prototype.tokenizer=function(b,c,d,e){for(var f=d.get("tokenSeparators")||[],g=c.term,h=0,i=this.createTag||function(a){return{id:a.term,text:a.term}};h<g.length;){var j=g[h];if(-1!==a.inArray(j,f)){var k=g.substr(0,h),l=a.extend({},c,{term:k}),m=i(l);null!=m?(e(m),g=g.substr(h+1)||"",h=0):h++}else h++}return{term:g}},b}),b.define("select2/data/minimumInputLength",[],function(){function a(a,b,c){this.minimumInputLength=c.get("minimumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){return b.term=b.term||"",b.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:b.term,params:b}}):void a.call(this,b,c)},a}),b.define("select2/data/maximumInputLength",[],function(){function a(a,b,c){this.maximumInputLength=c.get("maximumInputLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){return b.term=b.term||"",this.maximumInputLength>0&&b.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:b.term,params:b}}):void a.call(this,b,c)},a}),b.define("select2/data/maximumSelectionLength",[],function(){function a(a,b,c){this.maximumSelectionLength=c.get("maximumSelectionLength"),a.call(this,b,c)}return a.prototype.query=function(a,b,c){var d=this;this.current(function(e){var f=null!=e?e.length:0;return d.maximumSelectionLength>0&&f>=d.maximumSelectionLength?void d.trigger("results:message",{message:"maximumSelected",args:{maximum:d.maximumSelectionLength}}):void a.call(d,b,c)})},a}),b.define("select2/dropdown",["jquery","./utils"],function(a,b){function c(a,b){this.$element=a,this.options=b,c.__super__.constructor.call(this)}return b.Extend(c,b.Observable),c.prototype.render=function(){var b=a('<span class="select2-dropdown"><span class="select2-results"></span></span>');return b.attr("dir",this.options.get("dir")),this.$dropdown=b,b},c.prototype.bind=function(){},c.prototype.position=function(a,b){},c.prototype.destroy=function(){this.$dropdown.remove()},c}),b.define("select2/dropdown/search",["jquery","../utils"],function(a,b){function c(){}return c.prototype.render=function(b){var c=b.call(this),d=a('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=d,this.$search=d.find("input"),c.prepend(d),c},c.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),this.$search.on("keydown",function(a){e.trigger("keypress",a),e._keyUpPrevented=a.isDefaultPrevented()}),this.$search.on("input",function(b){a(this).off("keyup")}),this.$search.on("keyup input",function(a){e.handleSearch(a)}),c.on("open",function(){e.$search.attr("tabindex",0),e.$search.focus(),window.setTimeout(function(){e.$search.focus()},0)}),c.on("close",function(){e.$search.attr("tabindex",-1),e.$search.val("")}),c.on("focus",function(){c.isOpen()&&e.$search.focus()}),c.on("results:all",function(a){if(null==a.query.term||""===a.query.term){var b=e.showSearch(a);b?e.$searchContainer.removeClass("select2-search--hide"):e.$searchContainer.addClass("select2-search--hide")}})},c.prototype.handleSearch=function(a){if(!this._keyUpPrevented){var b=this.$search.val();this.trigger("query",{term:b})}this._keyUpPrevented=!1},c.prototype.showSearch=function(a,b){return!0},c}),b.define("select2/dropdown/hidePlaceholder",[],function(){function a(a,b,c,d){this.placeholder=this.normalizePlaceholder(c.get("placeholder")),a.call(this,b,c,d)}return a.prototype.append=function(a,b){b.results=this.removePlaceholder(b.results),a.call(this,b)},a.prototype.normalizePlaceholder=function(a,b){return"string"==typeof b&&(b={id:"",text:b}),b},a.prototype.removePlaceholder=function(a,b){for(var c=b.slice(0),d=b.length-1;d>=0;d--){var e=b[d];this.placeholder.id===e.id&&c.splice(d,1)}return c},a}),b.define("select2/dropdown/infiniteScroll",["jquery"],function(a){function b(a,b,c,d){this.lastParams={},a.call(this,b,c,d),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return b.prototype.append=function(a,b){this.$loadingMore.remove(),this.loading=!1,a.call(this,b),this.showLoadingMore(b)&&this.$results.append(this.$loadingMore)},b.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d),c.on("query",function(a){e.lastParams=a,e.loading=!0}),c.on("query:append",function(a){e.lastParams=a,e.loading=!0}),this.$results.on("scroll",function(){var b=a.contains(document.documentElement,e.$loadingMore[0]);if(!e.loading&&b){var c=e.$results.offset().top+e.$results.outerHeight(!1),d=e.$loadingMore.offset().top+e.$loadingMore.outerHeight(!1);c+50>=d&&e.loadMore()}})},b.prototype.loadMore=function(){this.loading=!0;var b=a.extend({},{page:1},this.lastParams);b.page++,this.trigger("query:append",b)},b.prototype.showLoadingMore=function(a,b){return b.pagination&&b.pagination.more},b.prototype.createLoadingMore=function(){var b=a('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),c=this.options.get("translations").get("loadingMore");return b.html(c(this.lastParams)),b},b}),b.define("select2/dropdown/attachBody",["jquery","../utils"],function(a,b){function c(b,c,d){this.$dropdownParent=d.get("dropdownParent")||a(document.body),b.call(this,c,d)}return c.prototype.bind=function(a,b,c){var d=this,e=!1;a.call(this,b,c),b.on("open",function(){d._showDropdown(),d._attachPositioningHandler(b),e||(e=!0,b.on("results:all",function(){d._positionDropdown(),d._resizeDropdown()}),b.on("results:append",function(){d._positionDropdown(),d._resizeDropdown()}))}),b.on("close",function(){d._hideDropdown(),d._detachPositioningHandler(b)}),this.$dropdownContainer.on("mousedown",function(a){a.stopPropagation()})},c.prototype.destroy=function(a){a.call(this),this.$dropdownContainer.remove()},c.prototype.position=function(a,b,c){b.attr("class",c.attr("class")),b.removeClass("select2"),b.addClass("select2-container--open"),b.css({position:"absolute",top:-999999}),this.$container=c},c.prototype.render=function(b){var c=a("<span></span>"),d=b.call(this);return c.append(d),this.$dropdownContainer=c,c},c.prototype._hideDropdown=function(a){this.$dropdownContainer.detach()},c.prototype._attachPositioningHandler=function(c,d){var e=this,f="scroll.select2."+d.id,g="resize.select2."+d.id,h="orientationchange.select2."+d.id,i=this.$container.parents().filter(b.hasScroll);i.each(function(){a(this).data("select2-scroll-position",{x:a(this).scrollLeft(),y:a(this).scrollTop()})}),i.on(f,function(b){var c=a(this).data("select2-scroll-position");a(this).scrollTop(c.y)}),a(window).on(f+" "+g+" "+h,function(a){e._positionDropdown(),e._resizeDropdown()})},c.prototype._detachPositioningHandler=function(c,d){var e="scroll.select2."+d.id,f="resize.select2."+d.id,g="orientationchange.select2."+d.id,h=this.$container.parents().filter(b.hasScroll);h.off(e),a(window).off(e+" "+f+" "+g)},c.prototype._positionDropdown=function(){var b=a(window),c=this.$dropdown.hasClass("select2-dropdown--above"),d=this.$dropdown.hasClass("select2-dropdown--below"),e=null,f=this.$container.offset();f.bottom=f.top+this.$container.outerHeight(!1);var g={height:this.$container.outerHeight(!1)};g.top=f.top,g.bottom=f.top+g.height;var h={height:this.$dropdown.outerHeight(!1)},i={top:b.scrollTop(),bottom:b.scrollTop()+b.height()},j=i.top<f.top-h.height,k=i.bottom>f.bottom+h.height,l={left:f.left,top:g.bottom},m=this.$dropdownParent;"static"===m.css("position")&&(m=m.offsetParent());var n=m.offset();l.top-=n.top,l.left-=n.left,c||d||(e="below"),k||!j||c?!j&&k&&c&&(e="below"):e="above",("above"==e||c&&"below"!==e)&&(l.top=g.top-n.top-h.height),null!=e&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+e),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+e)),this.$dropdownContainer.css(l)},c.prototype._resizeDropdown=function(){var a={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(a.minWidth=a.width,a.position="relative",a.width="auto"),this.$dropdown.css(a)},c.prototype._showDropdown=function(a){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},c}),b.define("select2/dropdown/minimumResultsForSearch",[],function(){function a(b){for(var c=0,d=0;d<b.length;d++){var e=b[d];e.children?c+=a(e.children):c++}return c}function b(a,b,c,d){this.minimumResultsForSearch=c.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),a.call(this,b,c,d)}return b.prototype.showSearch=function(b,c){return a(c.data.results)<this.minimumResultsForSearch?!1:b.call(this,c)},b}),b.define("select2/dropdown/selectOnClose",[],function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("close",function(a){d._handleSelectOnClose(a)})},a.prototype._handleSelectOnClose=function(a,b){if(b&&null!=b.originalSelect2Event){var c=b.originalSelect2Event;if("select"===c._type||"unselect"===c._type)return}var d=this.getHighlightedResults();if(!(d.length<1)){var e=d.data("data");null!=e.element&&e.element.selected||null==e.element&&e.selected||this.trigger("select",{data:e})}},a}),b.define("select2/dropdown/closeOnSelect",[],function(){function a(){}return a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c),b.on("select",function(a){d._selectTriggered(a)}),b.on("unselect",function(a){d._selectTriggered(a)})},a.prototype._selectTriggered=function(a,b){var c=b.originalEvent;c&&c.ctrlKey||this.trigger("close",{originalEvent:c,originalSelect2Event:b})},a}),b.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(a){var b=a.input.length-a.maximum,c="Please delete "+b+" character";return 1!=b&&(c+="s"),c},inputTooShort:function(a){var b=a.minimum-a.input.length,c="Please enter "+b+" or more characters";return c},loadingMore:function(){return"Loading more results…"},maximumSelected:function(a){var b="You can only select "+a.maximum+" item";return 1!=a.maximum&&(b+="s"),b},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),b.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){function D(){this.reset()}D.prototype.apply=function(l){if(l=a.extend(!0,{},this.defaults,l),null==l.dataAdapter){if(null!=l.ajax?l.dataAdapter=o:null!=l.data?l.dataAdapter=n:l.dataAdapter=m,l.minimumInputLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,r)),l.maximumInputLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,s)),l.maximumSelectionLength>0&&(l.dataAdapter=j.Decorate(l.dataAdapter,t)),l.tags&&(l.dataAdapter=j.Decorate(l.dataAdapter,p)),(null!=l.tokenSeparators||null!=l.tokenizer)&&(l.dataAdapter=j.Decorate(l.dataAdapter,q)),null!=l.query){var C=b(l.amdBase+"compat/query");l.dataAdapter=j.Decorate(l.dataAdapter,C)}if(null!=l.initSelection){var D=b(l.amdBase+"compat/initSelection");l.dataAdapter=j.Decorate(l.dataAdapter,D)}}if(null==l.resultsAdapter&&(l.resultsAdapter=c,null!=l.ajax&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,x)),null!=l.placeholder&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,w)),l.selectOnClose&&(l.resultsAdapter=j.Decorate(l.resultsAdapter,A))),null==l.dropdownAdapter){if(l.multiple)l.dropdownAdapter=u;else{var E=j.Decorate(u,v);l.dropdownAdapter=E}if(0!==l.minimumResultsForSearch&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,z)),l.closeOnSelect&&(l.dropdownAdapter=j.Decorate(l.dropdownAdapter,B)),null!=l.dropdownCssClass||null!=l.dropdownCss||null!=l.adaptDropdownCssClass){var F=b(l.amdBase+"compat/dropdownCss");l.dropdownAdapter=j.Decorate(l.dropdownAdapter,F)}l.dropdownAdapter=j.Decorate(l.dropdownAdapter,y)}if(null==l.selectionAdapter){if(l.multiple?l.selectionAdapter=e:l.selectionAdapter=d,null!=l.placeholder&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,f)),l.allowClear&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,g)),l.multiple&&(l.selectionAdapter=j.Decorate(l.selectionAdapter,h)),null!=l.containerCssClass||null!=l.containerCss||null!=l.adaptContainerCssClass){var G=b(l.amdBase+"compat/containerCss");l.selectionAdapter=j.Decorate(l.selectionAdapter,G)}l.selectionAdapter=j.Decorate(l.selectionAdapter,i)}if("string"==typeof l.language)if(l.language.indexOf("-")>0){var H=l.language.split("-"),I=H[0];l.language=[l.language,I]}else l.language=[l.language];if(a.isArray(l.language)){var J=new k;l.language.push("en");for(var K=l.language,L=0;L<K.length;L++){var M=K[L],N={};try{N=k.loadPath(M)}catch(O){try{M=this.defaults.amdLanguageBase+M,N=k.loadPath(M)}catch(P){l.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+M+'" could not be automatically loaded. A fallback will be used instead.');continue}}J.extend(N)}l.translations=J}else{var Q=k.loadPath(this.defaults.amdLanguageBase+"en"),R=new k(l.language);R.extend(Q),l.translations=R}return l},D.prototype.reset=function(){function b(a){function b(a){return l[a]||a}return a.replace(/[^\u0000-\u007E]/g,b)}function c(d,e){if(""===a.trim(d.term))return e;if(e.children&&e.children.length>0){for(var f=a.extend(!0,{},e),g=e.children.length-1;g>=0;g--){var h=e.children[g],i=c(d,h);null==i&&f.children.splice(g,1)}return f.children.length>0?f:c(d,f)}var j=b(e.text).toUpperCase(),k=b(d.term).toUpperCase();return j.indexOf(k)>-1?e:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:j.escapeMarkup,language:C,matcher:c,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(a){return a},templateResult:function(a){return a.text},templateSelection:function(a){return a.text},theme:"default",width:"resolve"}},D.prototype.set=function(b,c){var d=a.camelCase(b),e={};e[d]=c;var f=j._convertData(e);a.extend(this.defaults,f)};var E=new D;return E}),b.define("select2/options",["require","jquery","./defaults","./utils"],function(a,b,c,d){function e(b,e){if(this.options=b,null!=e&&this.fromElement(e),this.options=c.apply(this.options),e&&e.is("input")){var f=a(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=d.Decorate(this.options.dataAdapter,f)}}return e.prototype.fromElement=function(a){var c=["select2"];null==this.options.multiple&&(this.options.multiple=a.prop("multiple")),null==this.options.disabled&&(this.options.disabled=a.prop("disabled")),null==this.options.language&&(a.prop("lang")?this.options.language=a.prop("lang").toLowerCase():a.closest("[lang]").prop("lang")&&(this.options.language=a.closest("[lang]").prop("lang"))),null==this.options.dir&&(a.prop("dir")?this.options.dir=a.prop("dir"):a.closest("[dir]").prop("dir")?this.options.dir=a.closest("[dir]").prop("dir"):this.options.dir="ltr"),a.prop("disabled",this.options.disabled),a.prop("multiple",this.options.multiple),a.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),a.data("data",a.data("select2Tags")),a.data("tags",!0)),a.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),a.attr("ajax--url",a.data("ajaxUrl")),a.data("ajax--url",a.data("ajaxUrl")));var e={};e=b.fn.jquery&&"1."==b.fn.jquery.substr(0,2)&&a[0].dataset?b.extend(!0,{},a[0].dataset,a.data()):a.data();var f=b.extend(!0,{},e);f=d._convertData(f);for(var g in f)b.inArray(g,c)>-1||(b.isPlainObject(this.options[g])?b.extend(this.options[g],f[g]):this.options[g]=f[g]);return this},e.prototype.get=function(a){return this.options[a]},e.prototype.set=function(a,b){this.options[a]=b},e}),b.define("select2/core",["jquery","./options","./utils","./keys"],function(a,b,c,d){var e=function(a,c){null!=a.data("select2")&&a.data("select2").destroy(),this.$element=a,this.id=this._generateId(a),c=c||{},this.options=new b(c,a),e.__super__.constructor.call(this);var d=a.attr("tabindex")||0;a.data("old-tabindex",d),a.attr("tabindex","-1");var f=this.options.get("dataAdapter");this.dataAdapter=new f(a,this.options);var g=this.render();this._placeContainer(g);var h=this.options.get("selectionAdapter");this.selection=new h(a,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,g);var i=this.options.get("dropdownAdapter");this.dropdown=new i(a,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,g);var j=this.options.get("resultsAdapter");this.results=new j(a,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var k=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(a){k.trigger("selection:update",{data:a})}),a.addClass("select2-hidden-accessible"),a.attr("aria-hidden","true"),this._syncAttributes(),a.data("select2",this)};return c.Extend(e,c.Observable),e.prototype._generateId=function(a){var b="";return b=null!=a.attr("id")?a.attr("id"):null!=a.attr("name")?a.attr("name")+"-"+c.generateChars(2):c.generateChars(4),b=b.replace(/(:|\.|\[|\]|,)/g,""),b="select2-"+b},e.prototype._placeContainer=function(a){a.insertAfter(this.$element);var b=this._resolveWidth(this.$element,this.options.get("width"));null!=b&&a.css("width",b)},e.prototype._resolveWidth=function(a,b){var c=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==b){var d=this._resolveWidth(a,"style");return null!=d?d:this._resolveWidth(a,"element")}if("element"==b){var e=a.outerWidth(!1);return 0>=e?"auto":e+"px"}if("style"==b){var f=a.attr("style");if("string"!=typeof f)return null;for(var g=f.split(";"),h=0,i=g.length;i>h;h+=1){var j=g[h].replace(/\s/g,""),k=j.match(c);if(null!==k&&k.length>=1)return k[1]}return null}return b},e.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},e.prototype._registerDomEvents=function(){var b=this;this.$element.on("change.select2",function(){b.dataAdapter.current(function(a){b.trigger("selection:update",{data:a})})}),this.$element.on("focus.select2",function(a){b.trigger("focus",a)}),this._syncA=c.bind(this._syncAttributes,this),this._syncS=c.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=d?(this._observer=new d(function(c){a.each(c,b._syncA),a.each(c,b._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",b._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",b._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",b._syncS,!1))},e.prototype._registerDataEvents=function(){var a=this;this.dataAdapter.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerSelectionEvents=function(){var b=this,c=["toggle","focus"];this.selection.on("toggle",function(){b.toggleDropdown()}),this.selection.on("focus",function(a){b.focus(a)}),this.selection.on("*",function(d,e){-1===a.inArray(d,c)&&b.trigger(d,e)})},e.prototype._registerDropdownEvents=function(){var a=this;this.dropdown.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerResultsEvents=function(){var a=this;this.results.on("*",function(b,c){a.trigger(b,c)})},e.prototype._registerEvents=function(){var a=this;this.on("open",function(){a.$container.addClass("select2-container--open")}),this.on("close",function(){a.$container.removeClass("select2-container--open")}),this.on("enable",function(){a.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){a.$container.addClass("select2-container--disabled")}),this.on("blur",function(){a.$container.removeClass("select2-container--focus")}),this.on("query",function(b){a.isOpen()||a.trigger("open",{}),this.dataAdapter.query(b,function(c){a.trigger("results:all",{data:c,query:b})})}),this.on("query:append",function(b){this.dataAdapter.query(b,function(c){a.trigger("results:append",{data:c,query:b})})}),this.on("keypress",function(b){var c=b.which;a.isOpen()?c===d.ESC||c===d.TAB||c===d.UP&&b.altKey?(a.close(),b.preventDefault()):c===d.ENTER?(a.trigger("results:select",{}),b.preventDefault()):c===d.SPACE&&b.ctrlKey?(a.trigger("results:toggle",{}),b.preventDefault()):c===d.UP?(a.trigger("results:previous",{}),b.preventDefault()):c===d.DOWN&&(a.trigger("results:next",{}),b.preventDefault()):(c===d.ENTER||c===d.SPACE||c===d.DOWN&&b.altKey)&&(a.open(),b.preventDefault())})},e.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},e.prototype._syncSubtree=function(a,b){var c=!1,d=this;if(!a||!a.target||"OPTION"===a.target.nodeName||"OPTGROUP"===a.target.nodeName){if(b)if(b.addedNodes&&b.addedNodes.length>0)for(var e=0;e<b.addedNodes.length;e++){var f=b.addedNodes[e];f.selected&&(c=!0)}else b.removedNodes&&b.removedNodes.length>0&&(c=!0);else c=!0;c&&this.dataAdapter.current(function(a){d.trigger("selection:update",{data:a})})}},e.prototype.trigger=function(a,b){var c=e.__super__.trigger,d={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===b&&(b={}),a in d){var f=d[a],g={prevented:!1,name:a,args:b};if(c.call(this,f,g),g.prevented)return void(b.prevented=!0)}c.call(this,a,b)},e.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},e.prototype.open=function(){this.isOpen()||this.trigger("query",{})},e.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},e.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},e.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},e.prototype.focus=function(a){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},e.prototype.enable=function(a){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==a||0===a.length)&&(a=[!0]);var b=!a[0];this.$element.prop("disabled",b)},e.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var a=[];return this.dataAdapter.current(function(b){a=b}),a},e.prototype.val=function(b){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==b||0===b.length)return this.$element.val();var c=b[0];a.isArray(c)&&(c=a.map(c,function(a){return a.toString()})),this.$element.val(c).trigger("change")},e.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null;
},e.prototype.render=function(){var b=a('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return b.attr("dir",this.options.get("dir")),this.$container=b,this.$container.addClass("select2-container--"+this.options.get("theme")),b.data("element",this.$element),b},e}),b.define("jquery-mousewheel",["jquery"],function(a){return a}),b.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(a,b,c,d){if(null==a.fn.select2){var e=["open","close","destroy"];a.fn.select2=function(b){if(b=b||{},"object"==typeof b)return this.each(function(){var d=a.extend(!0,{},b);new c(a(this),d)}),this;if("string"==typeof b){var d,f=Array.prototype.slice.call(arguments,1);return this.each(function(){var c=a(this).data("select2");null==c&&window.console&&console.error&&console.error("The select2('"+b+"') method was called on an element that is not using Select2."),d=c[b].apply(c,f)}),a.inArray(b,e)>-1?this:d}throw new Error("Invalid arguments for Select2: "+b)}}return null==a.fn.select2.defaults&&(a.fn.select2.defaults=d),c}),{define:b.define,require:b.require}}(),c=b.require("jquery.select2");return a.fn.select2.amd=b,c});
/*!
* inputmask.min.js
* https://github.com/RobinHerbots/Inputmask
* Copyright (c) 2010 - 2017 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 3.3.8
*/

!function(a){"function"==typeof define&&define.amd?define(["./dependencyLibs/inputmask.dependencyLib","./global/window","./global/document"],a):"object"==typeof exports?module.exports=a(require("./dependencyLibs/inputmask.dependencyLib"),require("./global/window"),require("./global/document")):window.Inputmask=a(window.dependencyLib||jQuery,window,document)}(function(a,b,c,d){function e(b,c,g){if(!(this instanceof e))return new e(b,c,g);this.el=d,this.events={},this.maskset=d,this.refreshValue=!1,!0!==g&&(a.isPlainObject(b)?c=b:(c=c||{},c.alias=b),this.opts=a.extend(!0,{},this.defaults,c),this.noMasksCache=c&&c.definitions!==d,this.userOptions=c||{},this.isRTL=this.opts.numericInput,f(this.opts.alias,c,this.opts))}function f(b,c,g){var h=e.prototype.aliases[b];return h?(h.alias&&f(h.alias,d,g),a.extend(!0,g,h),a.extend(!0,g,c),!0):(null===g.mask&&(g.mask=b),!1)}function g(b,c){function f(b,f,g){var h=!1;if(null!==b&&""!==b||(h=null!==g.regex,h?(b=g.regex,b=b.replace(/^(\^)(.*)(\$)$/,"$2")):(h=!0,b=".*")),1===b.length&&!1===g.greedy&&0!==g.repeat&&(g.placeholder=""),g.repeat>0||"*"===g.repeat||"+"===g.repeat){var i="*"===g.repeat?0:"+"===g.repeat?1:g.repeat;b=g.groupmarker.start+b+g.groupmarker.end+g.quantifiermarker.start+i+","+g.repeat+g.quantifiermarker.end}var j,k=h?"regex_"+g.regex:g.numericInput?b.split("").reverse().join(""):b;return e.prototype.masksCache[k]===d||!0===c?(j={mask:b,maskToken:e.prototype.analyseMask(b,h,g),validPositions:{},_buffer:d,buffer:d,tests:{},metadata:f,maskLength:d},!0!==c&&(e.prototype.masksCache[k]=j,j=a.extend(!0,{},e.prototype.masksCache[k]))):j=a.extend(!0,{},e.prototype.masksCache[k]),j}if(a.isFunction(b.mask)&&(b.mask=b.mask(b)),a.isArray(b.mask)){if(b.mask.length>1){b.keepStatic=null===b.keepStatic||b.keepStatic;var g=b.groupmarker.start;return a.each(b.numericInput?b.mask.reverse():b.mask,function(c,e){g.length>1&&(g+=b.groupmarker.end+b.alternatormarker+b.groupmarker.start),e.mask===d||a.isFunction(e.mask)?g+=e:g+=e.mask}),g+=b.groupmarker.end,f(g,b.mask,b)}b.mask=b.mask.pop()}return b.mask&&b.mask.mask!==d&&!a.isFunction(b.mask.mask)?f(b.mask.mask,b.mask,b):f(b.mask,b.mask,b)}function h(f,g,i){function n(a,b,c){b=b||0;var e,f,g,h=[],j=0,k=q();do{!0===a&&o().validPositions[j]?(g=o().validPositions[j],f=g.match,e=g.locator.slice(),h.push(!0===c?g.input:!1===c?f.nativeDef:I(j,f))):(g=t(j,e,j-1),f=g.match,e=g.locator.slice(),(!1===i.jitMasking||j<k||"number"==typeof i.jitMasking&&isFinite(i.jitMasking)&&i.jitMasking>j)&&h.push(!1===c?f.nativeDef:I(j,f))),j++}while((U===d||j<U)&&(null!==f.fn||""!==f.def)||b>j);return""===h[h.length-1]&&h.pop(),o().maskLength=j+1,h}function o(){return g}function p(a){var b=o();b.buffer=d,!0!==a&&(b.validPositions={},b.p=0)}function q(a,b,c){var e=-1,f=-1,g=c||o().validPositions;a===d&&(a=-1);for(var h in g){var i=parseInt(h);g[i]&&(b||!0!==g[i].generatedInput)&&(i<=a&&(e=i),i>=a&&(f=i))}return-1!==e&&a-e>1||f<a?e:f}function r(b,c,e,f){var g,h=b,j=a.extend(!0,{},o().validPositions),k=!1;for(o().p=b,g=c-1;g>=h;g--)o().validPositions[g]!==d&&(!0!==e&&(!o().validPositions[g].match.optionality&&function(a){var b=o().validPositions[a];if(b!==d&&null===b.match.fn){var c=o().validPositions[a-1],e=o().validPositions[a+1];return c!==d&&e!==d}return!1}(g)||!1===i.canClearPosition(o(),g,q(),f,i))||delete o().validPositions[g]);for(p(!0),g=h+1;g<=q();){for(;o().validPositions[h]!==d;)h++;if(g<h&&(g=h+1),o().validPositions[g]===d&&D(g))g++;else{var l=t(g);!1===k&&j[h]&&j[h].match.def===l.match.def?(o().validPositions[h]=a.extend(!0,{},j[h]),o().validPositions[h].input=l.input,delete o().validPositions[g],g++):v(h,l.match.def)?!1!==C(h,l.input||I(g),!0)&&(delete o().validPositions[g],g++,k=!0):D(g)||(g++,h--),h++}}p(!0)}function s(a,b){for(var c,e=a,f=q(),g=o().validPositions[f]||w(0)[0],h=g.alternation!==d?g.locator[g.alternation].toString().split(","):[],j=0;j<e.length&&(c=e[j],!(c.match&&(i.greedy&&!0!==c.match.optionalQuantifier||(!1===c.match.optionality||!1===c.match.newBlockMarker)&&!0!==c.match.optionalQuantifier)&&(g.alternation===d||g.alternation!==c.alternation||c.locator[g.alternation]!==d&&B(c.locator[g.alternation].toString().split(","),h)))||!0===b&&(null!==c.match.fn||/[0-9a-bA-Z]/.test(c.match.def)));j++);return c}function t(a,b,c){return o().validPositions[a]||s(w(a,b?b.slice():b,c))}function u(a){return o().validPositions[a]?o().validPositions[a]:w(a)[0]}function v(a,b){for(var c=!1,d=w(a),e=0;e<d.length;e++)if(d[e].match&&d[e].match.def===b){c=!0;break}return c}function w(b,c,e){function f(c,e,g,j){function l(g,j,q){function r(b,c){var d=0===a.inArray(b,c.matches);return d||a.each(c.matches,function(a,e){if(!0===e.isQuantifier&&(d=r(b,c.matches[a-1])))return!1}),d}function s(b,c,e){var f,g;if(o().validPositions[b-1]&&e&&o().tests[b])for(var h=o().validPositions[b-1].locator,i=o().tests[b][0].locator,j=0;j<e;j++)if(h[j]!==i[j])return h.slice(e+1);return(o().tests[b]||o().validPositions[b])&&a.each(o().tests[b]||[o().validPositions[b]],function(a,b){var h=e!==d?e:b.alternation,i=b.locator[h]!==d?b.locator[h].toString().indexOf(c):-1;(g===d||i<g)&&-1!==i&&(f=b,g=i)}),f?f.locator.slice((e!==d?e:f.alternation)+1):e!==d?s(b,c):d}if(k>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+o().mask;if(k===b&&g.matches===d)return m.push({match:g,locator:j.reverse(),cd:p}),!0;if(g.matches!==d){if(g.isGroup&&q!==g){if(g=l(c.matches[a.inArray(g,c.matches)+1],j))return!0}else if(g.isOptional){var t=g;if(g=f(g,e,j,q)){if(h=m[m.length-1].match,!r(h,t))return!0;n=!0,k=b}}else if(g.isAlternator){var u,v=g,w=[],x=m.slice(),y=j.length,z=e.length>0?e.shift():-1;if(-1===z||"string"==typeof z){var A,B=k,C=e.slice(),D=[];if("string"==typeof z)D=z.split(",");else for(A=0;A<v.matches.length;A++)D.push(A);for(var E=0;E<D.length;E++){if(A=parseInt(D[E]),m=[],e=s(k,A,y)||C.slice(),!0!==(g=l(v.matches[A]||c.matches[A],[A].concat(j),q)||g)&&g!==d&&D[D.length-1]<v.matches.length){var F=a.inArray(g,c.matches)+1;c.matches.length>F&&(g=l(c.matches[F],[F].concat(j.slice(1,j.length)),q))&&(D.push(F.toString()),a.each(m,function(a,b){b.alternation=j.length-1}))}u=m.slice(),k=B,m=[];for(var G=0;G<u.length;G++){var H=u[G],I=!1;H.alternation=H.alternation||y;for(var J=0;J<w.length;J++){var K=w[J];if("string"!=typeof z||-1!==a.inArray(H.locator[H.alternation].toString(),D)){if(function(a,b){return a.match.nativeDef===b.match.nativeDef||a.match.def===b.match.nativeDef||a.match.nativeDef===b.match.def}(H,K)){I=!0,H.alternation===K.alternation&&-1===K.locator[K.alternation].toString().indexOf(H.locator[H.alternation])&&(K.locator[K.alternation]=K.locator[K.alternation]+","+H.locator[H.alternation],K.alternation=H.alternation),H.match.nativeDef===K.match.def&&(H.locator[H.alternation]=K.locator[K.alternation],w.splice(w.indexOf(K),1,H));break}if(H.match.def===K.match.def){I=!1;break}if(function(a,c){return null===a.match.fn&&null!==c.match.fn&&c.match.fn.test(a.match.def,o(),b,!1,i,!1)}(H,K)||function(a,c){return null!==a.match.fn&&null!==c.match.fn&&c.match.fn.test(a.match.def.replace(/[\[\]]/g,""),o(),b,!1,i,!1)}(H,K)){H.alternation===K.alternation&&-1===H.locator[H.alternation].toString().indexOf(K.locator[K.alternation].toString().split("")[0])&&(H.na=H.na||H.locator[H.alternation].toString(),-1===H.na.indexOf(H.locator[H.alternation].toString().split("")[0])&&(H.na=H.na+","+H.locator[K.alternation].toString().split("")[0]),I=!0,H.locator[H.alternation]=K.locator[K.alternation].toString().split("")[0]+","+H.locator[H.alternation],w.splice(w.indexOf(K),0,H));break}}}I||w.push(H)}}"string"==typeof z&&(w=a.map(w,function(b,c){if(isFinite(c)){var e=b.alternation,f=b.locator[e].toString().split(",");b.locator[e]=d,b.alternation=d;for(var g=0;g<f.length;g++)-1!==a.inArray(f[g],D)&&(b.locator[e]!==d?(b.locator[e]+=",",b.locator[e]+=f[g]):b.locator[e]=parseInt(f[g]),b.alternation=e);if(b.locator[e]!==d)return b}})),m=x.concat(w),k=b,n=m.length>0,g=w.length>0,e=C.slice()}else g=l(v.matches[z]||c.matches[z],[z].concat(j),q);if(g)return!0}else if(g.isQuantifier&&q!==c.matches[a.inArray(g,c.matches)-1])for(var L=g,M=e.length>0?e.shift():0;M<(isNaN(L.quantifier.max)?M+1:L.quantifier.max)&&k<=b;M++){var N=c.matches[a.inArray(L,c.matches)-1];if(g=l(N,[M].concat(j),N)){if(h=m[m.length-1].match,h.optionalQuantifier=M>L.quantifier.min-1,r(h,N)){if(M>L.quantifier.min-1){n=!0,k=b;break}return!0}return!0}}else if(g=f(g,e,j,q))return!0}else k++}for(var q=e.length>0?e.shift():0;q<c.matches.length;q++)if(!0!==c.matches[q].isQuantifier){var r=l(c.matches[q],[q].concat(g),j);if(r&&k===b)return r;if(k>b)break}}function g(a){if(i.keepStatic&&b>0&&a.length>1+(""===a[a.length-1].match.def?1:0)&&!0!==a[0].match.optionality&&!0!==a[0].match.optionalQuantifier&&null===a[0].match.fn&&!/[0-9a-bA-Z]/.test(a[0].match.def)){if(o().validPositions[b-1]===d)return[s(a)];if(o().validPositions[b-1].alternation===a[0].alternation)return[s(a)];if(o().validPositions[b-1])return[s(a)]}return a}var h,j=o().maskToken,k=c?e:0,l=c?c.slice():[0],m=[],n=!1,p=c?c.join(""):"";if(b>-1){if(c===d){for(var q,r=b-1;(q=o().validPositions[r]||o().tests[r])===d&&r>-1;)r--;q!==d&&r>-1&&(l=function(b){var c=[];return a.isArray(b)||(b=[b]),b.length>0&&(b[0].alternation===d?(c=s(b.slice()).locator.slice(),0===c.length&&(c=b[0].locator.slice())):a.each(b,function(a,b){if(""!==b.def)if(0===c.length)c=b.locator.slice();else for(var d=0;d<c.length;d++)b.locator[d]&&-1===c[d].toString().indexOf(b.locator[d])&&(c[d]+=","+b.locator[d])})),c}(q),p=l.join(""),k=r)}if(o().tests[b]&&o().tests[b][0].cd===p)return g(o().tests[b]);for(var t=l.shift();t<j.length;t++){if(f(j[t],l,[t])&&k===b||k>b)break}}return(0===m.length||n)&&m.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:"",placeholder:""},locator:[],cd:p}),c!==d&&o().tests[b]?g(a.extend(!0,[],m)):(o().tests[b]=a.extend(!0,[],m),g(o().tests[b]))}function x(){return o()._buffer===d&&(o()._buffer=n(!1,1),o().buffer===d&&(o().buffer=o()._buffer.slice())),o()._buffer}function y(a){return o().buffer!==d&&!0!==a||(o().buffer=n(!0,q(),!0)),o().buffer}function z(a,b,c){var e,f;if(!0===a)p(),a=0,b=c.length;else for(e=a;e<b;e++)delete o().validPositions[e];for(f=a,e=a;e<b;e++)if(p(!0),c[e]!==i.skipOptionalPartCharacter){var g=C(f,c[e],!0,!0);!1!==g&&(p(!0),f=g.caret!==d?g.caret:g.pos+1)}}function A(b,c,d){switch(i.casing||c.casing){case"upper":b=b.toUpperCase();break;case"lower":b=b.toLowerCase();break;case"title":var f=o().validPositions[d-1];b=0===d||f&&f.input===String.fromCharCode(e.keyCode.SPACE)?b.toUpperCase():b.toLowerCase();break;default:if(a.isFunction(i.casing)){var g=Array.prototype.slice.call(arguments);g.push(o().validPositions),b=i.casing.apply(this,g)}}return b}function B(b,c,e){for(var f,g=i.greedy?c:c.slice(0,1),h=!1,j=e!==d?e.split(","):[],k=0;k<j.length;k++)-1!==(f=b.indexOf(j[k]))&&b.splice(f,1);for(var l=0;l<b.length;l++)if(-1!==a.inArray(b[l],g)){h=!0;break}return h}function C(b,c,f,g,h,j){function k(a){var b=Y?a.begin-a.end>1||a.begin-a.end==1:a.end-a.begin>1||a.end-a.begin==1;return b&&0===a.begin&&a.end===o().maskLength?"full":b}function l(c,e,f){var h=!1;return a.each(w(c),function(j,l){for(var n=l.match,s=e?1:0,t="",u=n.cardinality;u>s;u--)t+=G(c-(u-1));if(e&&(t+=e),y(!0),!1!==(h=null!=n.fn?n.fn.test(t,o(),c,f,i,k(b)):(e===n.def||e===i.skipOptionalPartCharacter)&&""!==n.def&&{c:I(c,n,!0)||n.def,pos:c})){var v=h.c!==d?h.c:e;v=v===i.skipOptionalPartCharacter&&null===n.fn?I(c,n,!0)||n.def:v;var w=c,x=y();if(h.remove!==d&&(a.isArray(h.remove)||(h.remove=[h.remove]),a.each(h.remove.sort(function(a,b){return b-a}),function(a,b){r(b,b+1,!0)})),h.insert!==d&&(a.isArray(h.insert)||(h.insert=[h.insert]),a.each(h.insert.sort(function(a,b){return a-b}),function(a,b){C(b.pos,b.c,!0,g)})),h.refreshFromBuffer){var B=h.refreshFromBuffer;if(z(!0===B?B:B.start,B.end,x),h.pos===d&&h.c===d)return h.pos=q(),!1;if((w=h.pos!==d?h.pos:c)!==c)return h=a.extend(h,C(w,v,!0,g)),!1}else if(!0!==h&&h.pos!==d&&h.pos!==c&&(w=h.pos,z(c,w,y().slice()),w!==c))return h=a.extend(h,C(w,v,!0)),!1;return(!0===h||h.pos!==d||h.c!==d)&&(j>0&&p(!0),m(w,a.extend({},l,{input:A(v,n,w)}),g,k(b))||(h=!1),!1)}}),h}function m(b,c,e,f){if(f||i.insertMode&&o().validPositions[b]!==d&&e===d){var g,h=a.extend(!0,{},o().validPositions),j=q(d,!0);for(g=b;g<=j;g++)delete o().validPositions[g];o().validPositions[b]=a.extend(!0,{},c);var k,l=!0,m=o().validPositions,r=!1,s=o().maskLength;for(g=k=b;g<=j;g++){var t=h[g];if(t!==d)for(var u=k;u<o().maskLength&&(null===t.match.fn&&m[g]&&(!0===m[g].match.optionalQuantifier||!0===m[g].match.optionality)||null!=t.match.fn);){if(u++,!1===r&&h[u]&&h[u].match.def===t.match.def)o().validPositions[u]=a.extend(!0,{},h[u]),o().validPositions[u].input=t.input,n(u),k=u,l=!0;else if(v(u,t.match.def)){var w=C(u,t.input,!0,!0);l=!1!==w,k=w.caret||w.insert?q():u,r=!0}else if(!(l=!0===t.generatedInput)&&u>=o().maskLength-1)break;if(o().maskLength<s&&(o().maskLength=s),l)break}if(!l)break}if(!l)return o().validPositions=a.extend(!0,{},h),p(!0),!1}else o().validPositions[b]=a.extend(!0,{},c);return p(!0),!0}function n(b){for(var c=b-1;c>-1&&!o().validPositions[c];c--);var e,f;for(c++;c<b;c++)o().validPositions[c]===d&&(!1===i.jitMasking||i.jitMasking>c)&&(f=w(c,t(c-1).locator,c-1).slice(),""===f[f.length-1].match.def&&f.pop(),(e=s(f))&&(e.match.def===i.radixPointDefinitionSymbol||!D(c,!0)||a.inArray(i.radixPoint,y())<c&&e.match.fn&&e.match.fn.test(I(c),o(),c,!1,i))&&!1!==(x=l(c,I(c,e.match,!0)||(null==e.match.fn?e.match.def:""!==I(c)?I(c):y()[c]),!0))&&(o().validPositions[x.pos||c].generatedInput=!0))}f=!0===f;var u=b;b.begin!==d&&(u=Y&&!k(b)?b.end:b.begin);var x=!0,F=a.extend(!0,{},o().validPositions);if(a.isFunction(i.preValidation)&&!f&&!0!==g&&!0!==j&&(x=i.preValidation(y(),u,c,k(b),i)),!0===x){if(n(u),k(b)&&(P(d,e.keyCode.DELETE,b,!0,!0),u=o().p),u<o().maskLength&&(U===d||u<U)&&(x=l(u,c,f),(!f||!0===g)&&!1===x&&!0!==j)){var H=o().validPositions[u];if(!H||null!==H.match.fn||H.match.def!==c&&c!==i.skipOptionalPartCharacter){if((i.insertMode||o().validPositions[E(u)]===d)&&!D(u,!0))for(var J=u+1,K=E(u);J<=K;J++)if(!1!==(x=l(J,c,f))){!function(b,c){var e=o().validPositions[c];if(e)for(var f=e.locator,g=f.length,h=b;h<c;h++)if(o().validPositions[h]===d&&!D(h,!0)){var i=w(h).slice(),j=s(i,!0),k=-1;""===i[i.length-1].match.def&&i.pop(),a.each(i,function(a,b){for(var c=0;c<g;c++){if(b.locator[c]===d||!B(b.locator[c].toString().split(","),f[c].toString().split(","),b.na)){var e=f[c],h=j.locator[c],i=b.locator[c];e-h>Math.abs(e-i)&&(j=b);break}k<c&&(k=c,j=b)}}),j=a.extend({},j,{input:I(h,j.match,!0)||j.match.def}),j.generatedInput=!0,m(h,j,!0),o().validPositions[c]=d,l(c,e.input,!0)}}(u,x.pos!==d?x.pos:J),u=J;break}}else x={caret:E(u)}}!1===x&&i.keepStatic&&!f&&!0!==h&&(x=function(b,c,e){var f,h,j,k,l,m,n,r,s=a.extend(!0,{},o().validPositions),t=!1,u=q();for(k=o().validPositions[u];u>=0;u--)if((j=o().validPositions[u])&&j.alternation!==d){if(f=u,h=o().validPositions[f].alternation,k.locator[j.alternation]!==j.locator[j.alternation])break;k=j}if(h!==d){r=parseInt(f);var v=k.locator[k.alternation||h]!==d?k.locator[k.alternation||h]:n[0];v.length>0&&(v=v.split(",")[0]);var x=o().validPositions[r],y=o().validPositions[r-1];a.each(w(r,y?y.locator:d,r-1),function(f,j){n=j.locator[h]?j.locator[h].toString().split(","):[];for(var k=0;k<n.length;k++){var u=[],w=0,y=0,z=!1;if(v<n[k]&&(j.na===d||-1===a.inArray(n[k],j.na.split(","))||-1===a.inArray(v.toString(),n))){o().validPositions[r]=a.extend(!0,{},j);var A=o().validPositions[r].locator;for(o().validPositions[r].locator[h]=parseInt(n[k]),null==j.match.fn?(x.input!==j.match.def&&(z=!0,!0!==x.generatedInput&&u.push(x.input)),y++,o().validPositions[r].generatedInput=!/[0-9a-bA-Z]/.test(j.match.def),o().validPositions[r].input=j.match.def):o().validPositions[r].input=x.input,l=r+1;l<q(d,!0)+1;l++)m=o().validPositions[l],m&&!0!==m.generatedInput&&/[0-9a-bA-Z]/.test(m.input)?u.push(m.input):l<b&&w++,delete o().validPositions[l];for(z&&u[0]===j.match.def&&u.shift(),p(!0),t=!0;u.length>0;){var B=u.shift();if(B!==i.skipOptionalPartCharacter&&!(t=C(q(d,!0)+1,B,!1,g,!0)))break}if(t){o().validPositions[r].locator=A;var D=q(b)+1;for(l=r+1;l<q()+1;l++)((m=o().validPositions[l])===d||null==m.match.fn)&&l<b+(y-w)&&y++;b+=y-w,t=C(b>D?D:b,c,e,g,!0)}if(t)return!1;p(),o().validPositions=a.extend(!0,{},s)}}})}return t}(u,c,f)),!0===x&&(x={pos:u})}if(a.isFunction(i.postValidation)&&!1!==x&&!f&&!0!==g&&!0!==j){var L=i.postValidation(y(!0),x,i);if(L.refreshFromBuffer&&L.buffer){var M=L.refreshFromBuffer;z(!0===M?M:M.start,M.end,L.buffer)}x=!0===L?x:L}return x&&x.pos===d&&(x.pos=u),!1!==x&&!0!==j||(p(!0),o().validPositions=a.extend(!0,{},F)),x}function D(a,b){var c=t(a).match;if(""===c.def&&(c=u(a).match),null!=c.fn)return c.fn;if(!0!==b&&a>-1){var d=w(a);return d.length>1+(""===d[d.length-1].match.def?1:0)}return!1}function E(a,b){var c=o().maskLength;if(a>=c)return c;var d=a;for(w(c+1).length>1&&(n(!0,c+1,!0),c=o().maskLength);++d<c&&(!0===b&&(!0!==u(d).match.newBlockMarker||!D(d))||!0!==b&&!D(d)););return d}function F(a,b){var c,d=a;if(d<=0)return 0;for(;--d>0&&(!0===b&&!0!==u(d).match.newBlockMarker||!0!==b&&!D(d)&&(c=w(d),c.length<2||2===c.length&&""===c[1].match.def)););return d}function G(a){return o().validPositions[a]===d?I(a):o().validPositions[a].input}function H(b,c,e,f,g){if(f&&a.isFunction(i.onBeforeWrite)){var h=i.onBeforeWrite.call(W,f,c,e,i);if(h){if(h.refreshFromBuffer){var j=h.refreshFromBuffer;z(!0===j?j:j.start,j.end,h.buffer||c),c=y(!0)}e!==d&&(e=h.caret!==d?h.caret:e)}}b!==d&&(b.inputmask._valueSet(c.join("")),e===d||f!==d&&"blur"===f.type?R(b,e,0===c.length):m&&f&&"input"===f.type?setTimeout(function(){L(b,e)},0):L(b,e),!0===g&&($=!0,a(b).trigger("input")))}function I(b,c,e){if(c=c||u(b).match,c.placeholder!==d||!0===e)return a.isFunction(c.placeholder)?c.placeholder(i):c.placeholder;if(null===c.fn){if(b>-1&&o().validPositions[b]===d){var f,g=w(b),h=[];if(g.length>1+(""===g[g.length-1].match.def?1:0))for(var j=0;j<g.length;j++)if(!0!==g[j].match.optionality&&!0!==g[j].match.optionalQuantifier&&(null===g[j].match.fn||f===d||!1!==g[j].match.fn.test(f.match.def,o(),b,!0,i))&&(h.push(g[j]),null===g[j].match.fn&&(f=g[j]),h.length>1&&/[0-9a-bA-Z]/.test(h[0].match.def)))return i.placeholder.charAt(b%i.placeholder.length)}return c.def}return i.placeholder.charAt(b%i.placeholder.length)}function J(b,f,g,h,j){function k(a,b){return-1!==x().slice(a,E(a)).join("").indexOf(b)&&!D(a)&&u(a).match.nativeDef===b.charAt(b.length-1)}var l=h.slice(),m="",n=-1,r=d;if(p(),g||!0===i.autoUnmask)n=E(n);else{var s=x().slice(0,E(-1)).join(""),v=l.join("").match(new RegExp("^"+e.escapeRegex(s),"g"));v&&v.length>0&&(l.splice(0,v.length*s.length),n=E(n))}if(-1===n?(o().p=E(n),n=0):o().p=n,a.each(l,function(c,e){if(e!==d)if(o().validPositions[c]===d&&l[c]===I(c)&&D(c,!0)&&!1===C(c,l[c],!0,d,d,!0))o().p++;else{var f=new a.Event("_checkval");f.which=e.charCodeAt(0),m+=e;var h=q(d,!0),j=o().validPositions[h],s=t(h+1,j?j.locator.slice():d,h);if(!k(n,m)||g||i.autoUnmask){var u=g?c:null==s.match.fn&&s.match.optionality&&h+1<o().p?h+1:o().p;r=ca.keypressEvent.call(b,f,!0,!1,g,u),n=u+1,m=""}else r=ca.keypressEvent.call(b,f,!0,!1,!0,h+1);if(!1!==r&&!g&&a.isFunction(i.onBeforeWrite)){var v=r;if(r=i.onBeforeWrite.call(W,f,y(),r.forwardPosition,i),(r=a.extend(v,r))&&r.refreshFromBuffer){var w=r.refreshFromBuffer;z(!0===w?w:w.start,w.end,r.buffer),p(!0),r.caret&&(o().p=r.caret,r.forwardPosition=r.caret)}}}}),f){var w=d;c.activeElement===b&&r&&(w=i.numericInput?F(r.forwardPosition):r.forwardPosition),H(b,y(),w,j||new a.Event("checkval"),j&&"input"===j.type)}}function K(b){if(b){if(b.inputmask===d)return b.value;b.inputmask&&b.inputmask.refreshValue&&ca.setValueEvent.call(b)}var c=[],e=o().validPositions;for(var f in e)e[f].match&&null!=e[f].match.fn&&c.push(e[f].input);var g=0===c.length?"":(Y?c.reverse():c).join("");if(a.isFunction(i.onUnMask)){var h=(Y?y().slice().reverse():y()).join("");g=i.onUnMask.call(W,h,g,i)}return g}function L(a,e,f,g){function h(a){if(!0!==g&&Y&&"number"==typeof a&&(!i.greedy||""!==i.placeholder)){a=y().join("").length-a}return a}var k;if(e===d)return a.setSelectionRange?(e=a.selectionStart,f=a.selectionEnd):b.getSelection?(k=b.getSelection().getRangeAt(0),k.commonAncestorContainer.parentNode!==a&&k.commonAncestorContainer!==a||(e=k.startOffset,f=k.endOffset)):c.selection&&c.selection.createRange&&(k=c.selection.createRange(),e=0-k.duplicate().moveStart("character",-a.inputmask._valueGet().length),f=e+k.text.length),{begin:h(e),end:h(f)};if(e.begin!==d&&(f=e.end,e=e.begin),"number"==typeof e){e=h(e),f=h(f),f="number"==typeof f?f:e;var l=parseInt(((a.ownerDocument.defaultView||b).getComputedStyle?(a.ownerDocument.defaultView||b).getComputedStyle(a,null):a.currentStyle).fontSize)*f;if(a.scrollLeft=l>a.scrollWidth?l:0,j||!1!==i.insertMode||e!==f||f++,a.setSelectionRange)a.selectionStart=e,a.selectionEnd=f;else if(b.getSelection){if(k=c.createRange(),a.firstChild===d||null===a.firstChild){var m=c.createTextNode("");a.appendChild(m)}k.setStart(a.firstChild,e<a.inputmask._valueGet().length?e:a.inputmask._valueGet().length),k.setEnd(a.firstChild,f<a.inputmask._valueGet().length?f:a.inputmask._valueGet().length),k.collapse(!0);var n=b.getSelection();n.removeAllRanges(),n.addRange(k)}else a.createTextRange&&(k=a.createTextRange(),k.collapse(!0),k.moveEnd("character",f),k.moveStart("character",e),k.select());R(a,{begin:e,end:f})}}function M(b){var c,e,f=y(),g=f.length,h=q(),i={},j=o().validPositions[h],k=j!==d?j.locator.slice():d;for(c=h+1;c<f.length;c++)e=t(c,k,c-1),k=e.locator.slice(),i[c]=a.extend(!0,{},e);var l=j&&j.alternation!==d?j.locator[j.alternation]:d;for(c=g-1;c>h&&(e=i[c],(e.match.optionality||e.match.optionalQuantifier&&e.match.newBlockMarker||l&&(l!==i[c].locator[j.alternation]&&null!=e.match.fn||null===e.match.fn&&e.locator[j.alternation]&&B(e.locator[j.alternation].toString().split(","),l.toString().split(","))&&""!==w(c)[0].def))&&f[c]===I(c,e.match));c--)g--;return b?{l:g,def:i[g]?i[g].match:d}:g}function N(a){for(var b,c=M(),e=a.length,f=o().validPositions[q()];c<e&&!D(c,!0)&&(b=f!==d?t(c,f.locator.slice(""),f):u(c))&&!0!==b.match.optionality&&(!0!==b.match.optionalQuantifier&&!0!==b.match.newBlockMarker||c+1===e&&""===(f!==d?t(c+1,f.locator.slice(""),f):u(c+1)).match.def);)c++;for(;(b=o().validPositions[c-1])&&b&&b.match.optionality&&b.input===i.skipOptionalPartCharacter;)c--;return a.splice(c),a}function O(b){if(a.isFunction(i.isComplete))return i.isComplete(b,i);if("*"===i.repeat)return d;var c=!1,e=M(!0),f=F(e.l);if(e.def===d||e.def.newBlockMarker||e.def.optionality||e.def.optionalQuantifier){c=!0;for(var g=0;g<=f;g++){var h=t(g).match;if(null!==h.fn&&o().validPositions[g]===d&&!0!==h.optionality&&!0!==h.optionalQuantifier||null===h.fn&&b[g]!==I(g,h)){c=!1;break}}}return c}function P(b,c,f,g,h){if((i.numericInput||Y)&&(c===e.keyCode.BACKSPACE?c=e.keyCode.DELETE:c===e.keyCode.DELETE&&(c=e.keyCode.BACKSPACE),Y)){var j=f.end;f.end=f.begin,f.begin=j}c===e.keyCode.BACKSPACE&&(f.end-f.begin<1||!1===i.insertMode)?(f.begin=F(f.begin),o().validPositions[f.begin]!==d&&o().validPositions[f.begin].input===i.groupSeparator&&f.begin--):c===e.keyCode.DELETE&&f.begin===f.end&&(f.end=D(f.end,!0)&&o().validPositions[f.end]&&o().validPositions[f.end].input!==i.radixPoint?f.end+1:E(f.end)+1,o().validPositions[f.begin]!==d&&o().validPositions[f.begin].input===i.groupSeparator&&f.end++),r(f.begin,f.end,!1,g),!0!==g&&function(){if(i.keepStatic){for(var c=[],e=q(-1,!0),f=a.extend(!0,{},o().validPositions),g=o().validPositions[e];e>=0;e--){var h=o().validPositions[e];if(h){if(!0!==h.generatedInput&&/[0-9a-bA-Z]/.test(h.input)&&c.push(h.input),delete o().validPositions[e],h.alternation!==d&&h.locator[h.alternation]!==g.locator[h.alternation])break;g=h}}if(e>-1)for(o().p=E(q(-1,!0));c.length>0;){var j=new a.Event("keypress");j.which=c.pop().charCodeAt(0),ca.keypressEvent.call(b,j,!0,!1,!1,o().p)}else o().validPositions=a.extend(!0,{},f)}}();var k=q(f.begin,!0);if(k<f.begin)o().p=E(k);else if(!0!==g&&(o().p=f.begin,!0!==h))for(;o().p<k&&o().validPositions[o().p]===d;)o().p++}function Q(d){function e(a){var b,e=c.createElement("span");for(var g in f)isNaN(g)&&-1!==g.indexOf("font")&&(e.style[g]=f[g]);e.style.textTransform=f.textTransform,e.style.letterSpacing=f.letterSpacing,e.style.position="absolute",e.style.height="auto",e.style.width="auto",e.style.visibility="hidden",e.style.whiteSpace="nowrap",c.body.appendChild(e);var h,i=d.inputmask._valueGet(),j=0;for(b=0,h=i.length;b<=h;b++){if(e.innerHTML+=i.charAt(b)||"_",e.offsetWidth>=a){var k=a-j,l=e.offsetWidth-a;e.innerHTML=i.charAt(b),k-=e.offsetWidth/3,b=k<l?b-1:b;break}j=e.offsetWidth}return c.body.removeChild(e),b}var f=(d.ownerDocument.defaultView||b).getComputedStyle(d,null),g=c.createElement("div");g.style.width=f.width,g.style.textAlign=f.textAlign,V=c.createElement("div"),V.className="im-colormask",d.parentNode.insertBefore(V,d),d.parentNode.removeChild(d),V.appendChild(g),V.appendChild(d),d.style.left=g.offsetLeft+"px",a(d).on("click",function(a){return L(d,e(a.clientX)),ca.clickEvent.call(d,[a])}),a(d).on("keydown",function(a){a.shiftKey||!1===i.insertMode||setTimeout(function(){R(d)},0)})}function R(a,b,e){function f(){m||null!==h.fn&&j.input!==d?m&&(null!==h.fn&&j.input!==d||""===h.def)&&(m=!1,l+="</span>"):(m=!0,l+="<span class='im-static'>")}function g(d){!0!==d&&n!==b.begin||c.activeElement!==a||(l+="<span class='im-caret' style='border-right-width: 1px;border-right-style: solid;'></span>")}var h,j,k,l="",m=!1,n=0;if(V!==d){var p=y();if(b===d?b=L(a):b.begin===d&&(b={begin:b,end:b}),!0!==e){var r=q();do{g(),o().validPositions[n]?(j=o().validPositions[n],h=j.match,k=j.locator.slice(),f(),l+=p[n]):(j=t(n,k,n-1),h=j.match,k=j.locator.slice(),(!1===i.jitMasking||n<r||"number"==typeof i.jitMasking&&isFinite(i.jitMasking)&&i.jitMasking>n)&&(f(),l+=I(n,h))),n++}while((U===d||n<U)&&(null!==h.fn||""!==h.def)||r>n||m);-1===l.indexOf("im-caret")&&g(!0),m&&f()}var s=V.getElementsByTagName("div")[0];s.innerHTML=l,a.inputmask.positionColorMask(a,s)}}g=g||this.maskset,i=i||this.opts;var S,T,U,V,W=this,X=this.el,Y=this.isRTL,Z=!1,$=!1,_=!1,aa=!1,ba={on:function(b,c,f){var g=function(b){if(this.inputmask===d&&"FORM"!==this.nodeName){var c=a.data(this,"_inputmask_opts");c?new e(c).mask(this):ba.off(this)}else{if("setvalue"===b.type||"FORM"===this.nodeName||!(this.disabled||this.readOnly&&!("keydown"===b.type&&b.ctrlKey&&67===b.keyCode||!1===i.tabThrough&&b.keyCode===e.keyCode.TAB))){switch(b.type){case"input":if(!0===$)return $=!1,b.preventDefault();break;case"keydown":Z=!1,$=!1;break;case"keypress":if(!0===Z)return b.preventDefault();Z=!0;break;case"click":if(k||l){var g=this,h=arguments;return setTimeout(function(){f.apply(g,h)},0),!1}}var j=f.apply(this,arguments);return!1===j&&(b.preventDefault(),b.stopPropagation()),j}b.preventDefault()}};b.inputmask.events[c]=b.inputmask.events[c]||[],b.inputmask.events[c].push(g),-1!==a.inArray(c,["submit","reset"])?null!==b.form&&a(b.form).on(c,g):a(b).on(c,g)},off:function(b,c){if(b.inputmask&&b.inputmask.events){var d;c?(d=[],d[c]=b.inputmask.events[c]):d=b.inputmask.events,a.each(d,function(c,d){for(;d.length>0;){var e=d.pop();-1!==a.inArray(c,["submit","reset"])?null!==b.form&&a(b.form).off(c,e):a(b).off(c,e)}delete b.inputmask.events[c]})}}},ca={keydownEvent:function(b){var d=this,f=a(d),g=b.keyCode,h=L(d);if(g===e.keyCode.BACKSPACE||g===e.keyCode.DELETE||l&&g===e.keyCode.BACKSPACE_SAFARI||b.ctrlKey&&g===e.keyCode.X&&!function(a){var b=c.createElement("input"),d="on"+a,e=d in b;return e||(b.setAttribute(d,"return;"),e="function"==typeof b[d]),b=null,e}("cut"))b.preventDefault(),P(d,g,h),H(d,y(!0),o().p,b,d.inputmask._valueGet()!==y().join("")),d.inputmask._valueGet()===x().join("")?f.trigger("cleared"):!0===O(y())&&f.trigger("complete");else if(g===e.keyCode.END||g===e.keyCode.PAGE_DOWN){b.preventDefault();var j=E(q());i.insertMode||j!==o().maskLength||b.shiftKey||j--,L(d,b.shiftKey?h.begin:j,j,!0)}else g===e.keyCode.HOME&&!b.shiftKey||g===e.keyCode.PAGE_UP?(b.preventDefault(),L(d,0,b.shiftKey?h.begin:0,!0)):(i.undoOnEscape&&g===e.keyCode.ESCAPE||90===g&&b.ctrlKey)&&!0!==b.altKey?(J(d,!0,!1,S.split("")),f.trigger("click")):g!==e.keyCode.INSERT||b.shiftKey||b.ctrlKey?!0===i.tabThrough&&g===e.keyCode.TAB?(!0===b.shiftKey?(null===u(h.begin).match.fn&&(h.begin=E(h.begin)),h.end=F(h.begin,!0),h.begin=F(h.end,!0)):(h.begin=E(h.begin,!0),h.end=E(h.begin,!0),h.end<o().maskLength&&h.end--),h.begin<o().maskLength&&(b.preventDefault(),L(d,h.begin,h.end))):b.shiftKey||!1===i.insertMode&&(g===e.keyCode.RIGHT?setTimeout(function(){var a=L(d);L(d,a.begin)},0):g===e.keyCode.LEFT&&setTimeout(function(){var a=L(d);L(d,Y?a.begin+1:a.begin-1)},0)):(i.insertMode=!i.insertMode,L(d,i.insertMode||h.begin!==o().maskLength?h.begin:h.begin-1));i.onKeyDown.call(this,b,y(),L(d).begin,i),_=-1!==a.inArray(g,i.ignorables)},keypressEvent:function(b,c,f,g,h){var j=this,k=a(j),l=b.which||b.charCode||b.keyCode;if(!(!0===c||b.ctrlKey&&b.altKey)&&(b.ctrlKey||b.metaKey||_))return l===e.keyCode.ENTER&&S!==y().join("")&&(S=y().join(""),setTimeout(function(){k.trigger("change")},0)),!0;if(l){46===l&&!1===b.shiftKey&&""!==i.radixPoint&&(l=i.radixPoint.charCodeAt(0));var m,n=c?{begin:h,end:h}:L(j),q=String.fromCharCode(l);o().writeOutBuffer=!0;var r=C(n,q,g);if(!1!==r&&(p(!0),m=r.caret!==d?r.caret:c?r.pos+1:E(r.pos),o().p=m),!1!==f&&(setTimeout(function(){i.onKeyValidation.call(j,l,r,i)},0),o().writeOutBuffer&&!1!==r)){var s=y();H(j,s,i.numericInput&&r.caret===d?F(m):m,b,!0!==c),!0!==c&&setTimeout(function(){!0===O(s)&&k.trigger("complete")},0)}if(b.preventDefault(),c)return!1!==r&&(r.forwardPosition=m),r}},pasteEvent:function(c){var d,e=this,f=c.originalEvent||c,g=a(e),h=e.inputmask._valueGet(!0),j=L(e);Y&&(d=j.end,j.end=j.begin,j.begin=d);var k=h.substr(0,j.begin),l=h.substr(j.end,h.length);if(k===(Y?x().reverse():x()).slice(0,j.begin).join("")&&(k=""),l===(Y?x().reverse():x()).slice(j.end).join("")&&(l=""),Y&&(d=k,k=l,l=d),b.clipboardData&&b.clipboardData.getData)h=k+b.clipboardData.getData("Text")+l;else{if(!f.clipboardData||!f.clipboardData.getData)return!0;h=k+f.clipboardData.getData("text/plain")+l}var m=h;if(a.isFunction(i.onBeforePaste)){if(!1===(m=i.onBeforePaste.call(W,h,i)))return c.preventDefault();m||(m=h)}return J(e,!1,!1,Y?m.split("").reverse():m.toString().split("")),H(e,y(),E(q()),c,S!==y().join("")),!0===O(y())&&g.trigger("complete"),c.preventDefault()},inputFallBackEvent:function(b){var c=this,d=c.inputmask._valueGet();if(y().join("")!==d){var f=L(c);if(!1===function(b,c,d){if("."===c.charAt(d.begin-1)&&""!==i.radixPoint&&(c=c.split(""),c[d.begin-1]=i.radixPoint.charAt(0),c=c.join("")),c.charAt(d.begin-1)===i.radixPoint&&c.length>y().length){var e=new a.Event("keypress");return e.which=i.radixPoint.charCodeAt(0),ca.keypressEvent.call(b,e,!0,!0,!1,d.begin-1),!1}}(c,d,f))return!1;if(d=d.replace(new RegExp("("+e.escapeRegex(x().join(""))+")*"),""),!1===function(b,c,d){if(k){var e=c.replace(y().join(""),"");if(1===e.length){var f=new a.Event("keypress");return f.which=e.charCodeAt(0),ca.keypressEvent.call(b,f,!0,!0,!1,o().validPositions[d.begin-1]?d.begin:d.begin-1),!1}}}(c,d,f))return!1;f.begin>d.length&&(L(c,d.length),f=L(c));var g=y().join(""),h=d.substr(0,f.begin),j=d.substr(f.begin),l=g.substr(0,f.begin),m=g.substr(f.begin),n=f,p="",q=!1;if(h!==l){n.begin=0;for(var r=(q=h.length>=l.length)?h.length:l.length,s=0;h.charAt(s)===l.charAt(s)&&s<r;s++)n.begin++;q&&(p+=h.slice(n.begin,n.end))}j!==m&&(j.length>m.length?q&&(n.end=n.begin):j.length<m.length?n.end+=m.length-j.length:j.charAt(0)!==m.charAt(0)&&n.end++),H(c,y(),n),p.length>0?a.each(p.split(""),function(b,d){var e=new a.Event("keypress");e.which=d.charCodeAt(0),_=!1,ca.keypressEvent.call(c,e)}):(n.begin===n.end-1&&L(c,F(n.begin+1),n.end),
b.keyCode=e.keyCode.DELETE,ca.keydownEvent.call(c,b)),b.preventDefault()}},setValueEvent:function(b){this.inputmask.refreshValue=!1;var c=this,d=c.inputmask._valueGet(!0);a.isFunction(i.onBeforeMask)&&(d=i.onBeforeMask.call(W,d,i)||d),d=d.split(""),J(c,!0,!1,Y?d.reverse():d),S=y().join(""),(i.clearMaskOnLostFocus||i.clearIncomplete)&&c.inputmask._valueGet()===x().join("")&&c.inputmask._valueSet("")},focusEvent:function(a){var b=this,c=b.inputmask._valueGet();i.showMaskOnFocus&&(!i.showMaskOnHover||i.showMaskOnHover&&""===c)&&(b.inputmask._valueGet()!==y().join("")?H(b,y(),E(q())):!1===aa&&L(b,E(q()))),!0===i.positionCaretOnTab&&!1===aa&&""!==c&&(H(b,y(),L(b)),ca.clickEvent.apply(b,[a,!0])),S=y().join("")},mouseleaveEvent:function(a){var b=this;if(aa=!1,i.clearMaskOnLostFocus&&c.activeElement!==b){var d=y().slice(),e=b.inputmask._valueGet();e!==b.getAttribute("placeholder")&&""!==e&&(-1===q()&&e===x().join("")?d=[]:N(d),H(b,d))}},clickEvent:function(b,e){function f(b){if(""!==i.radixPoint){var c=o().validPositions;if(c[b]===d||c[b].input===I(b)){if(b<E(-1))return!0;var e=a.inArray(i.radixPoint,y());if(-1!==e){for(var f in c)if(e<f&&c[f].input!==I(f))return!1;return!0}}}return!1}var g=this;setTimeout(function(){if(c.activeElement===g){var a=L(g);if(e&&(Y?a.end=a.begin:a.begin=a.end),a.begin===a.end)switch(i.positionCaretOnClick){case"none":break;case"radixFocus":if(f(a.begin)){var b=y().join("").indexOf(i.radixPoint);L(g,i.numericInput?E(b):b);break}default:var h=a.begin,j=q(h,!0),k=E(j);if(h<k)L(g,D(h,!0)||D(h-1,!0)?h:E(h));else{var l=o().validPositions[j],m=t(k,l?l.match.locator:d,l),n=I(k,m.match);if(""!==n&&y()[k]!==n&&!0!==m.match.optionalQuantifier&&!0!==m.match.newBlockMarker||!D(k,!0)&&m.match.def===n){var p=E(k);(h>=p||h===k)&&(k=p)}L(g,k)}}}},0)},dblclickEvent:function(a){var b=this;setTimeout(function(){L(b,0,E(q()))},0)},cutEvent:function(d){var f=this,g=a(f),h=L(f),i=d.originalEvent||d,j=b.clipboardData||i.clipboardData,k=Y?y().slice(h.end,h.begin):y().slice(h.begin,h.end);j.setData("text",Y?k.reverse().join(""):k.join("")),c.execCommand&&c.execCommand("copy"),P(f,e.keyCode.DELETE,h),H(f,y(),o().p,d,S!==y().join("")),f.inputmask._valueGet()===x().join("")&&g.trigger("cleared")},blurEvent:function(b){var c=a(this),e=this;if(e.inputmask){var f=e.inputmask._valueGet(),g=y().slice();""!==f&&(i.clearMaskOnLostFocus&&(-1===q()&&f===x().join("")?g=[]:N(g)),!1===O(g)&&(setTimeout(function(){c.trigger("incomplete")},0),i.clearIncomplete&&(p(),g=i.clearMaskOnLostFocus?[]:x().slice())),H(e,g,d,b)),S!==y().join("")&&(S=g.join(""),c.trigger("change"))}},mouseenterEvent:function(a){var b=this;aa=!0,c.activeElement!==b&&i.showMaskOnHover&&b.inputmask._valueGet()!==y().join("")&&H(b,y())},submitEvent:function(a){S!==y().join("")&&T.trigger("change"),i.clearMaskOnLostFocus&&-1===q()&&X.inputmask._valueGet&&X.inputmask._valueGet()===x().join("")&&X.inputmask._valueSet(""),i.removeMaskOnSubmit&&(X.inputmask._valueSet(X.inputmask.unmaskedvalue(),!0),setTimeout(function(){H(X,y())},0))},resetEvent:function(a){X.inputmask.refreshValue=!0,setTimeout(function(){T.trigger("setvalue")},0)}};e.prototype.positionColorMask=function(a,b){a.style.left=b.offsetLeft+"px"};var da;if(f!==d)switch(f.action){case"isComplete":return X=f.el,O(y());case"unmaskedvalue":return X!==d&&f.value===d||(da=f.value,da=(a.isFunction(i.onBeforeMask)?i.onBeforeMask.call(W,da,i)||da:da).split(""),J(d,!1,!1,Y?da.reverse():da),a.isFunction(i.onBeforeWrite)&&i.onBeforeWrite.call(W,d,y(),0,i)),K(X);case"mask":!function(b){ba.off(b);var e=function(b,e){var f=b.getAttribute("type"),g="INPUT"===b.tagName&&-1!==a.inArray(f,e.supportsInputType)||b.isContentEditable||"TEXTAREA"===b.tagName;if(!g)if("INPUT"===b.tagName){var h=c.createElement("input");h.setAttribute("type",f),g="text"===h.type,h=null}else g="partial";return!1!==g?function(b){function f(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==q()||!0!==e.nullable?c.activeElement===this&&e.clearMaskOnLostFocus?(Y?N(y().slice()).reverse():N(y().slice())).join(""):h.call(this):"":h.call(this)}function g(b){i.call(this,b),this.inputmask&&a(this).trigger("setvalue")}var h,i;if(!b.inputmask.__valueGet){if(!0!==e.noValuePatching){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});var j=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(b),"value"):d;j&&j.get&&j.set?(h=j.get,i=j.set,Object.defineProperty(b,"value",{get:f,set:g,configurable:!0})):"INPUT"!==b.tagName&&(h=function(){return this.textContent},i=function(a){this.textContent=a},Object.defineProperty(b,"value",{get:f,set:g,configurable:!0}))}else c.__lookupGetter__&&b.__lookupGetter__("value")&&(h=b.__lookupGetter__("value"),i=b.__lookupSetter__("value"),b.__defineGetter__("value",f),b.__defineSetter__("value",g));b.inputmask.__valueGet=h,b.inputmask.__valueSet=i}b.inputmask._valueGet=function(a){return Y&&!0!==a?h.call(this.el).split("").reverse().join(""):h.call(this.el)},b.inputmask._valueSet=function(a,b){i.call(this.el,null===a||a===d?"":!0!==b&&Y?a.split("").reverse().join(""):a)},h===d&&(h=function(){return this.value},i=function(a){this.value=a},function(b){if(a.valHooks&&(a.valHooks[b]===d||!0!==a.valHooks[b].inputmaskpatch)){var c=a.valHooks[b]&&a.valHooks[b].get?a.valHooks[b].get:function(a){return a.value},f=a.valHooks[b]&&a.valHooks[b].set?a.valHooks[b].set:function(a,b){return a.value=b,a};a.valHooks[b]={get:function(a){if(a.inputmask){if(a.inputmask.opts.autoUnmask)return a.inputmask.unmaskedvalue();var b=c(a);return-1!==q(d,d,a.inputmask.maskset.validPositions)||!0!==e.nullable?b:""}return c(a)},set:function(b,c){var d,e=a(b);return d=f(b,c),b.inputmask&&e.trigger("setvalue"),d},inputmaskpatch:!0}}}(b.type),function(b){ba.on(b,"mouseenter",function(b){var c=a(this);this.inputmask._valueGet()!==y().join("")&&c.trigger("setvalue")})}(b))}}(b):b.inputmask=d,g}(b,i);if(!1!==e&&(X=b,T=a(X),U=X!==d?X.maxLength:d,-1===U&&(U=d),!0===i.colorMask&&Q(X),m&&(X.hasOwnProperty("inputmode")&&(X.inputmode=i.inputmode,X.setAttribute("inputmode",i.inputmode)),"rtfm"===i.androidHack&&(!0!==i.colorMask&&Q(X),X.type="password")),!0===e&&(ba.on(X,"submit",ca.submitEvent),ba.on(X,"reset",ca.resetEvent),ba.on(X,"mouseenter",ca.mouseenterEvent),ba.on(X,"blur",ca.blurEvent),ba.on(X,"focus",ca.focusEvent),ba.on(X,"mouseleave",ca.mouseleaveEvent),!0!==i.colorMask&&ba.on(X,"click",ca.clickEvent),ba.on(X,"dblclick",ca.dblclickEvent),ba.on(X,"paste",ca.pasteEvent),ba.on(X,"dragdrop",ca.pasteEvent),ba.on(X,"drop",ca.pasteEvent),ba.on(X,"cut",ca.cutEvent),ba.on(X,"complete",i.oncomplete),ba.on(X,"incomplete",i.onincomplete),ba.on(X,"cleared",i.oncleared),m||!0===i.inputEventOnly?X.removeAttribute("maxLength"):(ba.on(X,"keydown",ca.keydownEvent),ba.on(X,"keypress",ca.keypressEvent)),ba.on(X,"compositionstart",a.noop),ba.on(X,"compositionupdate",a.noop),ba.on(X,"compositionend",a.noop),ba.on(X,"keyup",a.noop),ba.on(X,"input",ca.inputFallBackEvent),ba.on(X,"beforeinput",a.noop)),ba.on(X,"setvalue",ca.setValueEvent),S=x().join(""),""!==X.inputmask._valueGet(!0)||!1===i.clearMaskOnLostFocus||c.activeElement===X)){var f=a.isFunction(i.onBeforeMask)?i.onBeforeMask.call(W,X.inputmask._valueGet(!0),i)||X.inputmask._valueGet(!0):X.inputmask._valueGet(!0);""!==f&&J(X,!0,!1,Y?f.split("").reverse():f.split(""));var g=y().slice();S=g.join(""),!1===O(g)&&i.clearIncomplete&&p(),i.clearMaskOnLostFocus&&c.activeElement!==X&&(-1===q()?g=[]:N(g)),H(X,g),c.activeElement===X&&L(X,E(q()))}}(X);break;case"format":return da=(a.isFunction(i.onBeforeMask)?i.onBeforeMask.call(W,f.value,i)||f.value:f.value).split(""),J(d,!0,!1,Y?da.reverse():da),f.metadata?{value:Y?y().slice().reverse().join(""):y().join(""),metadata:h.call(this,{action:"getmetadata"},g,i)}:Y?y().slice().reverse().join(""):y().join("");case"isValid":f.value?(da=f.value.split(""),J(d,!0,!0,Y?da.reverse():da)):f.value=y().join("");for(var ea=y(),fa=M(),ga=ea.length-1;ga>fa&&!D(ga);ga--);return ea.splice(fa,ga+1-fa),O(ea)&&f.value===y().join("");case"getemptymask":return x().join("");case"remove":if(X&&X.inputmask){T=a(X),X.inputmask._valueSet(i.autoUnmask?K(X):X.inputmask._valueGet(!0)),ba.off(X);Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(X),"value")&&X.inputmask.__valueGet&&Object.defineProperty(X,"value",{get:X.inputmask.__valueGet,set:X.inputmask.__valueSet,configurable:!0}):c.__lookupGetter__&&X.__lookupGetter__("value")&&X.inputmask.__valueGet&&(X.__defineGetter__("value",X.inputmask.__valueGet),X.__defineSetter__("value",X.inputmask.__valueSet)),X.inputmask=d}return X;case"getmetadata":if(a.isArray(g.metadata)){var ha=n(!0,0,!1).join("");return a.each(g.metadata,function(a,b){if(b.mask===ha)return ha=b,!1}),ha}return g.metadata}}var i=navigator.userAgent,j=/mobile/i.test(i),k=/iemobile/i.test(i),l=/iphone/i.test(i)&&!k,m=/android/i.test(i)&&!k;return e.prototype={dataAttribute:"data-inputmask",defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:a.noop,onincomplete:a.noop,oncleared:a.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,alias:null,onKeyDown:a.noop,onBeforeMask:null,onBeforePaste:function(b,c){return a.isFunction(c.onBeforeMask)?c.onBeforeMask.call(this,b,c):b},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:a.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:d,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password"],ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,canClearPosition:a.noop,preValidation:null,postValidation:null,staticDefinitionSymbol:d,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,androidHack:!1,importDataAttributes:!0},definitions:{9:{validator:"[0-9\uff11-\uff19]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9\uff11-\uff19A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1}},aliases:{},masksCache:{},mask:function(i){function j(c,e,g,h){function i(a,e){null!==(e=e!==d?e:c.getAttribute(h+"-"+a))&&("string"==typeof e&&(0===a.indexOf("on")?e=b[e]:"false"===e?e=!1:"true"===e&&(e=!0)),g[a]=e)}if(!0===e.importDataAttributes){var j,k,l,m,n=c.getAttribute(h);if(n&&""!==n&&(n=n.replace(new RegExp("'","g"),'"'),k=JSON.parse("{"+n+"}")),k){l=d;for(m in k)if("alias"===m.toLowerCase()){l=k[m];break}}i("alias",l),g.alias&&f(g.alias,g,e);for(j in e){if(k){l=d;for(m in k)if(m.toLowerCase()===j.toLowerCase()){l=k[m];break}}i(j,l)}}return a.extend(!0,e,g),("rtl"===c.dir||e.rightAlign)&&(c.style.textAlign="right"),("rtl"===c.dir||e.numericInput)&&(c.dir="ltr",c.removeAttribute("dir"),e.isRTL=!0),e}var k=this;return"string"==typeof i&&(i=c.getElementById(i)||c.querySelectorAll(i)),i=i.nodeName?[i]:i,a.each(i,function(b,c){var f=a.extend(!0,{},k.opts);j(c,f,a.extend(!0,{},k.userOptions),k.dataAttribute);var i=g(f,k.noMasksCache);i!==d&&(c.inputmask!==d&&(c.inputmask.opts.autoUnmask=!0,c.inputmask.remove()),c.inputmask=new e(d,d,!0),c.inputmask.opts=f,c.inputmask.noMasksCache=k.noMasksCache,c.inputmask.userOptions=a.extend(!0,{},k.userOptions),c.inputmask.isRTL=f.isRTL||f.numericInput,c.inputmask.el=c,c.inputmask.maskset=i,a.data(c,"_inputmask_opts",f),h.call(c.inputmask,{action:"mask"}))}),i&&i[0]?i[0].inputmask||this:this},option:function(b,c){return"string"==typeof b?this.opts[b]:"object"==typeof b?(a.extend(this.userOptions,b),this.el&&!0!==c&&this.mask(this.el),this):void 0},unmaskedvalue:function(a){return this.maskset=this.maskset||g(this.opts,this.noMasksCache),h.call(this,{action:"unmaskedvalue",value:a})},remove:function(){return h.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||g(this.opts,this.noMasksCache),h.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||g(this.opts,this.noMasksCache),h.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||g(this.opts,this.noMasksCache),h.call(this,{action:"getmetadata"})},isValid:function(a){return this.maskset=this.maskset||g(this.opts,this.noMasksCache),h.call(this,{action:"isValid",value:a})},format:function(a,b){return this.maskset=this.maskset||g(this.opts,this.noMasksCache),h.call(this,{action:"format",value:a,metadata:b})},analyseMask:function(b,c,f){function g(a,b,c,d){this.matches=[],this.openGroup=a||!1,this.alternatorGroup=!1,this.isGroup=a||!1,this.isOptional=b||!1,this.isQuantifier=c||!1,this.isAlternator=d||!1,this.quantifier={min:1,max:1}}function h(b,g,h){h=h!==d?h:b.matches.length;var i=b.matches[h-1];if(c)0===g.indexOf("[")||u&&/\\d|\\s|\\w]/i.test(g)||"."===g?b.matches.splice(h++,0,{fn:new RegExp(g,f.casing?"i":""),cardinality:1,optionality:b.isOptional,newBlockMarker:i===d||i.def!==g,casing:null,def:g,placeholder:d,nativeDef:g}):(u&&(g=g[g.length-1]),a.each(g.split(""),function(a,c){i=b.matches[h-1],b.matches.splice(h++,0,{fn:null,cardinality:0,optionality:b.isOptional,newBlockMarker:i===d||i.def!==c&&null!==i.fn,casing:null,def:f.staticDefinitionSymbol||c,placeholder:f.staticDefinitionSymbol!==d?c:d,nativeDef:c})})),u=!1;else{var j=(f.definitions?f.definitions[g]:d)||e.prototype.definitions[g];if(j&&!u){for(var k=j.prevalidator,l=k?k.length:0,m=1;m<j.cardinality;m++){var n=l>=m?k[m-1]:[],o=n.validator,p=n.cardinality;b.matches.splice(h++,0,{fn:o?"string"==typeof o?new RegExp(o,f.casing?"i":""):new function(){this.test=o}:new RegExp("."),cardinality:p||1,optionality:b.isOptional,newBlockMarker:i===d||i.def!==(j.definitionSymbol||g),casing:j.casing,def:j.definitionSymbol||g,placeholder:j.placeholder,nativeDef:g}),i=b.matches[h-1]}b.matches.splice(h++,0,{fn:j.validator?"string"==typeof j.validator?new RegExp(j.validator,f.casing?"i":""):new function(){this.test=j.validator}:new RegExp("."),cardinality:j.cardinality,optionality:b.isOptional,newBlockMarker:i===d||i.def!==(j.definitionSymbol||g),casing:j.casing,def:j.definitionSymbol||g,placeholder:j.placeholder,nativeDef:g})}else b.matches.splice(h++,0,{fn:null,cardinality:0,optionality:b.isOptional,newBlockMarker:i===d||i.def!==g&&null!==i.fn,casing:null,def:f.staticDefinitionSymbol||g,placeholder:f.staticDefinitionSymbol!==d?g:d,nativeDef:g}),u=!1}}function i(b){b&&b.matches&&a.each(b.matches,function(a,e){var g=b.matches[a+1];(g===d||g.matches===d||!1===g.isQuantifier)&&e&&e.isGroup&&(e.isGroup=!1,c||(h(e,f.groupmarker.start,0),!0!==e.openGroup&&h(e,f.groupmarker.end))),i(e)})}function j(){if(w.length>0){if(o=w[w.length-1],h(o,m),o.isAlternator){p=w.pop();for(var a=0;a<p.matches.length;a++)p.matches[a].isGroup=!1;w.length>0?(o=w[w.length-1],o.matches.push(p)):v.matches.push(p)}}else h(v,m)}function k(a){a.matches=a.matches.reverse();for(var b in a.matches)if(a.matches.hasOwnProperty(b)){var c=parseInt(b);if(a.matches[b].isQuantifier&&a.matches[c+1]&&a.matches[c+1].isGroup){var e=a.matches[b];a.matches.splice(b,1),a.matches.splice(c+1,0,e)}a.matches[b].matches!==d?a.matches[b]=k(a.matches[b]):a.matches[b]=function(a){return a===f.optionalmarker.start?a=f.optionalmarker.end:a===f.optionalmarker.end?a=f.optionalmarker.start:a===f.groupmarker.start?a=f.groupmarker.end:a===f.groupmarker.end&&(a=f.groupmarker.start),a}(a.matches[b])}return a}var l,m,n,o,p,q,r,s=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,t=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,u=!1,v=new g,w=[],x=[];for(c&&(f.optionalmarker.start=d,f.optionalmarker.end=d);l=c?t.exec(b):s.exec(b);){if(m=l[0],c)switch(m.charAt(0)){case"?":m="{0,1}";break;case"+":case"*":m="{"+m+"}"}if(u)j();else switch(m.charAt(0)){case f.escapeChar:u=!0,c&&j();break;case f.optionalmarker.end:case f.groupmarker.end:if(n=w.pop(),n.openGroup=!1,n!==d)if(w.length>0){if(o=w[w.length-1],o.matches.push(n),o.isAlternator){p=w.pop();for(var y=0;y<p.matches.length;y++)p.matches[y].isGroup=!1,p.matches[y].alternatorGroup=!1;w.length>0?(o=w[w.length-1],o.matches.push(p)):v.matches.push(p)}}else v.matches.push(n);else j();break;case f.optionalmarker.start:w.push(new g(!1,!0));break;case f.groupmarker.start:w.push(new g(!0));break;case f.quantifiermarker.start:var z=new g(!1,!1,!0);m=m.replace(/[{}]/g,"");var A=m.split(","),B=isNaN(A[0])?A[0]:parseInt(A[0]),C=1===A.length?B:isNaN(A[1])?A[1]:parseInt(A[1]);if("*"!==C&&"+"!==C||(B="*"===C?0:1),z.quantifier={min:B,max:C},w.length>0){var D=w[w.length-1].matches;l=D.pop(),l.isGroup||(r=new g(!0),r.matches.push(l),l=r),D.push(l),D.push(z)}else l=v.matches.pop(),l.isGroup||(c&&null===l.fn&&"."===l.def&&(l.fn=new RegExp(l.def,f.casing?"i":"")),r=new g(!0),r.matches.push(l),l=r),v.matches.push(l),v.matches.push(z);break;case f.alternatormarker:if(w.length>0){o=w[w.length-1];var E=o.matches[o.matches.length-1];q=o.openGroup&&(E.matches===d||!1===E.isGroup&&!1===E.isAlternator)?w.pop():o.matches.pop()}else q=v.matches.pop();if(q.isAlternator)w.push(q);else if(q.alternatorGroup?(p=w.pop(),q.alternatorGroup=!1):p=new g(!1,!1,!1,!0),p.matches.push(q),w.push(p),q.openGroup){q.openGroup=!1;var F=new g(!0);F.alternatorGroup=!0,w.push(F)}break;default:j()}}for(;w.length>0;)n=w.pop(),v.matches.push(n);return v.matches.length>0&&(i(v),x.push(v)),(f.numericInput||f.isRTL)&&k(x[0]),x}},e.extendDefaults=function(b){a.extend(!0,e.prototype.defaults,b)},e.extendDefinitions=function(b){a.extend(!0,e.prototype.definitions,b)},e.extendAliases=function(b){a.extend(!0,e.prototype.aliases,b)},e.format=function(a,b,c){return e(b).format(a,c)},e.unmask=function(a,b){return e(b).unmaskedvalue(a)},e.isValid=function(a,b){return e(b).isValid(a)},e.remove=function(b){a.each(b,function(a,b){b.inputmask&&b.inputmask.remove()})},e.escapeRegex=function(a){var b=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return a.replace(new RegExp("(\\"+b.join("|\\")+")","gim"),"\\$1")},e.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88},e});
/*!
* bindings/inputmask.binding.min.js
* https://github.com/RobinHerbots/Inputmask
* Copyright (c) 2010 - 2017 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 3.3.8
*/

!function(a){"function"==typeof define&&define.amd?define(["jquery","../inputmask","../global/document"],a):"object"==typeof exports?module.exports=a(require("jquery"),require("../inputmask"),require("../global/document")):a(jQuery,window.Inputmask,document)}(function(a,b,c){a(c).ajaxComplete(function(c,d,e){-1!==a.inArray("html",e.dataTypes)&&a(".inputmask, [data-inputmask], [data-inputmask-mask], [data-inputmask-alias]").each(function(a,c){void 0===c.inputmask&&b().mask(c)})}).ready(function(){a(".inputmask, [data-inputmask], [data-inputmask-mask], [data-inputmask-alias]").each(function(a,c){void 0===c.inputmask&&b().mask(c)})})});
/*!
* inputmask.extensions.min.js
* https://github.com/RobinHerbots/Inputmask
* Copyright (c) 2010 - 2017 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 3.3.8
*/

!function(a){"function"==typeof define&&define.amd?define(["./dependencyLibs/inputmask.dependencyLib","./inputmask"],a):"object"==typeof exports?module.exports=a(require("./dependencyLibs/inputmask.dependencyLib"),require("./inputmask")):a(window.dependencyLib||jQuery,window.Inputmask)}(function(a,b){return b.extendDefinitions({A:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1,casing:"upper"},"&":{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Fa-f]",cardinality:1,casing:"upper"}}),b.extendAliases({url:{definitions:{i:{validator:".",cardinality:1}},mask:"(\\http://)|(\\http\\s://)|(ftp://)|(ftp\\s://)i{+}",insertMode:!1,autoUnmask:!1,inputmode:"url"},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(a,b,c,d,e){return c-1>-1&&"."!==b.buffer[c-1]?(a=b.buffer[c-1]+a,a=c-2>-1&&"."!==b.buffer[c-2]?b.buffer[c-2]+a:"0"+a):a="00"+a,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(a)},cardinality:1}},onUnMask:function(a,b,c){return a},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,onBeforePaste:function(a,b){return a=a.toLowerCase(),a.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"},"-":{validator:"[0-9A-Za-z-]",cardinality:1,casing:"lower"}},onUnMask:function(a,b,c){return a},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",cardinality:1,casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}}),b});
/*!
* inputmask.regex.extensions.min.js
* https://github.com/RobinHerbots/Inputmask
* Copyright (c) 2010 - 2017 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 3.3.8
*/

!function(a){"function"==typeof define&&define.amd?define(["./dependencyLibs/inputmask.dependencyLib","./inputmask"],a):"object"==typeof exports?module.exports=a(require("./dependencyLibs/inputmask.dependencyLib"),require("./inputmask")):a(window.dependencyLib||jQuery,window.Inputmask)}(function(a,b){return b.extendAliases({Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(a,b){return new RegExp(b.regex,b.casing?"i":"").test(a.join(""))},definitions:{r:{validator:function(b,c,d,e,f){function g(a,b){this.matches=[],this.isGroup=a||!1,this.isQuantifier=b||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function h(b,c){var d=!1;c&&(l+="(",n++);for(var e=0;e<b.matches.length;e++){var g=b.matches[e];if(!0===g.isGroup)d=h(g,!0);else if(!0===g.isQuantifier){var j=a.inArray(g,b.matches),k=b.matches[j-1],m=l;if(isNaN(g.quantifier.max)){for(;g.repeaterPart&&g.repeaterPart!==l&&g.repeaterPart.length>l.length&&!(d=h(k,!0)););d=d||h(k,!0),d&&(g.repeaterPart=l),l=m+g.quantifier.max}else{for(var o=0,p=g.quantifier.max-1;o<p&&!(d=h(k,!0));o++);l=m+"{"+g.quantifier.min+","+g.quantifier.max+"}"}}else if(void 0!==g.matches)for(var q=0;q<g.length&&!(d=h(g[q],c));q++);else{var r;if("["==g.charAt(0)){r=l,r+=g;for(var s=0;s<n;s++)r+=")";var t=new RegExp("^("+r+")$",f.casing?"i":"");d=t.test(i)}else for(var u=0,v=g.length;u<v;u++)if("\\"!==g.charAt(u)){r=l,r+=g.substr(0,u+1),r=r.replace(/\|$/,"");for(var s=0;s<n;s++)r+=")";var t=new RegExp("^("+r+")$",f.casing?"i":"");if(d=t.test(i))break}l+=g}if(d)break}return c&&(l+=")",n--),d}var i,j,k=c.buffer.slice(),l="",m=!1,n=0;null===f.regexTokens&&function(){var a,b,c=new g,d=[];for(f.regexTokens=[];a=f.tokenizer.exec(f.regex);)switch(b=a[0],b.charAt(0)){case"(":d.push(new g(!0));break;case")":j=d.pop(),d.length>0?d[d.length-1].matches.push(j):c.matches.push(j);break;case"{":case"+":case"*":var e=new g(!1,!0);b=b.replace(/[{}]/g,"");var h=b.split(","),i=isNaN(h[0])?h[0]:parseInt(h[0]),k=1===h.length?i:isNaN(h[1])?h[1]:parseInt(h[1]);if(e.quantifier={min:i,max:k},d.length>0){var l=d[d.length-1].matches;a=l.pop(),a.isGroup||(j=new g(!0),j.matches.push(a),a=j),l.push(a),l.push(e)}else a=c.matches.pop(),a.isGroup||(j=new g(!0),j.matches.push(a),a=j),c.matches.push(a),c.matches.push(e);break;default:d.length>0?d[d.length-1].matches.push(b):c.matches.push(b)}c.matches.length>0&&f.regexTokens.push(c)}(),k.splice(d,0,b),i=k.join("");for(var o=0;o<f.regexTokens.length;o++){var p=f.regexTokens[o];if(m=h(p,p.isGroup))break}return m},cardinality:1}}}}),b});
/*!
* jquery.inputmask.min.js
* https://github.com/RobinHerbots/Inputmask
* Copyright (c) 2010 - 2017 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 3.3.8
*/

!function(a){"function"==typeof define&&define.amd?define(["jquery","./inputmask"],a):"object"==typeof exports?module.exports=a(require("jquery"),require("./inputmask")):a(jQuery,window.Inputmask)}(function(a,b){return void 0===a.fn.inputmask&&(a.fn.inputmask=function(c,d){var e,f=this[0];if(void 0===d&&(d={}),"string"==typeof c)switch(c){case"unmaskedvalue":return f&&f.inputmask?f.inputmask.unmaskedvalue():a(f).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return f&&f.inputmask?f.inputmask.getemptymask():"";case"hasMaskedValue":return!(!f||!f.inputmask)&&f.inputmask.hasMaskedValue();case"isComplete":return!f||!f.inputmask||f.inputmask.isComplete();case"getmetadata":return f&&f.inputmask?f.inputmask.getmetadata():void 0;case"setvalue":a(f).val(d),f&&void 0===f.inputmask&&a(f).triggerHandler("setvalue");break;case"option":if("string"!=typeof d)return this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(d)});if(f&&void 0!==f.inputmask)return f.inputmask.option(d);break;default:return d.alias=c,e=new b(d),this.each(function(){e.mask(this)})}else{if("object"==typeof c)return e=new b(c),void 0===c.mask&&void 0===c.alias?this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(c);e.mask(this)}):this.each(function(){e.mask(this)});if(void 0===c)return this.each(function(){e=new b(d),e.mask(this)})}}),a.fn.inputmask});
/*!
 * jquery-timepicker v1.11.13 - A jQuery timepicker plugin inspired by Google Calendar. It supports both mouse and keyboard navigation.
 * Copyright (c) 2017 Jon Thornton - http://jonthornton.github.com/jquery-timepicker/
 * License: MIT
 */

!function(a){"object"==typeof exports&&exports&&"object"==typeof module&&module&&module.exports===exports?a(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(a){var b=a[0];return b.offsetWidth>0&&b.offsetHeight>0}function c(b){if(b.minTime&&(b.minTime=t(b.minTime)),b.maxTime&&(b.maxTime=t(b.maxTime)),b.durationTime&&"function"!=typeof b.durationTime&&(b.durationTime=t(b.durationTime)),"now"==b.scrollDefault)b.scrollDefault=function(){return b.roundingFunction(t(new Date),b)};else if(b.scrollDefault&&"function"!=typeof b.scrollDefault){var c=b.scrollDefault;b.scrollDefault=function(){return b.roundingFunction(t(c),b)}}else b.minTime&&(b.scrollDefault=function(){return b.roundingFunction(b.minTime,b)});if("string"===a.type(b.timeFormat)&&b.timeFormat.match(/[gh]/)&&(b._twelveHourTime=!0),b.showOnFocus===!1&&b.showOn.indexOf("focus")!=-1&&b.showOn.splice(b.showOn.indexOf("focus"),1),b.disableTimeRanges.length>0){for(var d in b.disableTimeRanges)b.disableTimeRanges[d]=[t(b.disableTimeRanges[d][0]),t(b.disableTimeRanges[d][1])];b.disableTimeRanges=b.disableTimeRanges.sort(function(a,b){return a[0]-b[0]});for(var d=b.disableTimeRanges.length-1;d>0;d--)b.disableTimeRanges[d][0]<=b.disableTimeRanges[d-1][1]&&(b.disableTimeRanges[d-1]=[Math.min(b.disableTimeRanges[d][0],b.disableTimeRanges[d-1][0]),Math.max(b.disableTimeRanges[d][1],b.disableTimeRanges[d-1][1])],b.disableTimeRanges.splice(d,1))}return b}function d(b){var c=b.data("timepicker-settings"),d=b.data("timepicker-list");if(d&&d.length&&(d.remove(),b.data("timepicker-list",!1)),c.useSelect){d=a("<select />",{"class":"ui-timepicker-select"});var g=d}else{d=a("<ul />",{"class":"ui-timepicker-list"});var g=a("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1});g.css({display:"none",position:"absolute"}).append(d)}if(c.noneOption)if(c.noneOption===!0&&(c.noneOption=c.useSelect?"Time...":"None"),a.isArray(c.noneOption)){for(var i in c.noneOption)if(parseInt(i,10)==i){var k=e(c.noneOption[i],c.useSelect);d.append(k)}}else{var k=e(c.noneOption,c.useSelect);d.append(k)}if(c.className&&g.addClass(c.className),(null!==c.minTime||null!==c.durationTime)&&c.showDuration){"function"==typeof c.step?"function":c.step;g.addClass("ui-timepicker-with-duration"),g.addClass("ui-timepicker-step-"+c.step)}var l=c.minTime;"function"==typeof c.durationTime?l=t(c.durationTime()):null!==c.durationTime&&(l=c.durationTime);var n=null!==c.minTime?c.minTime:0,o=null!==c.maxTime?c.maxTime:n+v-1;o<n&&(o+=v),o===v-1&&"string"===a.type(c.timeFormat)&&c.show2400&&(o=v);var p=c.disableTimeRanges,w=0,x=p.length,z=c.step;"function"!=typeof z&&(z=function(){return c.step});for(var i=n,A=0;i<=o;A++,i+=60*z(A)){var B=i,C=s(B,c);if(c.useSelect){var D=a("<option />",{value:C});D.text(C)}else{var D=a("<li />");D.addClass(B%v<v/2?"ui-timepicker-am":"ui-timepicker-pm"),D.data("time",u(B,c)),D.text(C)}if((null!==c.minTime||null!==c.durationTime)&&c.showDuration){var E=r(i-l,c.step);if(c.useSelect)D.text(D.text()+" ("+E+")");else{var F=a("<span />",{"class":"ui-timepicker-duration"});F.text(" ("+E+")"),D.append(F)}}w<x&&(B>=p[w][1]&&(w+=1),p[w]&&B>=p[w][0]&&B<p[w][1]&&(c.useSelect?D.prop("disabled",!0):D.addClass("ui-timepicker-disabled"))),d.append(D)}if(g.data("timepicker-input",b),b.data("timepicker-list",g),c.useSelect)b.val()&&d.val(f(t(b.val()),c)),d.on("focus",function(){a(this).data("timepicker-input").trigger("showTimepicker")}),d.on("blur",function(){a(this).data("timepicker-input").trigger("hideTimepicker")}),d.on("change",function(){m(b,a(this).val(),"select")}),m(b,d.val(),"initial"),b.hide().after(d);else{var G=c.appendTo;"string"==typeof G?G=a(G):"function"==typeof G&&(G=G(b)),G.append(g),j(b,d),d.on("mousedown click","li",function(c){b.off("focus.timepicker"),b.on("focus.timepicker-ie-hack",function(){b.off("focus.timepicker-ie-hack"),b.on("focus.timepicker",y.show)}),h(b)||b[0].focus(),d.find("li").removeClass("ui-timepicker-selected"),a(this).addClass("ui-timepicker-selected"),q(b)&&(b.trigger("hideTimepicker"),d.on("mouseup.timepicker click.timepicker","li",function(a){d.off("mouseup.timepicker click.timepicker"),g.hide()}))})}}function e(b,c){var d,e,f;return"object"==typeof b?(d=b.label,e=b.className,f=b.value):"string"==typeof b?(d=b,f=""):a.error("Invalid noneOption value"),c?a("<option />",{value:f,"class":e,text:d}):a("<li />",{"class":e,text:d}).data("time",String(f))}function f(a,b){if(a=b.roundingFunction(a,b),null!==a)return s(a,b)}function g(b){if(b.target!=window){var c=a(b.target);c.closest(".ui-timepicker-input").length||c.closest(".ui-timepicker-wrapper").length||(y.hide(),a(document).unbind(".ui-timepicker"),a(window).unbind(".ui-timepicker"))}}function h(a){var b=a.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&b.disableTouchKeyboard}function i(b,c,d){if(!d&&0!==d)return!1;var e=b.data("timepicker-settings"),f=!1,d=e.roundingFunction(d,e);return c.find("li").each(function(b,c){var e=a(c);if("number"==typeof e.data("time"))return e.data("time")==d?(f=e,!1):void 0}),f}function j(a,b){b.find("li").removeClass("ui-timepicker-selected");var c=a.data("timepicker-settings"),d=t(l(a),c);if(null!==d){var e=i(a,b,d);if(e){var f=e.offset().top-b.offset().top;(f+e.outerHeight()>b.outerHeight()||f<0)&&b.scrollTop(b.scrollTop()+e.position().top-e.outerHeight()),(c.forceRoundTime||e.data("time")===d)&&e.addClass("ui-timepicker-selected")}}}function k(b,c){if("timepicker"!=c){var d=a(this);if(""===this.value)return void m(d,null,c);if(!d.is(":focus")||b&&"change"==b.type){var e=d.data("timepicker-settings"),f=t(this.value,e);if(null===f)return void d.trigger("timeFormatError");var g=!1;if(null!==e.minTime&&null!==e.maxTime&&(f<e.minTime||f>e.maxTime)&&(g=!0),a.each(e.disableTimeRanges,function(){if(f>=this[0]&&f<this[1])return g=!0,!1}),e.forceRoundTime){var h=e.roundingFunction(f,e);h!=f&&(f=h,c=null)}var i=s(f,e);g?(m(d,i,"error")||b&&"change"==b.type)&&d.trigger("timeRangeError"):m(d,i,c)}}}function l(a){return a.is("input")?a.val():a.data("ui-timepicker-value")}function m(a,b,c){if(a.is("input")){a.val(b);var d=a.data("timepicker-settings");d.useSelect&&"select"!=c&&a.data("timepicker-list").val(f(t(b),d))}return a.data("ui-timepicker-value")!=b?(a.data("ui-timepicker-value",b),"select"==c?a.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):["error","initial"].indexOf(c)==-1&&a.trigger("changeTime"),!0):(["error","initial"].indexOf(c)==-1&&a.trigger("selectTime"),!1)}function n(a){switch(a.keyCode){case 13:case 9:return;default:a.preventDefault()}}function o(c){var d=a(this),e=d.data("timepicker-list");if(!e||!b(e)){if(40!=c.keyCode)return!0;y.show.call(d.get(0)),e=d.data("timepicker-list"),h(d)||d.focus()}switch(c.keyCode){case 13:return q(d)&&(k.call(d.get(0),{type:"change"}),y.hide.apply(this)),c.preventDefault(),!1;case 38:var f=e.find(".ui-timepicker-selected");return f.length?f.is(":first-child")||(f.removeClass("ui-timepicker-selected"),f.prev().addClass("ui-timepicker-selected"),f.prev().position().top<f.outerHeight()&&e.scrollTop(e.scrollTop()-f.outerHeight())):(e.find("li").each(function(b,c){if(a(c).position().top>0)return f=a(c),!1}),f.addClass("ui-timepicker-selected")),!1;case 40:return f=e.find(".ui-timepicker-selected"),0===f.length?(e.find("li").each(function(b,c){if(a(c).position().top>0)return f=a(c),!1}),f.addClass("ui-timepicker-selected")):f.is(":last-child")||(f.removeClass("ui-timepicker-selected"),f.next().addClass("ui-timepicker-selected"),f.next().position().top+2*f.outerHeight()>e.outerHeight()&&e.scrollTop(e.scrollTop()+f.outerHeight())),!1;case 27:e.find("li").removeClass("ui-timepicker-selected"),y.hide();break;case 9:y.hide();break;default:return!0}}function p(c){var d=a(this),e=d.data("timepicker-list"),f=d.data("timepicker-settings");if(!e||!b(e)||f.disableTextInput)return!0;if("paste"===c.type||"cut"===c.type)return void setTimeout(function(){f.typeaheadHighlight?j(d,e):e.hide()},0);switch(c.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:f.typeaheadHighlight?j(d,e):e.hide()}}function q(a){var b=a.data("timepicker-settings"),c=a.data("timepicker-list"),d=null,e=c.find(".ui-timepicker-selected");return!e.hasClass("ui-timepicker-disabled")&&(e.length&&(d=e.data("time")),null!==d&&("string"!=typeof d&&(d=s(d,b)),m(a,d,"select")),!0)}function r(a,b){a=Math.abs(a);var c,d,e=Math.round(a/60),f=[];return e<60?f=[e,w.mins]:(c=Math.floor(e/60),d=e%60,30==b&&30==d&&(c+=w.decimal+5),f.push(c),f.push(1==c?w.hr:w.hrs),30!=b&&d&&(f.push(d),f.push(w.mins))),f.join(" ")}function s(b,c){if("number"!=typeof b)return null;var d=parseInt(b%60),e=parseInt(b/60%60),f=parseInt(b/3600%24),g=new Date(1970,0,2,f,e,d,0);if(isNaN(g.getTime()))return null;if("function"===a.type(c.timeFormat))return c.timeFormat(g);for(var h,i,j="",k=0;k<c.timeFormat.length;k++)switch(i=c.timeFormat.charAt(k)){case"a":j+=g.getHours()>11?w.pm:w.am;break;case"A":j+=g.getHours()>11?w.PM:w.AM;break;case"g":h=g.getHours()%12,j+=0===h?"12":h;break;case"G":h=g.getHours(),b===v&&(h=c.show2400?24:0),j+=h;break;case"h":h=g.getHours()%12,0!==h&&h<10&&(h="0"+h),j+=0===h?"12":h;break;case"H":h=g.getHours(),b===v&&(h=c.show2400?24:0),j+=h>9?h:"0"+h;break;case"i":var e=g.getMinutes();j+=e>9?e:"0"+e;break;case"s":d=g.getSeconds(),j+=d>9?d:"0"+d;break;case"\\":k++,j+=c.timeFormat.charAt(k);break;default:j+=i}return j}function t(a,b){if(""===a||null===a)return null;if("object"==typeof a)return 3600*a.getHours()+60*a.getMinutes()+a.getSeconds();if("string"!=typeof a)return a;a=a.toLowerCase().replace(/[\s\.]/g,""),"a"!=a.slice(-1)&&"p"!=a.slice(-1)||(a+="m");var c="("+w.am.replace(".","")+"|"+w.pm.replace(".","")+"|"+w.AM.replace(".","")+"|"+w.PM.replace(".","")+")?",d=new RegExp("^"+c+"([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+c+"$"),e=a.match(d);if(!e)return null;var f=parseInt(1*e[2],10),g=e[1]||e[5],h=f,i=1*e[3]||0,j=1*e[4]||0;if(f<=12&&g){var k=g==w.pm||g==w.PM;h=12==f?k?12:0:f+(k?12:0)}else if(b){var l=3600*f+60*i+j;if(l>=v+(b.show2400?1:0)){if(b.wrapHours===!1)return null;h=f%24}}var m=3600*h+60*i+j;if(f<12&&!g&&b&&b._twelveHourTime&&b.scrollDefault){var n=m-b.scrollDefault();n<0&&n>=v/-2&&(m=(m+v/2)%v)}return m}function u(a,b){return a==v&&b.show2400?a:a%v}var v=86400,w={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},x={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(a,b){if(null===a)return null;if("number"!=typeof b.step)return a;var c=a%(60*b.step),d=b.minTime||0;return c-=d%(60*b.step),c>=30*b.step?a+=60*b.step-c:a-=c,u(a,b)},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0},y={init:function(b){return this.each(function(){var e=a(this),f=[];for(var g in x)e.data(g)&&(f[g]=e.data(g));var h=a.extend({},x,b,f);if(h.lang&&(w=a.extend(w,h.lang)),h=c(h),e.data("timepicker-settings",h),e.addClass("ui-timepicker-input"),h.useSelect)d(e);else{if(e.prop("autocomplete","off"),h.showOn)for(var i in h.showOn)e.on(h.showOn[i]+".timepicker",y.show);e.on("change.timepicker",k),e.on("keydown.timepicker",o),e.on("keyup.timepicker",p),h.disableTextInput&&e.on("keydown.timepicker",n),e.on("cut.timepicker",p),e.on("paste.timepicker",p),k.call(e.get(0),null,"initial")}})},show:function(c){var e=a(this),f=e.data("timepicker-settings");if(c&&c.preventDefault(),f.useSelect)return void e.data("timepicker-list").focus();h(e)&&e.blur();var k=e.data("timepicker-list");if(!e.prop("readonly")&&(k&&0!==k.length&&"function"!=typeof f.durationTime||(d(e),k=e.data("timepicker-list")),!b(k))){e.data("ui-timepicker-value",e.val()),j(e,k),y.hide(),k.show();var m={};f.orientation.match(/r/)?m.left=e.offset().left+e.outerWidth()-k.outerWidth()+parseInt(k.css("marginLeft").replace("px",""),10):m.left=e.offset().left+parseInt(k.css("marginLeft").replace("px",""),10);var n;n=f.orientation.match(/t/)?"t":f.orientation.match(/b/)?"b":e.offset().top+e.outerHeight(!0)+k.outerHeight()>a(window).height()+a(window).scrollTop()?"t":"b","t"==n?(k.addClass("ui-timepicker-positioned-top"),m.top=e.offset().top-k.outerHeight()+parseInt(k.css("marginTop").replace("px",""),10)):(k.removeClass("ui-timepicker-positioned-top"),m.top=e.offset().top+e.outerHeight()+parseInt(k.css("marginTop").replace("px",""),10)),k.offset(m);var o=k.find(".ui-timepicker-selected");if(!o.length){var p=t(l(e));null!==p?o=i(e,k,p):f.scrollDefault&&(o=i(e,k,f.scrollDefault()))}if(o.length&&!o.hasClass("ui-timepicker-disabled")||(o=k.find("li:not(.ui-timepicker-disabled):first")),o&&o.length){var q=k.scrollTop()+o.position().top-o.outerHeight();k.scrollTop(q)}else k.scrollTop(0);return f.stopScrollPropagation&&a(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(b){b.preventDefault();var c=a(this).scrollTop();a(this).scrollTop(c+b.originalEvent.deltaY)}),a(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",g),a(window).on("resize.ui-timepicker",g),f.closeOnWindowScroll&&a(document).on("scroll.ui-timepicker",g),e.trigger("showTimepicker"),this}},hide:function(c){var d=a(this),e=d.data("timepicker-settings");return e&&e.useSelect&&d.blur(),a(".ui-timepicker-wrapper").each(function(){var c=a(this);if(b(c)){var d=c.data("timepicker-input"),e=d.data("timepicker-settings");e&&e.selectOnBlur&&q(d),c.hide(),d.trigger("hideTimepicker")}}),this},option:function(b,e){return"string"==typeof b&&"undefined"==typeof e?a(this).data("timepicker-settings")[b]:this.each(function(){var f=a(this),g=f.data("timepicker-settings"),h=f.data("timepicker-list");"object"==typeof b?g=a.extend(g,b):"string"==typeof b&&(g[b]=e),g=c(g),f.data("timepicker-settings",g),k.call(f.get(0),{type:"change"},"initial"),h&&(h.remove(),f.data("timepicker-list",!1)),g.useSelect&&d(f)})},getSecondsFromMidnight:function(){return t(l(this))},getTime:function(a){var b=this,c=l(b);if(!c)return null;var d=t(c);if(null===d)return null;a||(a=new Date);var e=new Date(a);return e.setHours(d/3600),e.setMinutes(d%3600/60),e.setSeconds(d%60),e.setMilliseconds(0),e},isVisible:function(){var a=this,c=a.data("timepicker-list");return!(!c||!b(c))},setTime:function(a){var b=this,c=b.data("timepicker-settings");if(c.forceRoundTime)var d=f(t(a),c);else var d=s(t(a),c);return a&&null===d&&c.noneOption&&(d=a),m(b,d,"initial"),k.call(b.get(0),{type:"change"},"initial"),b.data("timepicker-list")&&j(b,b.data("timepicker-list")),this},remove:function(){var a=this;if(a.hasClass("ui-timepicker-input")){var b=a.data("timepicker-settings");return a.removeAttr("autocomplete","off"),a.removeClass("ui-timepicker-input"),a.removeData("timepicker-settings"),a.off(".timepicker"),a.data("timepicker-list")&&a.data("timepicker-list").remove(),b.useSelect&&a.show(),a.removeData("timepicker-list"),this}}};a.fn.timepicker=function(b){return this.length?y[b]?this.hasClass("ui-timepicker-input")?y[b].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.timepicker"):y.init.apply(this,arguments):this}});

"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
 * Masonry PACKAGED v4.2.0
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */!function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],(function(i){return e(t,i)})):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,(function(t,e){var i=Array.prototype.slice,n=t.console,o=void 0===n?function(){}:function(t){n.error(t)};function r(n,r,a){function h(t,e,i){var r,s="$()."+n+'("'+e+'")';return t.each((function(t,h){var u=a.data(h,n);if(u){var d=u[e];if(d&&"_"!=e.charAt(0)){var l=d.apply(u,i);r=void 0===r?l:r}else o(s+" is not a valid method")}else o(n+" not initialized. Cannot call methods, i.e. "+s)})),void 0!==r?r:t}function u(t,e){t.each((function(t,i){var o=a.data(i,n);o?(o.option(e),o._init()):(o=new r(i,e),a.data(i,n,o))}))}(a=a||e||t.jQuery)&&(r.prototype.option||(r.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[n]=function(t){if("string"==typeof t){var e=i.call(arguments,1);return h(this,t,e)}return u(this,t),this},s(a))}function s(t){!t||t&&t.bridget||(t.bridget=r)}return s(e||t.jQuery),r})),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:void 0,(function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var s=r&&r[o];s&&(this.off(t,o),delete r[o]),o.apply(this,e),o=i[n+=s?0:1]}return this}},t})),
/*!
 * getSize v2.0.2
 * measure size of elements
 * MIT license
 */
function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",[],(function(){return e()})):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e():t.getSize=e()}(window,(function(){function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var e="undefined"==typeof console?function(){}:function(t){console.error(t)},i=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],n=i.length;function o(t){var i=getComputedStyle(t);return i||e("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),i}var r,s=!1;function a(e){if(function(){if(!s){s=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var n=o(e);a.isBoxSizeOuter=r=200==t(n.width),i.removeChild(e)}}(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==_typeof(e)&&e.nodeType){var h=o(e);if("none"==h.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<n;e++)t[i[e]]=0;return t}();var u={};u.width=e.offsetWidth,u.height=e.offsetHeight;for(var d=u.isBorderBox="border-box"==h.boxSizing,l=0;l<n;l++){var f=i[l],c=h[f],m=parseFloat(c);u[f]=isNaN(m)?0:m}var p=u.paddingLeft+u.paddingRight,g=u.paddingTop+u.paddingBottom,y=u.marginLeft+u.marginRight,v=u.marginTop+u.marginBottom,_=u.borderLeftWidth+u.borderRightWidth,z=u.borderTopWidth+u.borderBottomWidth,b=d&&r,E=t(h.width);!1!==E&&(u.width=E+(b?0:p+_));var x=t(h.height);return!1!==x&&(u.height=x+(b?0:g+z)),u.innerWidth=u.width-(p+_),u.innerHeight=u.height-(g+z),u.outerWidth=u.width+y,u.outerHeight=u.height+v,u}}return a})),function(t,e){"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e():t.matchesSelector=e()}(window,(function(){var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i]+"MatchesSelector";if(t[n])return n}}();return function(e,i){return e[t](i)}})),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],(function(i){return e(t,i)})):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,(function(t,e){var i={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e},makeArray:function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"object"==_typeof(t)&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},removeFrom:function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},getParent:function(t,i){for(;t!=document.body;)if(t=t.parentNode,e(t,i))return t},getQueryElement:function(t){return"string"==typeof t?document.querySelector(t):t},handleEvent:function(t){var e="on"+t.type;this[e]&&this[e](t)},filterFindElements:function(t,n){t=i.makeArray(t);var o=[];return t.forEach((function(t){if(t instanceof HTMLElement)if(n){e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),r=0;r<i.length;r++)o.push(i[r])}else o.push(t)})),o},debounceMethod:function(t,e,i){var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout((function(){n.apply(r,e),delete r[o]}),i||100)}},docReady:function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},toDashed:function(t){return t.replace(/(.)([A-Z])/g,(function(t,e,i){return e+"-"+i})).toLowerCase()}},n=t.console;return i.htmlInit=function(e,o){i.docReady((function(){var r=i.toDashed(o),s="data-"+r,a=document.querySelectorAll("["+s+"]"),h=document.querySelectorAll(".js-"+r),u=i.makeArray(a).concat(i.makeArray(h)),d=s+"-options",l=t.jQuery;u.forEach((function(t){var i,r=t.getAttribute(s)||t.getAttribute(d);try{i=r&&JSON.parse(r)}catch(e){return void(n&&n.error("Error parsing "+s+" on "+t.className+": "+e))}var a=new e(t,i);l&&l.data(t,o,a)}))}))},i})),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,(function(t,e){var i=document.documentElement.style,n="string"==typeof i.transition?"transition":"WebkitTransition",o="string"==typeof i.transform?"transform":"WebkitTransform",r={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[n],s={transform:o,transition:n,transitionDuration:n+"Duration",transitionProperty:n+"Property",transitionDelay:n+"Delay"};function a(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var h=a.prototype=Object.create(t.prototype);h.constructor=a,h._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},h.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},h.getSize=function(){this.size=e(this.element)},h.css=function(t){var e=this.element.style;for(var i in t){e[s[i]||i]=t[i]}},h.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],o=t[i?"top":"bottom"],r=this.layout.size,s=-1!=n.indexOf("%")?parseFloat(n)/100*r.width:parseInt(n,10),a=-1!=o.indexOf("%")?parseFloat(o)/100*r.height:parseInt(o,10);s=isNaN(s)?0:s,a=isNaN(a)?0:a,s-=e?r.paddingLeft:r.paddingRight,a-=i?r.paddingTop:r.paddingBottom,this.position.x=s,this.position.y=a},h.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=i?"paddingLeft":"paddingRight",r=i?"left":"right",s=i?"right":"left",a=this.position.x+t[o];e[r]=this.getXValue(a),e[s]="";var h=n?"paddingTop":"paddingBottom",u=n?"top":"bottom",d=n?"bottom":"top",l=this.position.y+t[h];e[u]=this.getYValue(l),e[d]="",this.css(e),this.emitEvent("layout",[this])},h.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},h.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},h._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(t,10),r=parseInt(e,10),s=o===this.position.x&&r===this.position.y;if(this.setPosition(t,e),!s||this.isTransitioning){var a=t-i,h=e-n,u={};u.transform=this.getTranslate(a,h),this.transition({to:u,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},h.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)"},h.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},h.moveTo=h._transitionTo,h.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},h._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},h.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);this.element.offsetHeight;null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var u="opacity,"+o.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}));h.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:u,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(r,this,!1)}},h.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},h.onotransitionend=function(t){this.ontransitionend(t)};var d={"-webkit-transform":"transform"};h.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=d[t.propertyName]||t.propertyName;if(delete e.ingProperties[i],function(t){for(var e in t)return!1;return!0}(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd)e.onEnd[i].call(this),delete e.onEnd[i];this.emitEvent("transitionEnd",[this])}},h.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(r,this,!1),this.isTransitioning=!1},h._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var l={transitionProperty:"",transitionDuration:"",transitionDelay:""};return h.removeTransitionStyles=function(){this.css(l)},h.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},h.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},h.remove=function(){n&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",(function(){this.removeElem()})),this.hide()):this.removeElem()},h.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},h.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},h.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},h.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},h.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},h.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a})),
/*!
 * Outlayer v2.1.0
 * the brains and guts of a layout library
 * MIT license
 */
function(t,e){"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],(function(i,n,o,r){return e(t,i,n,o,r)})):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,(function(t,e,i,n,o){var r=t.console,s=t.jQuery,a=function(){},h=0,u={};function d(t,e){var i=n.getQueryElement(t);if(i){this.element=i,s&&(this.$element=s(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e);var o=++h;this.element.outlayerGUID=o,u[o]=this,this._create(),this._getOption("initLayout")&&this.layout()}else r&&r.error("Bad element for "+this.constructor.namespace+": "+(i||t))}d.namespace="outlayer",d.Item=o,d.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var l=d.prototype;function f(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}n.extend(l,e.prototype),l.option=function(t){n.extend(this.options,t)},l._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},d.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},l._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},l.reloadItems=function(){this.items=this._itemize(this.element.children)},l._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0;o<e.length;o++){var r=new i(e[o],this);n.push(r)}return n},l._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},l.getItemElements=function(){return this.items.map((function(t){return t.element}))},l.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},l._init=l.layout,l._resetLayout=function(){this.getSize()},l.getSize=function(){this.size=i(this.element)},l._getMeasurement=function(t,e){var n,o=this.options[t];o?("string"==typeof o?n=this.element.querySelector(o):o instanceof HTMLElement&&(n=o),this[t]=n?i(n)[e]:o):this[t]=0},l.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},l._getItemsForLayout=function(t){return t.filter((function(t){return!t.isIgnored}))},l._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach((function(t){var n=this._getItemLayoutPosition(t);n.item=t,n.isInstant=e||t.isLayoutInstant,i.push(n)}),this),this._processLayoutQueue(i)}},l._getItemLayoutPosition=function(){return{x:0,y:0}},l._processLayoutQueue=function(t){this.updateStagger(),t.forEach((function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)}),this)},l.updateStagger=function(){var t=this.options.stagger;if(null!=t)return this.stagger=function(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],n=e&&e[2];if(!i.length)return 0;return(i=parseFloat(i))*(c[n]||1)}(t),this.stagger;this.stagger=0},l._positionItem=function(t,e,i,n,o){n?t.goTo(e,i):(t.stagger(o*this.stagger),t.moveTo(e,i))},l._postLayout=function(){this.resizeContainer()},l.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},l._getContainerSize=a,l._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},l._emitCompleteOnItems=function(t,e){var i=this;function n(){i.dispatchEvent(t+"Complete",null,[e])}var o=e.length;if(e&&o){var r=0;e.forEach((function(e){e.once(t,s)}))}else n();function s(){++r==o&&n()}},l.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),s)if(this.$element=this.$element||s(this.element),e){var o=s.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},l.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},l.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},l.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},l.unstamp=function(t){(t=this._find(t))&&t.forEach((function(t){n.removeFrom(this.stamps,t),this.unignore(t)}),this)},l._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)},l._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},l._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},l._manageStamp=a,l._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,o=i(t);return{left:e.left-n.left-o.marginLeft,top:e.top-n.top-o.marginTop,right:n.right-e.right-o.marginRight,bottom:n.bottom-e.bottom-o.marginBottom}},l.handleEvent=n.handleEvent,l.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},l.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},l.onresize=function(){this.resize()},n.debounceMethod(d,"onresize",100),l.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},l.needsResizeLayout=function(){var t=i(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},l.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},l.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},l.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},l.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach((function(t,i){t.stagger(i*e),t.reveal()}))}},l.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach((function(t,i){t.stagger(i*e),t.hide()}))}},l.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},l.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},l.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},l.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach((function(t){var i=this.getItem(t);i&&e.push(i)}),this),e},l.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach((function(t){t.remove(),n.removeFrom(this.items,t)}),this)},l.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach((function(t){t.destroy()})),this.unbindResize();var e=this.element.outlayerGUID;delete u[e],delete this.element.outlayerGUID,s&&s.removeData(this.element,this.constructor.namespace)},d.data=function(t){var e=(t=n.getQueryElement(t))&&t.outlayerGUID;return e&&u[e]},d.create=function(t,e){var i=f(d);return i.defaults=n.extend({},d.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},d.compatOptions),i.namespace=t,i.data=d.data,i.Item=f(o),n.htmlInit(i,t),s&&s.bridget&&s.bridget(t,i),i};var c={ms:1,s:1e3};return d.Item=o,d})),
/*!
 * Masonry v4.2.0
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,(function(t,e){var i=t.create("masonry");i.compatOptions.fitWidth="isFitWidth";var n=i.prototype;return n._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},n.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/n,s=n-o%n;r=Math[s&&s<1?"round":"floor"](r),this.cols=Math.max(r,1)},n.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,i=e(t);this.containerWidth=i&&i.innerWidth},n._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=Math[e&&e<1?"round":"ceil"](t.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var n=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](i,t),o={x:this.columnWidth*n.col,y:n.y},r=n.y+t.size.outerHeight,s=i+n.col,a=n.col;a<s;a++)this.colYs[a]=r;return o},n._getTopColPosition=function(t){var e=this._getTopColGroup(t),i=Math.min.apply(Math,e);return{col:e.indexOf(i),y:i}},n._getTopColGroup=function(t){if(t<2)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;n<i;n++)e[n]=this._getColGroupY(n,t);return e},n._getColGroupY=function(t,e){if(e<2)return this.colYs[t];var i=this.colYs.slice(t,t+e);return Math.max.apply(Math,i)},n._getHorizontalColPosition=function(t,e){var i=this.horizontalColIndex%this.cols;i=t>1&&i+t>this.cols?0:i;var n=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=n?i+t:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,t)}},n._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),o=this._getOption("originLeft")?n.left:n.right,r=o+i.outerWidth,s=Math.floor(o/this.columnWidth);s=Math.max(0,s);var a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var h=(this._getOption("originTop")?n.top:n.bottom)+i.outerHeight,u=s;u<=a;u++)this.colYs[u]=Math.max(h,this.colYs[u])},n._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},n._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},n.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i}));
/*! jQuery & Zepto Lazy v1.7.10 - http://jquery.eisbehr.de/lazy - MIT&GPL-2.0 license - Copyright 2012-2018 Daniel 'Eisbehr' Kern */
!function(t,e){"use strict";function r(r,a,i,u,l){function f(){L=t.devicePixelRatio>1,i=c(i),a.delay>=0&&setTimeout(function(){s(!0)},a.delay),(a.delay<0||a.combined)&&(u.e=v(a.throttle,function(t){"resize"===t.type&&(w=B=-1),s(t.all)}),u.a=function(t){t=c(t),i.push.apply(i,t)},u.g=function(){return i=n(i).filter(function(){return!n(this).data(a.loadedName)})},u.f=function(t){for(var e=0;e<t.length;e++){var r=i.filter(function(){return this===t[e]});r.length&&s(!1,r)}},s(),n(a.appendScroll).on("scroll."+l+" resize."+l,u.e))}function c(t){var i=a.defaultImage,o=a.placeholder,u=a.imageBase,l=a.srcsetAttribute,f=a.loaderAttribute,c=a._f||{};t=n(t).filter(function(){var t=n(this),r=m(this);return!t.data(a.handledName)&&(t.attr(a.attribute)||t.attr(l)||t.attr(f)||c[r]!==e)}).data("plugin_"+a.name,r);for(var s=0,d=t.length;s<d;s++){var A=n(t[s]),g=m(t[s]),h=A.attr(a.imageBaseAttribute)||u;g===N&&h&&A.attr(l)&&A.attr(l,b(A.attr(l),h)),c[g]===e||A.attr(f)||A.attr(f,c[g]),g===N&&i&&!A.attr(E)?A.attr(E,i):g===N||!o||A.css(O)&&"none"!==A.css(O)||A.css(O,"url('"+o+"')")}return t}function s(t,e){if(!i.length)return void(a.autoDestroy&&r.destroy());for(var o=e||i,u=!1,l=a.imageBase||"",f=a.srcsetAttribute,c=a.handledName,s=0;s<o.length;s++)if(t||e||A(o[s])){var g=n(o[s]),h=m(o[s]),b=g.attr(a.attribute),v=g.attr(a.imageBaseAttribute)||l,p=g.attr(a.loaderAttribute);g.data(c)||a.visibleOnly&&!g.is(":visible")||!((b||g.attr(f))&&(h===N&&(v+b!==g.attr(E)||g.attr(f)!==g.attr(F))||h!==N&&v+b!==g.css(O))||p)||(u=!0,g.data(c,!0),d(g,h,v,p))}u&&(i=n(i).filter(function(){return!n(this).data(c)}))}function d(t,e,r,i){++z;var o=function(){y("onError",t),p(),o=n.noop};y("beforeLoad",t);var u=a.attribute,l=a.srcsetAttribute,f=a.sizesAttribute,c=a.retinaAttribute,s=a.removeAttribute,d=a.loadedName,A=t.attr(c);if(i){var g=function(){s&&t.removeAttr(a.loaderAttribute),t.data(d,!0),y(T,t),setTimeout(p,1),g=n.noop};t.off(I).one(I,o).one(D,g),y(i,t,function(e){e?(t.off(D),g()):(t.off(I),o())})||t.trigger(I)}else{var h=n(new Image);h.one(I,o).one(D,function(){t.hide(),e===N?t.attr(C,h.attr(C)).attr(F,h.attr(F)).attr(E,h.attr(E)):t.css(O,"url('"+h.attr(E)+"')"),t[a.effect](a.effectTime),s&&(t.removeAttr(u+" "+l+" "+c+" "+a.imageBaseAttribute),f!==C&&t.removeAttr(f)),t.data(d,!0),y(T,t),h.remove(),p()});var m=(L&&A?A:t.attr(u))||"";h.attr(C,t.attr(f)).attr(F,t.attr(l)).attr(E,m?r+m:null),h.complete&&h.trigger(D)}}function A(t){var e=t.getBoundingClientRect(),r=a.scrollDirection,n=a.threshold,i=h()+n>e.top&&-n<e.bottom,o=g()+n>e.left&&-n<e.right;return"vertical"===r?i:"horizontal"===r?o:i&&o}function g(){return w>=0?w:w=n(t).width()}function h(){return B>=0?B:B=n(t).height()}function m(t){return t.tagName.toLowerCase()}function b(t,e){if(e){var r=t.split(",");t="";for(var a=0,n=r.length;a<n;a++)t+=e+r[a].trim()+(a!==n-1?",":"")}return t}function v(t,e){var n,i=0;return function(o,u){function l(){i=+new Date,e.call(r,o)}var f=+new Date-i;n&&clearTimeout(n),f>t||!a.enableThrottle||u?l():n=setTimeout(l,t-f)}}function p(){--z,i.length||z||y("onFinishedAll")}function y(t,e,n){return!!(t=a[t])&&(t.apply(r,[].slice.call(arguments,1)),!0)}var z=0,w=-1,B=-1,L=!1,T="afterLoad",D="load",I="error",N="img",E="src",F="srcset",C="sizes",O="background-image";"event"===a.bind||o?f():n(t).on(D+"."+l,f)}function a(a,o){var u=this,l=n.extend({},u.config,o),f={},c=l.name+"-"+ ++i;return u.config=function(t,r){return r===e?l[t]:(l[t]=r,u)},u.addItems=function(t){return f.a&&f.a("string"===n.type(t)?n(t):t),u},u.getItems=function(){return f.g?f.g():{}},u.update=function(t){return f.e&&f.e({},!t),u},u.force=function(t){return f.f&&f.f("string"===n.type(t)?n(t):t),u},u.loadAll=function(){return f.e&&f.e({all:!0},!0),u},u.destroy=function(){return n(l.appendScroll).off("."+c,f.e),n(t).off("."+c),f={},e},r(u,l,a,f,c),l.chainable?a:u}var n=t.jQuery||t.Zepto,i=0,o=!1;n.fn.Lazy=n.fn.lazy=function(t){return new a(this,t)},n.Lazy=n.lazy=function(t,r,i){if(n.isFunction(r)&&(i=r,r=[]),n.isFunction(i)){t=n.isArray(t)?t:[t],r=n.isArray(r)?r:[r];for(var o=a.prototype.config,u=o._f||(o._f={}),l=0,f=t.length;l<f;l++)(o[t[l]]===e||n.isFunction(o[t[l]]))&&(o[t[l]]=i);for(var c=0,s=r.length;c<s;c++)u[r[c]]=t[0]}},a.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:t,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:e,afterLoad:e,onError:e,onFinishedAll:e},n(t).on("load",function(){o=!0})}(window);
"function"!==typeof Object.create&&(Object.create=function(f){function g(){}g.prototype=f;return new g});
(function(f,g,k){var l={init:function(a,b){this.$elem=f(b);this.options=f.extend({},f.fn.owlCarousel.options,this.$elem.data(),a);this.userOptions=a;this.loadContent()},loadContent:function(){function a(a){var d,e="";if("function"===typeof b.options.jsonSuccess)b.options.jsonSuccess.apply(this,[a]);else{for(d in a.owl)a.owl.hasOwnProperty(d)&&(e+=a.owl[d].item);b.$elem.html(e)}b.logIn()}var b=this,e;"function"===typeof b.options.beforeInit&&b.options.beforeInit.apply(this,[b.$elem]);"string"===typeof b.options.jsonPath?
(e=b.options.jsonPath,f.getJSON(e,a)):b.logIn()},logIn:function(){this.$elem.data("owl-originalStyles",this.$elem.attr("style"));this.$elem.data("owl-originalClasses",this.$elem.attr("class"));this.$elem.css({opacity:0});this.orignalItems=this.options.items;this.checkBrowser();this.wrapperWidth=0;this.checkVisible=null;this.setVars()},setVars:function(){if(0===this.$elem.children().length)return!1;this.baseClass();this.eventTypes();this.$userItems=this.$elem.children();this.itemsAmount=this.$userItems.length;
this.wrapItems();this.$owlItems=this.$elem.find(".owl-item");this.$owlWrapper=this.$elem.find(".owl-wrapper");this.playDirection="next";this.prevItem=0;this.prevArr=[0];this.currentItem=0;this.customEvents();this.onStartup()},onStartup:function(){this.updateItems();this.calculateAll();this.buildControls();this.updateControls();this.response();this.moveEvents();this.stopOnHover();this.owlStatus();!1!==this.options.transitionStyle&&this.transitionTypes(this.options.transitionStyle);!0===this.options.autoPlay&&
(this.options.autoPlay=5E3);this.play();this.$elem.find(".owl-wrapper").css("display","block");this.$elem.is(":visible")?this.$elem.css("opacity",1):this.watchVisibility();this.onstartup=!1;this.eachMoveUpdate();"function"===typeof this.options.afterInit&&this.options.afterInit.apply(this,[this.$elem])},eachMoveUpdate:function(){!0===this.options.lazyLoad&&this.lazyLoad();!0===this.options.autoHeight&&this.autoHeight();this.onVisibleItems();"function"===typeof this.options.afterAction&&this.options.afterAction.apply(this,
[this.$elem])},updateVars:function(){"function"===typeof this.options.beforeUpdate&&this.options.beforeUpdate.apply(this,[this.$elem]);this.watchVisibility();this.updateItems();this.calculateAll();this.updatePosition();this.updateControls();this.eachMoveUpdate();"function"===typeof this.options.afterUpdate&&this.options.afterUpdate.apply(this,[this.$elem])},reload:function(){var a=this;g.setTimeout(function(){a.updateVars()},0)},watchVisibility:function(){var a=this;if(!1===a.$elem.is(":visible"))a.$elem.css({opacity:0}),
g.clearInterval(a.autoPlayInterval),g.clearInterval(a.checkVisible);else return!1;a.checkVisible=g.setInterval(function(){a.$elem.is(":visible")&&(a.reload(),a.$elem.animate({opacity:1},200),g.clearInterval(a.checkVisible))},500)},wrapItems:function(){this.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>');this.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">');this.wrapperOuter=this.$elem.find(".owl-wrapper-outer");this.$elem.css("display","block")},
baseClass:function(){var a=this.$elem.hasClass(this.options.baseClass),b=this.$elem.hasClass(this.options.theme);a||this.$elem.addClass(this.options.baseClass);b||this.$elem.addClass(this.options.theme)},updateItems:function(){var a,b;if(!1===this.options.responsive)return!1;if(!0===this.options.singleItem)return this.options.items=this.orignalItems=1,this.options.itemsCustom=!1,this.options.itemsDesktop=!1,this.options.itemsDesktopSmall=!1,this.options.itemsTablet=!1,this.options.itemsTabletSmall=
!1,this.options.itemsMobile=!1;a=f(this.options.responsiveBaseWidth).width();a>(this.options.itemsDesktop[0]||this.orignalItems)&&(this.options.items=this.orignalItems);if(!1!==this.options.itemsCustom)for(this.options.itemsCustom.sort(function(a,b){return a[0]-b[0]}),b=0;b<this.options.itemsCustom.length;b+=1)this.options.itemsCustom[b][0]<=a&&(this.options.items=this.options.itemsCustom[b][1]);else a<=this.options.itemsDesktop[0]&&!1!==this.options.itemsDesktop&&(this.options.items=this.options.itemsDesktop[1]),
a<=this.options.itemsDesktopSmall[0]&&!1!==this.options.itemsDesktopSmall&&(this.options.items=this.options.itemsDesktopSmall[1]),a<=this.options.itemsTablet[0]&&!1!==this.options.itemsTablet&&(this.options.items=this.options.itemsTablet[1]),a<=this.options.itemsTabletSmall[0]&&!1!==this.options.itemsTabletSmall&&(this.options.items=this.options.itemsTabletSmall[1]),a<=this.options.itemsMobile[0]&&!1!==this.options.itemsMobile&&(this.options.items=this.options.itemsMobile[1]);this.options.items>this.itemsAmount&&
!0===this.options.itemsScaleUp&&(this.options.items=this.itemsAmount)},response:function(){var a=this,b,e;if(!0!==a.options.responsive)return!1;e=f(g).width();a.resizer=function(){f(g).width()!==e&&(!1!==a.options.autoPlay&&g.clearInterval(a.autoPlayInterval),g.clearTimeout(b),b=g.setTimeout(function(){e=f(g).width();a.updateVars()},a.options.responsiveRefreshRate))};f(g).resize(a.resizer)},updatePosition:function(){this.jumpTo(this.currentItem);!1!==this.options.autoPlay&&this.checkAp()},appendItemsSizes:function(){var a=
this,b=0,e=a.itemsAmount-a.options.items;a.$owlItems.each(function(c){var d=f(this);d.css({width:a.itemWidth}).data("owl-item",Number(c));if(0===c%a.options.items||c===e)c>e||(b+=1);d.data("owl-roundPages",b)})},appendWrapperSizes:function(){this.$owlWrapper.css({width:this.$owlItems.length*this.itemWidth*2,left:0});this.appendItemsSizes()},calculateAll:function(){this.calculateWidth();this.appendWrapperSizes();this.loops();this.max()},calculateWidth:function(){this.itemWidth=Math.round(this.$elem.width()/
this.options.items)},max:function(){var a=-1*(this.itemsAmount*this.itemWidth-this.options.items*this.itemWidth);this.options.items>this.itemsAmount?this.maximumPixels=a=this.maximumItem=0:(this.maximumItem=this.itemsAmount-this.options.items,this.maximumPixels=a);return a},min:function(){return 0},loops:function(){var a=0,b=0,e,c;this.positionsInArray=[0];this.pagesInArray=[];for(e=0;e<this.itemsAmount;e+=1)b+=this.itemWidth,this.positionsInArray.push(-b),!0===this.options.scrollPerPage&&(c=f(this.$owlItems[e]),
c=c.data("owl-roundPages"),c!==a&&(this.pagesInArray[a]=this.positionsInArray[e],a=c))},buildControls:function(){if(!0===this.options.navigation||!0===this.options.pagination)this.owlControls=f('<div class="owl-controls"/>').toggleClass("clickable",!this.browser.isTouch).appendTo(this.$elem);!0===this.options.pagination&&this.buildPagination();!0===this.options.navigation&&this.buildButtons()},buildButtons:function(){var a=this,b=f('<div class="owl-buttons"/>');a.owlControls.append(b);a.buttonPrev=
f("<div/>",{"class":"owl-prev",html:a.options.navigationText[0]||""});a.buttonNext=f("<div/>",{"class":"owl-next",html:a.options.navigationText[1]||""});b.append(a.buttonPrev).append(a.buttonNext);b.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(a){a.preventDefault()});b.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(b){b.preventDefault();f(this).hasClass("owl-next")?a.next():a.prev()})},buildPagination:function(){var a=this;a.paginationWrapper=
f('<div class="owl-pagination"/>');a.owlControls.append(a.paginationWrapper);a.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(b){b.preventDefault();Number(f(this).data("owl-page"))!==a.currentItem&&a.goTo(Number(f(this).data("owl-page")),!0)})},updatePagination:function(){var a,b,e,c,d,g;if(!1===this.options.pagination)return!1;this.paginationWrapper.html("");a=0;b=this.itemsAmount-this.itemsAmount%this.options.items;for(c=0;c<this.itemsAmount;c+=1)0===c%this.options.items&&
(a+=1,b===c&&(e=this.itemsAmount-this.options.items),d=f("<div/>",{"class":"owl-page"}),g=f("<span></span>",{text:!0===this.options.paginationNumbers?a:"","class":!0===this.options.paginationNumbers?"owl-numbers":""}),d.append(g),d.data("owl-page",b===c?e:c),d.data("owl-roundPages",a),this.paginationWrapper.append(d));this.checkPagination()},checkPagination:function(){var a=this;if(!1===a.options.pagination)return!1;a.paginationWrapper.find(".owl-page").each(function(){f(this).data("owl-roundPages")===
f(a.$owlItems[a.currentItem]).data("owl-roundPages")&&(a.paginationWrapper.find(".owl-page").removeClass("active"),f(this).addClass("active"))})},checkNavigation:function(){if(!1===this.options.navigation)return!1;!1===this.options.rewindNav&&(0===this.currentItem&&0===this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.addClass("disabled")):0===this.currentItem&&0!==this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.removeClass("disabled")):this.currentItem===
this.maximumItem?(this.buttonPrev.removeClass("disabled"),this.buttonNext.addClass("disabled")):0!==this.currentItem&&this.currentItem!==this.maximumItem&&(this.buttonPrev.removeClass("disabled"),this.buttonNext.removeClass("disabled")))},updateControls:function(){this.updatePagination();this.checkNavigation();this.owlControls&&(this.options.items>=this.itemsAmount?this.owlControls.hide():this.owlControls.show())},destroyControls:function(){this.owlControls&&this.owlControls.remove()},next:function(a){if(this.isTransition)return!1;
this.currentItem+=!0===this.options.scrollPerPage?this.options.items:1;if(this.currentItem>this.maximumItem+(!0===this.options.scrollPerPage?this.options.items-1:0))if(!0===this.options.rewindNav)this.currentItem=0,a="rewind";else return this.currentItem=this.maximumItem,!1;this.goTo(this.currentItem,a)},prev:function(a){if(this.isTransition)return!1;this.currentItem=!0===this.options.scrollPerPage&&0<this.currentItem&&this.currentItem<this.options.items?0:this.currentItem-(!0===this.options.scrollPerPage?
this.options.items:1);if(0>this.currentItem)if(!0===this.options.rewindNav)this.currentItem=this.maximumItem,a="rewind";else return this.currentItem=0,!1;this.goTo(this.currentItem,a)},goTo:function(a,b,e){var c=this;if(c.isTransition)return!1;"function"===typeof c.options.beforeMove&&c.options.beforeMove.apply(this,[c.$elem]);a>=c.maximumItem?a=c.maximumItem:0>=a&&(a=0);c.currentItem=c.owl.currentItem=a;if(!1!==c.options.transitionStyle&&"drag"!==e&&1===c.options.items&&!0===c.browser.support3d)return c.swapSpeed(0),
!0===c.browser.support3d?c.transition3d(c.positionsInArray[a]):c.css2slide(c.positionsInArray[a],1),c.afterGo(),c.singleItemTransition(),!1;a=c.positionsInArray[a];!0===c.browser.support3d?(c.isCss3Finish=!1,!0===b?(c.swapSpeed("paginationSpeed"),g.setTimeout(function(){c.isCss3Finish=!0},c.options.paginationSpeed)):"rewind"===b?(c.swapSpeed(c.options.rewindSpeed),g.setTimeout(function(){c.isCss3Finish=!0},c.options.rewindSpeed)):(c.swapSpeed("slideSpeed"),g.setTimeout(function(){c.isCss3Finish=!0},
c.options.slideSpeed)),c.transition3d(a)):!0===b?c.css2slide(a,c.options.paginationSpeed):"rewind"===b?c.css2slide(a,c.options.rewindSpeed):c.css2slide(a,c.options.slideSpeed);c.afterGo()},jumpTo:function(a){"function"===typeof this.options.beforeMove&&this.options.beforeMove.apply(this,[this.$elem]);a>=this.maximumItem||-1===a?a=this.maximumItem:0>=a&&(a=0);this.swapSpeed(0);!0===this.browser.support3d?this.transition3d(this.positionsInArray[a]):this.css2slide(this.positionsInArray[a],1);this.currentItem=
this.owl.currentItem=a;this.afterGo()},afterGo:function(){this.prevArr.push(this.currentItem);this.prevItem=this.owl.prevItem=this.prevArr[this.prevArr.length-2];this.prevArr.shift(0);this.prevItem!==this.currentItem&&(this.checkPagination(),this.checkNavigation(),this.eachMoveUpdate(),!1!==this.options.autoPlay&&this.checkAp());"function"===typeof this.options.afterMove&&this.prevItem!==this.currentItem&&this.options.afterMove.apply(this,[this.$elem])},stop:function(){this.apStatus="stop";g.clearInterval(this.autoPlayInterval)},
checkAp:function(){"stop"!==this.apStatus&&this.play()},play:function(){var a=this;a.apStatus="play";if(!1===a.options.autoPlay)return!1;g.clearInterval(a.autoPlayInterval);a.autoPlayInterval=g.setInterval(function(){a.next(!0)},a.options.autoPlay)},swapSpeed:function(a){"slideSpeed"===a?this.$owlWrapper.css(this.addCssSpeed(this.options.slideSpeed)):"paginationSpeed"===a?this.$owlWrapper.css(this.addCssSpeed(this.options.paginationSpeed)):"string"!==typeof a&&this.$owlWrapper.css(this.addCssSpeed(a))},
addCssSpeed:function(a){return{"-webkit-transition":"all "+a+"ms ease","-moz-transition":"all "+a+"ms ease","-o-transition":"all "+a+"ms ease",transition:"all "+a+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(a){return{"-webkit-transform":"translate3d("+a+"px, 0px, 0px)","-moz-transform":"translate3d("+a+"px, 0px, 0px)","-o-transform":"translate3d("+a+"px, 0px, 0px)","-ms-transform":"translate3d("+
a+"px, 0px, 0px)",transform:"translate3d("+a+"px, 0px,0px)"}},transition3d:function(a){this.$owlWrapper.css(this.doTranslate(a))},css2move:function(a){this.$owlWrapper.css({left:a})},css2slide:function(a,b){var e=this;e.isCssFinish=!1;e.$owlWrapper.stop(!0,!0).animate({left:a},{duration:b||e.options.slideSpeed,complete:function(){e.isCssFinish=!0}})},checkBrowser:function(){var a=k.createElement("div");a.style.cssText="  -moz-transform:translate3d(0px, 0px, 0px); -ms-transform:translate3d(0px, 0px, 0px); -o-transform:translate3d(0px, 0px, 0px); -webkit-transform:translate3d(0px, 0px, 0px); transform:translate3d(0px, 0px, 0px)";
a=a.style.cssText.match(/translate3d\(0px, 0px, 0px\)/g);this.browser={support3d:null!==a&&1===a.length,isTouch:"ontouchstart"in g||g.navigator.msMaxTouchPoints}},moveEvents:function(){if(!1!==this.options.mouseDrag||!1!==this.options.touchDrag)this.gestures(),this.disabledEvents()},eventTypes:function(){var a=["s","e","x"];this.ev_types={};!0===this.options.mouseDrag&&!0===this.options.touchDrag?a=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:
!1===this.options.mouseDrag&&!0===this.options.touchDrag?a=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:!0===this.options.mouseDrag&&!1===this.options.touchDrag&&(a=["mousedown.owl","mousemove.owl","mouseup.owl"]);this.ev_types.start=a[0];this.ev_types.move=a[1];this.ev_types.end=a[2]},disabledEvents:function(){this.$elem.on("dragstart.owl",function(a){a.preventDefault()});this.$elem.on("mousedown.disableTextSelect",function(a){return f(a.target).is("input, textarea, select, option")})},
gestures:function(){function a(a){if(void 0!==a.touches)return{x:a.touches[0].pageX,y:a.touches[0].pageY};if(void 0===a.touches){if(void 0!==a.pageX)return{x:a.pageX,y:a.pageY};if(void 0===a.pageX)return{x:a.clientX,y:a.clientY}}}function b(a){"on"===a?(f(k).on(d.ev_types.move,e),f(k).on(d.ev_types.end,c)):"off"===a&&(f(k).off(d.ev_types.move),f(k).off(d.ev_types.end))}function e(b){b=b.originalEvent||b||g.event;d.newPosX=a(b).x-h.offsetX;d.newPosY=a(b).y-h.offsetY;d.newRelativeX=d.newPosX-h.relativePos;
"function"===typeof d.options.startDragging&&!0!==h.dragging&&0!==d.newRelativeX&&(h.dragging=!0,d.options.startDragging.apply(d,[d.$elem]));(8<d.newRelativeX||-8>d.newRelativeX)&&!0===d.browser.isTouch&&(void 0!==b.preventDefault?b.preventDefault():b.returnValue=!1,h.sliding=!0);(10<d.newPosY||-10>d.newPosY)&&!1===h.sliding&&f(k).off("touchmove.owl");d.newPosX=Math.max(Math.min(d.newPosX,d.newRelativeX/5),d.maximumPixels+d.newRelativeX/5);!0===d.browser.support3d?d.transition3d(d.newPosX):d.css2move(d.newPosX)}
function c(a){a=a.originalEvent||a||g.event;var c;a.target=a.target||a.srcElement;h.dragging=!1;!0!==d.browser.isTouch&&d.$owlWrapper.removeClass("grabbing");d.dragDirection=0>d.newRelativeX?d.owl.dragDirection="left":d.owl.dragDirection="right";0!==d.newRelativeX&&(c=d.getNewPosition(),d.goTo(c,!1,"drag"),h.targetElement===a.target&&!0!==d.browser.isTouch&&(f(a.target).on("click.disable",function(a){a.stopImmediatePropagation();a.stopPropagation();a.preventDefault();f(a.target).off("click.disable")}),
a=f._data(a.target,"events").click,c=a.pop(),a.splice(0,0,c)));b("off")}var d=this,h={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};d.isCssFinish=!0;d.$elem.on(d.ev_types.start,".owl-wrapper",function(c){c=c.originalEvent||c||g.event;var e;if(3===c.which)return!1;if(!(d.itemsAmount<=d.options.items)){if(!1===d.isCssFinish&&!d.options.dragBeforeAnimFinish||!1===d.isCss3Finish&&!d.options.dragBeforeAnimFinish)return!1;
!1!==d.options.autoPlay&&g.clearInterval(d.autoPlayInterval);!0===d.browser.isTouch||d.$owlWrapper.hasClass("grabbing")||d.$owlWrapper.addClass("grabbing");d.newPosX=0;d.newRelativeX=0;f(this).css(d.removeTransition());e=f(this).position();h.relativePos=e.left;h.offsetX=a(c).x-e.left;h.offsetY=a(c).y-e.top;b("on");h.sliding=!1;h.targetElement=c.target||c.srcElement}})},getNewPosition:function(){var a=this.closestItem();a>this.maximumItem?a=this.currentItem=this.maximumItem:0<=this.newPosX&&(this.currentItem=
a=0);return a},closestItem:function(){var a=this,b=!0===a.options.scrollPerPage?a.pagesInArray:a.positionsInArray,e=a.newPosX,c=null;f.each(b,function(d,g){e-a.itemWidth/20>b[d+1]&&e-a.itemWidth/20<g&&"left"===a.moveDirection()?(c=g,a.currentItem=!0===a.options.scrollPerPage?f.inArray(c,a.positionsInArray):d):e+a.itemWidth/20<g&&e+a.itemWidth/20>(b[d+1]||b[d]-a.itemWidth)&&"right"===a.moveDirection()&&(!0===a.options.scrollPerPage?(c=b[d+1]||b[b.length-1],a.currentItem=f.inArray(c,a.positionsInArray)):
(c=b[d+1],a.currentItem=d+1))});return a.currentItem},moveDirection:function(){var a;0>this.newRelativeX?(a="right",this.playDirection="next"):(a="left",this.playDirection="prev");return a},customEvents:function(){var a=this;a.$elem.on("owl.next",function(){a.next()});a.$elem.on("owl.prev",function(){a.prev()});a.$elem.on("owl.play",function(b,e){a.options.autoPlay=e;a.play();a.hoverStatus="play"});a.$elem.on("owl.stop",function(){a.stop();a.hoverStatus="stop"});a.$elem.on("owl.goTo",function(b,e){a.goTo(e)});
a.$elem.on("owl.jumpTo",function(b,e){a.jumpTo(e)})},stopOnHover:function(){var a=this;!0===a.options.stopOnHover&&!0!==a.browser.isTouch&&!1!==a.options.autoPlay&&(a.$elem.on("mouseover",function(){a.stop()}),a.$elem.on("mouseout",function(){"stop"!==a.hoverStatus&&a.play()}))},lazyLoad:function(){var a,b,e,c,d;if(!1===this.options.lazyLoad)return!1;for(a=0;a<this.itemsAmount;a+=1)b=f(this.$owlItems[a]),"loaded"!==b.data("owl-loaded")&&(e=b.data("owl-item"),c=b.find(".lazyOwl"),"string"!==typeof c.data("src")?
b.data("owl-loaded","loaded"):(void 0===b.data("owl-loaded")&&(c.hide(),b.addClass("loading").data("owl-loaded","checked")),(d=!0===this.options.lazyFollow?e>=this.currentItem:!0)&&e<this.currentItem+this.options.items&&c.length&&this.lazyPreload(b,c)))},lazyPreload:function(a,b){function e(){a.data("owl-loaded","loaded").removeClass("loading");b.removeAttr("data-src");"fade"===d.options.lazyEffect?b.fadeIn(400):b.show();"function"===typeof d.options.afterLazyLoad&&d.options.afterLazyLoad.apply(this,
[d.$elem])}function c(){f+=1;d.completeImg(b.get(0))||!0===k?e():100>=f?g.setTimeout(c,100):e()}var d=this,f=0,k;"DIV"===b.prop("tagName")?(b.css("background-image","url("+b.data("src")+")"),k=!0):b[0].src=b.data("src");c()},autoHeight:function(){function a(){var a=f(e.$owlItems[e.currentItem]).height();e.wrapperOuter.css("height",a+"px");e.wrapperOuter.hasClass("autoHeight")||g.setTimeout(function(){e.wrapperOuter.addClass("autoHeight")},0)}function b(){d+=1;e.completeImg(c.get(0))?a():100>=d?g.setTimeout(b,
100):e.wrapperOuter.css("height","")}var e=this,c=f(e.$owlItems[e.currentItem]).find("img"),d;void 0!==c.get(0)?(d=0,b()):a()},completeImg:function(a){return!a.complete||"undefined"!==typeof a.naturalWidth&&0===a.naturalWidth?!1:!0},onVisibleItems:function(){var a;!0===this.options.addClassActive&&this.$owlItems.removeClass("active");this.visibleItems=[];for(a=this.currentItem;a<this.currentItem+this.options.items;a+=1)this.visibleItems.push(a),!0===this.options.addClassActive&&f(this.$owlItems[a]).addClass("active");
this.owl.visibleItems=this.visibleItems},transitionTypes:function(a){this.outClass="owl-"+a+"-out";this.inClass="owl-"+a+"-in"},singleItemTransition:function(){var a=this,b=a.outClass,e=a.inClass,c=a.$owlItems.eq(a.currentItem),d=a.$owlItems.eq(a.prevItem),f=Math.abs(a.positionsInArray[a.currentItem])+a.positionsInArray[a.prevItem],g=Math.abs(a.positionsInArray[a.currentItem])+a.itemWidth/2;a.isTransition=!0;a.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":g+"px","-moz-perspective-origin":g+
"px","perspective-origin":g+"px"});d.css({position:"relative",left:f+"px"}).addClass(b).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){a.endPrev=!0;d.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");a.clearTransStyle(d,b)});c.addClass(e).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){a.endCurrent=!0;c.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");a.clearTransStyle(c,e)})},clearTransStyle:function(a,
b){a.css({position:"",left:""}).removeClass(b);this.endPrev&&this.endCurrent&&(this.$owlWrapper.removeClass("owl-origin"),this.isTransition=this.endCurrent=this.endPrev=!1)},owlStatus:function(){this.owl={userOptions:this.userOptions,baseElement:this.$elem,userItems:this.$userItems,owlItems:this.$owlItems,currentItem:this.currentItem,prevItem:this.prevItem,visibleItems:this.visibleItems,isTouch:this.browser.isTouch,browser:this.browser,dragDirection:this.dragDirection}},clearEvents:function(){this.$elem.off(".owl owl mousedown.disableTextSelect");
f(k).off(".owl owl");f(g).off("resize",this.resizer)},unWrap:function(){0!==this.$elem.children().length&&(this.$owlWrapper.unwrap(),this.$userItems.unwrap().unwrap(),this.owlControls&&this.owlControls.remove());this.clearEvents();this.$elem.attr("style",this.$elem.data("owl-originalStyles")||"").attr("class",this.$elem.data("owl-originalClasses"))},destroy:function(){this.stop();g.clearInterval(this.checkVisible);this.unWrap();this.$elem.removeData()},reinit:function(a){a=f.extend({},this.userOptions,
a);this.unWrap();this.init(a,this.$elem)},addItem:function(a,b){var e;if(!a)return!1;if(0===this.$elem.children().length)return this.$elem.append(a),this.setVars(),!1;this.unWrap();e=void 0===b||-1===b?-1:b;e>=this.$userItems.length||-1===e?this.$userItems.eq(-1).after(a):this.$userItems.eq(e).before(a);this.setVars()},removeItem:function(a){if(0===this.$elem.children().length)return!1;a=void 0===a||-1===a?-1:a;this.unWrap();this.$userItems.eq(a).remove();this.setVars()}};f.fn.owlCarousel=function(a){return this.each(function(){if(!0===
f(this).data("owl-init"))return!1;f(this).data("owl-init",!0);var b=Object.create(l);b.init(a,this);f.data(this,"owlCarousel",b)})};f.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1E3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,
responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:g,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}})(jQuery,window,document);
/*
     _ _      _       _
 ___| (_) ___| | __  (_)___
/ __| | |/ __| |/ /  | / __|
\__ \ | | (__|   < _ | \__ \
|___/_|_|\___|_|\_(_)/ |___/
                   |__/

 Version: 1.6.0
  Author: Ken Wheeler
 Website: http://kenwheeler.github.io
    Docs: http://kenwheeler.github.io/slick
    Repo: http://github.com/kenwheeler/slick
  Issues: http://github.com/kenwheeler/slick/issues

 */
!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"undefined"!=typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";var b=window.Slick||{};b=function(){function c(c,d){var f,e=this;e.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:a(c),appendDots:a(c),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(b,c){return a('<button type="button" data-role="none" role="button" tabindex="0" />').text(c+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},e.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},a.extend(e,e.initials),e.activeBreakpoint=null,e.animType=null,e.animProp=null,e.breakpoints=[],e.breakpointSettings=[],e.cssTransitions=!1,e.focussed=!1,e.interrupted=!1,e.hidden="hidden",e.paused=!0,e.positionProp=null,e.respondTo=null,e.rowCount=1,e.shouldClick=!0,e.$slider=a(c),e.$slidesCache=null,e.transformType=null,e.transitionType=null,e.visibilityChange="visibilitychange",e.windowWidth=0,e.windowTimer=null,f=a(c).data("slick")||{},e.options=a.extend({},e.defaults,d,f),e.currentSlide=e.options.initialSlide,e.originalSettings=e.options,"undefined"!=typeof document.mozHidden?(e.hidden="mozHidden",e.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(e.hidden="webkitHidden",e.visibilityChange="webkitvisibilitychange"),e.autoPlay=a.proxy(e.autoPlay,e),e.autoPlayClear=a.proxy(e.autoPlayClear,e),e.autoPlayIterator=a.proxy(e.autoPlayIterator,e),e.changeSlide=a.proxy(e.changeSlide,e),e.clickHandler=a.proxy(e.clickHandler,e),e.selectHandler=a.proxy(e.selectHandler,e),e.setPosition=a.proxy(e.setPosition,e),e.swipeHandler=a.proxy(e.swipeHandler,e),e.dragHandler=a.proxy(e.dragHandler,e),e.keyHandler=a.proxy(e.keyHandler,e),e.instanceUid=b++,e.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,e.registerBreakpoints(),e.init(!0)}var b=0;return c}(),b.prototype.activateADA=function(){var a=this;a.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},b.prototype.addSlide=b.prototype.slickAdd=function(b,c,d){var e=this;if("boolean"==typeof c)d=c,c=null;else if(0>c||c>=e.slideCount)return!1;e.unload(),"number"==typeof c?0===c&&0===e.$slides.length?a(b).appendTo(e.$slideTrack):d?a(b).insertBefore(e.$slides.eq(c)):a(b).insertAfter(e.$slides.eq(c)):d===!0?a(b).prependTo(e.$slideTrack):a(b).appendTo(e.$slideTrack),e.$slides=e.$slideTrack.children(this.options.slide),e.$slideTrack.children(this.options.slide).detach(),e.$slideTrack.append(e.$slides),e.$slides.each(function(b,c){a(c).attr("data-slick-index",b)}),e.$slidesCache=e.$slides,e.reinit()},b.prototype.animateHeight=function(){var a=this;if(1===a.options.slidesToShow&&a.options.adaptiveHeight===!0&&a.options.vertical===!1){var b=a.$slides.eq(a.currentSlide).outerHeight(!0);a.$list.animate({height:b},a.options.speed)}},b.prototype.animateSlide=function(b,c){var d={},e=this;e.animateHeight(),e.options.rtl===!0&&e.options.vertical===!1&&(b=-b),e.transformsEnabled===!1?e.options.vertical===!1?e.$slideTrack.animate({left:b},e.options.speed,e.options.easing,c):e.$slideTrack.animate({top:b},e.options.speed,e.options.easing,c):e.cssTransitions===!1?(e.options.rtl===!0&&(e.currentLeft=-e.currentLeft),a({animStart:e.currentLeft}).animate({animStart:b},{duration:e.options.speed,easing:e.options.easing,step:function(a){a=Math.ceil(a),e.options.vertical===!1?(d[e.animType]="translate("+a+"px, 0px)",e.$slideTrack.css(d)):(d[e.animType]="translate(0px,"+a+"px)",e.$slideTrack.css(d))},complete:function(){c&&c.call()}})):(e.applyTransition(),b=Math.ceil(b),e.options.vertical===!1?d[e.animType]="translate3d("+b+"px, 0px, 0px)":d[e.animType]="translate3d(0px,"+b+"px, 0px)",e.$slideTrack.css(d),c&&setTimeout(function(){e.disableTransition(),c.call()},e.options.speed))},b.prototype.getNavTarget=function(){var b=this,c=b.options.asNavFor;return c&&null!==c&&(c=a(c).not(b.$slider)),c},b.prototype.asNavFor=function(b){var c=this,d=c.getNavTarget();null!==d&&"object"==typeof d&&d.each(function(){var c=a(this).slick("getSlick");c.unslicked||c.slideHandler(b,!0)})},b.prototype.applyTransition=function(a){var b=this,c={};b.options.fade===!1?c[b.transitionType]=b.transformType+" "+b.options.speed+"ms "+b.options.cssEase:c[b.transitionType]="opacity "+b.options.speed+"ms "+b.options.cssEase,b.options.fade===!1?b.$slideTrack.css(c):b.$slides.eq(a).css(c)},b.prototype.autoPlay=function(){var a=this;a.autoPlayClear(),a.slideCount>a.options.slidesToShow&&(a.autoPlayTimer=setInterval(a.autoPlayIterator,a.options.autoplaySpeed))},b.prototype.autoPlayClear=function(){var a=this;a.autoPlayTimer&&clearInterval(a.autoPlayTimer)},b.prototype.autoPlayIterator=function(){var a=this,b=a.currentSlide+a.options.slidesToScroll;a.paused||a.interrupted||a.focussed||(a.options.infinite===!1&&(1===a.direction&&a.currentSlide+1===a.slideCount-1?a.direction=0:0===a.direction&&(b=a.currentSlide-a.options.slidesToScroll,a.currentSlide-1===0&&(a.direction=1))),a.slideHandler(b))},b.prototype.buildArrows=function(){var b=this;b.options.arrows===!0&&(b.$prevArrow=a(b.options.prevArrow).addClass("slick-arrow"),b.$nextArrow=a(b.options.nextArrow).addClass("slick-arrow"),b.slideCount>b.options.slidesToShow?(b.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),b.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),b.htmlExpr.test(b.options.prevArrow)&&b.$prevArrow.prependTo(b.options.appendArrows),b.htmlExpr.test(b.options.nextArrow)&&b.$nextArrow.appendTo(b.options.appendArrows),b.options.infinite!==!0&&b.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):b.$prevArrow.add(b.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},b.prototype.buildDots=function(){var c,d,b=this;if(b.options.dots===!0&&b.slideCount>b.options.slidesToShow){for(b.$slider.addClass("slick-dotted"),d=a("<ul />").addClass(b.options.dotsClass),c=0;c<=b.getDotCount();c+=1)d.append(a("<li />").append(b.options.customPaging.call(this,b,c)));b.$dots=d.appendTo(b.options.appendDots),b.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},b.prototype.buildOut=function(){var b=this;b.$slides=b.$slider.children(b.options.slide+":not(.slick-cloned)").addClass("slick-slide"),b.slideCount=b.$slides.length,b.$slides.each(function(b,c){a(c).attr("data-slick-index",b).data("originalStyling",a(c).attr("style")||"")}),b.$slider.addClass("slick-slider"),b.$slideTrack=0===b.slideCount?a('<div class="slick-track"/>').appendTo(b.$slider):b.$slides.wrapAll('<div class="slick-track"/>').parent(),b.$list=b.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),b.$slideTrack.css("opacity",0),(b.options.centerMode===!0||b.options.swipeToSlide===!0)&&(b.options.slidesToScroll=1),a("img[data-lazy]",b.$slider).not("[src]").addClass("slick-loading"),b.setupInfinite(),b.buildArrows(),b.buildDots(),b.updateDots(),b.setSlideClasses("number"==typeof b.currentSlide?b.currentSlide:0),b.options.draggable===!0&&b.$list.addClass("draggable")},b.prototype.buildRows=function(){var b,c,d,e,f,g,h,a=this;if(e=document.createDocumentFragment(),g=a.$slider.children(),a.options.rows>1){for(h=a.options.slidesPerRow*a.options.rows,f=Math.ceil(g.length/h),b=0;f>b;b++){var i=document.createElement("div");for(c=0;c<a.options.rows;c++){var j=document.createElement("div");for(d=0;d<a.options.slidesPerRow;d++){var k=b*h+(c*a.options.slidesPerRow+d);g.get(k)&&j.appendChild(g.get(k))}i.appendChild(j)}e.appendChild(i)}a.$slider.empty().append(e),a.$slider.children().children().children().css({width:100/a.options.slidesPerRow+"%",display:"inline-block"})}},b.prototype.checkResponsive=function(b,c){var e,f,g,d=this,h=!1,i=d.$slider.width(),j=window.innerWidth||a(window).width();if("window"===d.respondTo?g=j:"slider"===d.respondTo?g=i:"min"===d.respondTo&&(g=Math.min(j,i)),d.options.responsive&&d.options.responsive.length&&null!==d.options.responsive){f=null;for(e in d.breakpoints)d.breakpoints.hasOwnProperty(e)&&(d.originalSettings.mobileFirst===!1?g<d.breakpoints[e]&&(f=d.breakpoints[e]):g>d.breakpoints[e]&&(f=d.breakpoints[e]));null!==f?null!==d.activeBreakpoint?(f!==d.activeBreakpoint||c)&&(d.activeBreakpoint=f,"unslick"===d.breakpointSettings[f]?d.unslick(f):(d.options=a.extend({},d.originalSettings,d.breakpointSettings[f]),b===!0&&(d.currentSlide=d.options.initialSlide),d.refresh(b)),h=f):(d.activeBreakpoint=f,"unslick"===d.breakpointSettings[f]?d.unslick(f):(d.options=a.extend({},d.originalSettings,d.breakpointSettings[f]),b===!0&&(d.currentSlide=d.options.initialSlide),d.refresh(b)),h=f):null!==d.activeBreakpoint&&(d.activeBreakpoint=null,d.options=d.originalSettings,b===!0&&(d.currentSlide=d.options.initialSlide),d.refresh(b),h=f),b||h===!1||d.$slider.trigger("breakpoint",[d,h])}},b.prototype.changeSlide=function(b,c){var f,g,h,d=this,e=a(b.currentTarget);switch(e.is("a")&&b.preventDefault(),e.is("li")||(e=e.closest("li")),h=d.slideCount%d.options.slidesToScroll!==0,f=h?0:(d.slideCount-d.currentSlide)%d.options.slidesToScroll,b.data.message){case"previous":g=0===f?d.options.slidesToScroll:d.options.slidesToShow-f,d.slideCount>d.options.slidesToShow&&d.slideHandler(d.currentSlide-g,!1,c);break;case"next":g=0===f?d.options.slidesToScroll:f,d.slideCount>d.options.slidesToShow&&d.slideHandler(d.currentSlide+g,!1,c);break;case"index":var i=0===b.data.index?0:b.data.index||e.index()*d.options.slidesToScroll;d.slideHandler(d.checkNavigable(i),!1,c),e.children().trigger("focus");break;default:return}},b.prototype.checkNavigable=function(a){var c,d,b=this;if(c=b.getNavigableIndexes(),d=0,a>c[c.length-1])a=c[c.length-1];else for(var e in c){if(a<c[e]){a=d;break}d=c[e]}return a},b.prototype.cleanUpEvents=function(){var b=this;b.options.dots&&null!==b.$dots&&a("li",b.$dots).off("click.slick",b.changeSlide).off("mouseenter.slick",a.proxy(b.interrupt,b,!0)).off("mouseleave.slick",a.proxy(b.interrupt,b,!1)),b.$slider.off("focus.slick blur.slick"),b.options.arrows===!0&&b.slideCount>b.options.slidesToShow&&(b.$prevArrow&&b.$prevArrow.off("click.slick",b.changeSlide),b.$nextArrow&&b.$nextArrow.off("click.slick",b.changeSlide)),b.$list.off("touchstart.slick mousedown.slick",b.swipeHandler),b.$list.off("touchmove.slick mousemove.slick",b.swipeHandler),b.$list.off("touchend.slick mouseup.slick",b.swipeHandler),b.$list.off("touchcancel.slick mouseleave.slick",b.swipeHandler),b.$list.off("click.slick",b.clickHandler),a(document).off(b.visibilityChange,b.visibility),b.cleanUpSlideEvents(),b.options.accessibility===!0&&b.$list.off("keydown.slick",b.keyHandler),b.options.focusOnSelect===!0&&a(b.$slideTrack).children().off("click.slick",b.selectHandler),a(window).off("orientationchange.slick.slick-"+b.instanceUid,b.orientationChange),a(window).off("resize.slick.slick-"+b.instanceUid,b.resize),a("[draggable!=true]",b.$slideTrack).off("dragstart",b.preventDefault),a(window).off("load.slick.slick-"+b.instanceUid,b.setPosition),a(document).off("ready.slick.slick-"+b.instanceUid,b.setPosition)},b.prototype.cleanUpSlideEvents=function(){var b=this;b.$list.off("mouseenter.slick",a.proxy(b.interrupt,b,!0)),b.$list.off("mouseleave.slick",a.proxy(b.interrupt,b,!1))},b.prototype.cleanUpRows=function(){var b,a=this;a.options.rows>1&&(b=a.$slides.children().children(),b.removeAttr("style"),a.$slider.empty().append(b))},b.prototype.clickHandler=function(a){var b=this;b.shouldClick===!1&&(a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault())},b.prototype.destroy=function(b){var c=this;c.autoPlayClear(),c.touchObject={},c.cleanUpEvents(),a(".slick-cloned",c.$slider).detach(),c.$dots&&c.$dots.remove(),c.$prevArrow&&c.$prevArrow.length&&(c.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),c.htmlExpr.test(c.options.prevArrow)&&c.$prevArrow.remove()),c.$nextArrow&&c.$nextArrow.length&&(c.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),c.htmlExpr.test(c.options.nextArrow)&&c.$nextArrow.remove()),c.$slides&&(c.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){a(this).attr("style",a(this).data("originalStyling"))}),c.$slideTrack.children(this.options.slide).detach(),c.$slideTrack.detach(),c.$list.detach(),c.$slider.append(c.$slides)),c.cleanUpRows(),c.$slider.removeClass("slick-slider"),c.$slider.removeClass("slick-initialized"),c.$slider.removeClass("slick-dotted"),c.unslicked=!0,b||c.$slider.trigger("destroy",[c])},b.prototype.disableTransition=function(a){var b=this,c={};c[b.transitionType]="",b.options.fade===!1?b.$slideTrack.css(c):b.$slides.eq(a).css(c)},b.prototype.fadeSlide=function(a,b){var c=this;c.cssTransitions===!1?(c.$slides.eq(a).css({zIndex:c.options.zIndex}),c.$slides.eq(a).animate({opacity:1},c.options.speed,c.options.easing,b)):(c.applyTransition(a),c.$slides.eq(a).css({opacity:1,zIndex:c.options.zIndex}),b&&setTimeout(function(){c.disableTransition(a),b.call()},c.options.speed))},b.prototype.fadeSlideOut=function(a){var b=this;b.cssTransitions===!1?b.$slides.eq(a).animate({opacity:0,zIndex:b.options.zIndex-2},b.options.speed,b.options.easing):(b.applyTransition(a),b.$slides.eq(a).css({opacity:0,zIndex:b.options.zIndex-2}))},b.prototype.filterSlides=b.prototype.slickFilter=function(a){var b=this;null!==a&&(b.$slidesCache=b.$slides,b.unload(),b.$slideTrack.children(this.options.slide).detach(),b.$slidesCache.filter(a).appendTo(b.$slideTrack),b.reinit())},b.prototype.focusHandler=function(){var b=this;b.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*:not(.slick-arrow)",function(c){c.stopImmediatePropagation();var d=a(this);setTimeout(function(){b.options.pauseOnFocus&&(b.focussed=d.is(":focus"),b.autoPlay())},0)})},b.prototype.getCurrent=b.prototype.slickCurrentSlide=function(){var a=this;return a.currentSlide},b.prototype.getDotCount=function(){var a=this,b=0,c=0,d=0;if(a.options.infinite===!0)for(;b<a.slideCount;)++d,b=c+a.options.slidesToScroll,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;else if(a.options.centerMode===!0)d=a.slideCount;else if(a.options.asNavFor)for(;b<a.slideCount;)++d,b=c+a.options.slidesToScroll,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;else d=1+Math.ceil((a.slideCount-a.options.slidesToShow)/a.options.slidesToScroll);return d-1},b.prototype.getLeft=function(a){var c,d,f,b=this,e=0;return b.slideOffset=0,d=b.$slides.first().outerHeight(!0),b.options.infinite===!0?(b.slideCount>b.options.slidesToShow&&(b.slideOffset=b.slideWidth*b.options.slidesToShow*-1,e=d*b.options.slidesToShow*-1),b.slideCount%b.options.slidesToScroll!==0&&a+b.options.slidesToScroll>b.slideCount&&b.slideCount>b.options.slidesToShow&&(a>b.slideCount?(b.slideOffset=(b.options.slidesToShow-(a-b.slideCount))*b.slideWidth*-1,e=(b.options.slidesToShow-(a-b.slideCount))*d*-1):(b.slideOffset=b.slideCount%b.options.slidesToScroll*b.slideWidth*-1,e=b.slideCount%b.options.slidesToScroll*d*-1))):a+b.options.slidesToShow>b.slideCount&&(b.slideOffset=(a+b.options.slidesToShow-b.slideCount)*b.slideWidth,e=(a+b.options.slidesToShow-b.slideCount)*d),b.slideCount<=b.options.slidesToShow&&(b.slideOffset=0,e=0),b.options.centerMode===!0&&b.options.infinite===!0?b.slideOffset+=b.slideWidth*Math.floor(b.options.slidesToShow/2)-b.slideWidth:b.options.centerMode===!0&&(b.slideOffset=0,b.slideOffset+=b.slideWidth*Math.floor(b.options.slidesToShow/2)),c=b.options.vertical===!1?a*b.slideWidth*-1+b.slideOffset:a*d*-1+e,b.options.variableWidth===!0&&(f=b.slideCount<=b.options.slidesToShow||b.options.infinite===!1?b.$slideTrack.children(".slick-slide").eq(a):b.$slideTrack.children(".slick-slide").eq(a+b.options.slidesToShow),c=b.options.rtl===!0?f[0]?-1*(b.$slideTrack.width()-f[0].offsetLeft-f.width()):0:f[0]?-1*f[0].offsetLeft:0,b.options.centerMode===!0&&(f=b.slideCount<=b.options.slidesToShow||b.options.infinite===!1?b.$slideTrack.children(".slick-slide").eq(a):b.$slideTrack.children(".slick-slide").eq(a+b.options.slidesToShow+1),c=b.options.rtl===!0?f[0]?-1*(b.$slideTrack.width()-f[0].offsetLeft-f.width()):0:f[0]?-1*f[0].offsetLeft:0,c+=(b.$list.width()-f.outerWidth())/2)),c},b.prototype.getOption=b.prototype.slickGetOption=function(a){var b=this;return b.options[a]},b.prototype.getNavigableIndexes=function(){var e,a=this,b=0,c=0,d=[];for(a.options.infinite===!1?e=a.slideCount:(b=-1*a.options.slidesToScroll,c=-1*a.options.slidesToScroll,e=2*a.slideCount);e>b;)d.push(b),b=c+a.options.slidesToScroll,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;return d},b.prototype.getSlick=function(){return this},b.prototype.getSlideCount=function(){var c,d,e,b=this;return e=b.options.centerMode===!0?b.slideWidth*Math.floor(b.options.slidesToShow/2):0,b.options.swipeToSlide===!0?(b.$slideTrack.find(".slick-slide").each(function(c,f){return f.offsetLeft-e+a(f).outerWidth()/2>-1*b.swipeLeft?(d=f,!1):void 0}),c=Math.abs(a(d).attr("data-slick-index")-b.currentSlide)||1):b.options.slidesToScroll},b.prototype.goTo=b.prototype.slickGoTo=function(a,b){var c=this;c.changeSlide({data:{message:"index",index:parseInt(a)}},b)},b.prototype.init=function(b){var c=this;a(c.$slider).hasClass("slick-initialized")||(a(c.$slider).addClass("slick-initialized"),c.buildRows(),c.buildOut(),c.setProps(),c.startLoad(),c.loadSlider(),c.initializeEvents(),c.updateArrows(),c.updateDots(),c.checkResponsive(!0),c.focusHandler()),b&&c.$slider.trigger("init",[c]),c.options.accessibility===!0&&c.initADA(),c.options.autoplay&&(c.paused=!1,c.autoPlay())},b.prototype.initADA=function(){var b=this;b.$slides.add(b.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),b.$slideTrack.attr("role","listbox"),b.$slides.not(b.$slideTrack.find(".slick-cloned")).each(function(c){a(this).attr({role:"option","aria-describedby":"slick-slide"+b.instanceUid+c})}),null!==b.$dots&&b.$dots.attr("role","tablist").find("li").each(function(c){a(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+b.instanceUid+c,id:"slick-slide"+b.instanceUid+c})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),b.activateADA()},b.prototype.initArrowEvents=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},a.changeSlide),a.$nextArrow.off("click.slick").on("click.slick",{message:"next"},a.changeSlide))},b.prototype.initDotEvents=function(){var b=this;b.options.dots===!0&&b.slideCount>b.options.slidesToShow&&a("li",b.$dots).on("click.slick",{message:"index"},b.changeSlide),b.options.dots===!0&&b.options.pauseOnDotsHover===!0&&a("li",b.$dots).on("mouseenter.slick",a.proxy(b.interrupt,b,!0)).on("mouseleave.slick",a.proxy(b.interrupt,b,!1))},b.prototype.initSlideEvents=function(){var b=this;b.options.pauseOnHover&&(b.$list.on("mouseenter.slick",a.proxy(b.interrupt,b,!0)),b.$list.on("mouseleave.slick",a.proxy(b.interrupt,b,!1)))},b.prototype.initializeEvents=function(){var b=this;b.initArrowEvents(),b.initDotEvents(),b.initSlideEvents(),b.$list.on("touchstart.slick mousedown.slick",{action:"start"},b.swipeHandler),b.$list.on("touchmove.slick mousemove.slick",{action:"move"},b.swipeHandler),b.$list.on("touchend.slick mouseup.slick",{action:"end"},b.swipeHandler),b.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},b.swipeHandler),b.$list.on("click.slick",b.clickHandler),a(document).on(b.visibilityChange,a.proxy(b.visibility,b)),b.options.accessibility===!0&&b.$list.on("keydown.slick",b.keyHandler),b.options.focusOnSelect===!0&&a(b.$slideTrack).children().on("click.slick",b.selectHandler),a(window).on("orientationchange.slick.slick-"+b.instanceUid,a.proxy(b.orientationChange,b)),a(window).on("resize.slick.slick-"+b.instanceUid,a.proxy(b.resize,b)),a("[draggable!=true]",b.$slideTrack).on("dragstart",b.preventDefault),a(window).on("load.slick.slick-"+b.instanceUid,b.setPosition),a(document).on("ready.slick.slick-"+b.instanceUid,b.setPosition)},b.prototype.initUI=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.show(),a.$nextArrow.show()),a.options.dots===!0&&a.slideCount>a.options.slidesToShow&&a.$dots.show()},b.prototype.keyHandler=function(a){var b=this;a.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===a.keyCode&&b.options.accessibility===!0?b.changeSlide({data:{message:b.options.rtl===!0?"next":"previous"}}):39===a.keyCode&&b.options.accessibility===!0&&b.changeSlide({data:{message:b.options.rtl===!0?"previous":"next"}}))},b.prototype.lazyLoad=function(){function g(c){a("img[data-lazy]",c).each(function(){var c=a(this),d=a(this).attr("data-lazy"),e=document.createElement("img");e.onload=function(){c.animate({opacity:0},100,function(){c.attr("src",d).animate({opacity:1},200,function(){c.removeAttr("data-lazy").removeClass("slick-loading")}),b.$slider.trigger("lazyLoaded",[b,c,d])})},e.onerror=function(){c.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),b.$slider.trigger("lazyLoadError",[b,c,d])},e.src=d})}var c,d,e,f,b=this;b.options.centerMode===!0?b.options.infinite===!0?(e=b.currentSlide+(b.options.slidesToShow/2+1),f=e+b.options.slidesToShow+2):(e=Math.max(0,b.currentSlide-(b.options.slidesToShow/2+1)),f=2+(b.options.slidesToShow/2+1)+b.currentSlide):(e=b.options.infinite?b.options.slidesToShow+b.currentSlide:b.currentSlide,f=Math.ceil(e+b.options.slidesToShow),b.options.fade===!0&&(e>0&&e--,f<=b.slideCount&&f++)),c=b.$slider.find(".slick-slide").slice(e,f),g(c),b.slideCount<=b.options.slidesToShow?(d=b.$slider.find(".slick-slide"),g(d)):b.currentSlide>=b.slideCount-b.options.slidesToShow?(d=b.$slider.find(".slick-cloned").slice(0,b.options.slidesToShow),g(d)):0===b.currentSlide&&(d=b.$slider.find(".slick-cloned").slice(-1*b.options.slidesToShow),g(d))},b.prototype.loadSlider=function(){var a=this;a.setPosition(),a.$slideTrack.css({opacity:1}),a.$slider.removeClass("slick-loading"),a.initUI(),"progressive"===a.options.lazyLoad&&a.progressiveLazyLoad()},b.prototype.next=b.prototype.slickNext=function(){var a=this;a.changeSlide({data:{message:"next"}})},b.prototype.orientationChange=function(){var a=this;a.checkResponsive(),a.setPosition()},b.prototype.pause=b.prototype.slickPause=function(){var a=this;a.autoPlayClear(),a.paused=!0},b.prototype.play=b.prototype.slickPlay=function(){var a=this;a.autoPlay(),a.options.autoplay=!0,a.paused=!1,a.focussed=!1,a.interrupted=!1},b.prototype.postSlide=function(a){var b=this;b.unslicked||(b.$slider.trigger("afterChange",[b,a]),b.animating=!1,b.setPosition(),b.swipeLeft=null,b.options.autoplay&&b.autoPlay(),b.options.accessibility===!0&&b.initADA())},b.prototype.prev=b.prototype.slickPrev=function(){var a=this;a.changeSlide({data:{message:"previous"}})},b.prototype.preventDefault=function(a){a.preventDefault()},b.prototype.progressiveLazyLoad=function(b){b=b||1;var e,f,g,c=this,d=a("img[data-lazy]",c.$slider);d.length?(e=d.first(),f=e.attr("data-lazy"),g=document.createElement("img"),g.onload=function(){e.attr("src",f).removeAttr("data-lazy").removeClass("slick-loading"),c.options.adaptiveHeight===!0&&c.setPosition(),c.$slider.trigger("lazyLoaded",[c,e,f]),c.progressiveLazyLoad()},g.onerror=function(){3>b?setTimeout(function(){c.progressiveLazyLoad(b+1)},500):(e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),c.$slider.trigger("lazyLoadError",[c,e,f]),c.progressiveLazyLoad())},g.src=f):c.$slider.trigger("allImagesLoaded",[c])},b.prototype.refresh=function(b){var d,e,c=this;e=c.slideCount-c.options.slidesToShow,!c.options.infinite&&c.currentSlide>e&&(c.currentSlide=e),c.slideCount<=c.options.slidesToShow&&(c.currentSlide=0),d=c.currentSlide,c.destroy(!0),a.extend(c,c.initials,{currentSlide:d}),c.init(),b||c.changeSlide({data:{message:"index",index:d}},!1)},b.prototype.registerBreakpoints=function(){var c,d,e,b=this,f=b.options.responsive||null;if("array"===a.type(f)&&f.length){b.respondTo=b.options.respondTo||"window";for(c in f)if(e=b.breakpoints.length-1,d=f[c].breakpoint,f.hasOwnProperty(c)){for(;e>=0;)b.breakpoints[e]&&b.breakpoints[e]===d&&b.breakpoints.splice(e,1),e--;b.breakpoints.push(d),b.breakpointSettings[d]=f[c].settings}b.breakpoints.sort(function(a,c){return b.options.mobileFirst?a-c:c-a})}},b.prototype.reinit=function(){var b=this;b.$slides=b.$slideTrack.children(b.options.slide).addClass("slick-slide"),b.slideCount=b.$slides.length,b.currentSlide>=b.slideCount&&0!==b.currentSlide&&(b.currentSlide=b.currentSlide-b.options.slidesToScroll),b.slideCount<=b.options.slidesToShow&&(b.currentSlide=0),b.registerBreakpoints(),b.setProps(),b.setupInfinite(),b.buildArrows(),b.updateArrows(),b.initArrowEvents(),b.buildDots(),b.updateDots(),b.initDotEvents(),b.cleanUpSlideEvents(),b.initSlideEvents(),b.checkResponsive(!1,!0),b.options.focusOnSelect===!0&&a(b.$slideTrack).children().on("click.slick",b.selectHandler),b.setSlideClasses("number"==typeof b.currentSlide?b.currentSlide:0),b.setPosition(),b.focusHandler(),b.paused=!b.options.autoplay,b.autoPlay(),b.$slider.trigger("reInit",[b])},b.prototype.resize=function(){var b=this;a(window).width()!==b.windowWidth&&(clearTimeout(b.windowDelay),b.windowDelay=window.setTimeout(function(){b.windowWidth=a(window).width(),b.checkResponsive(),b.unslicked||b.setPosition()},50))},b.prototype.removeSlide=b.prototype.slickRemove=function(a,b,c){var d=this;return"boolean"==typeof a?(b=a,a=b===!0?0:d.slideCount-1):a=b===!0?--a:a,d.slideCount<1||0>a||a>d.slideCount-1?!1:(d.unload(),c===!0?d.$slideTrack.children().remove():d.$slideTrack.children(this.options.slide).eq(a).remove(),d.$slides=d.$slideTrack.children(this.options.slide),d.$slideTrack.children(this.options.slide).detach(),d.$slideTrack.append(d.$slides),d.$slidesCache=d.$slides,void d.reinit())},b.prototype.setCSS=function(a){var d,e,b=this,c={};b.options.rtl===!0&&(a=-a),d="left"==b.positionProp?Math.ceil(a)+"px":"0px",e="top"==b.positionProp?Math.ceil(a)+"px":"0px",c[b.positionProp]=a,b.transformsEnabled===!1?b.$slideTrack.css(c):(c={},b.cssTransitions===!1?(c[b.animType]="translate("+d+", "+e+")",b.$slideTrack.css(c)):(c[b.animType]="translate3d("+d+", "+e+", 0px)",b.$slideTrack.css(c)))},b.prototype.setDimensions=function(){var a=this;a.options.vertical===!1?a.options.centerMode===!0&&a.$list.css({padding:"0px "+a.options.centerPadding}):(a.$list.height(a.$slides.first().outerHeight(!0)*a.options.slidesToShow),a.options.centerMode===!0&&a.$list.css({padding:a.options.centerPadding+" 0px"})),a.listWidth=a.$list.width(),a.listHeight=a.$list.height(),a.options.vertical===!1&&a.options.variableWidth===!1?(a.slideWidth=Math.ceil(a.listWidth/a.options.slidesToShow),a.$slideTrack.width(Math.ceil(a.slideWidth*a.$slideTrack.children(".slick-slide").length))):a.options.variableWidth===!0?a.$slideTrack.width(5e3*a.slideCount):(a.slideWidth=Math.ceil(a.listWidth),a.$slideTrack.height(Math.ceil(a.$slides.first().outerHeight(!0)*a.$slideTrack.children(".slick-slide").length)));var b=a.$slides.first().outerWidth(!0)-a.$slides.first().width();a.options.variableWidth===!1&&a.$slideTrack.children(".slick-slide").width(a.slideWidth-b)},b.prototype.setFade=function(){var c,b=this;b.$slides.each(function(d,e){c=b.slideWidth*d*-1,b.options.rtl===!0?a(e).css({position:"relative",right:c,top:0,zIndex:b.options.zIndex-2,opacity:0}):a(e).css({position:"relative",left:c,top:0,zIndex:b.options.zIndex-2,opacity:0})}),b.$slides.eq(b.currentSlide).css({zIndex:b.options.zIndex-1,opacity:1})},b.prototype.setHeight=function(){var a=this;if(1===a.options.slidesToShow&&a.options.adaptiveHeight===!0&&a.options.vertical===!1){var b=a.$slides.eq(a.currentSlide).outerHeight(!0);a.$list.css("height",b)}},b.prototype.setOption=b.prototype.slickSetOption=function(){var c,d,e,f,h,b=this,g=!1;if("object"===a.type(arguments[0])?(e=arguments[0],g=arguments[1],h="multiple"):"string"===a.type(arguments[0])&&(e=arguments[0],f=arguments[1],g=arguments[2],"responsive"===arguments[0]&&"array"===a.type(arguments[1])?h="responsive":"undefined"!=typeof arguments[1]&&(h="single")),"single"===h)b.options[e]=f;else if("multiple"===h)a.each(e,function(a,c){b.options[a]=c});else if("responsive"===h)for(d in f)if("array"!==a.type(b.options.responsive))b.options.responsive=[f[d]];else{for(c=b.options.responsive.length-1;c>=0;)b.options.responsive[c].breakpoint===f[d].breakpoint&&b.options.responsive.splice(c,1),c--;b.options.responsive.push(f[d])}g&&(b.unload(),b.reinit())},b.prototype.setPosition=function(){var a=this;a.setDimensions(),a.setHeight(),a.options.fade===!1?a.setCSS(a.getLeft(a.currentSlide)):a.setFade(),a.$slider.trigger("setPosition",[a])},b.prototype.setProps=function(){var a=this,b=document.body.style;a.positionProp=a.options.vertical===!0?"top":"left","top"===a.positionProp?a.$slider.addClass("slick-vertical"):a.$slider.removeClass("slick-vertical"),(void 0!==b.WebkitTransition||void 0!==b.MozTransition||void 0!==b.msTransition)&&a.options.useCSS===!0&&(a.cssTransitions=!0),a.options.fade&&("number"==typeof a.options.zIndex?a.options.zIndex<3&&(a.options.zIndex=3):a.options.zIndex=a.defaults.zIndex),void 0!==b.OTransform&&(a.animType="OTransform",a.transformType="-o-transform",a.transitionType="OTransition",void 0===b.perspectiveProperty&&void 0===b.webkitPerspective&&(a.animType=!1)),void 0!==b.MozTransform&&(a.animType="MozTransform",a.transformType="-moz-transform",a.transitionType="MozTransition",void 0===b.perspectiveProperty&&void 0===b.MozPerspective&&(a.animType=!1)),void 0!==b.webkitTransform&&(a.animType="webkitTransform",a.transformType="-webkit-transform",a.transitionType="webkitTransition",void 0===b.perspectiveProperty&&void 0===b.webkitPerspective&&(a.animType=!1)),void 0!==b.msTransform&&(a.animType="msTransform",a.transformType="-ms-transform",a.transitionType="msTransition",void 0===b.msTransform&&(a.animType=!1)),void 0!==b.transform&&a.animType!==!1&&(a.animType="transform",a.transformType="transform",a.transitionType="transition"),a.transformsEnabled=a.options.useTransform&&null!==a.animType&&a.animType!==!1},b.prototype.setSlideClasses=function(a){var c,d,e,f,b=this;d=b.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),b.$slides.eq(a).addClass("slick-current"),b.options.centerMode===!0?(c=Math.floor(b.options.slidesToShow/2),b.options.infinite===!0&&(a>=c&&a<=b.slideCount-1-c?b.$slides.slice(a-c,a+c+1).addClass("slick-active").attr("aria-hidden","false"):(e=b.options.slidesToShow+a,
d.slice(e-c+1,e+c+2).addClass("slick-active").attr("aria-hidden","false")),0===a?d.eq(d.length-1-b.options.slidesToShow).addClass("slick-center"):a===b.slideCount-1&&d.eq(b.options.slidesToShow).addClass("slick-center")),b.$slides.eq(a).addClass("slick-center")):a>=0&&a<=b.slideCount-b.options.slidesToShow?b.$slides.slice(a,a+b.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):d.length<=b.options.slidesToShow?d.addClass("slick-active").attr("aria-hidden","false"):(f=b.slideCount%b.options.slidesToShow,e=b.options.infinite===!0?b.options.slidesToShow+a:a,b.options.slidesToShow==b.options.slidesToScroll&&b.slideCount-a<b.options.slidesToShow?d.slice(e-(b.options.slidesToShow-f),e+f).addClass("slick-active").attr("aria-hidden","false"):d.slice(e,e+b.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===b.options.lazyLoad&&b.lazyLoad()},b.prototype.setupInfinite=function(){var c,d,e,b=this;if(b.options.fade===!0&&(b.options.centerMode=!1),b.options.infinite===!0&&b.options.fade===!1&&(d=null,b.slideCount>b.options.slidesToShow)){for(e=b.options.centerMode===!0?b.options.slidesToShow+1:b.options.slidesToShow,c=b.slideCount;c>b.slideCount-e;c-=1)d=c-1,a(b.$slides[d]).clone(!0).attr("id","").attr("data-slick-index",d-b.slideCount).prependTo(b.$slideTrack).addClass("slick-cloned");for(c=0;e>c;c+=1)d=c,a(b.$slides[d]).clone(!0).attr("id","").attr("data-slick-index",d+b.slideCount).appendTo(b.$slideTrack).addClass("slick-cloned");b.$slideTrack.find(".slick-cloned").find("[id]").each(function(){a(this).attr("id","")})}},b.prototype.interrupt=function(a){var b=this;a||b.autoPlay(),b.interrupted=a},b.prototype.selectHandler=function(b){var c=this,d=a(b.target).is(".slick-slide")?a(b.target):a(b.target).parents(".slick-slide"),e=parseInt(d.attr("data-slick-index"));return e||(e=0),c.slideCount<=c.options.slidesToShow?(c.setSlideClasses(e),void c.asNavFor(e)):void c.slideHandler(e)},b.prototype.slideHandler=function(a,b,c){var d,e,f,g,j,h=null,i=this;return b=b||!1,i.animating===!0&&i.options.waitForAnimate===!0||i.options.fade===!0&&i.currentSlide===a||i.slideCount<=i.options.slidesToShow?void 0:(b===!1&&i.asNavFor(a),d=a,h=i.getLeft(d),g=i.getLeft(i.currentSlide),i.currentLeft=null===i.swipeLeft?g:i.swipeLeft,i.options.infinite===!1&&i.options.centerMode===!1&&(0>a||a>i.getDotCount()*i.options.slidesToScroll)?void(i.options.fade===!1&&(d=i.currentSlide,c!==!0?i.animateSlide(g,function(){i.postSlide(d)}):i.postSlide(d))):i.options.infinite===!1&&i.options.centerMode===!0&&(0>a||a>i.slideCount-i.options.slidesToScroll)?void(i.options.fade===!1&&(d=i.currentSlide,c!==!0?i.animateSlide(g,function(){i.postSlide(d)}):i.postSlide(d))):(i.options.autoplay&&clearInterval(i.autoPlayTimer),e=0>d?i.slideCount%i.options.slidesToScroll!==0?i.slideCount-i.slideCount%i.options.slidesToScroll:i.slideCount+d:d>=i.slideCount?i.slideCount%i.options.slidesToScroll!==0?0:d-i.slideCount:d,i.animating=!0,i.$slider.trigger("beforeChange",[i,i.currentSlide,e]),f=i.currentSlide,i.currentSlide=e,i.setSlideClasses(i.currentSlide),i.options.asNavFor&&(j=i.getNavTarget(),j=j.slick("getSlick"),j.slideCount<=j.options.slidesToShow&&j.setSlideClasses(i.currentSlide)),i.updateDots(),i.updateArrows(),i.options.fade===!0?(c!==!0?(i.fadeSlideOut(f),i.fadeSlide(e,function(){i.postSlide(e)})):i.postSlide(e),void i.animateHeight()):void(c!==!0?i.animateSlide(h,function(){i.postSlide(e)}):i.postSlide(e))))},b.prototype.startLoad=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.hide(),a.$nextArrow.hide()),a.options.dots===!0&&a.slideCount>a.options.slidesToShow&&a.$dots.hide(),a.$slider.addClass("slick-loading")},b.prototype.swipeDirection=function(){var a,b,c,d,e=this;return a=e.touchObject.startX-e.touchObject.curX,b=e.touchObject.startY-e.touchObject.curY,c=Math.atan2(b,a),d=Math.round(180*c/Math.PI),0>d&&(d=360-Math.abs(d)),45>=d&&d>=0?e.options.rtl===!1?"left":"right":360>=d&&d>=315?e.options.rtl===!1?"left":"right":d>=135&&225>=d?e.options.rtl===!1?"right":"left":e.options.verticalSwiping===!0?d>=35&&135>=d?"down":"up":"vertical"},b.prototype.swipeEnd=function(a){var c,d,b=this;if(b.dragging=!1,b.interrupted=!1,b.shouldClick=b.touchObject.swipeLength>10?!1:!0,void 0===b.touchObject.curX)return!1;if(b.touchObject.edgeHit===!0&&b.$slider.trigger("edge",[b,b.swipeDirection()]),b.touchObject.swipeLength>=b.touchObject.minSwipe){switch(d=b.swipeDirection()){case"left":case"down":c=b.options.swipeToSlide?b.checkNavigable(b.currentSlide+b.getSlideCount()):b.currentSlide+b.getSlideCount(),b.currentDirection=0;break;case"right":case"up":c=b.options.swipeToSlide?b.checkNavigable(b.currentSlide-b.getSlideCount()):b.currentSlide-b.getSlideCount(),b.currentDirection=1}"vertical"!=d&&(b.slideHandler(c),b.touchObject={},b.$slider.trigger("swipe",[b,d]))}else b.touchObject.startX!==b.touchObject.curX&&(b.slideHandler(b.currentSlide),b.touchObject={})},b.prototype.swipeHandler=function(a){var b=this;if(!(b.options.swipe===!1||"ontouchend"in document&&b.options.swipe===!1||b.options.draggable===!1&&-1!==a.type.indexOf("mouse")))switch(b.touchObject.fingerCount=a.originalEvent&&void 0!==a.originalEvent.touches?a.originalEvent.touches.length:1,b.touchObject.minSwipe=b.listWidth/b.options.touchThreshold,b.options.verticalSwiping===!0&&(b.touchObject.minSwipe=b.listHeight/b.options.touchThreshold),a.data.action){case"start":b.swipeStart(a);break;case"move":b.swipeMove(a);break;case"end":b.swipeEnd(a)}},b.prototype.swipeMove=function(a){var d,e,f,g,h,b=this;return h=void 0!==a.originalEvent?a.originalEvent.touches:null,!b.dragging||h&&1!==h.length?!1:(d=b.getLeft(b.currentSlide),b.touchObject.curX=void 0!==h?h[0].pageX:a.clientX,b.touchObject.curY=void 0!==h?h[0].pageY:a.clientY,b.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(b.touchObject.curX-b.touchObject.startX,2))),b.options.verticalSwiping===!0&&(b.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(b.touchObject.curY-b.touchObject.startY,2)))),e=b.swipeDirection(),"vertical"!==e?(void 0!==a.originalEvent&&b.touchObject.swipeLength>4&&a.preventDefault(),g=(b.options.rtl===!1?1:-1)*(b.touchObject.curX>b.touchObject.startX?1:-1),b.options.verticalSwiping===!0&&(g=b.touchObject.curY>b.touchObject.startY?1:-1),f=b.touchObject.swipeLength,b.touchObject.edgeHit=!1,b.options.infinite===!1&&(0===b.currentSlide&&"right"===e||b.currentSlide>=b.getDotCount()&&"left"===e)&&(f=b.touchObject.swipeLength*b.options.edgeFriction,b.touchObject.edgeHit=!0),b.options.vertical===!1?b.swipeLeft=d+f*g:b.swipeLeft=d+f*(b.$list.height()/b.listWidth)*g,b.options.verticalSwiping===!0&&(b.swipeLeft=d+f*g),b.options.fade===!0||b.options.touchMove===!1?!1:b.animating===!0?(b.swipeLeft=null,!1):void b.setCSS(b.swipeLeft)):void 0)},b.prototype.swipeStart=function(a){var c,b=this;return b.interrupted=!0,1!==b.touchObject.fingerCount||b.slideCount<=b.options.slidesToShow?(b.touchObject={},!1):(void 0!==a.originalEvent&&void 0!==a.originalEvent.touches&&(c=a.originalEvent.touches[0]),b.touchObject.startX=b.touchObject.curX=void 0!==c?c.pageX:a.clientX,b.touchObject.startY=b.touchObject.curY=void 0!==c?c.pageY:a.clientY,void(b.dragging=!0))},b.prototype.unfilterSlides=b.prototype.slickUnfilter=function(){var a=this;null!==a.$slidesCache&&(a.unload(),a.$slideTrack.children(this.options.slide).detach(),a.$slidesCache.appendTo(a.$slideTrack),a.reinit())},b.prototype.unload=function(){var b=this;a(".slick-cloned",b.$slider).remove(),b.$dots&&b.$dots.remove(),b.$prevArrow&&b.htmlExpr.test(b.options.prevArrow)&&b.$prevArrow.remove(),b.$nextArrow&&b.htmlExpr.test(b.options.nextArrow)&&b.$nextArrow.remove(),b.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},b.prototype.unslick=function(a){var b=this;b.$slider.trigger("unslick",[b,a]),b.destroy()},b.prototype.updateArrows=function(){var b,a=this;b=Math.floor(a.options.slidesToShow/2),a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&!a.options.infinite&&(a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),a.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===a.currentSlide?(a.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),a.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):a.currentSlide>=a.slideCount-a.options.slidesToShow&&a.options.centerMode===!1?(a.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):a.currentSlide>=a.slideCount-1&&a.options.centerMode===!0&&(a.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},b.prototype.updateDots=function(){var a=this;null!==a.$dots&&(a.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),a.$dots.find("li").eq(Math.floor(a.currentSlide/a.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},b.prototype.visibility=function(){var a=this;a.options.autoplay&&(document[a.hidden]?a.interrupted=!0:a.interrupted=!1)},a.fn.slick=function(){var f,g,a=this,c=arguments[0],d=Array.prototype.slice.call(arguments,1),e=a.length;for(f=0;e>f;f++)if("object"==typeof c||"undefined"==typeof c?a[f].slick=new b(a[f],c):g=a[f].slick[c].apply(a[f].slick,d),"undefined"!=typeof g)return g;return a}});
/**
 * @license
 * Video.js 7.7.5 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("global/window"),require("global/document")):"function"==typeof define&&define.amd?define(["global/window","global/document"],t):(e=e||self).videojs=t(e.window,e.document)}(this,function(y,h){"use strict";y=y&&y.hasOwnProperty("default")?y.default:y,h=h&&h.hasOwnProperty("default")?h.default:h;var d="7.7.5",l=[],e=function(o,u){return function(e,t,i){var n=u.levels[t],r=new RegExp("^("+n+")$");if("log"!==e&&i.unshift(e.toUpperCase()+":"),i.unshift(o+":"),l){l.push([].concat(i));var s=l.length-1e3;l.splice(0,0<s?s:0)}if(y.console){var a=y.console[e];a||"debug"!==e||(a=y.console.info||y.console.log),a&&n&&r.test(e)&&a[Array.isArray(i)?"apply":"call"](y.console,i)}}};var p=function t(i){function n(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r("log",s,t)}var r,s="info";return r=e(i,n),n.createLogger=function(e){return t(i+": "+e)},n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:s},n.level=function(e){if("string"==typeof e){if(!n.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');s=e}return s},(n.history=function(){return l?[].concat(l):[]}).filter=function(t){return(l||[]).filter(function(e){return new RegExp(".*"+t+".*").test(e[0])})},n.history.clear=function(){l&&(l.length=0)},n.history.disable=function(){null!==l&&(l.length=0,l=null)},n.history.enable=function(){null===l&&(l=[])},n.error=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r("error",s,t)},n.warn=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r("warn",s,t)},n.debug=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r("debug",s,t)},n}("VIDEOJS"),f=p.createLogger;function t(e,t){return e(t={exports:{}},t.exports),t.exports}var r=t(function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},t.apply(this,arguments)}e.exports=t}),i=Object.prototype.toString,s=function(e){return o(e)?Object.keys(e):[]};function a(t,i){s(t).forEach(function(e){return i(t[e],e)})}function m(i){for(var e=arguments.length,t=new Array(1<e?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return Object.assign?r.apply(void 0,[i].concat(t)):(t.forEach(function(e){e&&a(e,function(e,t){i[t]=e})}),i)}function o(e){return!!e&&"object"==typeof e}function u(e){return o(e)&&"[object Object]"===i.call(e)&&e.constructor===Object}function n(e,t){if(!e||!t)return"";if("function"!=typeof y.getComputedStyle)return"";var i=y.getComputedStyle(e);return i?i.getPropertyValue(t)||i[t]:""}function c(e){return"string"==typeof e&&Boolean(e.trim())}function g(e){if(0<=e.indexOf(" "))throw new Error("class has illegal whitespace characters")}function v(){return h===y.document}function _(e){return o(e)&&1===e.nodeType}function b(){try{return y.parent!==y.self}catch(e){return!0}}function T(n){return function(e,t){if(!c(e))return h[n](null);c(t)&&(t=h.querySelector(t));var i=_(t)?t:h;return i[n]&&i[n](e)}}function S(e,i,t,n){void 0===e&&(e="div"),void 0===i&&(i={}),void 0===t&&(t={});var r=h.createElement(e);return Object.getOwnPropertyNames(i).forEach(function(e){var t=i[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(p.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+e+" to "+t+"."),r.setAttribute(e,t)):"textContent"===e?k(r,t):r[e]!==t&&(r[e]=t)}),Object.getOwnPropertyNames(t).forEach(function(e){r.setAttribute(e,t[e])}),n&&V(r,n),r}function k(e,t){return"undefined"==typeof e.textContent?e.innerText=t:e.textContent=t,e}function C(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function E(e,t){return g(t),e.classList?e.classList.contains(t):function(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}(t).test(e.className)}function w(e,t){return e.classList?e.classList.add(t):E(e,t)||(e.className=(e.className+" "+t).trim()),e}function L(e,t){return e.classList?e.classList.remove(t):(g(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function P(e,t,i){var n=E(e,t);if("function"==typeof i&&(i=i(e,t)),"boolean"!=typeof i&&(i=!n),i!==n)return i?w(e,t):L(e,t),e}function A(i,n){Object.getOwnPropertyNames(n).forEach(function(e){var t=n[e];null===t||"undefined"==typeof t||!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})}function I(e){var t={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&0<e.attributes.length)for(var n=e.attributes,r=n.length-1;0<=r;r--){var s=n[r].name,a=n[r].value;"boolean"!=typeof e[s]&&-1===i.indexOf(","+s+",")||(a=null!==a),t[s]=a}return t}function x(e,t){return e.getAttribute(t)}function O(e,t,i){e.setAttribute(t,i)}function D(e,t){e.removeAttribute(t)}function R(){h.body.focus(),h.onselectstart=function(){return!1}}function U(){h.onselectstart=function(){return!0}}function M(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(function(e){void 0!==t[e]&&(i[e]=t[e])}),i.height||(i.height=parseFloat(n(e,"height"))),i.width||(i.width=parseFloat(n(e,"width"))),i}}function N(e){var t;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var i=h.documentElement,n=h.body,r=i.clientLeft||n.clientLeft||0,s=y.pageXOffset||n.scrollLeft,a=t.left+s-r,o=i.clientTop||n.clientTop||0,u=y.pageYOffset||n.scrollTop,l=t.top+u-o;return{left:Math.round(a),top:Math.round(l)}}function B(e,t){var i={},n=N(e),r=e.offsetWidth,s=e.offsetHeight,a=n.top,o=n.left,u=t.pageY,l=t.pageX;return t.changedTouches&&(l=t.changedTouches[0].pageX,u=t.changedTouches[0].pageY),i.y=Math.max(0,Math.min(1,(a-u+s)/s)),i.x=Math.max(0,Math.min(1,(l-o)/r)),i}function j(e){return o(e)&&3===e.nodeType}function F(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function H(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),_(e)||j(e)?e:"string"==typeof e&&/\S/.test(e)?h.createTextNode(e):void 0}).filter(function(e){return e})}function V(t,e){return H(e).forEach(function(e){return t.appendChild(e)}),t}function q(e,t){return V(F(e),t)}function W(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||("mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons))}var z,G=T("querySelector"),K=T("querySelectorAll"),X=Object.freeze({isReal:v,isEl:_,isInFrame:b,createEl:S,textContent:k,prependTo:C,hasClass:E,addClass:w,removeClass:L,toggleClass:P,setAttributes:A,getAttributes:I,getAttribute:x,setAttribute:O,removeAttribute:D,blockTextSelection:R,unblockTextSelection:U,getBoundingClientRect:M,findPosition:N,getPointerPosition:B,isTextNode:j,emptyEl:F,normalizeContent:H,appendContent:V,insertContent:q,isSingleLeftClick:W,$:G,$$:K}),Y=!1,$=function(){if(v()&&!1!==z.options.autoSetup){var e=Array.prototype.slice.call(h.getElementsByTagName("video")),t=Array.prototype.slice.call(h.getElementsByTagName("audio")),i=Array.prototype.slice.call(h.getElementsByTagName("video-js")),n=e.concat(t,i);if(n&&0<n.length)for(var r=0,s=n.length;r<s;r++){var a=n[r];if(!a||!a.getAttribute){Q(1);break}void 0===a.player&&null!==a.getAttribute("data-setup")&&z(a)}else Y||Q(1)}};function Q(e,t){t&&(z=t),y.setTimeout($,e)}function J(){Y=!0,y.removeEventListener("load",J)}v()&&("complete"===h.readyState?J():y.addEventListener("load",J));function Z(e){var t=h.createElement("style");return t.className=e,t}function ee(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t}var te,ie=3;function ne(){return ie++}y.WeakMap||(te=function(){function e(){this.vdata="vdata"+Math.floor(y.performance&&y.performance.now()||Date.now()),this.data={}}var t=e.prototype;return t.set=function(e,t){var i=e[this.vdata]||ne();return e[this.vdata]||(e[this.vdata]=i),this.data[i]=t,this},t.get=function(e){var t=e[this.vdata];if(t)return this.data[t];p("We have no data for this element",e)},t.has=function(e){return e[this.vdata]in this.data},t.delete=function(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])},e}());var re,se=y.WeakMap?new WeakMap:new te;function ae(e,t){if(se.has(e)){var i=se.get(e);0===i.handlers[t].length&&(delete i.handlers[t],e.removeEventListener?e.removeEventListener(t,i.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length&&se.delete(e)}}function oe(t,i,e,n){e.forEach(function(e){t(i,e,n)})}function ue(e){if(e.fixed_)return e;function t(){return!0}function i(){return!1}if(!e||!e.isPropagationStopped){var n=e||y.event;for(var r in e={},n)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&n.preventDefault||(e[r]=n[r]));if(e.target||(e.target=e.srcElement||h),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){n.preventDefault&&n.preventDefault(),e.returnValue=!1,n.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),e.cancelBubble=!0,n.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=i,e.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=i,null!==e.clientX&&void 0!==e.clientX){var s=h.documentElement,a=h.body;e.pageX=e.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}var le=function(){if("boolean"!=typeof re){re=!1;try{var e=Object.defineProperty({},"passive",{get:function(){re=!0}});y.addEventListener("test",null,e),y.removeEventListener("test",null,e)}catch(e){}}return re},ce=["touchstart","touchmove"];function he(a,e,t){if(Array.isArray(e))return oe(he,a,e,t);se.has(a)||se.set(a,{});var o=se.get(a);if(o.handlers||(o.handlers={}),o.handlers[e]||(o.handlers[e]=[]),t.guid||(t.guid=ne()),o.handlers[e].push(t),o.dispatcher||(o.disabled=!1,o.dispatcher=function(e,t){if(!o.disabled){e=ue(e);var i=o.handlers[e.type];if(i)for(var n=i.slice(0),r=0,s=n.length;r<s&&!e.isImmediatePropagationStopped();r++)try{n[r].call(a,e,t)}catch(e){p.error(e)}}}),1===o.handlers[e].length)if(a.addEventListener){var i=!1;le()&&-1<ce.indexOf(e)&&(i={passive:!0}),a.addEventListener(e,o.dispatcher,i)}else a.attachEvent&&a.attachEvent("on"+e,o.dispatcher)}function de(e,t,i){if(se.has(e)){var n=se.get(e);if(n.handlers){if(Array.isArray(t))return oe(de,e,t,i);var r=function(e,t){n.handlers[t]=[],ae(e,t)};if(void 0!==t){var s=n.handlers[t];if(s)if(i){if(i.guid)for(var a=0;a<s.length;a++)s[a].guid===i.guid&&s.splice(a--,1);ae(e,t)}else r(e,t)}else for(var o in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},o)&&r(e,o)}}}function pe(e,t,i){var n=se.has(e)?se.get(e):{},r=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=ue(t),n.dispatcher&&n.dispatcher.call(e,t,i),r&&!t.isPropagationStopped()&&!0===t.bubbles)pe.call(null,r,t,i);else if(!r&&!t.defaultPrevented&&t.target&&t.target[t.type]){se.has(t.target)||se.set(t.target,{});var s=se.get(t.target);t.target[t.type]&&(s.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),s.disabled=!1)}return!t.defaultPrevented}function fe(e,t,i){if(Array.isArray(t))return oe(fe,e,t,i);function n(){de(e,t,n),i.apply(this,arguments)}n.guid=i.guid=i.guid||ne(),he(e,t,n)}function me(e,t,i){function n(){de(e,t,n),i.apply(this,arguments)}n.guid=i.guid=i.guid||ne(),he(e,t,n)}function ge(e,t,i){t.guid||(t.guid=ne());var n=t.bind(e);return n.guid=i?i+"_"+t.guid:t.guid,n}function ve(t,i){var n=y.performance.now();return function(){var e=y.performance.now();i<=e-n&&(t.apply(void 0,arguments),n=e)}}function ye(){}var _e,be=Object.freeze({fixEvent:ue,on:he,off:de,trigger:pe,one:fe,any:me});ye.prototype.allowedEvents_={},ye.prototype.addEventListener=ye.prototype.on=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},he(this,e,t),this.addEventListener=i},ye.prototype.removeEventListener=ye.prototype.off=function(e,t){de(this,e,t)},ye.prototype.one=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},fe(this,e,t),this.addEventListener=i},ye.prototype.any=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},me(this,e,t),this.addEventListener=i},ye.prototype.dispatchEvent=ye.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=ue(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),pe(this,e)},ye.prototype.queueTrigger=function(e){var t=this;_e=_e||new Map;var i=e.type||e,n=_e.get(this);n||(n=new Map,_e.set(this,n));var r=n.get(i);n.delete(i),y.clearTimeout(r);var s=y.setTimeout(function(){0===n.size&&(n=null,_e.delete(t)),t.trigger(e)},0);n.set(i,s)};function Te(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length}function Se(e){if(!e.nodeName&&!Le(e))throw new Error("Invalid target; must be a DOM node or evented object.")}function ke(e){if(!Te(e))throw new Error("Invalid event type; must be a non-empty string or array.")}function Ce(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")}function Ee(e,t){var i,n,r,s=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return r=s?(i=e.eventBusEl_,3<=t.length&&t.shift(),n=t[0],t[1]):(i=t[0],n=t[1],t[2]),Se(i),ke(n),Ce(r),{isTargetingSelf:s,target:i,type:n,listener:r=ge(e,r)}}function we(e,t,i,n){Se(e),e.nodeName?be[t](e,i,n):e[t](i,n)}var Le=function(t){return t instanceof ye||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"==typeof t[e]})},Pe={on:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var r=Ee(this,i),s=r.isTargetingSelf,a=r.target,o=r.type,u=r.listener;if(we(a,"on",o,u),!s){var l=function(){return e.off(a,o,u)};l.guid=u.guid;var c=function(){return e.off("dispose",l)};c.guid=u.guid,we(this,"on","dispose",l),we(a,"on","dispose",c)}},one:function(){for(var r=this,e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=Ee(this,t),s=n.isTargetingSelf,a=n.target,o=n.type,u=n.listener;if(s)we(a,"one",o,u);else{var l=function e(){r.off(a,o,e);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];u.apply(null,i)};l.guid=u.guid,we(a,"one",o,l)}},any:function(){for(var r=this,e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=Ee(this,t),s=n.isTargetingSelf,a=n.target,o=n.type,u=n.listener;if(s)we(a,"any",o,u);else{var l=function e(){r.off(a,o,e);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];u.apply(null,i)};l.guid=u.guid,we(a,"any",o,l)}},off:function(e,t,i){if(!e||Te(e))de(this.eventBusEl_,e,t);else{var n=e,r=t;Se(n),ke(r),Ce(i),i=ge(this,i),this.off("dispose",i),n.nodeName?(de(n,r,i),de(n,"dispose",i)):Le(n)&&(n.off(r,i),n.off("dispose",i))}},trigger:function(e,t){return pe(this.eventBusEl_,e,t)}};function Ae(e,t){void 0===t&&(t={});var i=t.eventBusKey;if(i){if(!e[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');e.eventBusEl_=e[i]}else e.eventBusEl_=S("span",{className:"vjs-event-bus"});return m(e,Pe),e.eventedCallbacks&&e.eventedCallbacks.forEach(function(e){e()}),e.on("dispose",function(){e.off(),y.setTimeout(function(){e.eventBusEl_=null},0)}),e}var Ie={state:{},setState:function(e){var i,n=this;return"function"==typeof e&&(e=e()),a(e,function(e,t){n.state[t]!==e&&((i=i||{})[t]={from:n.state[t],to:e}),n.state[t]=e}),i&&Le(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function xe(e,t){return m(e,Ie),e.state=m({},e.state,t),"function"==typeof e.handleStateChanged&&Le(e)&&e.on("statechanged",e.handleStateChanged),e}function Oe(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toLowerCase()})}function De(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toUpperCase()})}function Re(){for(var i={},e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach(function(e){e&&a(e,function(e,t){u(e)?(u(i[t])||(i[t]={}),i[t]=Re(i[t],e)):i[t]=e})}),i}var Ue=function(){function l(e,t,i){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Re({},this.options_),t=this.options_=Re(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var n=e&&e.id&&e.id()||"no_player";this.id_=n+"_component_"+ne()}var r;this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),!1!==t.evented&&Ae(this,{eventBusKey:this.el_?"el_":null}),xe(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},y.Set||(r=function(){function e(){this.set_={}}var t=e.prototype;return t.has=function(e){return e in this.set_},t.delete=function(e){var t=this.has(e);return delete this.set_[e],t},t.add=function(e){return this.set_[e]=1,this},t.forEach=function(e,t){for(var i in this.set_)e.call(t,i,i,this)},e}()),this.setTimeoutIds_=y.Set?new Set:new r,this.setIntervalIds_=y.Set?new Set:new r,this.rafIds_=y.Set?new Set:new r,(this.clearingTimersOnDispose_=!1)!==t.initChildren&&this.initChildren(),this.ready(i),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var e=l.prototype;return e.dispose=function(){if(!this.isDisposed_){if(this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var e=this.children_.length-1;0<=e;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),se.has(this.el_)&&se.delete(this.el_),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(e){return e&&(this.options_=Re(this.options_,e)),this.options_},e.el=function(){return this.el_},e.createEl=function(e,t,i){return S(e,t,i)},e.localize=function(e,r,t){void 0===t&&(t=e);var i=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages(),s=n&&n[i],a=i&&i.split("-")[0],o=n&&n[a],u=t;return s&&s[e]?u=s[e]:o&&o[e]&&(u=o[e]),r&&(u=u.replace(/\{(\d+)\}/g,function(e,t){var i=r[t-1],n=i;return"undefined"==typeof i&&(n=e),n})),u},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(e){return this.childIndex_[e]},e.getChild=function(e){if(e)return this.childNameIndex_[e]},e.addChild=function(e,t,i){var n,r;if(void 0===t&&(t={}),void 0===i&&(i=this.children_.length),"string"==typeof e){r=De(e);var s=t.componentClass||r;t.name=r;var a=l.getComponent(s);if(!a)throw new Error("Component "+s+" does not exist");if("function"!=typeof a)return null;n=new a(this.player_||this,t)}else n=e;if(n.parentComponent_&&n.parentComponent_.removeChild(n),this.children_.splice(i,0,n),n.parentComponent_=this,"function"==typeof n.id&&(this.childIndex_[n.id()]=n),(r=r||n.name&&De(n.name()))&&(this.childNameIndex_[r]=n,this.childNameIndex_[Oe(r)]=n),"function"==typeof n.el&&n.el()){var o=null;this.children_[i+1]&&this.children_[i+1].el_&&(o=this.children_[i+1].el_),this.contentEl().insertBefore(n.el(),o)}return n},e.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,i=this.children_.length-1;0<=i;i--)if(this.children_[i]===e){t=!0,this.children_.splice(i,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[De(e.name())]=null,this.childNameIndex_[Oe(e.name())]=null;var n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.initChildren=function(){var r=this,n=this.options_.children;if(n){var e,s=this.options_,i=l.getComponent("Tech");(e=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter(function(t){return!e.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(e){var t,i;return i="string"==typeof e?n[t=e]||r.options_[t]||{}:(t=e.name,e),{name:t,opts:i}}).filter(function(e){var t=l.getComponent(e.opts.componentClass||De(e.name));return t&&!i.isTech(t)}).forEach(function(e){var t=e.name,i=e.opts;if(void 0!==s[t]&&(i=s[t]),!1!==i){!0===i&&(i={}),i.playerOptions=r.options_.playerOptions;var n=r.addChild(t,i);n&&(r[t]=n)}})}},e.buildCSSClass=function(){return""},e.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&0<e.length&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.$=function(e,t){return G(e,t||this.contentEl())},e.$$=function(e,t){return K(e,t||this.contentEl())},e.hasClass=function(e){return E(this.el_,e)},e.addClass=function(e){w(this.el_,e)},e.removeClass=function(e){L(this.el_,e)},e.toggleClass=function(e,t){P(this.el_,e,t)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(e){return x(this.el_,e)},e.setAttribute=function(e,t){O(this.el_,e,t)},e.removeAttribute=function(e){D(this.el_,e)},e.width=function(e,t){return this.dimension("width",e,t)},e.height=function(e,t){return this.dimension("height",e,t)},e.dimensions=function(e,t){this.width(e,!0),this.height(t)},e.dimension=function(e,t,i){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(i||this.trigger("componentresize"));if(!this.el_)return 0;var n=this.el_.style[e],r=n.indexOf("px");return-1!==r?parseInt(n.slice(0,r),10):parseInt(this.el_["offset"+De(e)],10)},e.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=n(this.el_,e),0===(t=parseFloat(t))||isNaN(t)){var i="offset"+De(e);t=this.el_[i]}return t},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(e){this.player_&&(e.stopPropagation(),this.player_.handleKeyDown(e))},e.handleKeyPress=function(e){this.handleKeyDown(e)},e.emitTapEvents=function(){var n,t=0,r=null;this.on("touchstart",function(e){1===e.touches.length&&(r={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},t=y.performance.now(),n=!0)}),this.on("touchmove",function(e){if(1<e.touches.length)n=!1;else if(r){var t=e.touches[0].pageX-r.pageX,i=e.touches[0].pageY-r.pageY;10<Math.sqrt(t*t+i*i)&&(n=!1)}});function e(){n=!1}this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){!(r=null)===n&&y.performance.now()-t<200&&(e.preventDefault(),this.trigger("tap"))})},e.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t,i=ge(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){i(),this.clearInterval(t),t=this.setInterval(i,250)});var e=function(e){i(),this.clearInterval(t)};this.on("touchmove",i),this.on("touchend",e),this.on("touchcancel",e)}},e.setTimeout=function(e,t){var i,n=this;return e=ge(this,e),this.clearTimersOnDispose_(),i=y.setTimeout(function(){n.setTimeoutIds_.has(i)&&n.setTimeoutIds_.delete(i),e()},t),this.setTimeoutIds_.add(i),i},e.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),y.clearTimeout(e)),e},e.setInterval=function(e,t){e=ge(this,e),this.clearTimersOnDispose_();var i=y.setInterval(e,t);return this.setIntervalIds_.add(i),i},e.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),y.clearInterval(e)),e},e.requestAnimationFrame=function(e){var t,i=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=ge(this,e),t=y.requestAnimationFrame(function(){i.rafIds_.has(t)&&i.rafIds_.delete(t),e()}),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},e.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),y.cancelAnimationFrame(e)),e):this.clearTimeout(e)},e.clearTimersOnDispose_=function(){var n=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(e){var t=e[0],i=e[1];n[t].forEach(n[i],n)}),n.clearingTimersOnDispose_=!1}))},l.registerComponent=function(e,t){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var i,n=l.getComponent("Tech"),r=n&&n.isTech(t),s=l===t||l.prototype.isPrototypeOf(t.prototype);if(r||!s)throw i=r?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+i+".");e=De(e),l.components_||(l.components_={});var a=l.getComponent("Player");if("Player"===e&&a&&a.players){var o=a.players,u=Object.keys(o);if(o&&0<u.length&&u.map(function(e){return o[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return l.components_[e]=t,l.components_[Oe(e)]=t},l.getComponent=function(e){if(e&&l.components_)return l.components_[e]},l}();Ue.prototype.supportsRaf_="function"==typeof y.requestAnimationFrame&&"function"==typeof y.cancelAnimationFrame,Ue.registerComponent("Component",Ue);var Me=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e};var Ne,Be,je,Fe,He=function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t},Ve=y.navigator&&y.navigator.userAgent||"",qe=/AppleWebKit\/([\d.]+)/i.exec(Ve),We=qe?parseFloat(qe.pop()):null,ze=/iPod/i.test(Ve),Ge=(Ne=Ve.match(/OS (\d+)_/i))&&Ne[1]?Ne[1]:null,Ke=/Android/i.test(Ve),Xe=function(){var e=Ve.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),i=e[2]&&parseFloat(e[2]);return t&&i?parseFloat(e[1]+"."+e[2]):t||null}(),Ye=Ke&&Xe<5&&We<537,$e=/Firefox/i.test(Ve),Qe=/Edge/i.test(Ve),Je=!Qe&&(/Chrome/i.test(Ve)||/CriOS/i.test(Ve)),Ze=(Be=Ve.match(/(Chrome|CriOS)\/(\d+)/))&&Be[2]?parseFloat(Be[2]):null,et=(je=/MSIE\s(\d+)\.\d/.exec(Ve),!(Fe=je&&parseFloat(je[1]))&&/Trident\/7.0/i.test(Ve)&&/rv:11.0/.test(Ve)&&(Fe=11),Fe),tt=/Safari/i.test(Ve)&&!Je&&!Ke&&!Qe,it=/Windows/i.test(Ve),nt=v()&&("ontouchstart"in y||y.navigator.maxTouchPoints||y.DocumentTouch&&y.document instanceof y.DocumentTouch),rt=/iPad/i.test(Ve)||tt&&nt&&!/iPhone/i.test(Ve),st=/iPhone/i.test(Ve)&&!rt,at=st||rt||ze,ot=(tt||at)&&!Je,ut=Object.freeze({IS_IPOD:ze,IOS_VERSION:Ge,IS_ANDROID:Ke,ANDROID_VERSION:Xe,IS_NATIVE_ANDROID:Ye,IS_FIREFOX:$e,IS_EDGE:Qe,IS_CHROME:Je,CHROME_VERSION:Ze,IE_VERSION:et,IS_SAFARI:tt,IS_WINDOWS:it,TOUCH_ENABLED:nt,IS_IPAD:rt,IS_IPHONE:st,IS_IOS:at,IS_ANY_SAFARI:ot});function lt(e,t,i,n){return function(e,t,i){if("number"!=typeof t||t<0||i<t)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+i+").")}(e,n,i.length-1),i[n][t]}function ct(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:lt.bind(null,"start",0,e),end:lt.bind(null,"end",1,e)}}function ht(e,t){return Array.isArray(e)?ct(e):void 0===e||void 0===t?ct():ct([[e,t]])}function dt(e,t){var i,n,r=0;if(!t)return 0;e&&e.length||(e=ht(0,0));for(var s=0;s<e.length;s++)i=e.start(s),t<(n=e.end(s))&&(n=t),r+=n-i;return r/t}for(var pt,ft={prefixed:!0},mt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],gt=mt[0],vt=0;vt<mt.length;vt++)if(mt[vt][1]in h){pt=mt[vt];break}if(pt){for(var yt=0;yt<pt.length;yt++)ft[gt[yt]]=pt[yt];ft.prefixed=pt[0]!==gt[0]}function _t(e){if(e instanceof _t)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:o(e)&&("number"==typeof e.code&&(this.code=e.code),m(this,e)),this.message||(this.message=_t.defaultMessages[this.code]||"")}_t.prototype.code=0,_t.prototype.message="",_t.prototype.status=null,_t.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],_t.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var bt=0;bt<_t.errorTypes.length;bt++)_t[_t.errorTypes[bt]]=bt,_t.prototype[_t.errorTypes[bt]]=bt;var Tt=function(e,t){var i,n=null;try{i=JSON.parse(e,t)}catch(e){n=e}return[n,i]};function St(e){return null!=e&&"function"==typeof e.then}function kt(e){St(e)&&e.then(null,function(e){})}function Ct(n){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,t,i){return n[t]&&(e[t]=n[t]),e},{cues:n.cues&&Array.prototype.map.call(n.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})}var Et=function(e){var t=e.$$("track"),i=Array.prototype.map.call(t,function(e){return e.track});return Array.prototype.map.call(t,function(e){var t=Ct(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===i.indexOf(e)}).map(Ct))},wt=function(e,i){return e.forEach(function(e){var t=i.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return t.addCue(e)})}),i.textTracks()},Lt=t(function(e,t){function i(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return a[e];var i,n=String(e);return(i=r[n.toLowerCase()])?i:(i=s[n.toLowerCase()])||(1===n.length?n.charCodeAt(0):void 0)}i.isEventKey=function(e,t){if(e&&"object"==typeof e){var i=e.which||e.keyCode||e.charCode;if(null==i)return!1;if("string"==typeof t){var n;if(n=r[t.toLowerCase()])return n===i;if(n=s[t.toLowerCase()])return n===i}else if("number"==typeof t)return t===i;return!1}};var r=(t=e.exports=i).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},s=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(n=97;n<123;n++)r[String.fromCharCode(n)]=n-32;for(var n=48;n<58;n++)r[n-48]=n;for(n=1;n<13;n++)r["f"+n]=n+111;for(n=0;n<10;n++)r["numpad "+n]=n+96;var a=t.names=t.title={};for(n in r)a[r[n]]=n;for(var o in s)r[o]=s[o]}),Pt=(Lt.code,Lt.codes,Lt.aliases,Lt.names,Lt.title,"vjs-modal-dialog"),At=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=S("div",{className:Pt+"-content"},{role:"document"}),i.descEl_=S("p",{className:Pt+"-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),k(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}He(e,n);var t=e.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,n.prototype.dispose.call(this)},t.buildCSSClass=function(){return Pt+" vjs-hidden "+n.prototype.buildCSSClass.call(this)},t.label=function(){return this.localize(this.options_.label||"Modal Window")},t.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,!this.options_.fillAlways&&(this.hasBeenOpened_||this.hasBeenFilled_)||this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},t.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},t.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,i=this.getChild("closeButton");if(t&&!i){var n=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(i,"close",this.close)}!t&&i&&(this.off(i,"close",this.close),this.removeChild(i),i.dispose())}return this.closeable_},t.fill=function(){this.fillWith(this.content())},t.fillWith=function(e){var t=this.contentEl(),i=t.parentNode,n=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(t),this.empty(),q(t,e),this.trigger("modalfill"),n?i.insertBefore(t,n):i.appendChild(t);var r=this.getChild("closeButton");r&&i.appendChild(r.el_)},t.empty=function(){this.trigger("beforemodalempty"),F(this.contentEl()),this.trigger("modalempty")},t.content=function(e){return"undefined"!=typeof e&&(this.content_=e),this.content_},t.conditionalFocus_=function(){var e=h.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,!t.contains(e)&&t!==e||(this.previouslyActiveEl_=e,this.focus())},t.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},t.handleKeyDown=function(e){if(e.stopPropagation(),Lt.isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(Lt.isEventKey(e,"Tab")){for(var t,i=this.focusableEls_(),n=this.el_.querySelector(":focus"),r=0;r<i.length;r++)if(n===i[r]){t=r;break}h.activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(i[i.length-1].focus(),e.preventDefault()):e.shiftKey||t!==i.length-1||(i[0].focus(),e.preventDefault())}},t.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof y.HTMLAnchorElement||e instanceof y.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof y.HTMLInputElement||e instanceof y.HTMLSelectElement||e instanceof y.HTMLTextAreaElement||e instanceof y.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof y.HTMLIFrameElement||e instanceof y.HTMLObjectElement||e instanceof y.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},e}(Ue);At.prototype.options_={pauseOnOpen:!0,temporary:!0},Ue.registerComponent("ModalDialog",At);var It=function(n){function e(e){var t;void 0===e&&(e=[]),(t=n.call(this)||this).tracks_=[],Object.defineProperty(Me(t),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<e.length;i++)t.addTrack(e[i]);return t}He(e,n);var t=e.prototype;return t.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this}))},t.removeTrack=function(e){for(var t,i=0,n=this.length;i<n;i++)if(this[i]===e){(t=this[i]).off&&t.off(),this.tracks_.splice(i,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},t.getTrackById=function(e){for(var t=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===e){t=r;break}}return t},e}(ye);for(var xt in It.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},It.prototype.allowedEvents_)It.prototype["on"+xt]=null;function Ot(e,t){for(var i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].enabled=!1)}function Dt(e,t){for(var i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].selected=!1)}function Rt(e){var t=["protocol","hostname","port","pathname","search","hash","host"],i=h.createElement("a");i.href=e;var n,r=""===i.host&&"file:"!==i.protocol;r&&((n=h.createElement("div")).innerHTML='<a href="'+e+'"></a>',i=n.firstChild,n.setAttribute("style","display:none; position:absolute;"),h.body.appendChild(n));for(var s={},a=0;a<t.length;a++)s[t[a]]=i[t[a]];return"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,"")),"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,"")),s.protocol||(s.protocol=y.location.protocol),r&&h.body.removeChild(n),s}function Ut(e){if(!e.match(/^https?:\/\//)){var t=h.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e}function Mt(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""}function Nt(e,t){void 0===t&&(t=y.location);var i=Rt(e);return(":"===i.protocol?t.protocol:i.protocol)+i.host!==t.protocol+t.host}var Bt=function(n){function e(e){var t;void 0===e&&(e=[]);for(var i=e.length-1;0<=i;i--)if(e[i].enabled){Ot(e,e[i]);break}return(t=n.call(this,e)||this).changing_=!1,t}He(e,n);var t=e.prototype;return t.addTrack=function(e){var t=this;e.enabled&&Ot(this,e),n.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){t.changing_||(t.changing_=!0,Ot(t,e),t.changing_=!1,t.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},t.removeTrack=function(e){n.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},e}(It),jt=function(n){function e(e){var t;void 0===e&&(e=[]);for(var i=e.length-1;0<=i;i--)if(e[i].selected){Dt(e,e[i]);break}return(t=n.call(this,e)||this).changing_=!1,Object.defineProperty(Me(t),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),t}He(e,n);var t=e.prototype;return t.addTrack=function(e){var t=this;e.selected&&Dt(this,e),n.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){t.changing_||(t.changing_=!0,Dt(t,e),t.changing_=!1,t.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},t.removeTrack=function(e){n.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},e}(It),Ft=function(i){function e(){return i.apply(this,arguments)||this}He(e,i);var t=e.prototype;return t.addTrack=function(e){var t=this;i.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return t.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return t.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},t.removeTrack=function(e){i.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(It),Ht=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,i=e.length;t<i;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,i=0,n=this.trackElements_.length;i<n;i++)if(e===this.trackElements_[i].track){t=this.trackElements_[i];break}return t},t.removeTrackElement_=function(e){for(var t=0,i=this.trackElements_.length;t<i;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},e}(),Vt=function(){function t(e){t.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(e){var t=this.length||0,i=0,n=e.length;this.cues_=e,this.length_=e.length;function r(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})}if(t<n)for(i=t;i<n;i++)r.call(this,i)},e.getCueById=function(e){for(var t=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===e){t=r;break}}return t},t}(),qt={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Wt={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},zt={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Gt={disabled:"disabled",hidden:"hidden",showing:"showing"},Kt=function(s){function e(e){var t;void 0===e&&(e={}),t=s.call(this)||this;function i(e){Object.defineProperty(Me(t),e,{get:function(){return n[e]},set:function(){}})}var n={id:e.id||"vjs_track_"+ne(),kind:e.kind||"",label:e.label||"",language:e.language||""};for(var r in n)i(r);return t}return He(e,s),e}(ye),Xt=Object.freeze({parseUrl:Rt,getAbsoluteURL:Ut,getFileExtension:Mt,isCrossOrigin:Nt}),Yt=function(e){var t=$t.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}
/**
   * @license
   * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
   * Copyright (c) 2014 David Björklund
   * Available under the MIT license
   * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
   */,$t=Object.prototype.toString;var Qt=function(e){var r={};return e&&e.trim().split("\n").forEach(function(e){var t=e.indexOf(":"),i=e.slice(0,t).trim().toLowerCase(),n=e.slice(t+1).trim();"undefined"==typeof r[i]?r[i]=n:Array.isArray(r[i])?r[i].push(n):r[i]=[r[i],n]}),r},Jt=ti,Zt=ti;function ei(e,t,i){var n=e;return Yt(t)?(i=t,"string"==typeof e&&(n={uri:e})):n=r({},t,{uri:e}),n.callback=i,n}function ti(e,t,i){return ii(t=ei(e,t,i))}function ii(n){if("undefined"==typeof n.callback)throw new Error("callback argument missing");var r=!1,s=function(e,t,i){r||(r=!0,n.callback(e,t,i))};function t(e){return clearTimeout(o),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,s(e,m)}function e(){if(!a){var e;clearTimeout(o),e=n.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var t=m,i=null;return 0!==e?(t={body:function(){var e=void 0;if(e=u.response?u.response:u.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(u),f)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:e,method:c,headers:{},url:l,rawRequest:u},u.getAllResponseHeaders&&(t.headers=Qt(u.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),s(i,t,t.body)}}var i,a,o,u=n.xhr||null,l=(u=u||(n.cors||n.useXDR?new ti.XDomainRequest:new ti.XMLHttpRequest)).url=n.uri||n.url,c=u.method=n.method||"GET",h=n.body||n.data,d=u.headers=n.headers||{},p=!!n.sync,f=!1,m={body:void 0,headers:{},statusCode:0,method:c,url:l,rawRequest:u};if("json"in n&&!1!==n.json&&(f=!0,d.accept||d.Accept||(d.Accept="application/json"),"GET"!==c&&"HEAD"!==c&&(d["content-type"]||d["Content-Type"]||(d["Content-Type"]="application/json"),h=JSON.stringify(!0===n.json?h:n.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(e,0)},u.onload=e,u.onerror=t,u.onprogress=function(){},u.onabort=function(){a=!0},u.ontimeout=t,u.open(c,l,!p,n.username,n.password),p||(u.withCredentials=!!n.withCredentials),!p&&0<n.timeout&&(o=setTimeout(function(){if(!a){a=!0,u.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",t(e)}},n.timeout)),u.setRequestHeader)for(i in d)d.hasOwnProperty(i)&&u.setRequestHeader(i,d[i]);else if(n.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(n.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in n&&(u.responseType=n.responseType),"beforeSend"in n&&"function"==typeof n.beforeSend&&n.beforeSend(u),u.send(h||null),u}ti.XMLHttpRequest=y.XMLHttpRequest||function(){},ti.XDomainRequest="withCredentials"in new ti.XMLHttpRequest?ti.XMLHttpRequest:y.XDomainRequest,function(e,t){for(var i=0;i<e.length;i++)t(e[i])}(["get","put","post","patch","head","delete"],function(n){ti["delete"===n?"del":n]=function(e,t,i){return(t=ei(e,t,i)).method=n.toUpperCase(),ii(t)}}),Jt.default=Zt;function ni(e,t){var i=new y.WebVTT.Parser(y,y.vttjs,y.WebVTT.StringDecoder()),n=[];i.oncue=function(e){t.addCue(e)},i.onparsingerror=function(e){n.push(e)},i.onflush=function(){t.trigger({type:"loadeddata",target:t})},i.parse(e),0<n.length&&(y.console&&y.console.groupCollapsed&&y.console.groupCollapsed("Text Track parsing errors for "+t.src),n.forEach(function(e){return p.error(e)}),y.console&&y.console.groupEnd&&y.console.groupEnd()),i.flush()}function ri(e,n){var t={uri:e},i=Nt(e);i&&(t.cors=i),Jt(t,ge(this,function(e,t,i){if(e)return p.error(e,t);n.loaded_=!0,"function"!=typeof y.WebVTT?n.tech_&&n.tech_.any(["vttjsloaded","vttjserror"],function(e){if("vttjserror"!==e.type)return ni(i,n);p.error("vttjs failed to load, stopping trying to process "+n.src)}):ni(i,n)}))}var si=function(l){function e(e){var t;if(void 0===e&&(e={}),!e.tech)throw new Error("A tech was not provided.");var i=Re(e,{kind:zt[e.kind]||"subtitles",language:e.language||e.srclang||""}),n=Gt[i.mode]||"disabled",r=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(n="hidden"),(t=l.call(this,i)||this).tech_=i.tech,t.cues_=[],t.activeCues_=[],t.preload_=!1!==t.tech_.preloadTextTracks;var s=new Vt(t.cues_),a=new Vt(t.activeCues_),o=!1,u=ge(Me(t),function(){this.activeCues=this.activeCues,o&&(this.trigger("cuechange"),o=!1)});return"disabled"!==n&&t.tech_.ready(function(){t.tech_.on("timeupdate",u)},!0),Object.defineProperties(Me(t),{default:{get:function(){return r},set:function(){}},mode:{get:function(){return n},set:function(e){var t=this;Gt[e]&&(n=e,this.preload_||"disabled"===n||0!==this.cues.length||ri(this.src,this),"disabled"!==n?this.tech_.ready(function(){t.tech_.on("timeupdate",u)},!0):this.tech_.off("timeupdate",u),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?s:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return a;for(var e=this.tech_.currentTime(),t=[],i=0,n=this.cues.length;i<n;i++){var r=this.cues[i];r.startTime<=e&&r.endTime>=e?t.push(r):r.startTime===r.endTime&&r.startTime<=e&&r.startTime+.5>=e&&t.push(r)}if(o=!1,t.length!==this.activeCues_.length)o=!0;else for(var s=0;s<t.length;s++)-1===this.activeCues_.indexOf(t[s])&&(o=!0);return this.activeCues_=t,a.setCues_(this.activeCues_),a},set:function(){}}}),i.src?(t.src=i.src,t.preload_||(t.loaded_=!0),(t.preload_||r||"subtitles"!==i.kind&&"captions"!==i.kind)&&ri(t.src,Me(t))):t.loaded_=!0,t}He(e,l);var t=e.prototype;return t.addCue=function(e){var t=e;if(y.vttjs&&!(e instanceof y.vttjs.VTTCue)){for(var i in t=new y.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)i in t||(t[i]=e[i]);t.id=e.id,t.originalCue_=e}for(var n=this.tech_.textTracks(),r=0;r<n.length;r++)n[r]!==this&&n[r].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},t.removeCue=function(e){for(var t=this.cues_.length;t--;){var i=this.cues_[t];if(i===e||i.originalCue_&&i.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},e}(Kt);si.prototype.allowedEvents_={cuechange:"cuechange"};var ai=function(r){function e(e){var t;void 0===e&&(e={});var i=Re(e,{kind:Wt[e.kind]||""});t=r.call(this,i)||this;var n=!1;return Object.defineProperty(Me(t),"enabled",{get:function(){return n},set:function(e){"boolean"==typeof e&&e!==n&&(n=e,this.trigger("enabledchange"))}}),i.enabled&&(t.enabled=i.enabled),t.loaded_=!0,t}return He(e,r),e}(Kt),oi=function(r){function e(e){var t;void 0===e&&(e={});var i=Re(e,{kind:qt[e.kind]||""});t=r.call(this,i)||this;var n=!1;return Object.defineProperty(Me(t),"selected",{get:function(){return n},set:function(e){"boolean"==typeof e&&e!==n&&(n=e,this.trigger("selectedchange"))}}),i.selected&&(t.selected=i.selected),t}return He(e,r),e}(Kt),ui=function(r){function e(e){var t,i;void 0===e&&(e={}),t=r.call(this)||this;var n=new si(e);return t.kind=n.kind,t.src=n.src,t.srclang=n.language,t.label=n.label,t.default=n.default,Object.defineProperties(Me(t),{readyState:{get:function(){return i}},track:{get:function(){return n}}}),i=0,n.addEventListener("loadeddata",function(){i=2,t.trigger({type:"load",target:Me(t)})}),t}return He(e,r),e}(ye);ui.prototype.allowedEvents_={load:"load"},ui.NONE=0,ui.LOADING=1,ui.LOADED=2,ui.ERROR=3;var li={audio:{ListClass:Bt,TrackClass:ai,capitalName:"Audio"},video:{ListClass:jt,TrackClass:oi,capitalName:"Video"},text:{ListClass:Ft,TrackClass:si,capitalName:"Text"}};Object.keys(li).forEach(function(e){li[e].getterName=e+"Tracks",li[e].privateName=e+"Tracks_"});var ci={remoteText:{ListClass:Ft,TrackClass:si,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Ht,TrackClass:ui,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},hi=r({},li,ci);ci.names=Object.keys(ci),li.names=Object.keys(li),hi.names=[].concat(ci.names).concat(li.names);var di=Object.create||function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return pi.prototype=e,new pi};function pi(){}function fi(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function mi(e){function t(e,t,i,n){return 3600*(0|e)+60*(0|t)+(0|i)+(0|n)/1e3}var i=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return i?i[3]?t(i[1],i[2],i[3].replace(":",""),i[4]):59<i[1]?t(i[1],i[2],0,i[4]):t(0,i[1],i[2],i[4]):null}function gi(){this.values=di(null)}function vi(e,t,i,n){var r=n?e.split(n):[e];for(var s in r)if("string"==typeof r[s]){var a=r[s].split(i);if(2===a.length)t(a[0],a[1])}}function yi(t,e,a){var i=t;function n(){var e=mi(t);if(null===e)throw new fi(fi.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function r(){t=t.replace(/^\s+/,"")}if(r(),e.startTime=n(),r(),"--\x3e"!==t.substr(0,3))throw new fi(fi.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);t=t.substr(3),r(),e.endTime=n(),r(),function(e,t){var s=new gi;vi(e,function(e,t){switch(e){case"region":for(var i=a.length-1;0<=i;i--)if(a[i].id===t){s.set(e,a[i].region);break}break;case"vertical":s.alt(e,t,["rl","lr"]);break;case"line":var n=t.split(","),r=n[0];s.integer(e,r),s.percent(e,r)&&s.set("snapToLines",!1),s.alt(e,r,["auto"]),2===n.length&&s.alt("lineAlign",n[1],["start","center","end"]);break;case"position":n=t.split(","),s.percent(e,n[0]),2===n.length&&s.alt("positionAlign",n[1],["start","center","end"]);break;case"size":s.percent(e,t);break;case"align":s.alt(e,t,["start","center","end","left","right"])}},/:/,/\s/),t.region=s.get("region",null),t.vertical=s.get("vertical","");try{t.line=s.get("line","auto")}catch(e){}t.lineAlign=s.get("lineAlign","start"),t.snapToLines=s.get("snapToLines",!0),t.size=s.get("size",100);try{t.align=s.get("align","center")}catch(e){t.align=s.get("align","middle")}try{t.position=s.get("position","auto")}catch(e){t.position=s.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=s.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(t,e)}((fi.prototype=di(Error.prototype)).constructor=fi).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},gi.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,i){for(var n=0;n<i.length;++n)if(t===i[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var _i=h.createElement("textarea"),bi={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Ti={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},Si={v:"title",lang:"lang"},ki={rt:"ruby"};function Ci(s,i){function e(){if(!i)return null;var e,t=i.match(/^([^<]*)(<[^>]*>?)?/);return e=t[1]?t[1]:t[2],i=i.substr(e.length),e}function t(e,t){var i=bi[e];if(!i)return null;var n=s.document.createElement(i),r=Si[e];return r&&t&&(n[r]=t.trim()),n}for(var n,r,a,o,u=s.document.createElement("div"),l=u,c=[];null!==(n=e());)if("<"!==n[0])l.appendChild(s.document.createTextNode((r=n,_i.innerHTML=r,r=_i.textContent,_i.textContent="",r)));else{if("/"===n[1]){c.length&&c[c.length-1]===n.substr(2).replace(">","")&&(c.pop(),l=l.parentNode);continue}var h,d=mi(n.substr(1,n.length-2));if(d){h=s.document.createProcessingInstruction("timestamp",d),l.appendChild(h);continue}var p=n.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!p)continue;if(!(h=t(p[1],p[3])))continue;if(a=l,ki[(o=h).localName]&&ki[o.localName]!==a.localName)continue;if(p[2]){var f=p[2].split(".");f.forEach(function(e){var t=/^bg_/.test(e),i=t?e.slice(3):e;if(Ti.hasOwnProperty(i)){var n=t?"background-color":"color",r=Ti[i];h.style[n]=r}}),h.className=f.join(" ")}c.push(p[1]),l.appendChild(h),l=h}return u}var Ei=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function wi(e){for(var t=0;t<Ei.length;t++){var i=Ei[t];if(e>=i[0]&&e<=i[1])return!0}return!1}function Li(){}function Pi(e,t,i){Li.call(this),this.cue=t,this.cueDiv=Ci(e,t.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=e.document.createElement("div"),n={direction:function(e){var t=[],i="";if(!e||!e.childNodes)return"ltr";function r(e,t){for(var i=t.childNodes.length-1;0<=i;i--)e.push(t.childNodes[i])}function s(e){if(!e||!e.length)return null;var t=e.pop(),i=t.textContent||t.innerText;if(i){var n=i.match(/^.*(\n|\r)/);return n?n[e.length=0]:i}return"ruby"===t.tagName?s(e):t.childNodes?(r(e,t),s(e)):void 0}for(r(t,e);i=s(t);)for(var n=0;n<i.length;n++)if(wi(i.charCodeAt(n)))return"rtl";return"ltr"}(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var r=0;switch(t.positionAlign){case"start":r=t.position;break;case"center":r=t.position-t.size/2;break;case"end":r=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function Ai(e){var t,i,n,r;if(e.div){i=e.div.offsetHeight,n=e.div.offsetWidth,r=e.div.offsetTop;var s=(s=e.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();e=e.div.getBoundingClientRect(),t=s?Math.max(s[0]&&s[0].height||0,e.height/s.length):0}this.left=e.left,this.right=e.right,this.top=e.top||r,this.height=e.height||i,this.bottom=e.bottom||r+(e.height||i),this.width=e.width||n,this.lineHeight=void 0!==t?t:e.lineHeight}function Ii(e,t,o,u){var i=new Ai(t),n=t.cue,r=function(e){if("number"==typeof e.line&&(e.snapToLines||0<=e.line&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,i=t.textTrackList,n=0,r=0;r<i.length&&i[r]!==t;r++)"showing"===i[r].mode&&n++;return-1*++n}(n),s=[];if(n.snapToLines){var a;switch(n.vertical){case"":s=["+y","-y"],a="height";break;case"rl":s=["+x","-x"],a="width";break;case"lr":s=["-x","+x"],a="width"}var l=i.lineHeight,c=l*Math.round(r),h=o[a]+l,d=s[0];Math.abs(c)>h&&(c=c<0?-1:1,c*=Math.ceil(h/l)*l),r<0&&(c+=""===n.vertical?o.height:o.width,s=s.reverse()),i.move(d,c)}else{var p=i.lineHeight/o.height*100;switch(n.lineAlign){case"center":r-=p/2;break;case"end":r-=p}switch(n.vertical){case"":t.applyStyles({top:t.formatStyle(r,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(r,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(r,"%")})}s=["+y","-x","+x","-y"],i=new Ai(t)}var f=function(e,t){for(var i,n=new Ai(e),r=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(o,t[s])||e.within(o)&&e.overlapsAny(u);)e.move(t[s]);if(e.within(o))return e;var a=e.intersectPercentage(o);a<r&&(i=new Ai(e),r=a),e=new Ai(n)}return i||n}(i,s);t.move(f.toCSSCompatValues(o))}function xi(){}Li.prototype.applyStyles=function(e,t){for(var i in t=t||this.div,e)e.hasOwnProperty(i)&&(t.style[i]=e[i])},Li.prototype.formatStyle=function(e,t){return 0===e?0:e+t},(Pi.prototype=di(Li.prototype)).constructor=Pi,Ai.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},Ai.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},Ai.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},Ai.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},Ai.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},Ai.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},Ai.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},Ai.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,i=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,n=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||n,height:e.height||t,bottom:e.bottom||n+(e.height||t),width:e.width||i}},xi.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},xi.convertCueToDOMTree=function(e,t){return e&&t?Ci(e,t):null};xi.processCues=function(n,r,e){if(!n||!r||!e)return null;for(;e.firstChild;)e.removeChild(e.firstChild);var s=n.document.createElement("div");if(s.style.position="absolute",s.style.left="0",s.style.right="0",s.style.top="0",s.style.bottom="0",s.style.margin="1.5%",e.appendChild(s),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(r)){var a=[],o=Ai.getSimpleBoxPosition(s),u={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var e,t,i=0;i<r.length;i++)t=r[i],e=new Pi(n,t,u),s.appendChild(e.div),Ii(0,e,o,a),t.displayState=e.div,a.push(Ai.getSimpleBoxPosition(e))}()}else for(var t=0;t<r.length;t++)s.appendChild(r[t].displayState)},(xi.Parser=function(e,t,i){i||(i=t,t={}),t=t||{},this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof fi))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var n=this;function t(){for(var e=n.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var i=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,n.buffer=e.substr(t),i}function i(e){e.match(/X-TIMESTAMP-MAP/)?vi(e,function(e,t){switch(e){case"X-TIMESTAMP-MAP":!function(e){var i=new gi;vi(e,function(e,t){switch(e){case"MPEGT":i.integer(e+"S",t);break;case"LOCA":i.set(e+"L",mi(t))}},/[^\d]:/,/,/),n.ontimestampmap&&n.ontimestampmap({MPEGTS:i.get("MPEGTS"),LOCAL:i.get("LOCAL")})}(t)}},/=/):vi(e,function(e,t){switch(e){case"Region":!function(e){var r=new gi;if(vi(e,function(e,t){switch(e){case"id":r.set(e,t);break;case"width":r.percent(e,t);break;case"lines":r.integer(e,t);break;case"regionanchor":case"viewportanchor":var i=t.split(",");if(2!==i.length)break;var n=new gi;if(n.percent("x",i[0]),n.percent("y",i[1]),!n.has("x")||!n.has("y"))break;r.set(e+"X",n.get("x")),r.set(e+"Y",n.get("y"));break;case"scroll":r.alt(e,t,["up"])}},/=/,/\s/),r.has("id")){var t=new(n.vttjs.VTTRegion||n.window.VTTRegion);t.width=r.get("width",100),t.lines=r.get("lines",3),t.regionAnchorX=r.get("regionanchorX",0),t.regionAnchorY=r.get("regionanchorY",100),t.viewportAnchorX=r.get("viewportanchorX",0),t.viewportAnchorY=r.get("viewportanchorY",100),t.scroll=r.get("scroll",""),n.onregion&&n.onregion(t),n.regionList.push({id:r.get("id"),region:t})}}(t)}},/:/)}e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));try{var r;if("INITIAL"===n.state){if(!/\r\n|\n/.test(n.buffer))return this;var s=(r=t()).match(/^WEBVTT([ \t].*)?$/);if(!s||!s[0])throw new fi(fi.Errors.BadSignature);n.state="HEADER"}for(var a=!1;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(a?a=!1:r=t(),n.state){case"HEADER":/:/.test(r)?i(r):r||(n.state="ID");continue;case"NOTE":r||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){n.state="NOTE";break}if(!r)continue;n.cue=new(n.vttjs.VTTCue||n.window.VTTCue)(0,0,"");try{n.cue.align="center"}catch(e){n.cue.align="middle"}if(n.state="CUE",-1===r.indexOf("--\x3e")){n.cue.id=r;continue}case"CUE":try{yi(r,n.cue,n.regionList)}catch(e){n.reportOrThrowError(e),n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var o=-1!==r.indexOf("--\x3e");if(!r||o&&(a=!0)){n.oncue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}n.cue.text&&(n.cue.text+="\n"),n.cue.text+=r.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":r||(n.state="ID");continue}}}catch(e){n.reportOrThrowError(e),"CUETEXT"===n.state&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state="INITIAL"===n.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),!t.cue&&"HEADER"!==t.state||(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new fi(fi.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var Oi=xi,Di={"":1,lr:1,rl:1},Ri={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function Ui(e){return"string"==typeof e&&(!!Ri[e.toLowerCase()]&&e.toLowerCase())}function Mi(e,t,i){this.hasBeenReset=!1;var n="",r=!1,s=e,a=t,o=i,u=null,l="",c=!0,h="auto",d="start",p="auto",f="auto",m=100,g="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(e){n=""+e}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(e){r=!!e}},startTime:{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");s=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");a=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(e){o=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(e){u=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return l},set:function(e){var t=function(e){return"string"==typeof e&&(!!Di[e.toLowerCase()]&&e.toLowerCase())}(e);if(!1===t)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");l=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(e){c=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return h},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");h=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return d},set:function(e){var t=Ui(e);t&&(d=t,this.hasBeenReset=!0)}},position:{enumerable:!0,get:function(){return p},set:function(e){if(e<0||100<e)throw new Error("Position must be between 0 and 100.");p=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return f},set:function(e){var t=Ui(e);t&&(f=t,this.hasBeenReset=!0)}},size:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||100<e)throw new Error("Size must be between 0 and 100.");m=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return g},set:function(e){var t=Ui(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");g=t,this.hasBeenReset=!0}}}),this.displayState=void 0}Mi.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Ni=Mi,Bi={"":!0,up:!0};function ji(e){return"number"==typeof e&&0<=e&&e<=100}function Fi(){var t=100,i=3,n=0,r=100,s=0,a=100,o="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!ji(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return i},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");i=e}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(e){if(!ji(e))throw new Error("RegionAnchorX must be between 0 and 100.");r=e}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(e){if(!ji(e))throw new Error("RegionAnchorY must be between 0 and 100.");n=e}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!ji(e))throw new Error("ViewportAnchorY must be between 0 and 100.");a=e}},viewportAnchorX:{enumerable:!0,get:function(){return s},set:function(e){if(!ji(e))throw new Error("ViewportAnchorX must be between 0 and 100.");s=e}},scroll:{enumerable:!0,get:function(){return o},set:function(e){var t=function(e){return"string"==typeof e&&(!!Bi[e.toLowerCase()]&&e.toLowerCase())}(e);!1===t||(o=t)}}})}var Hi=t(function(e){var t=e.exports={WebVTT:Oi,VTTCue:Ni,VTTRegion:Fi};y.vttjs=t,y.WebVTT=t.WebVTT;var i=t.VTTCue,n=t.VTTRegion,r=y.VTTCue,s=y.VTTRegion;t.shim=function(){y.VTTCue=i,y.VTTRegion=n},t.restore=function(){y.VTTCue=r,y.VTTRegion=s},y.VTTCue||t.shim()});Hi.WebVTT,Hi.VTTCue,Hi.VTTRegion;var Vi=function(t){function i(i,e){var n;return void 0===i&&(i={}),void 0===e&&(e=function(){}),i.reportTouchActivity=!1,(n=t.call(this,null,i,e)||this).hasStarted_=!1,n.on("playing",function(){this.hasStarted_=!0}),n.on("loadstart",function(){this.hasStarted_=!1}),hi.names.forEach(function(e){var t=hi[e];i&&i[t.getterName]&&(n[t.privateName]=i[t.getterName])}),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===i["native"+e+"Tracks"]&&(n["featuresNative"+e+"Tracks"]=!1)}),!1===i.nativeCaptions||!1===i.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==i.nativeCaptions&&!0!==i.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.preloadTextTracks=!1!==i.preloadTextTracks,n.autoRemoteTextTracks_=new hi.text.ListClass,n.initTrackListeners(),i.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}He(i,t);var e=i.prototype;return e.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},e.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},e.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},e.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(ge(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),1===(this.bufferedPercent_=e)&&this.stopTrackingProgress()}),500)},e.onDurationChange=function(e){this.duration_=this.duration()},e.buffered=function(){return ht(0,0)},e.bufferedPercent=function(){return dt(this.buffered(),this.duration_)},e.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},e.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},e.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},e.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},e.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.dispose=function(){this.clearTracks(li.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},e.clearTracks=function(e){var r=this;(e=[].concat(e)).forEach(function(e){for(var t=r[e+"Tracks"]()||[],i=t.length;i--;){var n=t[i];"text"===e&&r.removeRemoteTextTrack(n),t.removeTrack(n)}})},e.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var i=e[t];this.removeRemoteTextTrack(i)}},e.reset=function(){},e.error=function(e){return void 0!==e&&(this.error_=new _t(e),this.trigger("error")),this.error_},e.played=function(){return this.hasStarted_?ht(0,0):ht()},e.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.initTrackListeners=function(){var r=this;li.names.forEach(function(e){function t(){r.trigger(e+"trackchange")}var i=li[e],n=r[i.getterName]();n.addEventListener("removetrack",t),n.addEventListener("addtrack",t),r.on("dispose",function(){n.removeEventListener("removetrack",t),n.removeEventListener("addtrack",t)})})},e.addWebVttScript_=function(){var e=this;if(!y.WebVTT)if(h.body.contains(this.el())){if(!this.options_["vtt.js"]&&u(Hi)&&0<Object.keys(Hi).length)return void this.trigger("vttjsloaded");var t=h.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),y.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},e.emulateTextTracks=function(){function t(e){return n.addTrack(e.track)}function i(e){return n.removeTrack(e.track)}var e=this,n=this.textTracks(),r=this.remoteTextTracks();r.on("addtrack",t),r.on("removetrack",i),this.addWebVttScript_();function s(){return e.trigger("texttrackchange")}function a(){s();for(var e=0;e<n.length;e++){var t=n[e];t.removeEventListener("cuechange",s),"showing"===t.mode&&t.addEventListener("cuechange",s)}}a(),n.addEventListener("change",a),n.addEventListener("addtrack",a),n.addEventListener("removetrack",a),this.on("dispose",function(){r.off("addtrack",t),r.off("removetrack",i),n.removeEventListener("change",a),n.removeEventListener("addtrack",a),n.removeEventListener("removetrack",a);for(var e=0;e<n.length;e++){n[e].removeEventListener("cuechange",s)}})},e.addTextTrack=function(e,t,i){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,i,n,r){void 0===r&&(r={});var s=e.textTracks();r.kind=t,i&&(r.label=i),n&&(r.language=n),r.tech=e;var a=new hi.text.TrackClass(r);return s.addTrack(a),a}(this,e,t,i)},e.createRemoteTextTrack=function(e){var t=Re(e,{tech:this});return new ci.remoteTextEl.TrackClass(t)},e.addRemoteTextTrack=function(e,t){var i=this;void 0===e&&(e={});var n=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(p.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!0!==t&&this.ready(function(){return i.autoRemoteTextTracks_.addTrack(n.track)}),n},e.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},e.getVideoPlaybackQuality=function(){return{}},e.requestPictureInPicture=function(){var e=this.options_.Promise||y.Promise;if(e)return e.reject()},e.setPoster=function(){},e.playsinline=function(){},e.setPlaysinline=function(){},e.overrideNativeAudioTracks=function(){},e.overrideNativeVideoTracks=function(){},e.canPlayType=function(){return""},i.canPlayType=function(){return""},i.canPlaySource=function(e,t){return i.canPlayType(e.type)},i.isTech=function(e){return e.prototype instanceof i||e instanceof i||e===i},i.registerTech=function(e,t){if(i.techs_||(i.techs_={}),!i.isTech(t))throw new Error("Tech "+e+" must be a Tech");if(!i.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!i.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=De(e),i.techs_[e]=t,i.techs_[Oe(e)]=t,"Tech"!==e&&i.defaultTechOrder_.push(e),t},i.getTech=function(e){if(e)return i.techs_&&i.techs_[e]?i.techs_[e]:(e=De(e),y&&y.videojs&&y.videojs[e]?(p.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),y.videojs[e]):void 0)},i}(Ue);hi.names.forEach(function(e){var t=hi[e];Vi.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),Vi.prototype.featuresVolumeControl=!0,Vi.prototype.featuresMuteControl=!0,Vi.prototype.featuresFullscreenResize=!1,Vi.prototype.featuresPlaybackRate=!1,Vi.prototype.featuresProgressEvents=!1,Vi.prototype.featuresSourceset=!1,Vi.prototype.featuresTimeupdateEvents=!1,Vi.prototype.featuresNativeTextTracks=!1,Vi.withSourceHandlers=function(r){r.registerSourceHandler=function(e,t){var i=r.sourceHandlers;i=i||(r.sourceHandlers=[]),void 0===t&&(t=i.length),i.splice(t,0,e)},r.canPlayType=function(e){for(var t,i=r.sourceHandlers||[],n=0;n<i.length;n++)if(t=i[n].canPlayType(e))return t;return""},r.selectSourceHandler=function(e,t){for(var i=r.sourceHandlers||[],n=0;n<i.length;n++)if(i[n].canHandleSource(e,t))return i[n];return null},r.canPlaySource=function(e,t){var i=r.selectSourceHandler(e,t);return i?i.canHandleSource(e,t):""};["seekable","seeking","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},r.prototype),r.prototype.setSource=function(e){var t=r.selectSourceHandler(e,this.options_);t||(r.nativeSourceHandler?t=r.nativeSourceHandler:p.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),t!==r.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=t.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler)},r.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Ue.registerComponent("Tech",Vi),Vi.registerTech("Tech",Vi),Vi.defaultTechOrder_=[];var qi={},Wi={},zi={};function Gi(e,t,i){e.setTimeout(function(){return function i(n,e,r,s,a,o){void 0===n&&(n={});void 0===e&&(e=[]);void 0===a&&(a=[]);void 0===o&&(o=!1);var t=e,u=t[0],l=t.slice(1);if("string"==typeof u)i(n,qi[u],r,s,a,o);else if(u){var c=Ji(s,u);if(!c.setSource)return a.push(c),i(n,l,r,s,a,o);c.setSource(m({},n),function(e,t){if(e)return i(n,l,r,s,a,o);a.push(c),i(t,n.type===t.type?l:qi[t.type],r,s,a,o)})}else l.length?i(n,l,r,s,a,o):o?r(n,a):i(n,qi["*"],r,s,a,!0)}(t,qi[t.type],i,e)},1)}function Ki(e,t,i,n){void 0===n&&(n=null);var r="call"+De(i),s=e.reduce(Qi(r),n),a=s===zi,o=a?null:t[i](s);return function(e,t,i,n){for(var r=e.length-1;0<=r;r--){var s=e[r];s[t]&&s[t](n,i)}}(e,i,o,a),o}var Xi={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1},Yi={setCurrentTime:1,setMuted:1,setVolume:1},$i={play:1,pause:1};function Qi(i){return function(e,t){return e===zi?zi:t[i]?t[i](e):e}}function Ji(e,t){var i=Wi[e.id()],n=null;if(null==i)return n=t(e),Wi[e.id()]=[[t,n]],n;for(var r=0;r<i.length;r++){var s=i[r],a=s[0],o=s[1];a===t&&(n=o)}return null===n&&(n=t(e),i.push([t,n])),n}function Zi(e){void 0===e&&(e="");var t=Mt(e);return en[t.toLowerCase()]||""}var en={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"};function tn(e){if(!e.type){var t=Zi(e.src);t&&(e.type=t)}return e}var nn=function(l){function e(e,t,i){var n,r=Re({createEl:!1},t);if(n=l.call(this,e,r,i)||this,t.playerOptions.sources&&0!==t.playerOptions.sources.length)e.src(t.playerOptions.sources);else for(var s=0,a=t.playerOptions.techOrder;s<a.length;s++){var o=De(a[s]),u=Vi.getTech(o);if(o||(u=Ue.getComponent(o)),u&&u.isSupported()){e.loadTech_(o);break}}return n}return He(e,l),e}(Ue);Ue.registerComponent("MediaLoader",nn);var rn=function(r){function e(e,t){var i;return(i=r.call(this,e,t)||this).emitTapEvents(),i.enable(),i}He(e,r);var t=e.prototype;return t.createEl=function(e,t,i){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===i&&(i={}),t=m({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&p.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),i=m({role:"button"},i),this.tabIndex_=t.tabIndex;var n=r.prototype.createEl.call(this,e,t,i);return this.createControlTextEl(n),n},t.dispose=function(){this.controlTextEl_=null,r.prototype.dispose.call(this)},t.createControlTextEl=function(e){return this.controlTextEl_=S("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},t.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var i=this.localize(e);this.controlText_=e,k(this.controlTextEl_,i),this.nonIconControl||t.setAttribute("title",i)},t.buildCSSClass=function(){return"vjs-control vjs-button "+r.prototype.buildCSSClass.call(this)},t.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},t.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},t.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},t.handleKeyDown=function(e){Lt.isEventKey(e,"Space")||Lt.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):r.prototype.handleKeyDown.call(this,e)},e}(Ue);Ue.registerComponent("ClickableComponent",rn);var sn=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).update(),e.on("posterchange",ge(Me(i),i.update)),i}He(e,n);var t=e.prototype;return t.dispose=function(){this.player().off("posterchange",this.update),n.prototype.dispose.call(this)},t.createEl=function(){return S("div",{className:"vjs-poster",tabIndex:-1})},t.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},t.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},t.handleClick=function(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?kt(this.player_.play()):this.player_.pause())},e}(rn);Ue.registerComponent("PosterImage",sn);var an="#222",on={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function un(e,t){var i;if(4===e.length)i=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");i=e.slice(1)}return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+t+")"}function ln(e,t,i){try{e.style[t]=i}catch(e){return}}var cn=function(s){function e(i,e,t){var n;n=s.call(this,i,e,t)||this;var r=ge(Me(n),n.updateDisplay);return i.on("loadstart",ge(Me(n),n.toggleDisplay)),i.on("texttrackchange",r),i.on("loadedmetadata",ge(Me(n),n.preselectTrack)),i.ready(ge(Me(n),function(){if(i.tech_&&i.tech_.featuresNativeTextTracks)this.hide();else{i.on("fullscreenchange",r),i.on("playerresize",r),y.addEventListener("orientationchange",r),i.on("dispose",function(){return y.removeEventListener("orientationchange",r)});for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);this.preselectTrack()}})),n}He(e,s);var t=e.prototype;return t.preselectTrack=function(){for(var e,t,i,n={captions:1,subtitles:1},r=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,a=0;a<r.length;a++){var o=r[a];s&&s.enabled&&s.language&&s.language===o.language&&o.kind in n?i=o.kind===s.kind?o:i||o:s&&!s.enabled?t=e=i=null:o.default&&("descriptions"!==o.kind||e?o.kind in n&&!t&&(t=o):e=o)}i?i.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},t.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},t.clearDisplay=function(){"function"==typeof y.WebVTT&&y.WebVTT.processCues(y,[],this.el_)},t.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var i=[],n=0;n<e.length;++n){var r=e[n];"showing"===r.mode&&i.push(r)}this.updateForTrack(i)}else{for(var s=null,a=null,o=e.length;o--;){var u=e[o];"showing"===u.mode&&("descriptions"===u.kind?s=u:a=u)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):s&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(s))}},t.updateDisplayState=function(e){for(var t=this.player_.textTrackSettings.getValues(),i=e.activeCues,n=i.length;n--;){var r=i[n];if(r){var s=r.displayState;if(t.color&&(s.firstChild.style.color=t.color),t.textOpacity&&ln(s.firstChild,"color",un(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(s.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&ln(s.firstChild,"backgroundColor",un(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?ln(s,"backgroundColor",un(t.windowColor,t.windowOpacity)):s.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?s.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+an:"raised"===t.edgeStyle?s.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+an:"depressed"===t.edgeStyle?s.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+an:"uniform"===t.edgeStyle&&(s.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+an)),t.fontPercent&&1!==t.fontPercent){var a=y.parseFloat(s.style.fontSize);s.style.fontSize=a*t.fontPercent+"px",s.style.height="auto",s.style.top="auto",s.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=on[t.fontFamily])}}},t.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof y.WebVTT&&!e.every(function(e){return!e.activeCues})){for(var t=[],i=0;i<e.length;++i)for(var n=e[i],r=0;r<n.activeCues.length;++r)t.push(n.activeCues[r]);y.WebVTT.processCues(y,t,this.el_);for(var s=0;s<e.length;++s){for(var a=e[s],o=0;o<a.activeCues.length;++o){var u=a.activeCues[o].displayState;w(u,"vjs-text-track-cue"),w(u,"vjs-text-track-cue-"+(a.language?a.language:s))}this.player_.textTrackSettings&&this.updateDisplayState(a)}}},e}(Ue);Ue.registerComponent("TextTrackDisplay",cn);var hn=function(r){function e(){return r.apply(this,arguments)||this}return He(e,r),e.prototype.createEl=function(){var e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),i=S("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[t])}),n=r.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return n.appendChild(i),n},e}(Ue);Ue.registerComponent("LoadingSpinner",hn);var dn=function(t){function e(){return t.apply(this,arguments)||this}He(e,t);var i=e.prototype;return i.createEl=function(e,t,i){void 0===t&&(t={}),void 0===i&&(i={}),t=m({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),i=m({type:"button"},i);var n=Ue.prototype.createEl.call(this,"button",t,i);return this.createControlTextEl(n),n},i.addChild=function(e,t){void 0===t&&(t={});var i=this.constructor.name;return p.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),Ue.prototype.addChild.call(this,e,t)},i.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},i.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},i.handleKeyDown=function(e){Lt.isEventKey(e,"Space")||Lt.isEventKey(e,"Enter")?e.stopPropagation():t.prototype.handleKeyDown.call(this,e)},e}(rn);Ue.registerComponent("Button",dn);var pn=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).mouseused_=!1,i.on("mousedown",i.handleMouseDown),i}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-big-play-button"},t.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var i=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&0<this.player_.eme.sessions.length;return kt(t),void(!this.player_.tech(!0)||(et||Qe)&&i||this.player_.tech(!0).focus())}var n=this.player_.getChild("controlBar"),r=n&&n.getChild("playToggle");if(r){var s=function(){return r.focus()};St(t)?t.then(s,function(){}):this.setTimeout(s,1)}else this.player_.tech(!0).focus()},t.handleKeyDown=function(e){this.mouseused_=!1,n.prototype.handleKeyDown.call(this,e)},t.handleMouseDown=function(e){this.mouseused_=!0},e}(dn);pn.prototype.controlText_="Play Video",Ue.registerComponent("BigPlayButton",pn);var fn=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).controlText(t&&t.controlText||i.localize("Close")),i}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-close-button "+n.prototype.buildCSSClass.call(this)},t.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},t.handleKeyDown=function(e){Lt.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):n.prototype.handleKeyDown.call(this,e)},e}(dn);Ue.registerComponent("CloseButton",fn);var mn=function(n){function e(e,t){var i;return void 0===t&&(t={}),i=n.call(this,e,t)||this,t.replay=void 0===t.replay||t.replay,i.on(e,"play",i.handlePlay),i.on(e,"pause",i.handlePause),t.replay&&i.on(e,"ended",i.handleEnded),i}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-play-control "+n.prototype.buildCSSClass.call(this)},t.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},t.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},e}(dn);mn.prototype.controlText_="Play",Ue.registerComponent("PlayToggle",mn);function gn(e,t){e=e<0?0:e;var i=Math.floor(e%60),n=Math.floor(e/60%60),r=Math.floor(e/3600),s=Math.floor(t/60%60),a=Math.floor(t/3600);return!isNaN(e)&&e!==1/0||(r=n=i="-"),(r=0<r||0<a?r+":":"")+(n=((r||10<=s)&&n<10?"0"+n:n)+":")+(i=i<10?"0"+i:i)}var vn=gn;function yn(e,t){return void 0===t&&(t=e),vn(e,t)}var _n=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).on(e,["timeupdate","ended"],i.updateContent),i.updateTextNode_(),i}He(e,n);var t=e.prototype;return t.createEl=function(){var e=this.buildCSSClass(),t=n.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=S("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),t.appendChild(this.contentEl_),t},t.dispose=function(){this.contentEl_=null,this.textNode_=null,n.prototype.dispose.call(this)},t.updateTextNode_=function(e){var t=this;void 0===e&&(e=0),e=yn(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestAnimationFrame(function(){if(t.contentEl_){var e=t.textNode_;t.textNode_=h.createTextNode(t.formattedTime_),t.textNode_&&(e?t.contentEl_.replaceChild(t.textNode_,e):t.contentEl_.appendChild(t.textNode_))}}))},t.updateContent=function(e){},e}(Ue);_n.prototype.labelText_="Time",_n.prototype.controlText_="Time",Ue.registerComponent("TimeDisplay",_n);var bn=function(e){function t(){return e.apply(this,arguments)||this}He(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-current-time"},i.updateContent=function(e){var t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)},t}(_n);bn.prototype.labelText_="Current Time",bn.prototype.controlText_="Current Time",Ue.registerComponent("CurrentTimeDisplay",bn);var Tn=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).on(e,"durationchange",i.updateContent),i.on(e,"loadstart",i.updateContent),i.on(e,"loadedmetadata",i.updateContent),i}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-duration"},t.updateContent=function(e){var t=this.player_.duration();this.updateTextNode_(t)},e}(_n);Tn.prototype.labelText_="Duration",Tn.prototype.controlText_="Duration",Ue.registerComponent("DurationDisplay",Tn);var Sn=function(e){function t(){return e.apply(this,arguments)||this}return He(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},t}(Ue);Ue.registerComponent("TimeDivider",Sn);var kn=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).on(e,"durationchange",i.updateContent),i}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-remaining-time"},t.createEl=function(){var e=n.prototype.createEl.call(this);return e.insertBefore(S("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},t.updateContent=function(e){var t;"number"==typeof this.player_.duration()&&(t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t))},e}(_n);kn.prototype.labelText_="Remaining Time",kn.prototype.controlText_="Remaining Time",Ue.registerComponent("RemainingTimeDisplay",kn);var Cn=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}He(e,n);var t=e.prototype;return t.createEl=function(){var e=n.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=S("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},t.dispose=function(){this.contentEl_=null,n.prototype.dispose.call(this)},t.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},e}(Ue);Ue.registerComponent("LiveDisplay",Cn);var En=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).updateLiveEdgeStatus(),i.player_.liveTracker&&i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatus),i}He(e,n);var t=e.prototype;return t.createEl=function(){var e=n.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=S("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},t.updateLiveEdgeStatus=function(e){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},t.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},t.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,n.prototype.dispose.call(this)},e}(dn);En.prototype.controlText_="Seek to live, currently playing live",Ue.registerComponent("SeekToLive",En);function wn(e,t,i){return e=Number(e),Math.min(i,Math.max(t,isNaN(e)?t:e))}var Ln=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}He(e,n);var t=e.prototype;return t.enabled=function(){return this.enabled_},t.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},t.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},t.createEl=function(e,t,i){return void 0===t&&(t={}),void 0===i&&(i={}),t.className=t.className+" vjs-slider",t=m({tabIndex:0},t),i=m({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),n.prototype.createEl.call(this,e,t,i)},t.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||Je||e.preventDefault(),R(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.handleMouseMove=function(e){},t.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;U(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},t.update=function(){var t=this;if(this.el_&&this.bar){var i=this.getProgress();return i===this.progress_||(this.progress_=i,this.requestAnimationFrame(function(){var e=t.vertical()?"height":"width";t.bar.el().style[e]=(100*i).toFixed(2)+"%"})),i}},t.getProgress=function(){return Number(wn(this.getPercent(),0,1).toFixed(4))},t.calculateDistance=function(e){var t=B(this.el_,e);return this.vertical()?t.y:t.x},t.handleKeyDown=function(e){Lt.isEventKey(e,"Left")||Lt.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):Lt.isEventKey(e,"Right")||Lt.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):n.prototype.handleKeyDown.call(this,e)},t.handleClick=function(e){e.stopPropagation(),e.preventDefault()},t.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(Ue);Ue.registerComponent("Slider",Ln);function Pn(e,t){return wn(e/t*100,0,100).toFixed(2)+"%"}var An=function(r){function e(e,t){var i;return(i=r.call(this,e,t)||this).partEls_=[],i.on(e,"progress",i.update),i}He(e,r);var t=e.prototype;return t.createEl=function(){var e=r.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),t=S("span",{className:"vjs-control-text"}),i=S("span",{textContent:this.localize("Loaded")}),n=h.createTextNode(": ");return this.percentageEl_=S("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(t),t.appendChild(i),t.appendChild(n),t.appendChild(this.percentageEl_),e},t.dispose=function(){this.partEls_=null,this.percentageEl_=null,r.prototype.dispose.call(this)},t.update=function(e){var h=this;this.requestAnimationFrame(function(){var e=h.player_.liveTracker,t=h.player_.buffered(),i=e&&e.isLive()?e.seekableEnd():h.player_.duration(),n=h.player_.bufferedEnd(),r=h.partEls_,s=Pn(n,i);h.percent_!==s&&(h.el_.style.width=s,k(h.percentageEl_,s),h.percent_=s);for(var a=0;a<t.length;a++){var o=t.start(a),u=t.end(a),l=r[a];l||(l=h.el_.appendChild(S()),r[a]=l),l.dataset.start===o&&l.dataset.end===u||(l.dataset.start=o,l.dataset.end=u,l.style.left=Pn(o,n),l.style.width=Pn(u-o,n))}for(var c=r.length;c>t.length;c--)h.el_.removeChild(r[c-1]);r.length=t.length})},e}(Ue);Ue.registerComponent("LoadProgressBar",An);var In=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).update=ve(ge(Me(i),i.update),30),i}He(e,n);var t=e.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},t.update=function(e,t,i){var n=M(this.el_),r=M(this.player_.el()),s=e.width*t;if(r&&n){var a=e.left-r.left+s,o=e.width-s+(r.right-e.right),u=n.width/2;a<u?u+=u-a:o<u&&(u=o),u<0?u=0:u>n.width&&(u=n.width),this.el_.style.right="-"+u+"px",this.write(i)}},t.write=function(e){k(this.el_,e)},t.updateTime=function(r,s,a,o){var u=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var e,t=u.player_.duration();if(u.player_.liveTracker&&u.player_.liveTracker.isLive()){var i=u.player_.liveTracker.liveWindow(),n=i-s*i;e=(n<1?"":"-")+yn(n,i)}else e=yn(a,t);u.update(r,s,e),o&&o()})},e}(Ue);Ue.registerComponent("TimeTooltip",In);var xn=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).update=ve(ge(Me(i),i.update),30),i}He(e,n);var t=e.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},t.update=function(e,t){var i=this.getChild("timeTooltip");if(i){var n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();i.updateTime(e,t,n)}},e}(Ue);xn.prototype.options_={children:[]},at||Ke||xn.prototype.options_.children.push("timeTooltip"),Ue.registerComponent("PlayProgressBar",xn);var On=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).update=ve(ge(Me(i),i.update),30),i}He(e,n);var t=e.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.update=function(e,t){var i=this,n=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,n,function(){i.el_.style.left=e.width*t+"px"})},e}(Ue);On.prototype.options_={children:["timeTooltip"]},Ue.registerComponent("MouseTimeDisplay",On);var Dn=function(s){function e(e,t){var i;return(i=s.call(this,e,t)||this).setEventHandlers_(),i}He(e,s);var t=e.prototype;return t.setEventHandlers_=function(){this.update_=ge(this,this.update),this.update=ve(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in h&&"visibilityState"in h&&this.on(h,"visibilitychange",this.toggleVisibility_)},t.toggleVisibility_=function(e){h.hidden?this.disableInterval_(e):(this.enableInterval_(),this.update())},t.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},t.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},t.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},t.update=function(e){var n=this,r=s.prototype.update.call(this);return this.requestAnimationFrame(function(){var e=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),t=n.player_.liveTracker,i=n.player_.duration();t&&t.isLive()&&(i=n.player_.liveTracker.liveCurrentTime()),n.percent_!==r&&(n.el_.setAttribute("aria-valuenow",(100*r).toFixed(2)),n.percent_=r),n.currentTime_===e&&n.duration_===i||(n.el_.setAttribute("aria-valuetext",n.localize("progress bar timing: currentTime={1} duration={2}",[yn(e,i),yn(i,i)],"{1} of {2}")),n.currentTime_=e,n.duration_=i),n.bar&&n.bar.update(M(n.el()),n.getProgress())}),r},t.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},t.getPercent=function(){var e,t=this.getCurrentTime_(),i=this.player_.liveTracker;return i&&i.isLive()?(e=(t-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e},t.handleMouseDown=function(e){W(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),s.prototype.handleMouseDown.call(this,e))},t.handleMouseMove=function(e){if(W(e)){var t,i=this.calculateDistance(e),n=this.player_.liveTracker;if(n&&n.isLive()){var r=n.seekableStart(),s=n.liveCurrentTime();if(s<=(t=r+i*n.liveWindow())&&(t=s),t<=r&&(t=r+.1),t===1/0)return}else(t=i*this.player_.duration())===this.player_.duration()&&(t-=.1);this.player_.currentTime(t)}},t.enable=function(){s.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},t.disable=function(){s.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},t.handleMouseUp=function(e){s.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?kt(this.player_.play()):this.update_()},t.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},t.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},t.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.handleKeyDown=function(e){if(Lt.isEventKey(e,"Space")||Lt.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(Lt.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(0);else if(Lt.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(Lt(e))){e.preventDefault(),e.stopPropagation();var t=10*(Lt.codes[Lt(e)]-Lt.codes[0])/100;this.player_.currentTime(this.player_.duration()*t)}else Lt.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):Lt.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):s.prototype.handleKeyDown.call(this,e)},e}(Ln);Dn.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},at||Ke||Dn.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Ue.registerComponent("SeekBar",Dn);var Rn=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).handleMouseMove=ve(ge(Me(i),i.handleMouseMove),30),i.throttledHandleMouseSeek=ve(ge(Me(i),i.handleMouseSeek),30),i.enable(),i}He(e,n);var t=e.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var i=t.getChild("playProgressBar"),n=t.getChild("mouseTimeDisplay");if(i||n){var r=t.el(),s=M(r),a=B(r,e).x;a=wn(0,1,a),n&&n.update(s,a),i&&i.update(s,t.getProgress())}}},t.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},t.enabled=function(){return this.enabled_},t.disable=function(){this.children().forEach(function(e){return e.disable&&e.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},t.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},t.handleMouseDown=function(e){var t=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},t.handleMouseUp=function(e){var t=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},e}(Ue);Rn.prototype.options_={children:["seekBar"]},Ue.registerComponent("ProgressControl",Rn);var Un=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).on(e,["enterpictureinpicture","leavepictureinpicture"],i.handlePictureInPictureChange),h.pictureInPictureEnabled||i.disable(),i}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-picture-in-picture-control "+n.prototype.buildCSSClass.call(this)},t.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture")},t.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(dn);Un.prototype.controlText_="Picture-in-Picture",Ue.registerComponent("PictureInPictureToggle",Un);var Mn=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).on(e,"fullscreenchange",i.handleFullscreenChange),!1===h[e.fsApi_.fullscreenEnabled]&&i.disable(),i}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-fullscreen-control "+n.prototype.buildCSSClass.call(this)},t.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(dn);Mn.prototype.controlText_="Fullscreen",Ue.registerComponent("FullscreenToggle",Mn);var Nn=function(e){function t(){return e.apply(this,arguments)||this}return He(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(Ue);Ue.registerComponent("VolumeLevel",Nn);var Bn=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).on("slideractive",i.updateLastVolume_),i.on(e,"volumechange",i.updateARIAAttributes),e.ready(function(){return i.updateARIAAttributes()}),i}He(e,n);var t=e.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},t.handleMouseDown=function(e){W(e)&&n.prototype.handleMouseDown.call(this,e)},t.handleMouseMove=function(e){W(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},t.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},t.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},t.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},e}(Ln);Bn.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Bn.prototype.playerEvent="volumechange",Ue.registerComponent("VolumeBar",Bn);var jn=function(n){function e(e,t){var i;return void 0===t&&(t={}),t.vertical=t.vertical||!1,"undefined"!=typeof t.volumeBar&&!u(t.volumeBar)||(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),i=n.call(this,e,t)||this,function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})}(Me(i),e),i.throttledHandleMouseMove=ve(ge(Me(i),i.handleMouseMove),30),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")}),i.on(i.volumeBar,["blur","sliderinactive"],function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")}),i}He(e,n);var t=e.prototype;return t.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},t.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},t.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},e}(Ue);jn.prototype.options_={children:["volumeBar"]},Ue.registerComponent("VolumeControl",jn);var Fn=function(n){function e(e,t){var i;return i=n.call(this,e,t)||this,function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})}(Me(i),e),i.on(e,["loadstart","volumechange"],i.update),i}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-mute-control "+n.prototype.buildCSSClass.call(this)},t.handleClick=function(e){var t=this.player_.volume(),i=this.player_.lastVolume_();if(0===t){var n=i<.1?.1:i;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},t.update=function(e){this.updateIcon_(),this.updateControlText_()},t.updateIcon_=function(){var e=this.player_.volume(),t=3;at&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var i=0;i<4;i++)L(this.el_,"vjs-vol-"+i);w(this.el_,"vjs-vol-"+t)},t.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},e}(dn);Fn.prototype.controlText_="Mute",Ue.registerComponent("MuteToggle",Fn);var Hn=function(n){function e(e,t){var i;return void 0===t&&(t={}),"undefined"!=typeof t.inline?t.inline=t.inline:t.inline=!0,"undefined"!=typeof t.volumeControl&&!u(t.volumeControl)||(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),(i=n.call(this,e,t)||this).on(e,["loadstart"],i.volumePanelState_),i.on(i.muteToggle,"keyup",i.handleKeyPress),i.on(i.volumeControl,"keyup",i.handleVolumeControlKeyUp),i.on("keydown",i.handleKeyPress),i.on("mouseover",i.handleMouseOver),i.on("mouseout",i.handleMouseOut),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}He(e,n);var t=e.prototype;return t.sliderActive_=function(){this.addClass("vjs-slider-active")},t.sliderInactive_=function(){this.removeClass("vjs-slider-active")},t.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},t.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},t.dispose=function(){this.handleMouseOut(),n.prototype.dispose.call(this)},t.handleVolumeControlKeyUp=function(e){Lt.isEventKey(e,"Esc")&&this.muteToggle.focus()},t.handleMouseOver=function(e){this.addClass("vjs-hover"),he(h,"keyup",ge(this,this.handleKeyPress))},t.handleMouseOut=function(e){this.removeClass("vjs-hover"),de(h,"keyup",ge(this,this.handleKeyPress))},t.handleKeyPress=function(e){Lt.isEventKey(e,"Esc")&&this.handleMouseOut()},e}(Ue);Hn.prototype.options_={children:["muteToggle","volumeControl"]},Ue.registerComponent("VolumePanel",Hn);var Vn=function(n){function e(e,t){var i;return i=n.call(this,e,t)||this,t&&(i.menuButton_=t.menuButton),i.focusedChild_=-1,i.on("keydown",i.handleKeyDown),i.boundHandleBlur_=ge(Me(i),i.handleBlur),i.boundHandleTapClick_=ge(Me(i),i.handleTapClick),i}He(e,n);var t=e.prototype;return t.addEventListenerForItem=function(e){e instanceof Ue&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},t.removeEventListenerForItem=function(e){e instanceof Ue&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},t.removeChild=function(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),n.prototype.removeChild.call(this,e)},t.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},t.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=S(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var t=n.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),he(t,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),t},t.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,n.prototype.dispose.call(this)},t.handleBlur=function(e){var t=e.relatedTarget||h.activeElement;if(!this.children().some(function(e){return e.el()===t})){var i=this.menuButton_;i&&i.buttonPressed_&&t!==i.el().firstChild&&i.unpressButton()}},t.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var e=this.children();if(!Array.isArray(e))return;var i=e.filter(function(e){return e.el()===t.target})[0];if(!i)return;"CaptionSettingsMenuItem"!==i.name()&&this.menuButton_.focus()}},t.handleKeyDown=function(e){Lt.isEventKey(e,"Left")||Lt.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(Lt.isEventKey(e,"Right")||Lt.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},t.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},t.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},t.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),0<t.length&&(e<0?e=0:e>=t.length&&(e=t.length-1),t[this.focusedChild_=e].el_.focus())},e}(Ue);Ue.registerComponent("Menu",Vn);var qn=function(r){function e(e,t){var i;void 0===t&&(t={}),(i=r.call(this,e,t)||this).menuButton_=new dn(e,t),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var n=dn.prototype.buildCSSClass();return i.menuButton_.el_.className=i.buildCSSClass()+" "+n,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0,i.on(i.menuButton_,"tap",i.handleClick),i.on(i.menuButton_,"click",i.handleClick),i.on(i.menuButton_,"keydown",i.handleKeyDown),i.on(i.menuButton_,"mouseenter",function(){i.addClass("vjs-hover"),i.menu.show(),he(h,"keyup",ge(Me(i),i.handleMenuKeyUp))}),i.on("mouseleave",i.handleMouseLeave),i.on("keydown",i.handleSubmenuKeyDown),i}He(e,r);var t=e.prototype;return t.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},t.createMenu=function(){var e=new Vn(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=S("li",{className:"vjs-menu-title",innerHTML:De(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var i=new Ue(this.player_,{el:t});e.addItem(i)}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},t.createItems=function(){},t.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},t.buildWrapperCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+dn.prototype.buildCSSClass()+" "+r.prototype.buildCSSClass.call(this)},t.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+r.prototype.buildCSSClass.call(this)},t.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},t.dispose=function(){this.handleMouseLeave(),r.prototype.dispose.call(this)},t.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},t.handleMouseLeave=function(e){this.removeClass("vjs-hover"),de(h,"keyup",ge(this,this.handleMenuKeyUp))},t.focus=function(){this.menuButton_.focus()},t.blur=function(){this.menuButton_.blur()},t.handleKeyDown=function(e){Lt.isEventKey(e,"Esc")||Lt.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),Lt.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(Lt.isEventKey(e,"Up")||Lt.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},t.handleMenuKeyUp=function(e){(Lt.isEventKey(e,"Esc")||Lt.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},t.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},t.handleSubmenuKeyDown=function(e){(Lt.isEventKey(e,"Esc")||Lt.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Lt.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},t.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),at&&b())return;this.menu.focus()}},t.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},t.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},t.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(Ue);Ue.registerComponent("MenuButton",qn);var Wn=function(s){function e(e,t){var i,n=t.tracks;if((i=s.call(this,e,t)||this).items.length<=1&&i.hide(),!n)return Me(i);var r=ge(Me(i),i.update);return n.addEventListener("removetrack",r),n.addEventListener("addtrack",r),i.player_.on("ready",r),i.player_.on("dispose",function(){n.removeEventListener("removetrack",r),n.removeEventListener("addtrack",r)}),i}return He(e,s),e}(qn);Ue.registerComponent("TrackButton",Wn);var zn=["Tab","Esc","Up","Down","Right","Left"],Gn=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).selectable=t.selectable,i.isSelected_=t.selected||!1,i.multiSelectable=t.multiSelectable,i.selected(i.isSelected_),i.selectable?i.multiSelectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitemradio"):i.el_.setAttribute("role","menuitem"),i}He(e,n);var t=e.prototype;return t.createEl=function(e,t,i){return this.nonIconControl=!0,n.prototype.createEl.call(this,"li",m({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},t),i)},t.handleKeyDown=function(t){zn.some(function(e){return Lt.isEventKey(t,e)})||n.prototype.handleKeyDown.call(this,t)},t.handleClick=function(e){this.selected(!0)},t.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(rn);Ue.registerComponent("MenuItem",Gn);var Kn=function(u){function e(e,t){var n,i=t.track,r=e.textTracks();t.label=i.label||i.language||"Unknown",t.selected="showing"===i.mode,(n=u.call(this,e,t)||this).track=i,n.kinds=(t.kinds||[t.kind||n.track.kind]).filter(Boolean);function s(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n.handleTracksChange.apply(Me(n),t)}function a(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n.handleSelectedLanguageChange.apply(Me(n),t)}var o;e.on(["loadstart","texttrackchange"],s),r.addEventListener("change",s),r.addEventListener("selectedlanguagechange",a),n.on("dispose",function(){e.off(["loadstart","texttrackchange"],s),r.removeEventListener("change",s),r.removeEventListener("selectedlanguagechange",a)}),void 0===r.onchange&&n.on(["tap","click"],function(){if("object"!=typeof y.Event)try{o=new y.Event("change")}catch(e){}o||(o=h.createEvent("Event")).initEvent("change",!0,!0),r.dispatchEvent(o)});return n.handleTracksChange(),n}He(e,u);var t=e.prototype;return t.handleClick=function(e){var t=this.track,i=this.player_.textTracks();if(u.prototype.handleClick.call(this,e),i)for(var n=0;n<i.length;n++){var r=i[n];-1!==this.kinds.indexOf(r.kind)&&(r===t?"showing"!==r.mode&&(r.mode="showing"):"disabled"!==r.mode&&(r.mode="disabled"))}},t.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},t.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},t.dispose=function(){this.track=null,u.prototype.dispose.call(this)},e}(Gn);Ue.registerComponent("TextTrackMenuItem",Kn);var Xn=function(i){function e(e,t){return t.track={player:e,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,i.call(this,e,t)||this}He(e,i);var t=e.prototype;return t.handleTracksChange=function(e){for(var t=this.player().textTracks(),i=!0,n=0,r=t.length;n<r;n++){var s=t[n];if(-1<this.options_.kinds.indexOf(s.kind)&&"showing"===s.mode){i=!1;break}}i!==this.isSelected_&&this.selected(i)},t.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),i=!0,n=0,r=t.length;n<r;n++){var s=t[n];if(-1<["captions","descriptions","subtitles"].indexOf(s.kind)&&"showing"===s.mode){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Kn);Ue.registerComponent("OffTextTrackMenuItem",Xn);var Yn=function(i){function e(e,t){return void 0===t&&(t={}),t.tracks=e.textTracks(),i.call(this,e,t)||this}return He(e,i),e.prototype.createItems=function(e,t){var i;void 0===e&&(e=[]),void 0===t&&(t=Kn),this.label_&&(i=this.label_+" off"),e.push(new Xn(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;var n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<n.length;r++){var s=n[r];if(-1<this.kinds_.indexOf(s.kind)){var a=new t(this.player_,{track:s,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+s.kind+"-menu-item"),e.push(a)}}return e},e}(Wn);Ue.registerComponent("TextTrackButton",Yn);var $n=function(a){function e(e,t){var i,n=t.track,r=t.cue,s=e.currentTime();return t.selectable=!0,t.multiSelectable=!1,t.label=r.text,t.selected=r.startTime<=s&&s<r.endTime,(i=a.call(this,e,t)||this).track=n,i.cue=r,n.addEventListener("cuechange",ge(Me(i),i.update)),i}He(e,a);var t=e.prototype;return t.handleClick=function(e){a.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.update=function(e){var t=this.cue,i=this.player_.currentTime();this.selected(t.startTime<=i&&i<t.endTime)},e}(Gn);Ue.registerComponent("ChaptersTrackMenuItem",$n);var Qn=function(n){function e(e,t,i){return n.call(this,e,t,i)||this}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildWrapperCSSClass.call(this)},t.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),n.prototype.update.call(this)},t.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.addEventListener("load",this.updateHandler_)}}},t.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;0<=t;t--){var i=e[t];if(i.kind===this.kind_)return i}},t.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(De(this.kind_))},t.createMenu=function(){return this.options_.title=this.getMenuCaption(),n.prototype.createMenu.call(this)},t.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var i=0,n=t.length;i<n;i++){var r=t[i],s=new $n(this.player_,{track:this.track_,cue:r});e.push(s)}return e},e}(Yn);Qn.prototype.kind_="chapters",Qn.prototype.controlText_="Chapters",Ue.registerComponent("ChaptersButton",Qn);var Jn=function(a){function e(e,t,i){var n;n=a.call(this,e,t,i)||this;var r=e.textTracks(),s=ge(Me(n),n.handleTracksChange);return r.addEventListener("change",s),n.on("dispose",function(){r.removeEventListener("change",s)}),n}He(e,a);var t=e.prototype;return t.handleTracksChange=function(e){for(var t=this.player().textTracks(),i=!1,n=0,r=t.length;n<r;n++){var s=t[n];if(s.kind!==this.kind_&&"showing"===s.mode){i=!0;break}}i?this.disable():this.enable()},t.buildCSSClass=function(){return"vjs-descriptions-button "+a.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+a.prototype.buildWrapperCSSClass.call(this)},e}(Yn);Jn.prototype.kind_="descriptions",Jn.prototype.controlText_="Descriptions",Ue.registerComponent("DescriptionsButton",Jn);var Zn=function(n){function e(e,t,i){return n.call(this,e,t,i)||this}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildWrapperCSSClass.call(this)},e}(Yn);Zn.prototype.kind_="subtitles",Zn.prototype.controlText_="Subtitles",Ue.registerComponent("SubtitlesButton",Zn);var er=function(n){function e(e,t){var i;return t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",(i=n.call(this,e,t)||this).addClass("vjs-texttrack-settings"),i.controlText(", opens "+t.kind+" settings dialog"),i}return He(e,n),e.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},e}(Kn);Ue.registerComponent("CaptionSettingsMenuItem",er);var tr=function(n){function e(e,t,i){return n.call(this,e,t,i)||this}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-captions-button "+n.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-captions-button "+n.prototype.buildWrapperCSSClass.call(this)},t.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new er(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),n.prototype.createItems.call(this,e)},e}(Yn);tr.prototype.kind_="captions",tr.prototype.controlText_="Captions",Ue.registerComponent("CaptionsButton",tr);var ir=function(r){function e(){return r.apply(this,arguments)||this}return He(e,r),e.prototype.createEl=function(e,t,i){var n='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(n+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),n+="</span>",r.prototype.createEl.call(this,e,m({innerHTML:n},t),i)},e}(Kn);Ue.registerComponent("SubsCapsMenuItem",ir);var nr=function(n){function e(e,t){var i;return void 0===t&&(t={}),(i=n.call(this,e,t)||this).label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)&&(i.label_="captions"),i.menuButton_.controlText(De(i.label_)),i}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildWrapperCSSClass.call(this)},t.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new er(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=n.prototype.createItems.call(this,e,ir)},e}(Yn);nr.prototype.kinds_=["captions","subtitles"],nr.prototype.controlText_="Subtitles",Ue.registerComponent("SubsCapsButton",nr);var rr=function(a){function e(e,t){var n,i=t.track,r=e.audioTracks();t.label=i.label||i.language||"Unknown",t.selected=i.enabled,(n=a.call(this,e,t)||this).track=i,n.addClass("vjs-"+i.kind+"-menu-item");function s(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n.handleTracksChange.apply(Me(n),t)}return r.addEventListener("change",s),n.on("dispose",function(){r.removeEventListener("change",s)}),n}He(e,a);var t=e.prototype;return t.createEl=function(e,t,i){var n='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(n+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),n+="</span>",a.prototype.createEl.call(this,e,m({innerHTML:n},t),i)},t.handleClick=function(e){var t=this.player_.audioTracks();a.prototype.handleClick.call(this,e);for(var i=0;i<t.length;i++){var n=t[i];n.enabled=n===this.track}},t.handleTracksChange=function(e){this.selected(this.track.enabled)},e}(Gn);Ue.registerComponent("AudioTrackMenuItem",rr);var sr=function(i){function e(e,t){return void 0===t&&(t={}),t.tracks=e.audioTracks(),i.call(this,e,t)||this}He(e,i);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-audio-button "+i.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-audio-button "+i.prototype.buildWrapperCSSClass.call(this)},t.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),i=0;i<t.length;i++){var n=t[i];e.push(new rr(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return e},e}(Wn);sr.prototype.controlText_="Audio Track",Ue.registerComponent("AudioTrackButton",sr);var ar=function(s){function e(e,t){var i,n=t.rate,r=parseFloat(n,10);return t.label=n,t.selected=1===r,t.selectable=!0,t.multiSelectable=!1,(i=s.call(this,e,t)||this).label=n,i.rate=r,i.on(e,"ratechange",i.update),i}He(e,s);var t=e.prototype;return t.handleClick=function(e){s.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.update=function(e){this.selected(this.player().playbackRate()===this.rate)},e}(Gn);ar.prototype.contentElType="button",Ue.registerComponent("PlaybackRateMenuItem",ar);var or=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).updateVisibility(),i.updateLabel(),i.on(e,"loadstart",i.updateVisibility),i.on(e,"ratechange",i.updateLabel),i}He(e,n);var t=e.prototype;return t.createEl=function(){var e=n.prototype.createEl.call(this);return this.labelEl_=S("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},t.dispose=function(){this.labelEl_=null,n.prototype.dispose.call(this)},t.buildCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildWrapperCSSClass.call(this)},t.createMenu=function(){var e=new Vn(this.player()),t=this.playbackRates();if(t)for(var i=t.length-1;0<=i;i--)e.addChild(new ar(this.player(),{rate:t[i]+"x"}));return e},t.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.handleClick=function(e){for(var t=this.player().playbackRate(),i=this.playbackRates(),n=i[0],r=0;r<i.length;r++)if(i[r]>t){n=i[r];break}this.player().playbackRate(n)},t.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},t.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(qn);or.prototype.controlText_="Playback Rate",Ue.registerComponent("PlaybackRateMenuButton",or);var ur=function(e){function t(){return e.apply(this,arguments)||this}He(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},i.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(Ue);Ue.registerComponent("Spacer",ur);var lr=function(t){function e(){return t.apply(this,arguments)||this}He(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML=" ",e},e}(ur);Ue.registerComponent("CustomControlSpacer",lr);var cr=function(e){function t(){return e.apply(this,arguments)||this}return He(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(Ue);cr.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in h&&cr.prototype.options_.children.splice(cr.prototype.options_.children.length-1,0,"pictureInPictureToggle"),Ue.registerComponent("ControlBar",cr);var hr=function(n){function e(e,t){var i;return(i=n.call(this,e,t)||this).on(e,"error",i.open),i}He(e,n);var t=e.prototype;return t.buildCSSClass=function(){return"vjs-error-display "+n.prototype.buildCSSClass.call(this)},t.content=function(){var e=this.player().error();return e?this.localize(e.message):""},e}(At);hr.prototype.options_=r({},At.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Ue.registerComponent("ErrorDisplay",hr);var dr="vjs-text-track-settings",pr=["#000","Black"],fr=["#00F","Blue"],mr=["#0FF","Cyan"],gr=["#0F0","Green"],vr=["#F0F","Magenta"],yr=["#F00","Red"],_r=["#FFF","White"],br=["#FF0","Yellow"],Tr=["1","Opaque"],Sr=["0.5","Semi-Transparent"],kr=["0","Transparent"],Cr={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[pr,_r,yr,gr,fr,br,vr,mr]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Tr,Sr,kr]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[_r,pr,yr,gr,fr,br,vr,mr]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Tr,Sr]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[kr,Sr,Tr]}};function Er(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}Cr.windowColor.options=Cr.backgroundColor.options;var wr=function(n){function e(e,t){var i;return t.temporary=!1,(i=n.call(this,e,t)||this).updateDisplay=ge(Me(i),i.updateDisplay),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=S("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===t.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",function(){i.saveSettings(),i.close()}),i.on(i.$(".vjs-default-button"),"click",function(){i.setDefaults(),i.updateDisplay()}),a(Cr,function(e){i.on(i.$(e.selector),"change",i.updateDisplay)}),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}He(e,n);var t=e.prototype;return t.dispose=function(){this.endDialog=null,n.prototype.dispose.call(this)},t.createElSelect_=function(e,t,i){var n=this;void 0===t&&(t=""),void 0===i&&(i="label");var r=Cr[e],s=r.id.replace("%s",this.id_),a=[t,s].join(" ").trim();return["<"+i+' id="'+s+'" class="'+("label"===i?"vjs-label":"")+'">',this.localize(r.label),"</"+i+">",'<select aria-labelledby="'+a+'">'].concat(r.options.map(function(e){var t=s+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+a+" "+t+'">',n.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},t.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},t.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},t.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},t.createElColors_=function(){return S("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},t.createElFont_=function(){return S("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},t.createElControls_=function(){var e=this.localize("restore all settings to the default values");return S("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},t.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},t.label=function(){return this.localize("Caption Settings Dialog")},t.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},t.buildCSSClass=function(){return n.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},t.getValues=function(){var r=this;return function(i,n,e){return void 0===e&&(e=0),s(i).reduce(function(e,t){return n(e,i[t],t)},e)}(Cr,function(e,t,i){var n=function(e,t){return Er(e.options[e.options.selectedIndex].value,t)}(r.$(t.selector),t.parser);return void 0!==n&&(e[i]=n),e},{})},t.setValues=function(i){var n=this;a(Cr,function(e,t){!function(e,t,i){if(t)for(var n=0;n<e.options.length;n++)if(Er(e.options[n].value,i)===t){e.selectedIndex=n;break}}(n.$(e.selector),i[t],e.parser)})},t.setDefaults=function(){var i=this;a(Cr,function(e){var t=e.hasOwnProperty("default")?e.default:0;i.$(e.selector).selectedIndex=t})},t.restoreSettings=function(){var e;try{e=JSON.parse(y.localStorage.getItem(dr))}catch(e){p.warn(e)}e&&this.setValues(e)},t.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?y.localStorage.setItem(dr,JSON.stringify(e)):y.localStorage.removeItem(dr)}catch(e){p.warn(e)}}},t.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},t.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,i=e&&e.captionsButton;t?t.focus():i&&i.focus()},e}(At);Ue.registerComponent("TextTrackSettings",wr);var Lr=function(s){function e(e,t){var i,n=t.ResizeObserver||y.ResizeObserver;null===t.ResizeObserver&&(n=!1);var r=Re({createEl:!n,reportTouchActivity:!1},t);return(i=s.call(this,e,r)||this).ResizeObserver=t.ResizeObserver||y.ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=function(n,r,s,a){var o;void 0===a&&(a=y);function e(){var e=this,t=arguments,i=function(){i=o=null,s||n.apply(e,t)};!o&&s&&n.apply(e,t),a.clearTimeout(o),o=a.setTimeout(i,r)}return e.cancel=function(){a.clearTimeout(o),o=null},e}(function(){i.resizeHandler()},100,!1,Me(i)),n?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(e.el())):(i.loadListener_=function(){if(i.el_&&i.el_.contentWindow){var e=i.debouncedHandler_,t=i.unloadListener_=function(){de(this,"resize",e),de(this,"unload",t),t=null};he(i.el_.contentWindow,"unload",t),he(i.el_.contentWindow,"resize",e)}},i.one("load",i.loadListener_)),i}He(e,s);var t=e.prototype;return t.createEl=function(){return s.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},t.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},t.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,s.prototype.dispose.call(this)},e}(Ue);Ue.registerComponent("ResizeManager",Lr);var Pr=function(r){function e(e,t){var i,n=Re({createEl:!1},t);return(i=r.call(this,e,n)||this).reset_(),i.on(i.player_,"durationchange",i.handleDurationchange),et&&"hidden"in h&&"visibilityState"in h&&i.on(h,"visibilitychange",i.handleVisibilityChange),i}He(e,r);var t=e.prototype;return t.handleVisibilityChange=function(){this.player_.duration()===1/0&&(h.hidden?this.stopTracking():this.startTracking())},t.isBehind_=function(){if(!this.timeupdateSeen_)return!1;var e=this.liveCurrentTime(),t=this.player_.currentTime(),i=2*this.seekableIncrement_+.07;return e!==1/0&&t<=e-i},t.trackLive_=function(){this.pastSeekEnd_=this.pastSeekEnd_;var e=this.player_.seekable();if(e&&e.length){var t=this.seekableEnd();t!==this.lastSeekEnd_&&(this.lastSeekEnd_&&(this.seekableIncrementList_=this.seekableIncrementList_.slice(-11),this.seekableIncrementList_.push(Math.abs(t-this.lastSeekEnd_)),3<this.seekableIncrementList_.length&&(this.seekableIncrement_=function(e){var t=Math.floor(e.length/2),i=[].concat(e).sort(function(e,t){return e-t});return e.length%2!=0?i[t]:(i[t-1]+i[t])/2}(this.seekableIncrementList_))),this.pastSeekEnd_=0,this.lastSeekEnd_=t,this.trigger("seekableendchange")),this.pastSeekEnd()>1.5*this.seekableIncrement_?this.pastSeekEnd_=0:this.pastSeekEnd_=this.pastSeekEnd()+.03,this.isBehind_()!==this.behindLiveEdge()&&(this.behindLiveEdge_=this.isBehind_(),this.trigger("liveedgechange"))}},t.handleDurationchange=function(){this.player_.duration()===1/0?this.startTracking():this.stopTracking()},t.startTracking=function(){var e=this;this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,"play",this.trackLive_),this.on(this.player_,"pause",this.trackLive_),this.timeupdateSeen_||(this.one(this.player_,"play",this.handlePlay),this.handleTimeupdate=function(){e.timeupdateSeen_=!0,e.handleTimeupdate=null},this.one(this.player_,"timeupdate",this.handleTimeupdate)))},t.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},t.reset_=function(){this.pastSeekEnd_=0,this.lastSeekEnd_=null,this.behindLiveEdge_=null,this.timeupdateSeen_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.seekableIncrement_=12,this.seekableIncrementList_=[],this.off(this.player_,"play",this.trackLive_),this.off(this.player_,"pause",this.trackLive_),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.seekToLiveEdge),this.handleTimeupdate&&(this.off(this.player_,"timeupdate",this.handleTimeupdate),this.handleTimeupdate=null)},t.stopTracking=function(){this.isTracking()&&this.reset_()},t.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],i=e?e.length:0;i--;)t.push(e.end(i));return t.length?t.sort()[t.length-1]:1/0},t.seekableStart=function(){for(var e=this.player_.seekable(),t=[],i=e?e.length:0;i--;)t.push(e.start(i));return t.length?t.sort()[0]:0},t.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?1/0:e-this.seekableStart()},t.isLive=function(){return this.isTracking()},t.atLiveEdge=function(){return!this.behindLiveEdge()},t.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},t.pastSeekEnd=function(){return this.pastSeekEnd_},t.behindLiveEdge=function(){return this.behindLiveEdge_},t.isTracking=function(){return"number"==typeof this.trackingInterval_},t.seekToLiveEdge=function(){this.atLiveEdge()||(this.player_.currentTime(this.liveCurrentTime()),this.player_.paused()&&this.player_.play())},t.dispose=function(){this.stopTracking(),r.prototype.dispose.call(this)},e}(Ue);Ue.registerComponent("LiveTracker",Pr);function Ar(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var i=e.$$("source"),n=[],r="";if(!i.length)return!1;for(var s=0;s<i.length;s++){var a=i[s].src;a&&-1===n.indexOf(a)&&n.push(a)}return!!n.length&&(1===n.length&&(r=n[0]),e.triggerSourceset(r),!0)}function Ir(e,t){for(var i={},n=0;n<e.length&&!((i=Object.getOwnPropertyDescriptor(e[n],t))&&i.set&&i.get);n++);return i.enumerable=!0,i.configurable=!0,i}function xr(s){var a=s.el();if(!a.resetSourceWatch_){var t={},e=function(e){return Ir([e.el(),y.HTMLMediaElement.prototype,y.Element.prototype,Ur],"innerHTML")}(s),i=function(r){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=r.apply(a,t);return Ar(s),n}};["append","appendChild","insertAdjacentHTML"].forEach(function(e){a[e]&&(t[e]=a[e],a[e]=i(t[e]))}),Object.defineProperty(a,"innerHTML",Re(e,{set:i(e.set)})),a.resetSourceWatch_=function(){a.resetSourceWatch_=null,Object.keys(t).forEach(function(e){a[e]=t[e]}),Object.defineProperty(a,"innerHTML",e)},s.one("sourceset",a.resetSourceWatch_)}}function Or(n){if(n.featuresSourceset){var r=n.el();if(!r.resetSourceset_){var i=function(e){return Ir([e.el(),y.HTMLMediaElement.prototype,Mr],"src")}(n),s=r.setAttribute,t=r.load;Object.defineProperty(r,"src",Re(i,{set:function(e){var t=i.set.call(r,e);return n.triggerSourceset(r.src),t}})),r.setAttribute=function(e,t){var i=s.call(r,e,t);return/src/i.test(e)&&n.triggerSourceset(r.src),i},r.load=function(){var e=t.call(r);return Ar(n)||(n.triggerSourceset(""),xr(n)),e},r.currentSrc?n.triggerSourceset(r.currentSrc):Ar(n)||xr(n),r.resetSourceset_=function(){r.resetSourceset_=null,r.load=t,r.setAttribute=s,Object.defineProperty(r,"src",i),r.resetSourceWatch_&&r.resetSourceWatch_()}}}}function Dr(t,i,n,e){function r(e){return Object.defineProperty(t,i,{value:e,enumerable:!0,writable:!0})}void 0===e&&(e=!0);var s={configurable:!0,enumerable:!0,get:function(){var e=n();return r(e),e}};return e&&(s.set=r),Object.defineProperty(t,i,s)}var Rr,Ur=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=h.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var i=h.createDocumentFragment();t.childNodes.length;)i.appendChild(t.childNodes[0]);return this.innerText="",y.Element.prototype.appendChild.call(this,i),this.innerHTML}}),Mr=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Ut(y.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return y.Element.prototype.setAttribute.call(this,"src",e),e}}),Nr=function(c){function o(e,t){var i;i=c.call(this,e,t)||this;var n=e.source,r=!1;if(n&&(i.el_.currentSrc!==n.src||e.tag&&3===e.tag.initNetworkState_)?i.setSource(n):i.handleLateInit_(i.el_),e.enableSourceset&&i.setupSourcesetHandling_(),i.el_.hasChildNodes()){for(var s=i.el_.childNodes,a=s.length,o=[];a--;){var u=s[a];"track"===u.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(u),i.remoteTextTracks().addTrack(u.track),i.textTracks().addTrack(u.track),r||i.el_.hasAttribute("crossorigin")||!Nt(u.src)||(r=!0)):o.push(u))}for(var l=0;l<o.length;l++)i.el_.removeChild(o[l])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&r&&p.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),i.restoreMetadataTracksInIOSNativePlayer_(),(nt||st||Ye)&&!0===e.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}He(o,c);var e=o.prototype;return e.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),o.disposeMediaElement(this.el_),this.options_=null,c.prototype.dispose.call(this)},e.setupSourcesetHandling_=function(){Or(this)},e.restoreMetadataTracksInIOSNativePlayer_=function(){function e(){i=[];for(var e=0;e<n.length;e++){var t=n[e];"metadata"===t.kind&&i.push({track:t,storedMode:t.mode})}}var i,n=this.textTracks();e(),n.addEventListener("change",e),this.on("dispose",function(){return n.removeEventListener("change",e)});function r(){for(var e=0;e<i.length;e++){var t=i[e];"disabled"===t.track.mode&&t.track.mode!==t.storedMode&&(t.track.mode=t.storedMode)}n.removeEventListener("change",r)}this.on("webkitbeginfullscreen",function(){n.removeEventListener("change",e),n.removeEventListener("change",r),n.addEventListener("change",r)}),this.on("webkitendfullscreen",function(){n.removeEventListener("change",e),n.addEventListener("change",e),n.removeEventListener("change",r)})},e.overrideNative_=function(e,t){var i=this;if(t===this["featuresNative"+e+"Tracks"]){var n=e.toLowerCase();this[n+"TracksListeners_"]&&Object.keys(this[n+"TracksListeners_"]).forEach(function(e){i.el()[n+"Tracks"].removeEventListener(e,i[n+"TracksListeners_"][e])}),this["featuresNative"+e+"Tracks"]=!t,this[n+"TracksListeners_"]=null,this.proxyNativeTracksForType_(n)}},e.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},e.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},e.proxyNativeTracksForType_=function(e){var n=this,t=li[e],r=this.el()[t.getterName],s=this[t.getterName]();if(this["featuresNative"+t.capitalName+"Tracks"]&&r&&r.addEventListener){var a={change:function(e){s.trigger({type:"change",target:s,currentTarget:s,srcElement:s})},addtrack:function(e){s.addTrack(e.track)},removetrack:function(e){s.removeTrack(e.track)}},i=function(){for(var e=[],t=0;t<s.length;t++){for(var i=!1,n=0;n<r.length;n++)if(r[n]===s[t]){i=!0;break}i||e.push(s[t])}for(;e.length;)s.removeTrack(e.shift())};this[t.getterName+"Listeners_"]=a,Object.keys(a).forEach(function(t){var i=a[t];r.addEventListener(t,i),n.on("dispose",function(e){return r.removeEventListener(t,i)})}),this.on("loadstart",i),this.on("dispose",function(e){return n.off("loadstart",i)})}},e.proxyNativeTracks_=function(){var t=this;li.names.forEach(function(e){t.proxyNativeTracksForType_(e)})},e.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var t=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(t,e),o.disposeMediaElement(e),e=t}else{e=h.createElement("video");var i=Re({},this.options_.tag&&I(this.options_.tag));nt&&!0===this.options_.nativeControlsForTouch||delete i.controls,A(e,m(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}"undefined"!=typeof this.options_.preload&&O(e,"preload",this.options_.preload);for(var n=["loop","muted","playsinline","autoplay"],r=0;r<n.length;r++){var s=n[r],a=this.options_[s];"undefined"!=typeof a&&(a?O(e,s,s):D(e,s),e[s]=a)}return e},e.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,i=function(){t=!0};this.on("loadstart",i);var n=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",n),t||this.trigger("loadstart")})}var r=["loadstart"];r.push("loadedmetadata"),2<=e.readyState&&r.push("loadeddata"),3<=e.readyState&&r.push("canplay"),4<=e.readyState&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(e){this.trigger(e)},this)})}},e.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){p(e,"Video is not ready. (Video.js)")}},e.duration=function(){var t=this;if(this.el_.duration===1/0&&Ke&&Je&&0===this.el_.currentTime){return this.on("timeupdate",function e(){0<t.el_.currentTime&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))}),NaN}return this.el_.duration||NaN},e.width=function(){return this.el_.offsetWidth},e.height=function(){return this.el_.offsetHeight},e.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",function(){e.off("webkitbeginfullscreen",i),e.off("webkitendfullscreen",t)})}},e.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=y.navigator&&y.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},e.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},e.exitFullScreen=function(){this.el_.webkitExitFullScreen()},e.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},e.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},e.reset=function(){o.resetMediaElement(this.el_)},e.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},e.setControls=function(e){this.el_.controls=!!e},e.addTextTrack=function(e,t,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,i):c.prototype.addTextTrack.call(this,e,t,i)},e.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return c.prototype.createRemoteTextTrack.call(this,e);var t=h.createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t},e.addRemoteTextTrack=function(e,t){var i=c.prototype.addRemoteTextTrack.call(this,e,t);return this.featuresNativeTextTracks&&this.el().appendChild(i),i},e.removeRemoteTextTrack=function(e){if(c.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var t=this.$$("track"),i=t.length;i--;)e!==t[i]&&e!==t[i].track||this.el().removeChild(t[i])},e.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return"undefined"!=typeof this.el().webkitDroppedFrameCount&&"undefined"!=typeof this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),y.performance&&"function"==typeof y.performance.now?e.creationTime=y.performance.now():y.performance&&y.performance.timing&&"number"==typeof y.performance.timing.navigationStart&&(e.creationTime=y.Date.now()-y.performance.timing.navigationStart),e},o}(Vi);Dr(Nr,"TEST_VID",function(){if(v()){var e=h.createElement("video"),t=h.createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e}}),Nr.isSupported=function(){try{Nr.TEST_VID.volume=.5}catch(e){return!1}return!(!Nr.TEST_VID||!Nr.TEST_VID.canPlayType)},Nr.canPlayType=function(e){return Nr.TEST_VID.canPlayType(e)},Nr.canPlaySource=function(e,t){return Nr.canPlayType(e.type)},Nr.canControlVolume=function(){try{var e=Nr.TEST_VID.volume;return Nr.TEST_VID.volume=e/2+.1,e!==Nr.TEST_VID.volume}catch(e){return!1}},Nr.canMuteVolume=function(){try{var e=Nr.TEST_VID.muted;return Nr.TEST_VID.muted=!e,Nr.TEST_VID.muted?O(Nr.TEST_VID,"muted","muted"):D(Nr.TEST_VID,"muted"),e!==Nr.TEST_VID.muted}catch(e){return!1}},Nr.canControlPlaybackRate=function(){if(Ke&&Je&&Ze<58)return!1;try{var e=Nr.TEST_VID.playbackRate;return Nr.TEST_VID.playbackRate=e/2+.1,e!==Nr.TEST_VID.playbackRate}catch(e){return!1}},Nr.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(h.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(h.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(h.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(h.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},Nr.supportsNativeTextTracks=function(){return ot||at&&Je},Nr.supportsNativeVideoTracks=function(){return!(!Nr.TEST_VID||!Nr.TEST_VID.videoTracks)},Nr.supportsNativeAudioTracks=function(){return!(!Nr.TEST_VID||!Nr.TEST_VID.audioTracks)},Nr.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(e){var t=e[0],i=e[1];Dr(Nr.prototype,t,function(){return Nr[i]()},!0)}),Nr.prototype.movingMediaElementInDOM=!at,Nr.prototype.featuresFullscreenResize=!0,Nr.prototype.featuresProgressEvents=!0,Nr.prototype.featuresTimeupdateEvents=!0,Nr.patchCanPlayType=function(){4<=Xe&&!$e&&!Je&&(Rr=Nr.TEST_VID&&Nr.TEST_VID.constructor.prototype.canPlayType,Nr.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e)?"maybe":Rr.call(this,e)})},Nr.unpatchCanPlayType=function(){var e=Nr.TEST_VID.constructor.prototype.canPlayType;return Rr&&(Nr.TEST_VID.constructor.prototype.canPlayType=Rr),e},Nr.patchCanPlayType(),Nr.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},Nr.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),i=t.length;i--;)e.removeChild(t[i]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){Nr.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Nr.prototype["set"+De(t)]=function(e){(this.el_[t]=e)?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){Nr.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(t){Nr.prototype["set"+De(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(e){Nr.prototype[e]=function(){return this.el_[e]()}}),Vi.withSourceHandlers(Nr),Nr.nativeSourceHandler={},Nr.nativeSourceHandler.canPlayType=function(e){try{return Nr.TEST_VID.canPlayType(e)}catch(e){return""}},Nr.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Nr.nativeSourceHandler.canPlayType(e.type);if(e.src){var i=Mt(e.src);return Nr.nativeSourceHandler.canPlayType("video/"+i)}return""},Nr.nativeSourceHandler.handleSource=function(e,t,i){t.setSrc(e.src)},Nr.nativeSourceHandler.dispose=function(){},Nr.registerSourceHandler(Nr.nativeSourceHandler),Vi.registerTech("Html5",Nr);var Br=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],jr={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Fr=["tiny","xsmall","small","medium","large","xlarge","huge"],Hr={};Fr.forEach(function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;Hr[e]="vjs-layout-"+t});var Vr={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},qr=function(c){function l(e,t,i){var n;if(e.id=e.id||t.id||"vjs_video_"+ne(),(t=m(l.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language)if("function"==typeof e.closest){var r=e.closest("[lang]");r&&r.getAttribute&&(t.language=r.getAttribute("lang"))}else for(var s=e;s&&1===s.nodeType;){if(I(s).hasOwnProperty("lang")){t.language=s.getAttribute("lang");break}s=s.parentNode}if((n=c.call(this,null,t,i)||this).boundDocumentFullscreenChange_=ge(Me(n),n.documentFullscreenChange_),n.boundFullWindowOnEscKey_=ge(Me(n),n.fullWindowOnEscKey),n.isFullscreen_=!1,n.log=f(n.id_),n.fsApi_=ft,n.isPosterFromTech_=!1,n.queuedCallbacks_=[],n.isReady_=!1,n.hasStarted_=!1,n.userActive_=!1,!n.options_||!n.options_.techOrder||!n.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(n.tag=e,n.tagAttributes=e&&I(e),n.language(n.options_.language),t.languages){var a={};Object.getOwnPropertyNames(t.languages).forEach(function(e){a[e.toLowerCase()]=t.languages[e]}),n.languages_=a}else n.languages_=l.prototype.options_.languages;n.resetCache_(),n.poster_=t.poster||"",n.controls_=!!t.controls,e.controls=!1,e.removeAttribute("controls"),n.changingSrc_=!1,n.playCallbacks_=[],n.playTerminatedQueue_=[],e.hasAttribute("autoplay")?n.autoplay(!0):n.autoplay(n.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach(function(e){if("function"!=typeof n[e])throw new Error('plugin "'+e+'" does not exist')}),n.scrubbing_=!1,n.el_=n.createEl(),Ae(Me(n),{eventBusKey:"el_"}),n.fsApi_.requestFullscreen&&(he(h,n.fsApi_.fullscreenchange,n.boundDocumentFullscreenChange_),n.on(n.fsApi_.fullscreenchange,n.boundDocumentFullscreenChange_)),n.fluid_&&n.on("playerreset",n.updateStyleEl_);var o=Re(n.options_);t.plugins&&Object.keys(t.plugins).forEach(function(e){n[e](t.plugins[e])}),n.options_.playerOptions=o,n.middleware_=[],n.initChildren(),n.isAudio("audio"===e.nodeName.toLowerCase()),n.controls()?n.addClass("vjs-controls-enabled"):n.addClass("vjs-controls-disabled"),n.el_.setAttribute("role","region"),n.isAudio()?n.el_.setAttribute("aria-label",n.localize("Audio Player")):n.el_.setAttribute("aria-label",n.localize("Video Player")),n.isAudio()&&n.addClass("vjs-audio"),n.flexNotSupported_()&&n.addClass("vjs-no-flex"),nt&&n.addClass("vjs-touch-enabled"),at||n.addClass("vjs-workinghover"),l.players[n.id_]=Me(n);var u=d.split(".")[0];return n.addClass("vjs-v"+u),n.userActive(!0),n.reportUserActivity(),n.one("play",n.listenForUserActivity_),n.on("stageclick",n.handleStageClick_),n.on("keydown",n.handleKeyDown),n.breakpoints(n.options_.breakpoints),n.responsive(n.options_.responsive),n}He(l,c);var e=l.prototype;return e.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),de(h,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),de(h,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),l.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),function(e){Wi[e.id()]=null}(this),hi.names.forEach(function(e){var t=hi[e],i=n[t.getterName]();i&&i.off&&i.off()}),c.prototype.dispose.call(this)},e.createEl=function(){var t,i=this.tag,e=this.playerElIngest_=i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player"),n="video-js"===this.tag.tagName.toLowerCase();e?t=this.el_=i.parentNode:n||(t=this.el_=c.prototype.createEl.call(this,"div"));var r=I(i);if(n){for(t=this.el_=i,i=this.tag=h.createElement("video");t.children.length;)i.appendChild(t.firstChild);E(t,"video-js")||w(t,"video-js"),t.appendChild(i),e=this.playerElIngest_=t,Object.keys(t).forEach(function(e){try{i[e]=t[e]}catch(e){}})}if(i.setAttribute("tabindex","-1"),r.tabindex="-1",(et||Je&&it)&&(i.setAttribute("role","application"),r.role="application"),i.removeAttribute("width"),i.removeAttribute("height"),"width"in r&&delete r.width,"height"in r&&delete r.height,Object.getOwnPropertyNames(r).forEach(function(e){n&&"class"===e||t.setAttribute(e,r[e]),n&&i.setAttribute(e,r[e])}),i.playerId=i.id,i.id+="_html5_api",i.className="vjs-tech",i.player=t.player=this,this.addClass("vjs-paused"),!0!==y.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Z("vjs-styles-dimensions");var s=G(".vjs-styles-defaults"),a=G("head");a.insertBefore(this.styleEl_,s?s.nextSibling:a.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var o=i.getElementsByTagName("a"),u=0;u<o.length;u++){var l=o.item(u);w(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return i.initNetworkState_=i.networkState,i.parentNode&&!e&&i.parentNode.insertBefore(t,i),C(i,t),this.children_.unshift(i),this.el_.setAttribute("lang",this.language_),this.el_=t},e.width=function(e){return this.dimension("width",e)},e.height=function(e){return this.dimension("height",e)},e.dimension=function(e,t){var i=e+"_";if(void 0===t)return this[i]||0;if(""===t||"auto"===t)return this[i]=void 0,void this.updateStyleEl_();var n=parseFloat(t);isNaN(n)?p.error('Improper value "'+t+'" supplied for for '+e):(this[i]=n,this.updateStyleEl_())},e.fluid=function(e){if(void 0===e)return!!this.fluid_;this.fluid_=!!e,Le(this)&&this.off("playerreset",this.updateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),function(e,t){Le(e)?t():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(t))}(function(){this.on("playerreset",this.updateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},e.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},e.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},e.updateStyleEl_=function(){if(!0!==y.VIDEOJS_NO_DYNAMIC_STYLE){var e,t,i,n=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=n[1]/n[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/r:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*r,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),ee(this.styleEl_,"\n      ."+i+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*r+"%;\n      }\n    ")}else{var s="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,o=this.tech_&&this.tech_.el();o&&(0<=s&&(o.width=s),0<=a&&(o.height=a))}},e.loadTech_=function(e,t){var i=this;this.tech_&&this.unloadTech_();var n=De(e),r=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==n&&this.tag&&(Vi.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;var s={source:t,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};hi.names.forEach(function(e){var t=hi[e];s[t.getterName]=i[t.privateName]}),m(s,this.options_[n]),m(s,this.options_[r]),m(s,this.options_[e.toLowerCase()]),this.tag&&(s.tag=this.tag),t&&t.src===this.cache_.src&&0<this.cache_.currentTime&&(s.startTime=this.cache_.currentTime);var a=Vi.getTech(e);if(!a)throw new Error("No Tech named '"+n+"' exists! '"+n+"' should be registered using videojs.registerTech()'");this.tech_=new a(s),this.tech_.ready(ge(this,this.handleTechReady_),!0),wt(this.textTracksJson_||[],this.tech_),Br.forEach(function(e){i.on(i.tech_,e,i["handleTech"+De(e)+"_"])}),Object.keys(jr).forEach(function(t){i.on(i.tech_,t,function(e){0===i.tech_.playbackRate()&&i.tech_.seeking()?i.queuedCallbacks_.push({callback:i["handleTech"+jr[t]+"_"].bind(i),event:e}):i["handleTech"+jr[t]+"_"](e)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||C(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},e.unloadTech_=function(){var i=this;hi.names.forEach(function(e){var t=hi[e];i[t.privateName]=i[t.getterName]()}),this.textTracksJson_=Et(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},e.tech=function(e){return void 0===e&&p.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},e.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},e.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},e.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},e.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},e.manualAutoplay_=function(t){var n=this;if(this.tech_&&"string"==typeof t){var e,i=function(){var e=n.muted();n.muted(!0);function t(){n.muted(e)}n.playTerminatedQueue_.push(t);var i=n.play();if(St(i))return i.catch(t)};if("any"===t&&!0!==this.muted()?St(e=this.play())&&(e=e.catch(i)):e="muted"===t&&!0!==this.muted()?i():this.play(),St(e))return e.then(function(){n.trigger({type:"autoplay-success",autoplay:t})}).catch(function(e){n.trigger({type:"autoplay-failure",autoplay:t})})}},e.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,i="";"string"!=typeof t&&(t=e.src,i=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!i&&(i=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var i=e.cache_.sources.filter(function(e){return e.src===t});if(i.length)return i[0].type;for(var n=e.$$("source"),r=0;r<n.length;r++){var s=n[r];if(s.type&&s.src&&s.src===t)return s.type}return Zi(t)}(this,t)),this.cache_.source=Re({},e,{src:t,type:i});for(var n=this.cache_.sources.filter(function(e){return e.src&&e.src===t}),r=[],s=this.$$("source"),a=[],o=0;o<s.length;o++){var u=I(s[o]);r.push(u),u.src&&u.src===t&&a.push(u.src)}a.length&&!n.length?this.cache_.sources=r:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},e.handleTechSourceset_=function(e){var i=this;if(!this.changingSrc_){var t=function(e){return i.updateSourceCaches_(e)},n=this.currentSource().src,r=e.src;n&&!/^blob:/.test(n)&&/^blob:/.test(r)&&(this.lastSource_&&(this.lastSource_.tech===r||this.lastSource_.player===n)||(t=function(){})),t(r),e.src||this.tech_.any(["sourceset","loadstart"],function(e){if("sourceset"!==e.type){var t=i.techGet("currentSrc");i.lastSource_.tech=t,i.updateSourceCaches_(t)}})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},e.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},e.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},e.handleTechRateChange_=function(){0<this.tech_.playbackRate()&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},e.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var i=this.currentTime();this.on("timeupdate",function e(){i!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",e))})},e.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},e.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},e.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},e.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},e.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},e.handleTechFirstPlay_=function(){this.options_.starttime&&(p.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},e.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},e.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},e.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},e.handleTechClick_=function(e){W(e)&&this.controls_&&(this.paused()?kt(this.play()):this.pause())},e.handleTechDoubleClick_=function(t){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(e){return e.contains(t.target)})||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},e.handleTechTap_=function(){this.userActive(!this.userActive())},e.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},e.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},e.handleTechTouchEnd_=function(e){e.preventDefault()},e.handleStageClick_=function(){this.reportUserActivity()},e.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},e.documentFullscreenChange_=function(e){var t=e.target.player;if(!t||t===this){var i=this.el(),n=h[this.fsApi_.fullscreenElement]===i;!n&&i.matches?n=i.matches(":"+this.fsApi_.fullscreen):!n&&i.msMatchesSelector&&(n=i.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(n)}},e.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen)},e.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},e.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},e.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},e.handleTechError_=function(){var e=this.tech_.error();this.error(e)},e.handleTechTextData_=function(e,t){var i=null;1<arguments.length&&(i=t),this.trigger("textdata",i)},e.getCache=function(){return this.cache_},e.resetCache_=function(){this.cache_={currentTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},e.techCall_=function(e,t){this.ready(function(){if(e in Yi)return function(e,t,i,n){return t[i](e.reduce(Qi(i),n))}(this.middleware_,this.tech_,e,t);if(e in $i)return Ki(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw p(e),e}},!0)},e.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in Xi)return function(e,t,i){return e.reduceRight(Qi(i),t[i]())}(this.middleware_,this.tech_,t);if(t in $i)return Ki(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw p("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw p("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw p(e),e}}},e.play=function(){var t=this,e=this.options_.Promise||y.Promise;return e?new e(function(e){t.play_(e)}):this.play_()},e.play_=function(e){var t=this;void 0===e&&(e=kt),this.playCallbacks_.push(e);var i=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!i)return this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(i||!ot&&!at||this.load());var n=this.techGet_("play");null===n?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(n)},e.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(e){e()})},e.runPlayCallbacks_=function(t){var e=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],e.forEach(function(e){e(t)})},e.pause=function(){this.techCall_("pause")},e.paused=function(){return!1!==this.techGet_("paused")},e.played=function(){return this.techGet_("played")||ht(0,0)},e.scrubbing=function(e){if("undefined"==typeof e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},e.currentTime=function(e){return"undefined"!=typeof e?(e<0&&(e=0),void this.techCall_("setCurrentTime",e)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},e.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&((this.cache_.duration=e)===1/0?(this.addClass("vjs-live"),this.options_.liveui&&this.player_.liveTracker&&this.addClass("vjs-liveui")):(this.removeClass("vjs-live"),this.removeClass("vjs-liveui")),isNaN(e)||this.trigger("durationchange"))},e.remainingTime=function(){return this.duration()-this.currentTime()},e.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},e.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=ht(0,0)),e},e.bufferedPercent=function(){return dt(this.buffered(),this.duration())},e.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),i=e.end(e.length-1);return t<i&&(i=t),i},e.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(0<t&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},e.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},e.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},e.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},e.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},e.isFullscreen=function(e){if(void 0===e)return this.isFullscreen_;var t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()},e.requestFullscreen=function(e){var t,i=this;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){var n=this.el_[this.fsApi_.requestFullscreen](t);return n&&n.then(function(){return i.isFullscreen(!0)},function(){return i.isFullscreen(!1)}),n}this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):this.enterFullWindow()},e.exitFullscreen=function(){var e=this;if(this.fsApi_.requestFullscreen){var t=h[this.fsApi_.exitFullscreen]();return t&&t.then(function(){return e.isFullscreen(!1)}),t}this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):this.exitFullWindow()},e.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=h.documentElement.style.overflow,he(h,"keydown",this.boundFullWindowOnEscKey_),h.documentElement.style.overflow="hidden",w(h.body,"vjs-full-window"),this.trigger("enterFullWindow")},e.fullWindowOnEscKey=function(e){Lt.isEventKey(e,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},e.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,de(h,"keydown",this.boundFullWindowOnEscKey_),h.documentElement.style.overflow=this.docOrigOverflow,L(h.body,"vjs-full-window"),this.trigger("exitFullWindow")},e.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},e.requestPictureInPicture=function(){if("pictureInPictureEnabled"in h)return this.techGet_("requestPictureInPicture")},e.exitPictureInPicture=function(){if("pictureInPictureEnabled"in h)return h.exitPictureInPicture()},e.handleKeyDown=function(e){var t=this.options_.userActions;if(t&&t.hotkeys){!function(e){var t=e.tagName.toLowerCase();if(e.isContentEditable)return!0;if("input"===t)return-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type);return-1!==["textarea"].indexOf(t)}(this.el_.ownerDocument.activeElement)&&("function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e))}},e.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},i=t.fullscreenKey,n=void 0===i?function(e){return Lt.isEventKey(e,"f")}:i,r=t.muteKey,s=void 0===r?function(e){return Lt.isEventKey(e,"m")}:r,a=t.playPauseKey,o=void 0===a?function(e){return Lt.isEventKey(e,"k")||Lt.isEventKey(e,"Space")}:a;if(n.call(this,e)){e.preventDefault(),e.stopPropagation();var u=Ue.getComponent("FullscreenToggle");!1!==h[this.fsApi_.fullscreenEnabled]&&u.prototype.handleClick.call(this,e)}else if(s.call(this,e)){e.preventDefault(),e.stopPropagation(),Ue.getComponent("MuteToggle").prototype.handleClick.call(this,e)}else if(o.call(this,e)){e.preventDefault(),e.stopPropagation(),Ue.getComponent("PlayToggle").prototype.handleClick.call(this,e)}},e.canPlayType=function(e){for(var t,i=0,n=this.options_.techOrder;i<n.length;i++){var r=n[i],s=Vi.getTech(r);if(s=s||Ue.getComponent(r)){if(s.isSupported()&&(t=s.canPlayType(e)))return t}else p.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},e.selectSource=function(e){function t(e,i,n){var r;return e.some(function(t){return i.some(function(e){if(r=n(t,e))return!0})}),r}function i(e,t){var i=e[0];if(e[1].canPlaySource(t,r.options_[i.toLowerCase()]))return{source:t,tech:i}}var n,r=this,s=this.options_.techOrder.map(function(e){return[e,Vi.getTech(e)]}).filter(function(e){var t=e[0],i=e[1];return i?i.isSupported():(p.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)});return(this.options_.sourceOrder?t(e,s,(n=i,function(e,t){return n(t,e)})):t(s,e,i))||!1},e.src=function(e){var i=this;if("undefined"==typeof e)return this.cache_.src||"";var n=function t(e){if(Array.isArray(e)){var i=[];e.forEach(function(e){e=t(e),Array.isArray(e)?i=i.concat(e):o(e)&&i.push(e)}),e=i}else e="string"==typeof e&&e.trim()?[tn({src:e})]:o(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[tn(e)]:[];return e}(e);n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),Gi(this,n[0],function(e,t){if(i.middleware_=t,i.cache_.sources=n,i.updateSourceCaches_(e),i.src_(e))return 1<n.length?i.src(n.slice(1)):(i.changingSrc_=!1,i.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void i.triggerReady());!function(e,t){e.forEach(function(e){return e.setTech&&e.setTech(t)})}(t,i.tech_)})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},e.src_=function(e){var t=this,i=this.selectSource([e]);return!i||(function(e,t){return De(e)===De(t)}(i.tech,this.techName_)?this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0):(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready(function(){t.changingSrc_=!1})),!1)},e.load=function(){this.techCall_("load")},e.reset=function(){var e=this,t=this.options_.Promise||y.Promise;this.paused()||!t?this.doReset_():kt(this.play().then(function(){return e.doReset_()}))},e.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Le(this)&&this.trigger("playerreset")},e.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},e.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar,t=e.durationDisplay,i=e.remainingTimeDisplay;t&&t.updateContent(),i&&i.updateContent()},e.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},e.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},e.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},e.currentSource=function(){return this.cache_.source||{}},e.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},e.currentType=function(){return this.currentSource()&&this.currentSource().type||""},e.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},e.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)?(this.options_.autoplay=e,this.manualAutoplay_(e),t=!1):this.options_.autoplay=!!e,t="undefined"==typeof t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},e.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},e.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},e.poster=function(e){if(void 0===e)return this.poster_;(e=e||"")!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},e.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},e.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},e.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},e.error=function(e){if(void 0===e)return this.error_||null;if(this.options_.suppressNotSupportedError&&e&&4===e.code){var t=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),void this.one("loadstart",function(){this.off(["click","touchstart"],t)})}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new _t(e),this.addClass("vjs-error"),p.error("(CODE:"+this.error_.code+" "+_t.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},e.reportUserActivity=function(e){this.userActivity_=!0},e.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},e.listenForUserActivity_=function(){function e(e){r(),this.clearInterval(t)}var t,i,n,r=ge(this,this.reportUserActivity);this.on("mousedown",function(){r(),this.clearInterval(t),t=this.setInterval(r,250)}),this.on("mousemove",function(e){e.screenX===i&&e.screenY===n||(i=e.screenX,n=e.screenY,r())}),this.on("mouseup",e),this.on("mouseleave",e);var s,a=this.getChild("controlBar");!a||at||Ke||(a.on("mouseenter",function(e){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0}),a.on("mouseleave",function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",r),this.on("keyup",r),this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var e=this.options_.inactivityTimeout;e<=0||(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},e.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},e.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},e.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},e.addTextTrack=function(e,t,i){if(this.tech_)return this.tech_.addTextTrack(e,t,i)},e.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},e.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e.track;if(t=t||e,this.tech_)return this.tech_.removeRemoteTextTrack(t)},e.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},e.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},e.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},e.language=function(e){if(void 0===e)return this.language_;this.language_=String(e).toLowerCase()},e.languages=function(){return Re(l.prototype.options_.languages,this.languages_)},e.toJSON=function(){var e=Re(this.options_),t=e.tracks;e.tracks=[];for(var i=0;i<t.length;i++){var n=t[i];(n=Re(n)).player=void 0,e.tracks[i]=n}return e},e.createModal=function(e,t){var i=this;(t=t||{}).content=e||"";var n=new At(this,t);return this.addChild(n),n.on("dispose",function(){i.removeChild(n)}),n.open(),n},e.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),i=0;i<Fr.length;i++){var n=Fr[i];if(t<=this.breakpoints_[n]){if(e===n)return;e&&this.removeClass(Hr[e]),this.addClass(Hr[n]),this.breakpoint_=n;break}}},e.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},e.breakpoints=function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=m({},Vr,e),this.updateCurrentBreakpoint_()),m(this.breakpoints_)},e.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?((this.responsive_=e)?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},e.currentBreakpoint=function(){return this.breakpoint_},e.currentBreakpointClass=function(){return Hr[this.breakpoint_]||""},e.loadMedia=function(e,t){var i=this;if(e&&"object"==typeof e){this.reset(),this.cache_.media=Re(e);var n=this.cache_.media,r=n.artwork,s=n.poster,a=n.src,o=n.textTracks;!r&&s&&(this.cache_.media.artwork=[{src:s,type:Zi(s)}]),a&&this.src(a),s&&this.poster(s),Array.isArray(o)&&o.forEach(function(e){return i.addRemoteTextTrack(e,!1)}),this.ready(t)}},e.getMedia=function(){if(this.cache_.media)return Re(this.cache_.media);var e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}})};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:Zi(t.poster)}]),t},l.getTagSettings=function(e){var t={sources:[],tracks:[]},i=I(e),n=i["data-setup"];if(E(e,"vjs-fill")&&(i.fill=!0),E(e,"vjs-fluid")&&(i.fluid=!0),null!==n){var r=Tt(n||"{}"),s=r[0],a=r[1];s&&p.error(s),m(i,a)}if(m(t,i),e.hasChildNodes())for(var o=e.childNodes,u=0,l=o.length;u<l;u++){var c=o[u],h=c.nodeName.toLowerCase();"source"===h?t.sources.push(I(c)):"track"===h&&t.tracks.push(I(c))}return t},e.flexNotSupported_=function(){var e=h.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},l}(Ue);hi.names.forEach(function(e){var t=hi[e];qr.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),qr.players={};var Wr=y.navigator;qr.prototype.options_={techOrder:Vi.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Wr&&(Wr.languages&&Wr.languages[0]||Wr.userLanguage||Wr.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){qr.prototype[e]=function(){return this.techGet_(e)}}),Br.forEach(function(e){qr.prototype["handleTech"+De(e)+"_"]=function(){return this.trigger(e)}}),Ue.registerComponent("Player",qr);function zr(e){return es.hasOwnProperty(e)}function Gr(e){return zr(e)?es[e]:void 0}function Kr(e,t){e[Zr]=e[Zr]||{},e[Zr][t]=!0}function Xr(e,t,i){var n=(i?"before":"")+"pluginsetup";e.trigger(n,t),e.trigger(n+":"+t.name,t)}function Yr(r,s){return s.prototype.name=r,function(){Xr(this,{name:r,plugin:s,instance:null},!0);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=Qr(s,[this].concat(t));return this[r]=function(){return n},Xr(this,n.getEventHash()),n}}var $r=t(function(i){function n(e,t){return i.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}i.exports=n}),Qr=t(function(n){function r(e,t,i){return!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?n.exports=r=function(e,t,i){var n=[null];n.push.apply(n,t);var r=new(Function.bind.apply(e,n));return i&&$r(r,i.prototype),r}:n.exports=r=Reflect.construct,r.apply(null,arguments)}n.exports=r}),Jr="plugin",Zr="activePlugins_",es={},ts=function(){function i(e){if(this.constructor===i)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,Ae(this),delete this.trigger,xe(this,this.constructor.defaultState),Kr(e,this.name),this.dispose=ge(this,this.dispose),e.on("dispose",this.dispose)}var e=i.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},e.trigger=function(e,t){return void 0===t&&(t={}),pe(this.eventBusEl_,e,this.getEventHash(t))},e.handleStateChanged=function(e){},e.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[Zr][e]=!1,this.player=this.state=null,t[e]=Yr(e,es[e])},i.isBasic=function(e){var t="string"==typeof e?Gr(e):e;return"function"==typeof t&&!i.prototype.isPrototypeOf(t.prototype)},i.registerPlugin=function(e,t){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".");if(zr(e))p.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(qr.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof t)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof t+".");return es[e]=t,e!==Jr&&(i.isBasic(t)?qr.prototype[e]=function(t,i){function n(){Xr(this,{name:t,plugin:i,instance:null},!0);var e=i.apply(this,arguments);return Kr(this,t),Xr(this,{name:t,plugin:i,instance:e}),e}return Object.keys(i).forEach(function(e){n[e]=i[e]}),n}(e,t):qr.prototype[e]=Yr(e,t)),t},i.deregisterPlugin=function(e){if(e===Jr)throw new Error("Cannot de-register base plugin.");zr(e)&&(delete es[e],delete qr.prototype[e])},i.getPlugins=function(e){var i;return void 0===e&&(e=Object.keys(es)),e.forEach(function(e){var t=Gr(e);t&&((i=i||{})[e]=t)}),i},i.getPluginVersion=function(e){var t=Gr(e);return t&&t.VERSION||""},i}();ts.getPlugin=Gr,ts.BASE_PLUGIN_NAME=Jr,ts.registerPlugin(Jr,ts),qr.prototype.usingPlugin=function(e){return!!this[Zr]&&!0===this[Zr][e]},qr.prototype.hasPlugin=function(e){return!!zr(e)};var is=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$r(e,t)},ns=function(e){return 0===e.indexOf("#")?e.slice(1):e};function rs(e,i,t){var n=rs.getPlayer(e);if(n)return i&&p.warn('Player "'+e+'" is already initialised. Options will not be applied.'),t&&n.ready(t),n;var r="string"==typeof e?G("#"+ns(e)):e;if(!_(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");r.ownerDocument.defaultView&&r.ownerDocument.body.contains(r)||p.warn("The element supplied is not included in the DOM"),i=i||{},rs.hooks("beforesetup").forEach(function(e){var t=e(r,Re(i));o(t)&&!Array.isArray(t)?i=Re(i,t):p.error("please return an object in beforesetup hooks")});var s=Ue.getComponent("Player");return n=new s(r,i,t),rs.hooks("setup").forEach(function(e){return e(n)}),n}if(rs.hooks_={},rs.hooks=function(e,t){return rs.hooks_[e]=rs.hooks_[e]||[],t&&(rs.hooks_[e]=rs.hooks_[e].concat(t)),rs.hooks_[e]},rs.hook=function(e,t){rs.hooks(e,t)},rs.hookOnce=function(i,e){rs.hooks(i,[].concat(e).map(function(t){return function e(){return rs.removeHook(i,e),t.apply(void 0,arguments)}}))},rs.removeHook=function(e,t){var i=rs.hooks(e).indexOf(t);return!(i<=-1)&&(rs.hooks_[e]=rs.hooks_[e].slice(),rs.hooks_[e].splice(i,1),!0)},!0!==y.VIDEOJS_NO_DYNAMIC_STYLE&&v()){var ss=G(".vjs-styles-defaults");if(!ss){ss=Z("vjs-styles-defaults");var as=G("head");as&&as.insertBefore(ss,as.firstChild),ee(ss,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}Q(1,rs),rs.VERSION=d,rs.options=qr.prototype.options_,rs.getPlayers=function(){return qr.players},rs.getPlayer=function(e){var t,i=qr.players;if("string"==typeof e){var n=ns(e),r=i[n];if(r)return r;t=G("#"+n)}else t=e;if(_(t)){var s=t,a=s.player,o=s.playerId;if(a||i[o])return a||i[o]}},rs.getAllPlayers=function(){return Object.keys(qr.players).map(function(e){return qr.players[e]}).filter(Boolean)},rs.players=qr.players,rs.getComponent=Ue.getComponent,rs.registerComponent=function(e,t){Vi.isTech(t)&&p.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Ue.registerComponent.call(Ue,e,t)},rs.getTech=Vi.getTech,rs.registerTech=Vi.registerTech,rs.use=function(e,t){qi[e]=qi[e]||[],qi[e].push(t)},Object.defineProperty(rs,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(rs.middleware,"TERMINATOR",{value:zi,writeable:!1,enumerable:!0}),rs.browser=ut,rs.TOUCH_ENABLED=nt,rs.extend=function(e,t){void 0===t&&(t={});var i=function(){e.apply(this,arguments)},n={};for(var r in"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(i=t.constructor),n=t):"function"==typeof t&&(i=t),is(i,e),e&&(i.super_=e),n)n.hasOwnProperty(r)&&(i.prototype[r]=n[r]);return i},rs.mergeOptions=Re,rs.bind=ge,rs.registerPlugin=ts.registerPlugin,rs.deregisterPlugin=ts.deregisterPlugin,rs.plugin=function(e,t){return p.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),ts.registerPlugin(e,t)},rs.getPlugins=ts.getPlugins,rs.getPlugin=ts.getPlugin,rs.getPluginVersion=ts.getPluginVersion,rs.addLanguage=function(e,t){var i;return e=(""+e).toLowerCase(),rs.options.languages=Re(rs.options.languages,((i={})[e]=t,i)),rs.options.languages[e]},rs.log=p,rs.createLogger=f,rs.createTimeRange=rs.createTimeRanges=ht,rs.formatTime=yn,rs.setFormatTime=function(e){vn=e},rs.resetFormatTime=function(){vn=gn},rs.parseUrl=Rt,rs.isCrossOrigin=Nt,rs.EventTarget=ye,rs.on=he,rs.one=fe,rs.off=de,rs.trigger=pe,rs.xhr=Jt,rs.TextTrack=si,rs.AudioTrack=ai,rs.VideoTrack=oi,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){rs[e]=function(){return p.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),X[e].apply(null,arguments)}}),rs.computedStyle=n,rs.dom=X,rs.url=Xt,rs.defineLazyProperty=Dr;var os=t(function(e,t){var i,c,n,r,h;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,c=/^([^\/?#]*)(.*)$/,n=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,h={buildAbsoluteURL:function(e,t,i){if(i=i||{},e=e.trim(),!(t=t.trim())){if(!i.alwaysNormalize)return e;var n=h.parseURL(e);if(!n)throw new Error("Error trying to parse base URL.");return n.path=h.normalizePath(n.path),h.buildURLFromParts(n)}var r=h.parseURL(t);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return i.alwaysNormalize?(r.path=h.normalizePath(r.path),h.buildURLFromParts(r)):t;var s=h.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var a=c.exec(s.path);s.netLoc=a[1],s.path=a[2]}s.netLoc&&!s.path&&(s.path="/");var o={scheme:s.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};if(!r.netLoc&&(o.netLoc=s.netLoc,"/"!==r.path[0]))if(r.path){var u=s.path,l=u.substring(0,u.lastIndexOf("/")+1)+r.path;o.path=h.normalizePath(l)}else o.path=s.path,r.params||(o.params=s.params,r.query||(o.query=s.query));return null===o.path&&(o.path=i.alwaysNormalize?h.normalizePath(r.path):r.path),h.buildURLFromParts(o)},parseURL:function(e){var t=i.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(n,"");e.length!==(e=e.replace(r,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=h});
/*! @name m3u8-parser @version 4.4.0 @license Apache-2.0 */function us(){return(us=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function ls(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function cs(e){for(var t,i=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),n={},r=i.length;r--;)""!==i[r]&&((t=/([^=]*)=(.*)/.exec(i[r]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),n[t[0]]=t[1]);return n}var hs=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e].splice(i,1),-1<i},t.trigger=function(e,t){var i,n,r,s=this.listeners[e];if(s)if(2===arguments.length)for(n=s.length,i=0;i<n;++i)s[i].call(this,t);else for(r=Array.prototype.slice.call(arguments,1),n=s.length,i=0;i<n;++i)s[i].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(t){this.on("data",function(e){t.push(e)})},e}(),ds=function(t){function e(){var e;return(e=t.call(this)||this).buffer="",e}return ls(e,t),e.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");-1<t;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},e}(hs),ps=function(t){function e(){var e;return(e=t.call(this)||this).customParsers=[],e.tagMappers=[],e}ls(e,t);var i=e.prototype;return i.push=function(n){var u,l,c=this;0!==(n=n.trim()).length&&("#"===n[0]?this.tagMappers.reduce(function(e,t){var i=t(n);return i===n?e:e.concat([i])},[n]).forEach(function(e){for(var t=0;t<c.customParsers.length;t++)if(c.customParsers[t].call(c,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),u=/^#EXTM3U/.exec(e))c.trigger("data",{type:"tag",tagType:"m3u"});else{if(u=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return l={type:"tag",tagType:"inf"},u[1]&&(l.duration=parseFloat(u[1])),u[2]&&(l.title=u[2]),void c.trigger("data",l);if(u=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return l={type:"tag",tagType:"targetduration"},u[1]&&(l.duration=parseInt(u[1],10)),void c.trigger("data",l);if(u=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return l={type:"tag",tagType:"totalduration"},u[1]&&(l.duration=parseInt(u[1],10)),void c.trigger("data",l);if(u=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return l={type:"tag",tagType:"version"},u[1]&&(l.version=parseInt(u[1],10)),void c.trigger("data",l);if(u=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return l={type:"tag",tagType:"media-sequence"},u[1]&&(l.number=parseInt(u[1],10)),void c.trigger("data",l);if(u=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return l={type:"tag",tagType:"discontinuity-sequence"},u[1]&&(l.number=parseInt(u[1],10)),void c.trigger("data",l);if(u=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return l={type:"tag",tagType:"playlist-type"},u[1]&&(l.playlistType=u[1]),void c.trigger("data",l);if(u=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return l={type:"tag",tagType:"byterange"},u[1]&&(l.length=parseInt(u[1],10)),u[2]&&(l.offset=parseInt(u[2],10)),void c.trigger("data",l);if(u=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return l={type:"tag",tagType:"allow-cache"},u[1]&&(l.allowed=!/NO/.test(u[1])),void c.trigger("data",l);if(u=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(l={type:"tag",tagType:"map"},u[1]){var i=cs(u[1]);if(i.URI&&(l.uri=i.URI),i.BYTERANGE){var n=i.BYTERANGE.split("@"),r=n[0],s=n[1];l.byterange={},r&&(l.byterange.length=parseInt(r,10)),s&&(l.byterange.offset=parseInt(s,10))}}c.trigger("data",l)}else if(u=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(l={type:"tag",tagType:"stream-inf"},u[1]){if(l.attributes=cs(u[1]),l.attributes.RESOLUTION){var a=l.attributes.RESOLUTION.split("x"),o={};a[0]&&(o.width=parseInt(a[0],10)),a[1]&&(o.height=parseInt(a[1],10)),l.attributes.RESOLUTION=o}l.attributes.BANDWIDTH&&(l.attributes.BANDWIDTH=parseInt(l.attributes.BANDWIDTH,10)),l.attributes["PROGRAM-ID"]&&(l.attributes["PROGRAM-ID"]=parseInt(l.attributes["PROGRAM-ID"],10))}c.trigger("data",l)}else{if(u=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return l={type:"tag",tagType:"media"},u[1]&&(l.attributes=cs(u[1])),void c.trigger("data",l);if(u=/^#EXT-X-ENDLIST/.exec(e))c.trigger("data",{type:"tag",tagType:"endlist"});else if(u=/^#EXT-X-DISCONTINUITY/.exec(e))c.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(u=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return l={type:"tag",tagType:"program-date-time"},u[1]&&(l.dateTimeString=u[1],l.dateTimeObject=new Date(u[1])),void c.trigger("data",l);if(u=/^#EXT-X-KEY:?(.*)$/.exec(e))return l={type:"tag",tagType:"key"},u[1]&&(l.attributes=cs(u[1]),l.attributes.IV&&("0x"===l.attributes.IV.substring(0,2).toLowerCase()&&(l.attributes.IV=l.attributes.IV.substring(2)),l.attributes.IV=l.attributes.IV.match(/.{8}/g),l.attributes.IV[0]=parseInt(l.attributes.IV[0],16),l.attributes.IV[1]=parseInt(l.attributes.IV[1],16),l.attributes.IV[2]=parseInt(l.attributes.IV[2],16),l.attributes.IV[3]=parseInt(l.attributes.IV[3],16),l.attributes.IV=new Uint32Array(l.attributes.IV))),void c.trigger("data",l);if(u=/^#EXT-X-START:?(.*)$/.exec(e))return l={type:"tag",tagType:"start"},u[1]&&(l.attributes=cs(u[1]),l.attributes["TIME-OFFSET"]=parseFloat(l.attributes["TIME-OFFSET"]),l.attributes.PRECISE=/YES/.test(l.attributes.PRECISE)),void c.trigger("data",l);if(u=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return l={type:"tag",tagType:"cue-out-cont"},u[1]?l.data=u[1]:l.data="",void c.trigger("data",l);if(u=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return l={type:"tag",tagType:"cue-out"},u[1]?l.data=u[1]:l.data="",void c.trigger("data",l);if(u=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return l={type:"tag",tagType:"cue-in"},u[1]?l.data=u[1]:l.data="",void c.trigger("data",l);c.trigger("data",{type:"tag",data:e.slice(4)})}}}else c.trigger("data",{type:"comment",text:e.slice(1)})}):this.trigger("data",{type:"uri",uri:n}))},i.addParser=function(e){var t=this,i=e.expression,n=e.customType,r=e.dataParser,s=e.segment;"function"!=typeof r&&(r=function(e){return e}),this.customParsers.push(function(e){if(i.exec(e))return t.trigger("data",{type:"custom",data:r(e),customType:n,segment:s}),!0})},i.addTagMapper=function(e){var t=e.expression,i=e.map;this.tagMappers.push(function(e){return t.test(e)?i(e):e})},e}(hs);function fs(e){return!!e&&"object"==typeof e}function ms(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce(function(t,i){return Object.keys(i).forEach(function(e){Array.isArray(t[e])&&Array.isArray(i[e])?t[e]=t[e].concat(i[e]):fs(t[e])&&fs(i[e])?t[e]=ms(t[e],i[e]):t[e]=i[e]}),t},{})}function gs(e){return e.reduce(function(e,t){return e.concat(t)},[])}function vs(e){if(!e.length)return[];for(var t=[],i=0;i<e.length;i++)t.push(e[i]);return t}var ys=function(t){function e(){var e;(e=t.call(this)||this).lineStream=new ds,e.parseStream=new ps,e.lineStream.pipe(e.parseStream);var r,s,a=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e),o=[],u={},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c=0;return e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},e.parseStream.on("data",function(t){var i,n;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&((u.byterange=e).length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&((u.byterange=e).offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),0<t.duration&&(u.duration=t.duration),0===t.duration&&(u.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(t.attributes)if("NONE"!==t.attributes.METHOD)if(t.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===t.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(t.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===t.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==t.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):t.attributes.KEYID&&"0x"===t.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:t.attributes.KEYFORMAT,keyId:t.attributes.KEYID.substring(2)},pssh:function(e){for(var t=y.atob(e||""),i=new Uint8Array(t.length),n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return i}(t.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),s={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},"undefined"!=typeof t.attributes.IV&&(s.iv=t.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else s=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,c=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){r={},t.uri&&(r.uri=t.uri),t.byterange&&(r.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||l,t.attributes?(u.attributes||(u.attributes={}),us(u.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var e=this.manifest.mediaGroups[t.attributes.TYPE];e[t.attributes["GROUP-ID"]]=e[t.attributes["GROUP-ID"]]||{},i=e[t.attributes["GROUP-ID"]],(n={default:/yes/i.test(t.attributes.DEFAULT)}).default?n.autoselect=!0:n.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(n.language=t.attributes.LANGUAGE),t.attributes.URI&&(n.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(n.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(n.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(n.forced=/yes/i.test(t.attributes.FORCED)),i[t.attributes.NAME]=n}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){c+=1,u.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){"undefined"==typeof this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject),u.dateTimeString=t.dateTimeString,u.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},start:function(){t.attributes&&!isNaN(t.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){u.cueOut=t.data},"cue-out-cont":function(){u.cueOutCont=t.data},"cue-in":function(){u.cueIn=t.data}}[t.tagType]||function(){}).call(a)},uri:function(){u.uri=t.uri,o.push(u),!this.manifest.targetDuration||"duration"in u||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),u.duration=this.manifest.targetDuration),s&&(u.key=s),u.timeline=c,r&&(u.map=r),u={}},comment:function(){},custom:function(){t.segment?(u.custom=u.custom||{},u.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(a)}),e}ls(e,t);var i=e.prototype;return i.push=function(e){this.lineStream.push(e)},i.end=function(){this.lineStream.push("\n")},i.addParser=function(e){this.parseStream.addParser(e)},i.addTagMapper=function(e){this.parseStream.addTagMapper(e)},e}(hs),_s="INVALID_NUMBER_OF_PERIOD",bs="DASH_EMPTY_MANIFEST",Ts="DASH_INVALID_XML",Ss="NO_BASE_URL",ks="SEGMENT_TIME_UNSPECIFIED",Cs="UNSUPPORTED_UTC_TIMING_SCHEME";
/*! @name mpd-parser @version 0.8.1 @license Apache-2.0 */function Es(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=Ws.buildAbsoluteURL(y.location.href,e)),Ws.buildAbsoluteURL(e,t))}function ws(e){var t=e.baseUrl,i=void 0===t?"":t,n=e.source,r=void 0===n?"":n,s=e.range,a=void 0===s?"":s,o=e.indexRange,u=void 0===o?"":o,l={uri:r,resolvedUri:Es(i||"",r)};if(a||u){var c=(a||u).split("-"),h=parseInt(c[0],10),d=parseInt(c[1],10);l.byterange={length:d-h+1,offset:h}}return l}function Ls(e){var t=e.type,i=void 0===t?"static":t,n=e.duration,r=e.timescale,s=void 0===r?1:r,a=e.sourceDuration,o=zs[i](e),u=function(e,t){for(var i=[],n=e;n<t;n++)i.push(n);return i}(o.start,o.end).map(function(o){return function(e,t){var i=o.duration,n=o.timescale,r=void 0===n?1:n,s=o.periodIndex,a=o.startNumber;return{number:(void 0===a?1:a)+e,duration:i/r,timeline:s,time:t*i}}}(e));if("static"===i){var l=u.length-1;u[l].duration=a-n/s*l}return u}function Ps(e){var t=e.baseUrl,i=e.initialization,n=void 0===i?{}:i,r=e.sourceDuration,s=e.timescale,a=void 0===s?1:s,o=e.indexRange,u=void 0===o?"":o,l=e.duration;if(!t)throw new Error(Ss);var c=ws({baseUrl:t,source:n.sourceURL,range:n.range}),h=ws({baseUrl:t,source:t,indexRange:u});if(h.map=c,l){var d=Ls(e);d.length&&(h.duration=d[0].duration,h.timeline=d[0].timeline)}else r&&(h.duration=r/a,h.timeline=0);return h.number=0,[h]}function As(e,t,i){for(var n=e.sidx.map?e.sidx.map:null,r=e.sidx.duration,s=e.timeline||0,a=e.sidx.byterange,o=a.offset+a.length,u=t.timescale,l=t.references.filter(function(e){return 1!==e.referenceType}),c=[],h=o+t.firstOffset,d=0;d<l.length;d++){var p=t.references[d],f=p.referencedSize,m=p.subsegmentDuration,g=Ps({baseUrl:i,timescale:u,timeline:s,periodIndex:s,duration:m,sourceDuration:r,indexRange:h+"-"+(h+f-1)})[0];n&&(g.map=n),c.push(g),h+=f}return e.segments=c,e}function Is(e){return function(t){return Object.keys(t).map(function(e){return t[e]})}(e.reduce(function(e,t){var i,n=t.attributes.id+(t.attributes.lang||"");e[n]?(t.segments[0]&&(t.segments[0].discontinuity=!0),(i=e[n].segments).push.apply(i,t.segments),t.attributes.contentProtection&&(e[n].attributes.contentProtection=t.attributes.contentProtection)):e[n]=t;return e},{})).map(function(e){return e.discontinuityStarts=function(e,n){return e.reduce(function(e,t,i){return t[n]&&e.push(i),e},[])}(e.segments,"discontinuity"),e})}function xs(e,t){if(void 0===t&&(t={}),!Object.keys(t).length)return e;for(var i in e){var n=e[i];if(n.sidx){var r=n.sidx.uri+"-"+(a=n.sidx.byterange,void 0,o=a.offset+a.length-1,a.offset+"-"+o),s=t[r]&&t[r].sidx;n.sidx&&s&&As(n,s,n.sidx.resolvedUri)}}var a,o;return e}function Os(e){var t,i=e.attributes,n=e.segments,r=e.sidx,s={attributes:(t={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:n,mediaSequence:n.length?n[0].number:1};return i.contentProtection&&(s.contentProtection=i.contentProtection),r&&(s.sidx=r),s}function Ds(e,t){var i;if(void 0===t&&(t={}),!e.length)return{};var n=e[0].attributes,r=n.sourceDuration,s=n.minimumUpdatePeriod,a=void 0===s?0:s,o=Is(e.filter(function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video"===t.contentType})).map(Os),u=Is(e.filter(function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio"===t.contentType})),l=e.filter(function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType}),c={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(i={AUDIO:{},VIDEO:{}},i["CLOSED-CAPTIONS"]={},i.SUBTITLES={},i),uri:"",duration:r,playlists:xs(o,t),minimumUpdatePeriod:1e3*a};return u.length&&(c.mediaGroups.AUDIO.audio=function(e,a){var o;void 0===a&&(a={});var t=e.reduce(function(e,t){var i=t.attributes.role&&t.attributes.role.value||"",n=t.attributes.lang||"",r="main";if(n){var s=i?" ("+i+")":"";r=t.attributes.lang+s}return e[r]&&e[r].playlists[0].attributes.BANDWIDTH>t.attributes.bandwidth||(e[r]={language:n,autoselect:!0,default:"main"===i,playlists:xs([function(e){var t,i=e.attributes,n=e.segments,r=e.sidx,s={attributes:(t={NAME:i.id,BANDWIDTH:i.bandwidth,CODECS:i.codecs},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:n,mediaSequence:n.length?n[0].number:1};return i.contentProtection&&(s.contentProtection=i.contentProtection),r&&(s.sidx=r),s}(t)],a),uri:""},"undefined"==typeof o&&"main"===i&&((o=t).default=!0)),e},{});o||(t[Object.keys(t)[0]].default=!0);return t}(u,t)),l.length&&(c.mediaGroups.SUBTITLES.subs=function(e,n){return void 0===n&&(n={}),e.reduce(function(e,t){var i=t.attributes.lang||"text";return e[i]||(e[i]={language:i,default:!1,autoselect:!1,playlists:xs([function(e){var t,i=e.attributes,n=e.segments;return"undefined"==typeof n&&(n=[{uri:i.baseUrl,timeline:i.periodIndex,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration),{attributes:(t={NAME:i.id,BANDWIDTH:i.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:i.baseUrl||"",targetDuration:i.duration,segments:n,mediaSequence:n.length?n[0].number:1}}(t)],n),uri:""}),e},{})}(l,t)),c}function Rs(e,t){for(var i,n,r,s,a,o,u,l,c,h,d,p,f=e.type,m=void 0===f?"static":f,g=e.minimumUpdatePeriod,v=void 0===g?0:g,y=e.media,_=void 0===y?"":y,b=e.sourceDuration,T=e.timescale,S=void 0===T?1:T,k=e.startNumber,C=void 0===k?1:k,E=e.periodIndex,w=[],L=-1,P=0;P<t.length;P++){var A=t[P],I=A.d,x=A.r||0,O=A.t||0;L<0&&(L=O),O&&L<O&&(L=O);var D=void 0;if(x<0){var R=P+1;D=R===t.length?"dynamic"===m&&0<v&&0<_.indexOf("$Number$")?(n=L,r=I,void 0,s=(i=e).NOW,a=i.clientOffset,o=i.availabilityStartTime,u=i.timescale,l=void 0===u?1:u,c=i.start,h=void 0===c?0:c,d=i.minimumUpdatePeriod,p=(s+a)/1e3+(void 0===d?0:d)-(o+h),Math.ceil((p*l-n)/r)):(b*S-L)/I:(t[R].t-L)/I}else D=x+1;for(var U=C+w.length+D,M=C+w.length;M<U;)w.push({number:M,duration:I/S,time:L,timeline:E}),L+=I,M++}return w}function Us(e,t){return e.replace(Gs,function(s){return function(e,t,i,n){if("$$"===e)return"$";if("undefined"==typeof s[t])return e;var r=""+s[t];return"RepresentationID"===t?r:(n=i?parseInt(n,10):1)<=r.length?r:new Array(n-r.length+1).join("0")+r}}(t))}function Ms(i,e){var n={RepresentationID:i.id,Bandwidth:i.bandwidth||0},t=i.initialization,r=void 0===t?{sourceURL:"",range:""}:t,s=ws({baseUrl:i.baseUrl,source:Us(r.sourceURL,n),range:r.range});return function(e,t){return e.duration||t?e.duration?Ls(e):Rs(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]}(i,e).map(function(e){n.Number=e.number,n.Time=e.time;var t=Us(i.media||"",n);return{uri:t,timeline:e.timeline,duration:e.duration,resolvedUri:Es(i.baseUrl||"",t),map:s,number:e.number}})}function Ns(t,e){var i=t.duration,n=t.segmentUrls,r=void 0===n?[]:n;if(!i&&!e||i&&e)throw new Error(ks);var s,a=r.map(function(e){return function(e,t){var i=e.baseUrl,n=e.initialization,r=void 0===n?{}:n,s=ws({baseUrl:i,source:r.sourceURL,range:r.range}),a=ws({baseUrl:i,source:t.media,range:t.mediaRange});return a.map=s,a}(t,e)});return i&&(s=Ls(t)),e&&(s=Rs(t,e)),s.map(function(e,t){if(a[t]){var i=a[t];return i.timeline=e.timeline,i.duration=e.duration,i.number=e.number,i}}).filter(function(e){return e})}function Bs(e){var t,i,n=e.attributes,r=e.segmentInfo;r.template?(i=Ms,t=ms(n,r.template)):r.base?(i=Ps,t=ms(n,r.base)):r.list&&(i=Ns,t=ms(n,r.list));var s={attributes:n};if(!i)return s;var a=i(t,r.timeline);if(t.duration){var o=t,u=o.duration,l=o.timescale,c=void 0===l?1:l;t.duration=u/c}else a.length?t.duration=a.reduce(function(e,t){return Math.max(e,Math.ceil(t.duration))},0):t.duration=0;return s.attributes=t,s.segments=a,r.base&&t.indexRange&&(s.sidx=a[0],s.segments=[]),s}function js(e,t){return vs(e.childNodes).filter(function(e){return e.tagName===t})}function Fs(e){return e.textContent.trim()}function Hs(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;var i=t.slice(1),n=i[0],r=i[1],s=i[2],a=i[3],o=i[4],u=i[5];return 31536e3*parseFloat(n||0)+2592e3*parseFloat(r||0)+86400*parseFloat(s||0)+3600*parseFloat(a||0)+60*parseFloat(o||0)+parseFloat(u||0)}function Vs(e){return e&&e.attributes?vs(e.attributes).reduce(function(e,t){var i=Ks[t.name]||Ks.DEFAULT;return e[t.name]=i(t.value),e},{}):{}}var qs,Ws=(function(e,t){var i,c,n,r,h;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,c=/^([^\/?#]*)(.*)$/,n=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,h={buildAbsoluteURL:function(e,t,i){if(i=i||{},e=e.trim(),!(t=t.trim())){if(!i.alwaysNormalize)return e;var n=h.parseURL(e);if(!n)throw new Error("Error trying to parse base URL.");return n.path=h.normalizePath(n.path),h.buildURLFromParts(n)}var r=h.parseURL(t);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return i.alwaysNormalize?(r.path=h.normalizePath(r.path),h.buildURLFromParts(r)):t;var s=h.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var a=c.exec(s.path);s.netLoc=a[1],s.path=a[2]}s.netLoc&&!s.path&&(s.path="/");var o={scheme:s.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};if(!r.netLoc&&(o.netLoc=s.netLoc,"/"!==r.path[0]))if(r.path){var u=s.path,l=u.substring(0,u.lastIndexOf("/")+1)+r.path;o.path=h.normalizePath(l)}else o.path=s.path,r.params||(o.params=s.params,r.query||(o.query=s.query));return null===o.path&&(o.path=i.alwaysNormalize?h.normalizePath(r.path):r.path),h.buildURLFromParts(o)},parseURL:function(e){var t=i.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(n,"");e.length!==(e=e.replace(r,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=h}(qs={exports:{}},qs.exports),qs.exports),zs={static:function(e){var t=e.duration,i=e.timescale,n=void 0===i?1:i,r=e.sourceDuration;return{start:0,end:Math.ceil(r/(t/n))}},dynamic:function(e){var t=e.NOW,i=e.clientOffset,n=e.availabilityStartTime,r=e.timescale,s=void 0===r?1:r,a=e.duration,o=e.start,u=void 0===o?0:o,l=e.minimumUpdatePeriod,c=void 0===l?0:l,h=e.timeShiftBufferDepth,d=void 0===h?1/0:h,p=(t+i)/1e3,f=n+u,m=p+c-f,g=Math.ceil(m*s/a),v=Math.floor((p-f-d)*s/a),y=Math.floor((p-f)*s/a);return{start:Math.max(0,v),end:Math.min(g,y)}}},Gs=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Ks={mediaPresentationDuration:function(e){return Hs(e)},availabilityStartTime:function(e){return function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),Date.parse(e)}(e)/1e3},minimumUpdatePeriod:function(e){return Hs(e)},timeShiftBufferDepth:function(e){return Hs(e)},start:function(e){return Hs(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?Hs(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}};function Xs(e,i){return i.length?gs(e.map(function(t){return i.map(function(e){return Es(t,Fs(e))})})):e}function Ys(e){var t=js(e,"SegmentTemplate")[0],i=js(e,"SegmentList")[0],n=i&&js(i,"SegmentURL").map(function(e){return ms({tag:"SegmentURL"},Vs(e))}),r=js(e,"SegmentBase")[0],s=i||t,a=s&&js(s,"SegmentTimeline")[0],o=i||r||t,u=o&&js(o,"Initialization")[0],l=t&&Vs(t);l&&u?l.initialization=u&&Vs(u):l&&l.initialization&&(l.initialization={sourceURL:l.initialization});var c={template:l,timeline:a&&js(a,"S").map(function(e){return Vs(e)}),list:i&&ms(Vs(i),{segmentUrls:n,initialization:Vs(u)}),base:r&&ms(Vs(r),{initialization:Vs(u)})};return Object.keys(c).forEach(function(e){c[e]||delete c[e]}),c}function $s(e){return e.reduce(function(e,t){var i=Vs(t),n=da[i.schemeIdUri];if(n){e[n]={attributes:i};var r=js(t,"cenc:pssh")[0];if(r){var s=Fs(r),a=s&&function(e){for(var t=y.atob(e),i=new Uint8Array(t.length),n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return i}(s);e[n].pssh=a}}return e},{})}function Qs(c,h,d){return function(e){var t=Vs(e),i=Xs(h,js(e,"BaseURL")),n=js(e,"Role")[0],r={role:Vs(n)},s=ms(c,t,r),a=$s(js(e,"ContentProtection"));Object.keys(a).length&&(s=ms(s,{contentProtection:a}));var o=Ys(e),u=js(e,"Representation"),l=ms(d,o);return gs(u.map(function(s,a,o){return function(e){var t=js(e,"BaseURL"),i=Xs(a,t),n=ms(s,Vs(e)),r=Ys(e);return i.map(function(e){return{segmentInfo:ms(o,r),attributes:ms(n,{baseUrl:e})}})}}(s,i,l)))}}function Js(e,t){void 0===t&&(t={});var i=t,n=i.manifestUri,r=void 0===n?"":n,s=i.NOW,a=void 0===s?Date.now():s,o=i.clientOffset,u=void 0===o?0:o,l=js(e,"Period");if(!l.length)throw new Error(_s);var c=Vs(e),h=Xs([r],js(e,"BaseURL"));return c.sourceDuration=c.mediaPresentationDuration||0,c.NOW=a,c.clientOffset=u,gs(l.map(function(l,c){return function(e,t){var i=Xs(c,js(e,"BaseURL")),n=Vs(e),r=parseInt(n.id,10),s=y.isNaN(r)?t:r,a=ms(l,{periodIndex:s}),o=js(e,"AdaptationSet"),u=Ys(e);return gs(o.map(Qs(a,i,u)))}}(c,h)))}function Zs(e){if(""===e)throw new Error(bs);var t=(new y.DOMParser).parseFromString(e,"application/xml"),i=t&&"MPD"===t.documentElement.tagName?t.documentElement:null;if(!i||i&&0<i.getElementsByTagName("parsererror").length)throw new Error(Ts);return i}function ea(e,t){return void 0===t&&(t={}),Ds(function(e){return e.map(Bs)}(Js(Zs(e),t)),t.sidxMapping)}function ta(e){return function(e){var t=js(e,"UTCTiming")[0];if(!t)return null;var i=Vs(t);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Cs)}return i}(Zs(e))}function ia(e){return new Date(1e3*e-20828448e5)}function na(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}}function ra(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])}var sa,aa,oa,ua,la,ca,ha,da={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},pa=function(e){return e>>>0},fa=function(e){return("00"+e.toString(16)).slice(-2)},ma=pa,ga={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:sa(e.subarray(78,e.byteLength))}},avcC:function(e){var t,i,n,r,s=new DataView(e.buffer,e.byteOffset,e.byteLength),a={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},o=31&e[5];for(n=6,r=0;r<o;r++)i=s.getUint16(n),n+=2,a.sps.push(new Uint8Array(e.subarray(n,n+i))),n+=i;for(t=e[n],n++,r=0;r<t;r++)i=s.getUint16(n),n+=2,a.pps.push(new Uint8Array(e.subarray(n,n+i))),n+=i;return a},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={majorBrand:ra(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},n=8;n<e.byteLength;)i.compatibleBrands.push(ra(e.subarray(n,n+4))),n+=4;return i},dinf:function(e){return{boxes:sa(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:sa(e.subarray(8))}},hdlr:function(e){var t={version:new DataView(e.buffer,e.byteOffset,e.byteLength).getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:ra(e.subarray(8,12)),name:""},i=8;for(i=24;i<e.byteLength;i++){if(0===e[i]){i++;break}t.name+=String.fromCharCode(e[i])}return t.name=decodeURIComponent(escape(t.name)),t},mdat:function(e){return{byteLength:e.byteLength,nals:function(e){var t,i,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=[];for(t=0;t+4<e.length;t+=i)if(i=n.getUint32(t),t+=4,i<=0)r.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&e[t]){case 1:r.push("slice_layer_without_partitioning_rbsp");break;case 5:r.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:r.push("sei_rbsp");break;case 7:r.push("seq_parameter_set_rbsp");break;case 8:r.push("pic_parameter_set_rbsp");break;case 9:r.push("access_unit_delimiter_rbsp");break;default:r.push("UNKNOWN NAL - "+e[t]&31)}return r}(e)}},mdhd:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,r={version:i.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===r.version?(n+=4,r.creationTime=ia(i.getUint32(n)),n+=8,r.modificationTime=ia(i.getUint32(n)),n+=4,r.timescale=i.getUint32(n),n+=8):(r.creationTime=ia(i.getUint32(n)),n+=4,r.modificationTime=ia(i.getUint32(n)),n+=4,r.timescale=i.getUint32(n),n+=4),r.duration=i.getUint32(n),n+=4,t=i.getUint16(n),r.language+=String.fromCharCode(96+(t>>10)),r.language+=String.fromCharCode(96+((992&t)>>5)),r.language+=String.fromCharCode(96+(31&t)),r},mdia:function(e){return{boxes:sa(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:sa(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return 28<e.byteLength&&(i.streamDescriptor=sa(e.subarray(28))[0]),i},moof:function(e){return{boxes:sa(e)}},moov:function(e){return{boxes:sa(e)}},mvex:function(e){return{boxes:sa(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i=4,n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===n.version?(i+=4,n.creationTime=ia(t.getUint32(i)),i+=8,n.modificationTime=ia(t.getUint32(i)),i+=4,n.timescale=t.getUint32(i),i+=8):(n.creationTime=ia(t.getUint32(i)),i+=4,n.modificationTime=ia(t.getUint32(i)),i+=4,n.timescale=t.getUint32(i),i+=4),n.duration=t.getUint32(i),i+=4,n.rate=t.getUint16(i)+t.getUint16(i+2)/16,i+=4,n.volume=t.getUint8(i)+t.getUint8(i+1)/8,i+=2,i+=2,i+=8,n.matrix=new Uint32Array(e.subarray(i,i+36)),i+=36,i+=24,n.nextTrackId=t.getUint32(i),n},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t,i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]};for(t=4;t<e.byteLength;t++)i.samples.push({dependsOn:(48&e[t])>>4,isDependedOn:(12&e[t])>>2,hasRedundancy:3&e[t]});return i},sidx:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:i.getUint32(4),timescale:i.getUint32(8),earliestPresentationTime:i.getUint32(12),firstOffset:i.getUint32(16)},r=i.getUint16(22);for(t=24;r;t+=12,r--)n.references.push({referenceType:(128&e[t])>>>7,referencedSize:2147483647&i.getUint32(t),subsegmentDuration:i.getUint32(t+4),startsWithSap:!!(128&e[t+8]),sapType:(112&e[t+8])>>>4,sapDeltaTime:268435455&i.getUint32(t+8)});return n},smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:sa(e)}},stco:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},r=i.getUint32(4);for(t=8;r;t+=4,r--)n.chunkOffsets.push(i.getUint32(t));return n},stsc:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),n=i.getUint32(4),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]};for(t=8;n;t+=12,n--)r.sampleToChunks.push({firstChunk:i.getUint32(t),samplesPerChunk:i.getUint32(t+4),sampleDescriptionIndex:i.getUint32(t+8)});return r},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:sa(e.subarray(8))}},stsz:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:i.getUint32(4),entries:[]};for(t=12;t<e.byteLength;t+=4)n.entries.push(i.getUint32(t));return n},stts:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},r=i.getUint32(4);for(t=8;r;t+=8,r--)n.timeToSamples.push({sampleCount:i.getUint32(t),sampleDelta:i.getUint32(t+4)});return n},styp:function(e){return ga.ftyp(e)},tfdt:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:ma(e[4]<<24|e[5]<<16|e[6]<<8|e[7])};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=ma(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),t},tfhd:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:i.getUint32(4)},r=1&n.flags[2],s=2&n.flags[2],a=8&n.flags[2],o=16&n.flags[2],u=32&n.flags[2],l=65536&n.flags[0],c=131072&n.flags[0];return t=8,r&&(t+=4,n.baseDataOffset=i.getUint32(12),t+=4),s&&(n.sampleDescriptionIndex=i.getUint32(t),t+=4),a&&(n.defaultSampleDuration=i.getUint32(t),t+=4),o&&(n.defaultSampleSize=i.getUint32(t),t+=4),u&&(n.defaultSampleFlags=i.getUint32(t)),l&&(n.durationIsEmpty=!0),!r&&c&&(n.baseDataOffsetIsMoof=!0),n},tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i=4,n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===n.version?(i+=4,n.creationTime=ia(t.getUint32(i)),i+=8,n.modificationTime=ia(t.getUint32(i)),i+=4,n.trackId=t.getUint32(i),i+=4,i+=8):(n.creationTime=ia(t.getUint32(i)),i+=4,n.modificationTime=ia(t.getUint32(i)),i+=4,n.trackId=t.getUint32(i),i+=4,i+=4),n.duration=t.getUint32(i),i+=4,i+=8,n.layer=t.getUint16(i),i+=2,n.alternateGroup=t.getUint16(i),i+=2,n.volume=t.getUint8(i)+t.getUint8(i+1)/8,i+=2,i+=2,n.matrix=new Uint32Array(e.subarray(i,i+36)),i+=36,n.width=t.getUint16(i)+t.getUint16(i+2)/16,i+=4,n.height=t.getUint16(i)+t.getUint16(i+2)/16,n},traf:function(e){return{boxes:sa(e)}},trak:function(e){return{boxes:sa(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:function(e){var t,i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=1&i.flags[2],s=4&i.flags[2],a=1&i.flags[1],o=2&i.flags[1],u=4&i.flags[1],l=8&i.flags[1],c=n.getUint32(4),h=8;for(r&&(i.dataOffset=n.getInt32(h),h+=4),s&&c&&(t={flags:na(e.subarray(h,h+4))},h+=4,a&&(t.duration=n.getUint32(h),h+=4),o&&(t.size=n.getUint32(h),h+=4),l&&(t.compositionTimeOffset=n.getUint32(h),h+=4),i.samples.push(t),c--);c--;)t={},a&&(t.duration=n.getUint32(h),h+=4),o&&(t.size=n.getUint32(h),h+=4),u&&(t.flags=na(e.subarray(h,h+4)),h+=4),l&&(t.compositionTimeOffset=n.getUint32(h),h+=4),i.samples.push(t);return i},"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}},va={inspect:sa=function(e){for(var t,i,n,r,s,a=0,o=[],u=new ArrayBuffer(e.length),l=new Uint8Array(u),c=0;c<e.length;++c)l[c]=e[c];for(t=new DataView(u);a<e.byteLength;)i=t.getUint32(a),n=ra(e.subarray(a+4,a+8)),r=1<i?a+i:e.byteLength,(s=(ga[n]||function(e){return{data:e}})(e.subarray(a+8,r))).size=i,s.type=n,o.push(s),a=r;return o},textify:aa=function(e,t){var s;return t=t||0,s=new Array(2*t+1).join(" "),e.map(function(r,e){return s+r.type+"\n"+Object.keys(r).filter(function(e){return"type"!==e&&"boxes"!==e}).map(function(e){var t=s+"  "+e+": ",i=r[e];if(i instanceof Uint8Array||i instanceof Uint32Array){var n=Array.prototype.slice.call(new Uint8Array(i.buffer,i.byteOffset,i.byteLength)).map(function(e){return" "+("00"+e.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return n?1===n.length?t+"<"+n.join("").slice(1)+">":t+"<\n"+n.map(function(e){return s+"  "+e}).join("\n")+"\n"+s+"  >":t+"<>"}return t+JSON.stringify(i,null,2).split("\n").map(function(e,t){return 0===t?e:s+"  "+e}).join("\n")}).join("\n")+(r.boxes?"\n"+aa(r.boxes,t+1):"")}).join("\n")},parseType:ra,findBox:function e(t,i){var n,r,s,a,o,u=[];if(!i.length)return null;for(n=0;n<t.byteLength;)r=ma(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]),s=ra(t.subarray(n+4,n+8)),a=1<r?n+r:t.byteLength,s===i[0]&&(1===i.length?u.push(t.subarray(n+8,a)):(o=e(t.subarray(n+8,a),i.slice(1))).length&&(u=u.concat(o))),n=a;return u},parseTraf:ga.traf,parseTfdt:ga.tfdt,parseHdlr:ga.hdlr,parseTfhd:ga.tfhd,parseTrun:ga.trun,parseSidx:ga.sidx},ya=pa,_a=fa;oa=function(e){return va.findBox(e,["moov","trak"]).reduce(function(e,t){var i,n,r,s,a;return(i=va.findBox(t,["tkhd"])[0])?(n=i[0],s=ya(i[r=0===n?12:20]<<24|i[r+1]<<16|i[r+2]<<8|i[r+3]),(a=va.findBox(t,["mdia","mdhd"])[0])?(r=0===(n=a[0])?12:20,e[s]=ya(a[r]<<24|a[r+1]<<16|a[r+2]<<8|a[r+3]),e):null):null},{})},ua=function(r,e){var t,i,n;return t=va.findBox(e,["moof","traf"]),i=[].concat.apply([],t.map(function(n){return va.findBox(n,["tfhd"]).map(function(e){var t,i;return t=ya(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),i=r[t]||9e4,(va.findBox(n,["tfdt"]).map(function(e){var t,i;return t=e[0],i=ya(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(i*=Math.pow(2,32),i+=ya(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),i})[0]||1/0)/i})})),n=Math.min.apply(null,i),isFinite(n)?n:0},la=function(e,t){var i,n=va.findBox(t,["moof","traf"]),r=0,s=0;if(n&&n.length)for(var a=va.parseTraf(n[0]),o=0;o<a.boxes.length;o++)"tfhd"===a.boxes[o].type?i=a.boxes[o].trackId:"tfdt"===a.boxes[o].type?r=a.boxes[o].baseMediaDecodeTime:"trun"===a.boxes[o].type&&a.boxes[o].samples.length&&(s=a.boxes[o].samples[0].compositionTimeOffset||0);return(r+s)/(e[i]||9e4)},ca=function(e){var t=va.findBox(e,["moov","trak"]),o=[];return t.forEach(function(e){var t=va.findBox(e,["mdia","hdlr"]),a=va.findBox(e,["tkhd"]);t.forEach(function(e,t){var i,n,r=va.parseType(e.subarray(8,12)),s=a[t];"vide"===r&&(n=0===(i=new DataView(s.buffer,s.byteOffset,s.byteLength)).getUint8(0)?i.getUint32(12):i.getUint32(20),o.push(n))})}),o},ha=function(e){var t=va.findBox(e,["moov","trak"]),p=[];return t.forEach(function(e){var t,i,n={},r=va.findBox(e,["tkhd"])[0];r&&(i=(t=new DataView(r.buffer,r.byteOffset,r.byteLength)).getUint8(0),n.id=0===i?t.getUint32(12):t.getUint32(20));var s=va.findBox(e,["mdia","hdlr"])[0];if(s){var a=va.parseType(s.subarray(8,12));n.type="vide"===a?"video":"soun"===a?"audio":a}var o=va.findBox(e,["mdia","minf","stbl","stsd"])[0];if(o){var u=o.subarray(8);n.codec=va.parseType(u.subarray(4,8));var l,c=va.findBox(u,[n.codec])[0];c&&(/^[a-z]vc[1-9]$/i.test(n.codec)?(l=c.subarray(78),"avcC"===va.parseType(l.subarray(4,8))&&11<l.length?(n.codec+=".",n.codec+=_a(l[9]),n.codec+=_a(l[10]),n.codec+=_a(l[11])):n.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(n.codec)&&(l=c.subarray(28),"esds"===va.parseType(l.subarray(4,8))&&20<l.length&&0!==l[19]?(n.codec+="."+_a(l[19]),n.codec+="."+_a(l[20]>>>2&63).replace(/^0/,"")):n.codec="mp4a.40.2"))}var h=va.findBox(e,["mdia","mdhd"])[0];if(h&&r){var d=0===i?12:20;n.timescale=ya(h[d]<<24|h[1+d]<<16|h[2+d]<<8|h[3+d])}p.push(n)}),p};function ba(){this.init=function(){var s={};this.on=function(e,t){s[e]||(s[e]=[]),s[e]=s[e].concat(t)},this.off=function(e,t){var i;return!!s[e]&&(i=s[e].indexOf(t),s[e]=s[e].slice(),s[e].splice(i,1),-1<i)},this.trigger=function(e){var t,i,n,r;if(t=s[e])if(2===arguments.length)for(n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else{for(r=[],i=arguments.length,i=1;i<arguments.length;++i)r.push(arguments[i]);for(n=t.length,i=0;i<n;++i)t[i].apply(this,r)}},this.dispose=function(){s={}}}}var Ta={findBox:va.findBox,parseType:va.parseType,timescale:oa,startTime:ua,compositionStartTime:la,videoTrackIds:ca,tracks:ha},Sa=function(e){for(var t=0,i={payloadType:-1,payloadSize:0},n=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)n+=255,t++;for(n+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!i.payload&&4===n){i.payloadType=n,i.payloadSize=r,i.payload=e.subarray(t,t+r);break}t+=r,r=n=0}return i},ka=function(e){return 181!==e.payload[0]?null:49!=(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},Ca=function(e,t){var i,n,r,s,a=[];if(!(64&t[0]))return a;for(n=31&t[0],i=0;i<n;i++)s={type:3&t[2+(r=3*i)],pts:e},4&t[2+r]&&(s.ccData=t[3+r]<<8|t[4+r],a.push(s));return a},Ea=function(e){for(var t,i,n=e.byteLength,r=[],s=1;s<n-2;)0===e[s]&&0===e[s+1]&&3===e[s+2]?(r.push(s+2),s+=2):s++;if(0===r.length)return e;t=n-r.length,i=new Uint8Array(t);var a=0;for(s=0;s<t;a++,s++)a===r[0]&&(a++,r.shift()),i[s]=e[a];return i},wa=4;ba.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),this.on("partialdone",function(e){t.partialFlush(e)}),this.on("endedtimeline",function(e){t.endTimeline(e)}),this.on("reset",function(e){t.reset(e)}),t},ba.prototype.push=function(e){this.trigger("data",e)},ba.prototype.flush=function(e){this.trigger("done",e)},ba.prototype.partialFlush=function(e){this.trigger("partialdone",e)},ba.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},ba.prototype.reset=function(e){this.trigger("reset",e)};function La(){La.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Da(0,0),new Da(0,1),new Da(1,0),new Da(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))},this)}var Pa=ba;(La.prototype=new Pa).push=function(e){var t,i,n;if("sei_rbsp"===e.nalUnitType&&(t=Sa(e.escapedRBSP)).payloadType===wa&&(i=ka(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=Ca(e.pts,i),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},La.prototype.flushCCStreams=function(t){this.ccStreams_.forEach(function(e){return"flush"===t?e.flush():e.partialFlush()},this)},La.prototype.flushStream=function(e){this.captionPackets_.length&&(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0),this.flushCCStreams(e)},La.prototype.flush=function(){return this.flushStream("flush")},La.prototype.partialFlush=function(){return this.flushStream("partialFlush")},La.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},La.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},La.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},La.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},La.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)};function Aa(e){return null===e?"":(e=xa[e]||e,String.fromCharCode(e))}function Ia(){for(var e=[],t=15;t--;)e.push("");return e}var xa={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Oa=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Da=function e(t,i){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=i||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,i,n,r,s;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),n=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=Ia();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ia();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=Ia()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(n,r))s=Aa((n=(3&n)<<8)|r),this[this.mode_](e.pts,s),this.column_++;else if(this.isExtCharacter(n,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),s=Aa((n=(3&n)<<8)|r),this[this.mode_](e.pts,s),this.column_++;else if(this.isMidRowCode(n,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&r)&&this.addFormatting(e.pts,["i"]),1==(1&r)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(n,r))this.column_+=3&r;else if(this.isPAC(n,r)){var a=Oa.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(n)&&(0===r&&(r=null),s=Aa(n),s+=Aa(r),this[this.mode_](e.pts,s),this.column_+=s.length)}else this.lastControlCode_=null}};Da.prototype=new Pa,Da.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){try{return e.trim()}catch(e){return""}}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},Da.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ia(),this.nonDisplayed_=Ia(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Da.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Da.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&48<=t&&t<=63},Da.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&32<=t&&t<=63},Da.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&32<=t&&t<=47},Da.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&33<=t&&t<=35},Da.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&64<=t&&t<=127},Da.prototype.isColorPAC=function(e){return 64<=e&&e<=79||96<=e&&e<=127},Da.prototype.isNormalChar=function(e){return 32<=e&&e<=127},Da.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=Ia(),this.displayed_=Ia()),void 0!==t&&t!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[t-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Da.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var i=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,i)},Da.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},Da.prototype.popOn=function(e,t){var i=this.nonDisplayed_[this.row_];i+=t,this.nonDisplayed_[this.row_]=i},Da.prototype.rollUp=function(e,t){var i=this.displayed_[this.row_];i+=t,this.displayed_[this.row_]=i},Da.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},Da.prototype.paintOn=function(e,t){var i=this.displayed_[this.row_];i+=t,this.displayed_[this.row_]=i};function Ra(e,t){for(var i=e,n=0;n<t.length;n++){var r=t[n];if(i<r.size)return r;i-=r.size}return null}function Ua(e,c){var n=Ta.findBox(e,["moof","traf"]),t=Ta.findBox(e,["mdat"]),h={},r=[];return t.forEach(function(e,t){var i=n[t];r.push({mdat:e,traf:i})}),r.forEach(function(e){var t,i=e.mdat,n=e.traf,r=Ta.findBox(n,["tfhd"]),s=va.parseTfhd(r[0]),a=s.trackId,o=Ta.findBox(n,["tfdt"]),u=0<o.length?va.parseTfdt(o[0]).baseMediaDecodeTime:0,l=Ta.findBox(n,["trun"]);c===a&&0<l.length&&(t=function(e,t,i){var n,r,s,a,o=new DataView(e.buffer,e.byteOffset,e.byteLength),u=[];for(r=0;r+4<e.length;r+=s)if(s=o.getUint32(r),r+=4,!(s<=0))switch(31&e[r]){case 6:var l=e.subarray(r+1,r+1+s),c=Ra(r,t);n={nalUnitType:"sei_rbsp",size:s,data:l,escapedRBSP:Na(l),trackId:i},c?(n.pts=c.pts,n.dts=c.dts,a=c):(n.pts=a.pts,n.dts=a.dts),u.push(n)}return u}(i,function(e,t,i){var n=t,r=i.defaultSampleDuration||0,s=i.defaultSampleSize||0,a=i.trackId,o=[];return e.forEach(function(e){var t=va.parseTrun(e).samples;t.forEach(function(e){void 0===e.duration&&(e.duration=r),void 0===e.size&&(e.size=s),e.trackId=a,e.dts=n,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=n+e.compositionTimeOffset,n+=e.duration}),o=o.concat(t)}),o}(l,u,s),a),h[a]||(h[a]=[]),h[a]=h[a].concat(t))}),h}function Ma(e,t){var i=1;for(t<e&&(i=-1);4294967296<Math.abs(t-e);)e+=8589934592*i;return e}var Na=Ea,Ba=La,ja=function(){var t,s,a,o,u,i,n=!1;this.isInitialized=function(){return n},this.init=function(e){t=new Ba,n=!0,i=!!e&&e.isPartial,t.on("data",function(e){e.startTime=e.startPts/o,e.endTime=e.endPts/o,u.captions.push(e),u.captionStreams[e.stream]=!0})},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length)&&(a!==e[0]||o!==t[a])},this.parse=function(e,t,i){var n;if(!this.isInitialized())return null;if(!t||!i)return null;if(this.isNewInit(t,i))a=t[0],o=i[a];else if(null===a||!o)return s.push(e),null;for(;0<s.length;){var r=s.shift();this.parse(r,t,i)}return null!==(n=function(e,t,i){return null===t?null:{seiNals:Ua(e,t)[t],timescale:i}}(e,a,o))&&n.seiNals?(this.pushNals(n.seiNals),this.flushStream(),u):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach(function(e){t.push(e)})},this.flushStream=function(){if(!this.isInitialized())return null;i?t.partialFlush():t.flush()},this.clearParsedCaptions=function(){u.captions=[],u.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){s=[],o=a=null,u?this.clearParsedCaptions():u={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()},Fa=27,Ha=15,Va=21;new Pa;function qa(e){var t=31&e[1];return t<<=8,t|=e[2]}function Wa(e){return!!(64&e[1])}function za(e){var t=0;return 1<(48&e[3])>>>4&&(t+=e[4]+1),t}function Ga(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}}function Ka(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]}var Xa,Ya,$a,Qa,Ja={parseType:function(e,t){var i=qa(e);return 0===i?"pat":i===t?"pmt":t?"pes":null},parsePat:function(e){var t=Wa(e),i=4+za(e);return t&&(i+=e[i]+1),(31&e[i+10])<<8|e[i+11]},parsePmt:function(e){var t={},i=Wa(e),n=4+za(e);if(i&&(n+=e[n]+1),1&e[n+5]){var r;r=3+((15&e[n+1])<<8|e[n+2])-4;for(var s=12+((15&e[n+10])<<8|e[n+11]);s<r;){var a=n+s;t[(31&e[a+1])<<8|e[a+2]]=e[a],s+=5+((15&e[a+3])<<8|e[a+4])}return t}},parsePayloadUnitStartIndicator:Wa,parsePesType:function(e,t){switch(t[qa(e)]){case Fa:return"video";case Ha:return"audio";case Va:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!Wa(e))return null;var t=4+za(e);if(t>=e.byteLength)return null;var i,n=null;return 192&(i=e[t+7])&&((n={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,n.pts*=4,n.pts+=(6&e[t+13])>>>1,n.dts=n.pts,64&i&&(n.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,n.dts*=4,n.dts+=(6&e[t+18])>>>1)),n},videoPacketContainsKeyFrame:function(e){for(var t=4+za(e),i=e.subarray(t),n=0,r=0,s=!1;r<i.byteLength-3;r++)if(1===i[r+2]){n=r+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1]){n+=2;break}if(0!==i[n-2]){n++;break}for(r+3!==n-2&&"slice_layer_without_partitioning_rbsp_idr"===Ga(31&i[r+3])&&(s=!0);1!==i[++n]&&n<i.length;);r=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2]){n+=3;break}"slice_layer_without_partitioning_rbsp_idr"===Ga(31&i[r+3])&&(s=!0),r=n-2,n+=3;break;default:n+=3}return i=i.subarray(r),n-=r,r=0,i&&3<i.byteLength&&"slice_layer_without_partitioning_rbsp_idr"===Ga(31&i[r+3])&&(s=!0),s}},Za=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],eo={isLikelyAacData:function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},parseId3TagSize:function(e,t){var i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?20+i:10+i},parseAdtsSize:function(e,t){var i=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|i},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return Za[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,i,n;t=10,64&e[5]&&(t+=4,t+=Ka(e.subarray(10,14)));do{if((i=Ka(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){n=e.subarray(t+10,t+i+10);for(var r=0;r<n.byteLength;r++)if(0===n[r]){if("com.apple.streaming.transportStreamTimestamp"!==unescape(function(e,t,i){var n,r="";for(n=t;n<i;n++)r+="%"+("00"+e[n].toString(16)).slice(-2);return r}(n,0,r)))break;var s=n.subarray(r+1),a=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;return a*=4,a+=3&s[7]}}t+=10,t+=i}while(t<e.byteLength);return null}},to=9e4,io=(Xa=function(e){return 9e4*e},Ya=function(e,t){return e*t},$a=function(e){return e/9e4},Qa=function(e,t){return e/t},Ma),no={};no.ts=Ja,no.aac=eo;function ro(e,t,i){for(var n,r,s,a,o=0,u=uo,l=!1;u<=e.byteLength;)if(71!==e[o]||71!==e[u]&&u!==e.byteLength)o++,u++;else{switch(n=e.subarray(o,u),no.ts.parseType(n,t.pid)){case"pes":r=no.ts.parsePesType(n,t.table),s=no.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&s&&(a=no.ts.parsePesTime(n))&&(a.type="audio",i.audio.push(a),l=!0)}if(l)break;o+=uo,u+=uo}for(o=(u=e.byteLength)-uo,l=!1;0<=o;)if(71!==e[o]||71!==e[u]&&u!==e.byteLength)o--,u--;else{switch(n=e.subarray(o,u),no.ts.parseType(n,t.pid)){case"pes":r=no.ts.parsePesType(n,t.table),s=no.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&s&&(a=no.ts.parsePesTime(n))&&(a.type="audio",i.audio.push(a),l=!0)}if(l)break;o-=uo,u-=uo}}function so(e,t,i){for(var n,r,s,a,o,u,l,c=0,h=uo,d=!1,p={data:[],size:0};h<e.byteLength;)if(71!==e[c]||71!==e[h])c++,h++;else{switch(n=e.subarray(c,h),no.ts.parseType(n,t.pid)){case"pes":if(r=no.ts.parsePesType(n,t.table),s=no.ts.parsePayloadUnitStartIndicator(n),"video"===r&&(s&&!d&&(a=no.ts.parsePesTime(n))&&(a.type="video",i.video.push(a),d=!0),!i.firstKeyFrame)){if(s&&0!==p.size){for(o=new Uint8Array(p.size),u=0;p.data.length;)l=p.data.shift(),o.set(l,u),u+=l.byteLength;if(no.ts.videoPacketContainsKeyFrame(o)){var f=no.ts.parsePesTime(o);f&&(i.firstKeyFrame=f,i.firstKeyFrame.type="video")}p.size=0}p.data.push(n),p.size+=n.byteLength}}if(d&&i.firstKeyFrame)break;c+=uo,h+=uo}for(c=(h=e.byteLength)-uo,d=!1;0<=c;)if(71!==e[c]||71!==e[h])c--,h--;else{switch(n=e.subarray(c,h),no.ts.parseType(n,t.pid)){case"pes":r=no.ts.parsePesType(n,t.table),s=no.ts.parsePayloadUnitStartIndicator(n),"video"===r&&s&&(a=no.ts.parsePesTime(n))&&(a.type="video",i.video.push(a),d=!0)}if(d)break;c-=uo,h-=uo}}function ao(e){var t={pid:null,table:null},i={};for(var n in function(e,t){for(var i,n=0,r=uo;r<e.byteLength;)if(71!==e[n]||71!==e[r])n++,r++;else{switch(i=e.subarray(n,r),no.ts.parseType(i,t.pid)){case"pat":t.pid||(t.pid=no.ts.parsePat(i));break;case"pmt":t.table||(t.table=no.ts.parsePmt(i))}if(t.pid&&t.table)return;n+=uo,r+=uo}}(e,t),t.table){if(t.table.hasOwnProperty(n))switch(t.table[n]){case Fa:i.video=[],so(e,t,i),0===i.video.length&&delete i.video;break;case Ha:i.audio=[],ro(e,t,i),0===i.audio.length&&delete i.audio}}return i}var oo=to,uo=188,lo=function(e,t){var i;return(i=no.aac.isLikelyAacData(e)?function(e){for(var t,i=!1,n=0,r=null,s=null,a=0,o=0;3<=e.length-o;){switch(no.aac.parseType(e,o)){case"timed-metadata":if(e.length-o<10){i=!0;break}if((a=no.aac.parseId3TagSize(e,o))>e.length){i=!0;break}null===s&&(t=e.subarray(o,o+a),s=no.aac.parseAacTimestamp(t)),o+=a;break;case"audio":if(e.length-o<7){i=!0;break}if((a=no.aac.parseAdtsSize(e,o))>e.length){i=!0;break}null===r&&(t=e.subarray(o,o+a),r=no.aac.parseSampleRate(t)),n++,o+=a;break;default:o++}if(i)return null}if(null===r||null===s)return null;var u=oo/r;return{audio:[{type:"audio",dts:s,pts:s},{type:"audio",dts:s+1024*n*u,pts:s+1024*n*u}]}}(e):ao(e))&&(i.audio||i.video)?(function(e,t){if(e.audio&&e.audio.length){var i=t;"undefined"==typeof i&&(i=e.audio[0].dts),e.audio.forEach(function(e){e.dts=io(e.dts,i),e.pts=io(e.pts,i),e.dtsTime=e.dts/oo,e.ptsTime=e.pts/oo})}if(e.video&&e.video.length){var n=t;if("undefined"==typeof n&&(n=e.video[0].dts),e.video.forEach(function(e){e.dts=io(e.dts,n),e.pts=io(e.pts,n),e.dtsTime=e.dts/oo,e.ptsTime=e.pts/oo}),e.firstKeyFrame){var r=e.firstKeyFrame;r.dts=io(r.dts,n),r.pts=io(r.pts,n),r.dtsTime=r.dts/oo,r.ptsTime=r.dts/oo}}}(i,t),i):null};function co(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ho=function(e,t,i){return t&&po(e.prototype,t),i&&po(e,i),e};function po(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var fo=null,mo=(go.prototype.decrypt=function(e,t,i,n,r,s){var a=this._key[1],o=e^a[0],u=n^a[1],l=i^a[2],c=t^a[3],h=void 0,d=void 0,p=void 0,f=a.length/4-2,m=void 0,g=4,v=this._tables[1],y=v[0],_=v[1],b=v[2],T=v[3],S=v[4];for(m=0;m<f;m++)h=y[o>>>24]^_[u>>16&255]^b[l>>8&255]^T[255&c]^a[g],d=y[u>>>24]^_[l>>16&255]^b[c>>8&255]^T[255&o]^a[g+1],p=y[l>>>24]^_[c>>16&255]^b[o>>8&255]^T[255&u]^a[g+2],c=y[c>>>24]^_[o>>16&255]^b[u>>8&255]^T[255&l]^a[g+3],g+=4,o=h,u=d,l=p;for(m=0;m<4;m++)r[(3&-m)+s]=S[o>>>24]<<24^S[u>>16&255]<<16^S[l>>8&255]<<8^S[255&c]^a[g++],h=o,o=u,u=l,l=c,c=h},go);function go(e){co(this,go),fo=fo||function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],i=e[1],n=t[4],r=i[4],s=void 0,a=void 0,o=void 0,u=[],l=[],c=void 0,h=void 0,d=void 0,p=void 0,f=void 0;for(s=0;s<256;s++)l[(u[s]=s<<1^283*(s>>7))^s]=s;for(a=o=0;!n[a];a^=c||1,o=l[o]||1)for(d=(d=o^o<<1^o<<2^o<<3^o<<4)>>8^255&d^99,f=16843009*u[h=u[c=u[r[n[a]=d]=a]]]^65537*h^257*c^16843008*a,p=257*u[d]^16843008*d,s=0;s<4;s++)t[s][a]=p=p<<24^p>>>8,i[s][d]=f=f<<24^f>>>8;for(s=0;s<5;s++)t[s]=t[s].slice(0),i[s]=i[s].slice(0);return e}(),this._tables=[[fo[0][0].slice(),fo[0][1].slice(),fo[0][2].slice(),fo[0][3].slice(),fo[0][4].slice()],[fo[1][0].slice(),fo[1][1].slice(),fo[1][2].slice(),fo[1][3].slice(),fo[1][4].slice()]];var t=void 0,i=void 0,n=void 0,r=void 0,s=void 0,a=this._tables[0][4],o=this._tables[1],u=e.length,l=1;if(4!==u&&6!==u&&8!==u)throw new Error("Invalid aes key size");for(r=e.slice(0),s=[],this._key=[r,s],t=u;t<4*u+28;t++)n=r[t-1],(t%u==0||8===u&&t%u==4)&&(n=a[n>>>24]<<24^a[n>>16&255]<<16^a[n>>8&255]<<8^a[255&n],t%u==0&&(n=n<<8^n>>>24^l<<24,l=l<<1^283*(l>>7))),r[t]=r[t-u]^n;for(i=0;t;i++,t--)n=r[3&i?t:t-4],s[i]=t<=4||i<4?n:o[0][a[n>>>24]]^o[1][a[n>>16&255]]^o[2][a[n>>8&255]]^o[3][a[255&n]]}var vo=(yo.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},yo.prototype.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e].splice(i,1),-1<i},yo.prototype.trigger=function(e,t){var i=this.listeners[e];if(i)if(2===arguments.length)for(var n=i.length,r=0;r<n;++r)i[r].call(this,t);else for(var s=Array.prototype.slice.call(arguments,1),a=i.length,o=0;o<a;++o)i[o].apply(this,s)},yo.prototype.dispose=function(){this.listeners={}},yo.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},yo);function yo(){co(this,yo),this.listeners={}}var _o,bo=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(To,_o=vo),To.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},To.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},To);function To(){co(this,To);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,_o.call(this,vo));return e.jobs=[],e.delay=1,e.timeout_=null,e}function So(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}function ko(e,t,i){var n=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),r=new mo(Array.prototype.slice.call(t)),s=new Uint8Array(e.byteLength),a=new Int32Array(s.buffer),o=void 0,u=void 0,l=void 0,c=void 0,h=void 0,d=void 0,p=void 0,f=void 0,m=void 0;for(o=i[0],u=i[1],l=i[2],c=i[3],m=0;m<n.length;m+=4)h=So(n[m]),d=So(n[m+1]),p=So(n[m+2]),f=So(n[m+3]),r.decrypt(h,d,p,f,a,m),a[m]=So(a[m]^o),a[m+1]=So(a[m+1]^u),a[m+2]=So(a[m+2]^l),a[m+3]=So(a[m+3]^c),o=h,u=d,l=p,c=f;return s}var Co=(Eo.prototype.decryptChunk_=function(t,i,n,r){return function(){var e=ko(t,i,n);r.set(e,t.byteOffset)}},ho(Eo,null,[{key:"STEP",get:function(){return 32e3}}]),Eo);function Eo(e,t,i,n){co(this,Eo);var r=Eo.STEP,s=new Int32Array(e.buffer),a=new Uint8Array(e.byteLength),o=0;for(this.asyncStream_=new bo,this.asyncStream_.push(this.decryptChunk_(s.subarray(o,o+r),t,i,a)),o=r;o<s.length;o+=r)i=new Uint32Array([So(s[o-4]),So(s[o-3]),So(s[o-2]),So(s[o-1])]),this.asyncStream_.push(this.decryptChunk_(s.subarray(o,o+r),t,i,a));this.asyncStream_.push(function(){n(null,function(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}(a))})}function wo(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=os.buildAbsoluteURL(y.location.href,e)),os.buildAbsoluteURL(e,t))}function Lo(e,t,i){return e&&i.responseURL&&t!==i.responseURL?i.responseURL:t}function Po(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
/**
   * @videojs/http-streaming
   * @version 1.11.2
   * @copyright 2019 Brightcove, Inc
   * @license Apache-2.0
   */
var Ao=function(e,t,i){return t&&Io(e.prototype,t),i&&Io(e,i),e};function Io(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Oo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Do(r,s){["AUDIO","SUBTITLES"].forEach(function(e){for(var t in r.mediaGroups[e])for(var i in r.mediaGroups[e][t]){var n=r.mediaGroups[e][t][i];s(n,e,t,i)}})}function Ro(e,t){var i=jo(e,{}),n=i.playlists[t.uri];if(!n)return null;if(n.segments&&t.segments&&n.segments.length===t.segments.length&&n.endList===t.endList&&n.mediaSequence===t.mediaSequence)return null;var r=jo(n,t);n.segments&&(r.segments=function(e,t,i){var n=t.slice();i=i||0;for(var r=Math.min(e.length,t.length+i),s=i;s<r;s++)n[s-i]=jo(e[s],n[s-i]);return n}(n.segments,t.segments,t.mediaSequence-n.mediaSequence)),r.segments.forEach(function(e){!function(e,t){e.resolvedUri||(e.resolvedUri=wo(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=wo(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=wo(t,e.map.uri))}(e,r.resolvedUri)});for(var s=0;s<i.playlists.length;s++)i.playlists[s].uri===t.uri&&(i.playlists[s]=r);return i.playlists[t.uri]=r,i}function Uo(e){for(var t=e.playlists.length;t--;){var i=e.playlists[t];(e.playlists[i.uri]=i).resolvedUri=wo(e.uri,i.uri),i.id=t,i.attributes||(i.attributes={},Fo.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}}function Mo(t){Do(t,function(e){e.uri&&(e.resolvedUri=wo(t.uri,e.uri))})}function No(e,t){var i=e.segments[e.segments.length-1];return t&&i&&i.duration?1e3*i.duration:500*(e.targetDuration||10)}var Bo=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){r=!0,s=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw s}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},jo=rs.mergeOptions,Fo=rs.log,Ho=(xo(Vo,rs.EventTarget),Ao(Vo,[{key:"playlistRequestError",value:function(e,t,i){this.request=null,i&&(this.state=i),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t+".",responseText:e.responseText,code:500<=e.status?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(e,t){var i=this;this.request=null,this.state="HAVE_METADATA";var n=new ys;this.customTagParsers.forEach(function(e){return n.addParser(e)}),this.customTagMappers.forEach(function(e){return n.addTagMapper(e)}),n.push(e.responseText),n.end(),n.manifest.uri=t,n.manifest.attributes=n.manifest.attributes||{};var r=Ro(this.master,n.manifest);this.targetDuration=n.manifest.targetDuration,r?(this.master=r,this.media_=this.master.playlists[n.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(y.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=y.setTimeout(function(){i.trigger("mediaupdatetimeout")},No(this.media(),!!r))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),y.clearTimeout(this.mediaUpdateTimeout),y.clearTimeout(this.finalRenditionTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(i,e){var n=this;if(!i)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof i){if(!this.master.playlists[i])throw new Error("Unknown playlist URI: "+i);i=this.master.playlists[i]}if(y.clearTimeout(this.finalRenditionTimeout),e){var t=i.targetDuration/2*1e3||5e3;this.finalRenditionTimeout=y.setTimeout(this.media.bind(this,i,!1),t)}else{var r=this.state,s=!this.media_||i.uri!==this.media_.uri;if(this.master.playlists[i.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=i,void(s&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(s){if(this.state="SWITCHING_MEDIA",this.request){if(i.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:i.resolvedUri,withCredentials:this.withCredentials},function(e,t){if(n.request){if(i.resolvedUri=Lo(n.handleManifestRedirects,i.resolvedUri,t),e)return n.playlistRequestError(n.request,i.uri,r);n.haveMetadata(t,i.uri),"HAVE_MASTER"===r?n.trigger("loadedmetadata"):n.trigger("mediachange")}})}}}},{key:"pause",value:function(){this.stopRequest(),y.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(e){var t=this;y.clearTimeout(this.mediaUpdateTimeout);var i=this.media();if(e){var n=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=y.setTimeout(function(){return t.load()},n)}else this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var n=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,t){if(n.request){if(n.request=null,e)return n.error={status:t.status,message:"HLS playlist request error at URL: "+n.srcUrl+".",responseText:t.responseText,code:2},"HAVE_NOTHING"===n.state&&(n.started=!1),n.trigger("error");var i=new ys;return n.customTagParsers.forEach(function(e){return i.addParser(e)}),n.customTagMappers.forEach(function(e){return i.addTagMapper(e)}),i.push(t.responseText),i.end(),n.state="HAVE_MASTER",n.srcUrl=Lo(n.handleManifestRedirects,n.srcUrl,t),i.manifest.uri=n.srcUrl,i.manifest.playlists?(n.master=i.manifest,Uo(n.master),Mo(n.master),n.trigger("loadedplaylist"),void(n.request||n.media(i.manifest.playlists[0]))):(n.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:y.location.href,playlists:[{uri:n.srcUrl,id:0,resolvedUri:n.srcUrl,attributes:{}}]},n.master.playlists[n.srcUrl]=n.master.playlists[0],n.haveMetadata(t,n.srcUrl),n.trigger("loadedmetadata"))}})}}]),Vo);function Vo(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};Po(this,Vo);var n=Oo(this,(Vo.__proto__||Object.getPrototypeOf(Vo)).call(this)),r=i.withCredentials,s=void 0!==r&&r,a=i.handleManifestRedirects,o=void 0!==a&&a;n.srcUrl=e,n.hls_=t,n.withCredentials=s,n.handleManifestRedirects=o;var u=t.options_;if(n.customTagParsers=u&&u.customTagParsers||[],n.customTagMappers=u&&u.customTagMappers||[],!n.srcUrl)throw new Error("A non-empty playlist URL is required");return n.state="HAVE_NOTHING",n.on("mediaupdatetimeout",function(){"HAVE_METADATA"===n.state&&(n.state="HAVE_CURRENT_METADATA",n.request=n.hls_.xhr({uri:wo(n.master.uri,n.media().uri),withCredentials:n.withCredentials},function(e,t){if(n.request)return e?n.playlistRequestError(n.request,n.media().uri,"HAVE_METADATA"):void n.haveMetadata(n.request,n.media().uri)}))}),n}function qo(e,t,i){var n,r;return"undefined"==typeof t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(n=function(e,t){var i=0,n=t-e.mediaSequence,r=e.segments[n];if(r){if("undefined"!=typeof r.start)return{result:r.start,precise:!0};if("undefined"!=typeof r.end)return{result:r.end-r.duration,precise:!0}}for(;n--;){if("undefined"!=typeof(r=e.segments[n]).end)return{result:i+r.end,precise:!0};if(i+=r.duration,"undefined"!=typeof r.start)return{result:i+r.start,precise:!0}}return{result:i,precise:!1}}(e,t)).precise?n.result:(r=function(e,t){for(var i=0,n=void 0,r=t-e.mediaSequence;r<e.segments.length;r++){if("undefined"!=typeof(n=e.segments[r]).start)return{result:n.start-i,precise:!0};if(i+=n.duration,"undefined"!=typeof n.end)return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}}(e,t)).precise?r.result:n.result+i}function Wo(e,t,i){if(!e)return 0;if("number"!=typeof i&&(i=0),"undefined"==typeof t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return y.Infinity}return qo(e,t,i)}function zo(e,t,i){var n=0;if(i<t){var r=[i,t];t=r[0],i=r[1]}if(t<0){for(var s=t;s<Math.min(0,i);s++)n+=e.targetDuration;t=0}for(var a=t;a<i;a++)n+=e.segments[a].duration;return n}function Go(e){if(!e.segments.length)return 0;for(var t=e.segments.length-1,i=e.segments[t].duration||e.targetDuration,n=i+2*e.targetDuration;t--&&!(n<=(i+=e.segments[t].duration)););return Math.max(0,t)}function Ko(e,t,i){if(!e||!e.segments)return null;if(e.endList)return Wo(e);if(null===t)return null;t=t||0;var n=i?Go(e):e.segments.length;return qo(e,e.mediaSequence+n,t)}function Xo(e){return e-Math.floor(e)==0}function Yo(e,t){if(Xo(t))return t+.1*e;for(var i=t.toString().split(".")[1].length,n=1;n<=i;n++){var r=Math.pow(10,n),s=t*r;if(Xo(s)||n===i)return(s+e)/r}}function $o(e){return e.excludeUntil&&e.excludeUntil>Date.now()}function Qo(e){return e.excludeUntil&&e.excludeUntil===1/0}function Jo(e){var t=$o(e);return!e.disabled&&!t}function Zo(e,t){return t.attributes&&t.attributes[e]}function eu(e,t){if(1===e.playlists.length)return!0;var i=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter(function(e){return!!Jo(e)&&(e.attributes.BANDWIDTH||0)<i}).length}function tu(){return function e(t,n){t=Cu({timeout:45e3},t);var i=e.beforeRequest||rs.Hls.xhr.beforeRequest;if(i&&"function"==typeof i){var r=i(t);r&&(t=r)}var s=ku(t,function(e,t){var i=s.response;!e&&i&&(s.responseTime=Date.now(),s.roundTripTime=s.responseTime-s.requestTime,s.bytesReceived=i.byteLength||i.length,s.bandwidth||(s.bandwidth=Math.floor(s.bytesReceived/s.roundTripTime*8*1e3))),t.headers&&(s.responseHeaders=t.headers),e&&"ETIMEDOUT"===e.code&&(s.timedout=!0),e||s.aborted||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(s&&(i||s.responseText)))),n(e,s)}),a=s.abort;return s.abort=function(){return s.aborted=!0,a.apply(s,arguments)},s.uri=t.uri,s.requestTime=Date.now(),s}}function iu(e){var t={};return e.byterange&&(t.Range=function(e){var t;return t=e.offset+e.length-1,"bytes="+e.offset+"-"+t}(e.byterange)),t}function nu(e,t){var i=e.toString(16);return"00".substring(0,2-i.length)+i+(t%2?" ":"")}function ru(e){return 32<=e&&e<126?String.fromCharCode(e):"."}function su(i){var n={};return Object.keys(i).forEach(function(e){var t=i[e];ArrayBuffer.isView(t)?n[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:n[e]=t}),n}function au(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")}function ou(e){return e.resolvedUri}function uu(e){for(var t=Array.prototype.slice.call(e),i="",n=0;n<t.length/16;n++)i+=t.slice(16*n,16*n+16).map(nu).join("")+" "+t.slice(16*n,16*n+16).map(ru).join("")+"\n";return i}function lu(e){var t=e.playlist,i=e.time,n=void 0===i?void 0:i,r=e.callback;if(!r)throw new Error("getProgramTime: callback must be provided");if(!t||void 0===n)return r({message:"getProgramTime: playlist and time must be provided"});var s=function(e,t){if(!t||!t.segments||0===t.segments.length)return null;for(var i=0,n=void 0,r=0;r<t.segments.length&&!(e<=(i=(n=t.segments[r]).videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:i+n.duration));r++);var s=t.segments[t.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(i<e){if(e>i+.25*s.duration)return null;n=s}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:i-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}}(n,t);if(!s)return r({message:"valid programTime was not found"});if("estimate"===s.type)return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});var a={mediaSeconds:n},o=function(e,t){if(!t.dateTimeObject)return null;var i=t.videoTimingInfo.transmuxerPrependedSeconds,n=e-(t.videoTimingInfo.transmuxedPresentationStart+i);return new Date(t.dateTimeObject.getTime()+1e3*n)}(n,s.segment);return o&&(a.programDateTime=o.toISOString()),r(null,a)}function cu(e){var t=e.programTime,i=e.playlist,n=e.retryCount,r=void 0===n?2:n,s=e.seekTo,a=e.pauseAfterSeek,o=void 0===a||a,u=e.tech,l=e.callback;if(!l)throw new Error("seekToProgramTime: callback must be provided");if("undefined"==typeof t||!i||!s)return l({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!u.hasStarted_)return l({message:"player must be playing a live stream to start buffering"});if(!function(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++){if(!e.segments[t].dateTimeObject)return!1}return!0}(i))return l({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var c=function(e,t){var i=void 0;try{i=new Date(e)}catch(e){return null}if(!t||!t.segments||0===t.segments.length)return null;var n=t.segments[0];if(i<n.dateTimeObject)return null;for(var r=0;r<t.segments.length-1;r++){if(n=t.segments[r],i<t.segments[r+1].dateTimeObject)break}var s=t.segments[t.segments.length-1],a=s.dateTimeObject,o=s.videoTimingInfo?function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds}(s.videoTimingInfo):s.duration+.25*s.duration;return new Date(a.getTime()+1e3*o)<i?null:(a<i&&(n=s),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:Su.duration(t,t.mediaSequence+t.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})}(t,i);if(!c)return l({message:t+" was not found in the stream"});var h=c.segment,d=function(e,t){var i=void 0,n=void 0;try{i=new Date(e),n=new Date(t)}catch(e){}var r=i.getTime();return(n.getTime()-r)/1e3}(h.dateTimeObject,t);if("estimate"===c.type)return 0===r?l({message:t+" is not buffered yet. Try again"}):(s(c.estimatedStart+d),void u.one("seeked",function(){cu({programTime:t,playlist:i,retryCount:r-1,seekTo:s,pauseAfterSeek:o,tech:u,callback:l})}));var p=h.start+d;u.one("seeked",function(){return l(null,u.currentTime())}),o&&u.pause(),s(p)}function hu(e,t){var i=[],n=void 0;if(e&&e.length)for(n=0;n<e.length;n++)t(e.start(n),e.end(n))&&i.push([e.start(n),e.end(n)]);return rs.createTimeRanges(i)}function du(e,i){return hu(e,function(e,t){return e-.1<=i&&i<=t+.1})}function pu(e,t){return hu(e,function(e){return t<=e-1/30})}function fu(e){var t=[];if(!e||!e.length)return"";for(var i=0;i<e.length;i++)t.push(e.start(i)+" => "+e.end(i));return t.join(", ")}function mu(e){for(var t=[],i=0;i<e.length;i++)t.push({start:e.start(i),end:e.end(i)});return t}function gu(e,t,i){var n=void 0,r=void 0;if(i&&i.cues)for(n=i.cues.length;n--;)(r=i.cues[n]).startTime<=t&&r.endTime>=e&&i.removeCue(r)}function vu(e){return isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e}function yu(e,t,i){var n=y.WebKitDataCue||y.VTTCue;if(t&&t.forEach(function(e){var t=e.stream;this.inbandTextTracks_[t].addCue(new n(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},e),i){var r=vu(e.mediaSource_.duration);if(i.forEach(function(e){var i=e.cueTime+this.timestampOffset;!("number"!=typeof i||y.isNaN(i)||i<0)&&i<1/0&&e.frames.forEach(function(e){var t=new n(i,i,e.value||e.url||e.data||"");t.frame=e,t.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return rs.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return rs.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return rs.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(t),this.metadataTrack_.addCue(t)},this)},e),e.metadataTrack_&&e.metadataTrack_.cues&&e.metadataTrack_.cues.length){for(var s=e.metadataTrack_.cues,a=[],o=0;o<s.length;o++)s[o]&&a.push(s[o]);var u=a.reduce(function(e,t){var i=e[t.startTime]||[];return i.push(t),e[t.startTime]=i,e},{}),l=Object.keys(u).sort(function(e,t){return Number(e)-Number(t)});l.forEach(function(e,t){var i=u[e],n=Number(l[t+1])||r;i.forEach(function(e){e.endTime=n})})}}}var _u=rs.createTimeRange,bu=Yo.bind(null,1),Tu=Yo.bind(null,-1),Su={duration:Wo,seekable:function(e,t){var i=t||0,n=Ko(e,t,!0);return null===n?_u():_u(i,n)},safeLiveIndex:Go,getMediaInfoForTime:function(e,t,i,n){var r=void 0,s=void 0,a=e.segments.length,o=t-n;if(o<0){if(0<i)for(r=i-1;0<=r;r--)if(s=e.segments[r],0<(o+=Tu(s.duration)))return{mediaIndex:r,startTime:n-zo(e,i,r)};return{mediaIndex:0,startTime:t}}if(i<0){for(r=i;r<0;r++)if((o-=e.targetDuration)<0)return{mediaIndex:0,startTime:t};i=0}for(r=i;r<a;r++)if(s=e.segments[r],(o-=bu(s.duration))<0)return{mediaIndex:r,startTime:n+zo(e,i,r)};return{mediaIndex:a-1,startTime:t}},isEnabled:Jo,isDisabled:function(e){return e.disabled},isBlacklisted:$o,isIncompatible:Qo,playlistEnd:Ko,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},isFmp4:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].map)return!0;return!1},hasAttribute:Zo,estimateSegmentRequestTime:function(e,t,i,n){var r=3<arguments.length&&void 0!==n?n:0;return Zo("BANDWIDTH",i)?(e*i.attributes.BANDWIDTH-8*r)/t:NaN},isLowestEnabledRendition:eu},ku=rs.xhr,Cu=rs.mergeOptions,Eu=Object.freeze({createTransferableMessage:su,initSegmentId:au,segmentKeyId:ou,hexDump:uu,tagDump:function(e){var t=e.bytes;return uu(t)},textRanges:function(e){var t,i,n="",r=void 0;for(r=0;r<e.length;r++)n+=(i=r,(t=e).start(i)+"-"+t.end(i)+" ");return n}}),wu="undefined"!=typeof window?window:{},Lu="undefined"==typeof Symbol?"__target":Symbol(),Pu="application/javascript",Au=wu.BlobBuilder||wu.WebKitBlobBuilder||wu.MozBlobBuilder||wu.MSBlobBuilder,Iu=wu.URL||wu.webkitURL||Iu&&Iu.msURL,xu=wu.Worker;function Ou(r,s){return function(e){var t=this;if(!s)return new xu(r);if(xu&&!e){var i=Mu(s.toString().replace(/^function.+?{/,"").slice(0,-1));return this[Lu]=new xu(i),function(e,t){if(!e||!t)return;var i=e.terminate;e.objURL=t,e.terminate=function(){e.objURL&&Iu.revokeObjectURL(e.objURL),i.call(e)}}(this[Lu],i),this[Lu]}var n={postMessage:function(e){t.onmessage&&setTimeout(function(){t.onmessage({data:e,target:n})})}};s.call(n),this.postMessage=function(e){setTimeout(function(){n.onmessage({data:e,target:t})})},this.isThisThread=!0}}if(xu){var Du,Ru=Mu("self.onmessage = function () {}"),Uu=new Uint8Array(1);try{(Du=new xu(Ru)).postMessage(Uu,[Uu.buffer])}catch(e){xu=null}finally{Iu.revokeObjectURL(Ru),Du&&Du.terminate()}}function Mu(t){try{return Iu.createObjectURL(new Blob([t],{type:Pu}))}catch(e){var i=new Au;return i.append(t),Iu.createObjectURL(i.getBlob(type))}}function Nu(e){return e.map(function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,i){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(i).toString(16)).slice(-2)})})}function Bu(e){var t,i=0<arguments.length&&void 0!==e?e:"",n={codecCount:0};return n.codecCount=i.split(",").length,n.codecCount=n.codecCount||2,(t=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(i))&&(n.videoCodec=t[2],n.videoObjectTypeIndicator=t[3]),n.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(i),n.audioProfile=n.audioProfile&&n.audioProfile[2],n}function ju(e,t,i){return e+"/"+t+'; codecs="'+i.filter(function(e){return!!e}).join(", ")+'"'}function Fu(e,t){var i=function(e){return e.segments&&e.segments.length&&e.segments[0].map?"mp4":"mp2t"}(t),n=function(e){var t=e.attributes||{};return t.CODECS?Bu(t.CODECS):zu}(t),r=t.attributes||{},s=!0,a=!1;if(!t)return[];if(e.mediaGroups.AUDIO&&r.AUDIO){var o=e.mediaGroups.AUDIO[r.AUDIO];if(o)for(var u in s=!(a=!0),o)if(!o[u].uri&&!o[u].playlists){s=!0;break}}a&&!n.audioProfile&&(s||(n.audioProfile=function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var i=e.mediaGroups.AUDIO[t];if(!i)return null;for(var n in i){var r=i[n];if(r.default&&r.playlists)return Bu(r.playlists[0].attributes.CODECS).audioProfile}return null}(e,r.AUDIO)),n.audioProfile||(rs.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),n.audioProfile=zu.audioProfile));var l={};n.videoCodec&&(l.video=""+n.videoCodec+n.videoObjectTypeIndicator),n.audioProfile&&(l.audio="mp4a.40."+n.audioProfile);var c=ju("audio",i,[l.audio]),h=ju("video",i,[l.video]),d=ju("video",i,[l.video,l.audio]);return a?!s&&l.video?[h,c]:s||l.video?[d,c]:[c,c]:l.video?[d]:[c]}function Hu(e){var r={type:"",parameters:{}},t=e.trim().split(";");return r.type=t.shift().trim(),t.forEach(function(e){var t=e.trim().split("=");if(1<t.length){var i=t[0].replace(/"/g,"").trim(),n=t[1].replace(/"/g,"").trim();r.parameters[i]=n}}),r}function Vu(e){return/mp4a\.\d+.\d+/i.test(e)}function qu(e){return/avc1\.[\da-f]+/i.test(e)}var Wu=new Ou("./transmuxer-worker.worker.js",function(e,t){var kt=this;!function(){function e(){this.init=function(){var s={};this.on=function(e,t){s[e]||(s[e]=[]),s[e]=s[e].concat(t)},this.off=function(e,t){var i;return!!s[e]&&(i=s[e].indexOf(t),s[e]=s[e].slice(),s[e].splice(i,1),-1<i)},this.trigger=function(e){var t,i,n,r;if(t=s[e])if(2===arguments.length)for(n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else{for(r=[],i=arguments.length,i=1;i<arguments.length;++i)r.push(arguments[i]);for(n=t.length,i=0;i<n;++i)t[i].apply(this,r)}},this.dispose=function(){s={}}}}e.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),this.on("partialdone",function(e){t.partialFlush(e)}),this.on("endedtimeline",function(e){t.endTimeline(e)}),this.on("reset",function(e){t.reset(e)}),t},e.prototype.push=function(e){this.trigger("data",e)},e.prototype.flush=function(e){this.trigger("done",e)},e.prototype.partialFlush=function(e){this.trigger("partialdone",e)},e.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},e.prototype.reset=function(e){this.trigger("reset",e)};var l,t,i,r,s,n,a,o,u,c,h,d,p,f,m,g,v,y,_,b,T,S,k,C,E,w,L,P,A,I,x,O,D,R,U,M,N,B,j,F,H=e,V=Math.pow(2,32)-1;!function(){var e;if(S={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in S)S.hasOwnProperty(e)&&(S[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);k=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),E=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),C=new Uint8Array([0,0,0,1]),w=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),L=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),P={video:w,audio:L},x=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),I=new Uint8Array([0,0,0,0,0,0,0,0]),O=new Uint8Array([0,0,0,0,0,0,0,0]),D=O,R=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),U=O,A=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),l=function(e){var t,i,n=[],r=0;for(t=1;t<arguments.length;t++)n.push(arguments[t]);for(t=n.length;t--;)r+=n[t].byteLength;for(i=new Uint8Array(r+8),new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(0,i.byteLength),i.set(e,4),t=0,r=8;t<n.length;t++)i.set(n[t],r),r+=n[t].byteLength;return i},t=function(){return l(S.dinf,l(S.dref,x))},i=function(e){return l(S.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},m=function(e){return l(S.hdlr,P[e])},f=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),l(S.mdhd,t)},p=function(e){return l(S.mdia,f(e),m(e.type),n(e))},s=function(e){return l(S.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},n=function(e){return l(S.minf,"video"===e.type?l(S.vmhd,A):l(S.smhd,I),t(),v(e))},a=function(e,t){for(var i=[],n=t.length;n--;)i[n]=_(t[n]);return l.apply(null,[S.moof,s(e)].concat(i))},o=function(e){for(var t=e.length,i=[];t--;)i[t]=h(e[t]);return l.apply(null,[S.moov,c(4294967295)].concat(i).concat(u(e)))},u=function(e){for(var t=e.length,i=[];t--;)i[t]=b(e[t]);return l.apply(null,[S.mvex].concat(i))},c=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return l(S.mvhd,t)},g=function(e){var t,i,n=e.samples||[],r=new Uint8Array(4+n.length);for(i=0;i<n.length;i++)t=n[i].flags,r[i+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return l(S.sdtp,r)},v=function(e){return l(S.stbl,y(e),l(S.stts,U),l(S.stsc,D),l(S.stsz,R),l(S.stco,O))},y=function(e){return l(S.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?M(e):N(e))},M=function(e){var t,i,n=e.sps||[],r=e.pps||[],s=[],a=[];for(t=0;t<n.length;t++)s.push((65280&n[t].byteLength)>>>8),s.push(255&n[t].byteLength),s=s.concat(Array.prototype.slice.call(n[t]));for(t=0;t<r.length;t++)a.push((65280&r[t].byteLength)>>>8),a.push(255&r[t].byteLength),a=a.concat(Array.prototype.slice.call(r[t]));if(i=[S.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),l(S.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([n.length],s,[r.length],a))),l(S.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var o=e.sarRatio[0],u=e.sarRatio[1];i.push(l(S.pasp,new Uint8Array([(4278190080&o)>>24,(16711680&o)>>16,(65280&o)>>8,255&o,(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u])))}return l.apply(null,i)},N=function(e){return l(S.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),i(e))},d=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return l(S.tkhd,t)},_=function(e){var t,i,n,r,s,a;return t=l(S.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(e.baseMediaDecodeTime/(1+V)),a=Math.floor(e.baseMediaDecodeTime%(1+V)),i=l(S.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,a>>>24&255,a>>>16&255,a>>>8&255,255&a])),92,"audio"===e.type?(n=T(e,92),l(S.traf,t,i,n)):(r=g(e),n=T(e,r.length+92),l(S.traf,t,i,n,r))},h=function(e){return e.duration=e.duration||4294967295,l(S.trak,d(e),p(e))},b=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),l(S.trex,t)},F=function(e,t){var i=0,n=0,r=0,s=0;return e.length&&(void 0!==e[0].duration&&(i=1),void 0!==e[0].size&&(n=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(s=8)),[0,0,i|n|r|s,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},j=function(e,t){var i,n,r,s;for(t+=20+16*(n=e.samples||[]).length,i=F(n,t),s=0;s<n.length;s++)r=n[s],i=i.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size,r.flags.isLeading<<2|r.flags.dependsOn,r.flags.isDependedOn<<6|r.flags.hasRedundancy<<4|r.flags.paddingValue<<1|r.flags.isNonSyncSample,61440&r.flags.degradationPriority,15&r.flags.degradationPriority,(4278190080&r.compositionTimeOffset)>>>24,(16711680&r.compositionTimeOffset)>>>16,(65280&r.compositionTimeOffset)>>>8,255&r.compositionTimeOffset]);return l(S.trun,new Uint8Array(i))},B=function(e,t){var i,n,r,s;for(t+=20+8*(n=e.samples||[]).length,i=F(n,t),s=0;s<n.length;s++)r=n[s],i=i.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size]);return l(S.trun,new Uint8Array(i))},T=function(e,t){return"audio"===e.type?B(e,t):j(e,t)};r=function(){return l(S.ftyp,k,C,k,E)};function q(e,t){var i={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return i.dataOffset=t,i.compositionTimeOffset=e.pts-e.dts,i.duration=e.duration,i.size=4*e.length,i.size+=e.byteLength,e.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i}function W(e){for(var t=[];e--;)t.push(0);return t}function z(){z.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Ae(0,0),new Ae(0,1),new Ae(1,0),new Ae(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))},this)}var G,K,X,Y,$,Q=function(e){return l(S.mdat,e)},J=a,Z=function(e){var t,i=r(),n=o(e);return(t=new Uint8Array(i.byteLength+n.byteLength)).set(i),t.set(n,i.byteLength),t},ee=function(e){var t,i,n=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,t=n.byteLength=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(i=e[t]).nalUnitType?(n.length&&(n.duration=i.dts-n.dts,r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n)),(n=[i]).byteLength=i.data.byteLength,n.pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.duration=i.dts-n.dts,n.byteLength+=i.data.byteLength,n.push(i));return r.length&&(!n.duration||n.duration<=0)&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n),r},te=function(e){var t,i,n=[],r=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(i=e[t]).keyFrame?(n.length&&(r.push(n),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration),(n=[i]).nalCount=i.length,n.byteLength=i.byteLength,n.pts=i.pts,n.dts=i.dts,n.duration=i.duration):(n.duration+=i.duration,n.nalCount+=i.length,n.byteLength+=i.byteLength,n.push(i));return r.length&&n.duration<=0&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration,r.push(n),r},ie=function(e){var t;return!e[0][0].keyFrame&&1<e.length&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},ne=function(e,t){var i,n,r,s,a,o=t||0,u=[];for(i=0;i<e.length;i++)for(s=e[i],n=0;n<s.length;n++)a=s[n],o+=(r=q(a,o)).size,u.push(r);return u},re=function(e){var t,i,n,r,s,a,o=0,u=e.byteLength,l=e.nalCount,c=new Uint8Array(u+4*l),h=new DataView(c.buffer);for(t=0;t<e.length;t++)for(r=e[t],i=0;i<r.length;i++)for(s=r[i],n=0;n<s.length;n++)a=s[n],h.setUint32(o,a.data.byteLength),o+=4,c.set(a.data,o),o+=a.data.byteLength;return c},se=[33,16,5,32,164,27],ae=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],oe={96e3:[se,[227,64],W(154),[56]],88200:[se,[231],W(170),[56]],64e3:[se,[248,192],W(240),[56]],48e3:[se,[255,192],W(268),[55,148,128],W(54),[112]],44100:[se,[255,192],W(268),[55,163,128],W(84),[112]],32e3:[se,[255,192],W(268),[55,234],W(226),[112]],24e3:[se,[255,192],W(268),[55,255,128],W(268),[111,112],W(126),[224]],16e3:[se,[255,192],W(268),[55,255,128],W(268),[111,255],W(269),[223,108],W(195),[1,192]],12e3:[ae,W(268),[3,127,248],W(268),[6,255,240],W(268),[13,255,224],W(268),[27,253,128],W(259),[56]],11025:[ae,W(268),[3,127,248],W(268),[6,255,240],W(268),[13,255,224],W(268),[27,255,192],W(268),[55,175,128],W(108),[112]],8e3:[ae,W(268),[3,121,16],W(47),[7]]},ue=(G=oe,Object.keys(G).reduce(function(e,t){return e[t]=new Uint8Array(G[t].reduce(function(e,t){return e.concat(t)},[])),e},{})),le=9e4,ce=(K=function(e){return 9e4*e},X=function(e,t){return e*t},Y=function(e){return e/9e4},$=function(e,t){return e/t},function(e,t){return K($(e,t))}),he=function(e,t){return X(Y(e),t)},de=function(e,t,i){return Y(i?e:e-t)},pe=function(e,t,i,n){var r,s,a,o,u,l=0,c=0,h=0;if(t.length&&(r=ce(e.baseMediaDecodeTime,e.samplerate),s=Math.ceil(le/(e.samplerate/1024)),i&&n&&(l=r-Math.max(i,n),h=(c=Math.floor(l/s))*s),!(c<1||le/2<h))){for(a=(a=ue[e.samplerate])||t[0].data,o=0;o<c;o++)u=t[0],t.splice(0,0,{data:a,dts:u.dts-s,pts:u.pts-s});e.baseMediaDecodeTime-=Math.floor(he(h,e.samplerate))}},fe=function(e,t,i){return t.minSegmentDts>=i?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=i&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},me=function(e){var t,i,n=[];for(t=0;t<e.length;t++)i=e[t],n.push({size:i.data.byteLength,duration:1024});return n},ge=function(e){var t,i,n=0,r=new Uint8Array(function(e){var t,i=0;for(t=0;t<e.length;t++)i+=e[t].data.byteLength;return i}(e));for(t=0;t<e.length;t++)i=e[t],r.set(i.data,n),n+=i.data.byteLength;return r},ve=le,ye=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},_e=function(e,t){var i,n=e.minSegmentDts;return t||(n-=e.timelineStartInfo.dts),i=e.timelineStartInfo.baseMediaDecodeTime,i+=n,i=Math.max(0,i),"audio"===e.type&&(i*=e.samplerate/ve,i=Math.floor(i)),i},be=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},Te=function(e){for(var t=0,i={payloadType:-1,payloadSize:0},n=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)n+=255,t++;for(n+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!i.payload&&4===n){i.payloadType=n,i.payloadSize=r,i.payload=e.subarray(t,t+r);break}t+=r,r=n=0}return i},Se=function(e){return 181!==e.payload[0]?null:49!=(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},ke=function(e,t){var i,n,r,s,a=[];if(!(64&t[0]))return a;for(n=31&t[0],i=0;i<n;i++)s={type:3&t[2+(r=3*i)],pts:e},4&t[2+r]&&(s.ccData=t[3+r]<<8|t[4+r],a.push(s));return a},Ce=4;(z.prototype=new H).push=function(e){var t,i,n;if("sei_rbsp"===e.nalUnitType&&(t=Te(e.escapedRBSP)).payloadType===Ce&&(i=Se(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=ke(e.pts,i),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},z.prototype.flushCCStreams=function(t){this.ccStreams_.forEach(function(e){return"flush"===t?e.flush():e.partialFlush()},this)},z.prototype.flushStream=function(e){this.captionPackets_.length&&(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0),this.flushCCStreams(e)},z.prototype.flush=function(){return this.flushStream("flush")},z.prototype.partialFlush=function(){return this.flushStream("partialFlush")},z.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},z.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},z.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},z.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},z.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)};function Ee(e){return null===e?"":(e=Le[e]||e,String.fromCharCode(e))}function we(){for(var e=[],t=15;t--;)e.push("");return e}var Le={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Pe=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ae=function e(t,i){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=i||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,i,n,r,s;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),n=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=we();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=we();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=we()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(n,r))s=Ee((n=(3&n)<<8)|r),this[this.mode_](e.pts,s),this.column_++;else if(this.isExtCharacter(n,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),s=Ee((n=(3&n)<<8)|r),this[this.mode_](e.pts,s),this.column_++;else if(this.isMidRowCode(n,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&r)&&this.addFormatting(e.pts,["i"]),1==(1&r)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(n,r))this.column_+=3&r;else if(this.isPAC(n,r)){var a=Pe.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(n)&&(0===r&&(r=null),s=Ee(n),s+=Ee(r),this[this.mode_](e.pts,s),this.column_+=s.length)}else this.lastControlCode_=null}};Ae.prototype=new H,Ae.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){try{return e.trim()}catch(e){return""}}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},Ae.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=we(),this.nonDisplayed_=we(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Ae.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ae.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&48<=t&&t<=63},Ae.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&32<=t&&t<=63},Ae.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&32<=t&&t<=47},Ae.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&33<=t&&t<=35},Ae.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&64<=t&&t<=127},Ae.prototype.isColorPAC=function(e){return 64<=e&&e<=79||96<=e&&e<=127},Ae.prototype.isNormalChar=function(e){return 32<=e&&e<=127},Ae.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=we(),this.displayed_=we()),void 0!==t&&t!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[t-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Ae.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var i=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,i)},Ae.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},Ae.prototype.popOn=function(e,t){var i=this.nonDisplayed_[this.row_];i+=t,this.nonDisplayed_[this.row_]=i},Ae.prototype.rollUp=function(e,t){var i=this.displayed_[this.row_];i+=t,this.displayed_[this.row_]=i},Ae.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},Ae.prototype.paintOn=function(e,t){var i=this.displayed_[this.row_];i+=t,this.displayed_[this.row_]=i};function Ie(e,t){var i=1;for(t<e&&(i=-1);4294967296<Math.abs(t-e);)e+=8589934592*i;return e}function xe(e){var t,i;xe.prototype.init.call(this),this.type_=e||"shared",this.push=function(e){"shared"!==this.type_&&e.type!==this.type_||(void 0===i&&(i=e.dts),e.dts=Ie(e.dts,i),e.pts=Ie(e.pts,i),t=e.dts,this.trigger("data",e))},this.flush=function(){i=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){t=i=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}}var Oe={CaptionStream:z,Cea608Stream:Ae},De={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21};xe.prototype=new H;function Re(e,t,i){var n,r="";for(n=t;n<i;n++)r+="%"+("00"+e[n].toString(16)).slice(-2);return r}function Ue(e,t,i){return decodeURIComponent(Re(e,t,i))}function Me(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]}var Ne,Be=xe,je={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Ue(e.data,1,t),e.value=Ue(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Ue(e.data,1,t),e.url=Ue(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,i;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(i=e.data,unescape(Re(i,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(Ne=function(e){var t,u={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},l=0,c=[],h=0;if(Ne.prototype.init.call(this),this.dispatchType=De.METADATA_STREAM_TYPE.toString(16),u.descriptor)for(t=0;t<u.descriptor.length;t++)this.dispatchType+=("00"+u.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,i,n,r,s;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(h=0,c.length=0),0===c.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))u.debug;else if(c.push(e),h+=e.data.byteLength,1===c.length&&(l=Me(e.data.subarray(6,10)),l+=10),!(h<l)){for(t={data:new Uint8Array(l),frames:[],pts:c[0].pts,dts:c[0].dts},s=0;s<l;)t.data.set(c[0].data.subarray(0,l-s),s),s+=c[0].data.byteLength,h-=c[0].data.byteLength,c.shift();i=10,64&t.data[5]&&(i+=4,i+=Me(t.data.subarray(10,14)),l-=Me(t.data.subarray(16,20)));do{if((n=Me(t.data.subarray(i+4,i+8)))<1)return;if((r={id:String.fromCharCode(t.data[i],t.data[i+1],t.data[i+2],t.data[i+3]),data:t.data.subarray(i+10,i+n+10)}).key=r.id,je[r.id]&&(je[r.id](r),"com.apple.streaming.transportStreamTimestamp"===r.owner)){var a=r.data,o=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;o*=4,o+=3&a[7],r.timeStamp=o,void 0===t.pts&&void 0===t.dts&&(t.pts=r.timeStamp,t.dts=r.timeStamp),this.trigger("timestamp",r)}t.frames.push(r),i+=10,i+=n}while(i<l);this.trigger("data",t)}}}).prototype=new H;var Fe,He,Ve,qe=Ne,We=Be;(Fe=function(){var r=new Uint8Array(188),s=0;Fe.prototype.init.call(this),this.push=function(e){var t,i=0,n=188;for(s?((t=new Uint8Array(e.byteLength+s)).set(r.subarray(0,s)),t.set(e,s),s=0):t=e;n<t.byteLength;)71!==t[i]||71!==t[n]?(i++,n++):(this.trigger("data",t.subarray(i,n)),i+=188,n+=188);i<t.byteLength&&(r.set(t.subarray(i),0),s=t.byteLength-i)},this.flush=function(){188===s&&71===r[0]&&(this.trigger("data",r),s=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){s=0,this.trigger("reset")}}).prototype=new H,(He=function(){var n,r,s,a;He.prototype.init.call(this),(a=this).packetsWaitingForPmt=[],this.programMapTable=void 0,n=function(e,t){var i=0;t.payloadUnitStartIndicator&&(i+=e[i]+1),"pat"===t.type?r(e.subarray(i),t):s(e.subarray(i),t)},r=function(e,t){t.section_number=e[7],t.last_section_number=e[8],a.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=a.pmtPid},s=function(e,t){var i,n;if(1&e[5]){for(a.programMapTable={video:null,audio:null,"timed-metadata":{}},i=3+((15&e[1])<<8|e[2])-4,n=12+((15&e[10])<<8|e[11]);n<i;){var r=e[n],s=(31&e[n+1])<<8|e[n+2];r===De.H264_STREAM_TYPE&&null===a.programMapTable.video?a.programMapTable.video=s:r===De.ADTS_STREAM_TYPE&&null===a.programMapTable.audio?a.programMapTable.audio=s:r===De.METADATA_STREAM_TYPE&&(a.programMapTable["timed-metadata"][s]=r),n+=5+((15&e[n+3])<<8|e[n+4])}t.programMapTable=a.programMapTable}},this.push=function(e){var t={},i=4;if(t.payloadUnitStartIndicator=!!(64&e[1]),t.pid=31&e[1],t.pid<<=8,t.pid|=e[2],1<(48&e[3])>>>4&&(i+=e[i]+1),0===t.pid)t.type="pat",n(e.subarray(i),t),this.trigger("data",t);else if(t.pid===this.pmtPid)for(t.type="pmt",n(e.subarray(i),t),this.trigger("data",t);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,i,t]):this.processPes_(e,i,t)},this.processPes_=function(e,t,i){i.pid===this.programMapTable.video?i.streamType=De.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=De.ADTS_STREAM_TYPE:i.streamType=this.programMapTable["timed-metadata"][i.pid],i.type="pes",i.data=e.subarray(t),this.trigger("data",i)}}).prototype=new H,He.STREAM_TYPES={h264:27,adts:15},(Ve=function(){function n(e,t,i){var n,r,s=new Uint8Array(e.size),a={type:t},o=0,u=0;if(e.data.length&&!(e.size<9)){for(a.trackId=e.data[0].pid,o=0;o<e.data.length;o++)r=e.data[o],s.set(r.data,u),u+=r.data.byteLength;!function(e,t){var i;t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!=(4&e[6]),192&(i=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&i&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])}(s,a),n="video"===t||a.packetLength<=e.size,(i||n)&&(e.size=0,e.data.length=0),n&&l.trigger("data",a)}}var t,l=this,r={data:[],size:0},s={data:[],size:0},a={data:[],size:0};Ve.prototype.init.call(this),this.push=function(i){({pat:function(){},pes:function(){var e,t;switch(i.streamType){case De.H264_STREAM_TYPE:case De.H264_STREAM_TYPE:e=r,t="video";break;case De.ADTS_STREAM_TYPE:e=s,t="audio";break;case De.METADATA_STREAM_TYPE:e=a,t="timed-metadata";break;default:return}i.payloadUnitStartIndicator&&n(e,t,!0),e.data.push(i),e.size+=i.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]};null!==(t=i.programMapTable).video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),l.trigger("data",e)}})[i.type]()},this.reset=function(){r.size=0,r.data.length=0,s.size=0,s.data.length=0,this.trigger("reset")},this.flushStreams_=function(){n(r,"video"),n(s,"audio"),n(a,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}}).prototype=new H;var ze={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Fe,TransportParseStream:He,ElementaryStream:Ve,TimestampRolloverStream:We,CaptionStream:Oe.CaptionStream,Cea608Stream:Oe.Cea608Stream,MetadataStream:qe};for(var Ge in De)De.hasOwnProperty(Ge)&&(ze[Ge]=De[Ge]);var Ke,Xe=ze,Ye=le,$e=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(Ke=function(u){var l,c=0;Ke.prototype.init.call(this),this.push=function(e){var t,i,n,r,s,a,o=0;if(u||(c=0),"audio"===e.type)for(l?(r=l,(l=new Uint8Array(r.byteLength+e.data.byteLength)).set(r),l.set(e.data,r.byteLength)):l=e.data;o+5<l.length;)if(255===l[o]&&240==(246&l[o+1])){if(i=2*(1&~l[o+1]),t=(3&l[o+3])<<11|l[o+4]<<3|(224&l[o+5])>>5,a=(s=1024*(1+(3&l[o+6])))*Ye/$e[(60&l[o+2])>>>2],n=o+t,l.byteLength<n)return;if(this.trigger("data",{pts:e.pts+c*a,dts:e.dts+c*a,sampleCount:s,audioobjecttype:1+(l[o+2]>>>6&3),channelcount:(1&l[o+2])<<2|(192&l[o+3])>>>6,samplerate:$e[(60&l[o+2])>>>2],samplingfrequencyindex:(60&l[o+2])>>>2,samplesize:16,data:l.subarray(o+7+i,n)}),c++,l.byteLength===n)return void(l=void 0);l=l.subarray(n)}else o++},this.flush=function(){c=0,this.trigger("done")},this.reset=function(){l=void 0,this.trigger("reset")},this.endTimeline=function(){l=void 0,this.trigger("endedtimeline")}}).prototype=new H;var Qe,Je,Ze,et=Ke,tt=function(n){var r=n.byteLength,s=0,a=0;this.length=function(){return 8*r},this.bitsAvailable=function(){return 8*r+a},this.loadWord=function(){var e=n.byteLength-r,t=new Uint8Array(4),i=Math.min(4,r);if(0===i)throw new Error("no bytes available");t.set(n.subarray(e,e+i)),s=new DataView(t.buffer).getUint32(0),a=8*i,r-=i},this.skipBits=function(e){var t;e<a||(e-=a,e-=8*(t=Math.floor(e/8)),r-=t,this.loadWord()),s<<=e,a-=e},this.readBits=function(e){var t=Math.min(a,e),i=s>>>32-t;return 0<(a-=t)?s<<=t:0<r&&this.loadWord(),0<(t=e-t)?i<<t|this.readBits(t):i},this.skipLeadingZeros=function(){var e;for(e=0;e<a;++e)if(0!=(s&2147483648>>>e))return s<<=e,a-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(Je=function(){var n,r,s=0;Je.prototype.init.call(this),this.push=function(e){for(var t,i=(r=r?((t=new Uint8Array(r.byteLength+e.data.byteLength)).set(r),t.set(e.data,r.byteLength),t):e.data).byteLength;s<i-3;s++)if(1===r[s+2]){n=s+5;break}for(;n<i;)switch(r[n]){case 0:if(0!==r[n-1]){n+=2;break}if(0!==r[n-2]){n++;break}for(s+3!==n-2&&this.trigger("data",r.subarray(s+3,n-2));1!==r[++n]&&n<i;);s=n-2,n+=3;break;case 1:if(0!==r[n-1]||0!==r[n-2]){n+=3;break}this.trigger("data",r.subarray(s+3,n-2)),s=n-2,n+=3;break;default:n+=3}r=r.subarray(s),n-=s,s=0},this.reset=function(){r=null,s=0,this.trigger("reset")},this.flush=function(){r&&3<r.byteLength&&this.trigger("data",r.subarray(s+3)),r=null,s=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new H,Ze={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(Qe=function(){var i,n,r,s,a,o,_,t=new Je;Qe.prototype.init.call(this),(i=this).push=function(e){"video"===e.type&&(n=e.trackId,r=e.pts,s=e.dts,t.push(e))},t.on("data",function(e){var t={trackId:n,pts:r,dts:s,data:e};switch(31&e[0]){case 5:t.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:t.nalUnitType="sei_rbsp",t.escapedRBSP=a(e.subarray(1));break;case 7:t.nalUnitType="seq_parameter_set_rbsp",t.escapedRBSP=a(e.subarray(1)),t.config=o(t.escapedRBSP);break;case 8:t.nalUnitType="pic_parameter_set_rbsp";break;case 9:t.nalUnitType="access_unit_delimiter_rbsp"}i.trigger("data",t)}),t.on("done",function(){i.trigger("done")}),t.on("partialdone",function(){i.trigger("partialdone")}),t.on("reset",function(){i.trigger("reset")}),t.on("endedtimeline",function(){i.trigger("endedtimeline")}),this.flush=function(){t.flush()},this.partialFlush=function(){t.partialFlush()},this.reset=function(){t.reset()},this.endTimeline=function(){t.endTimeline()},_=function(e,t){var i,n=8,r=8;for(i=0;i<e;i++)0!==r&&(r=(n+t.readExpGolomb()+256)%256),n=0===r?n:r},a=function(e){for(var t,i,n=e.byteLength,r=[],s=1;s<n-2;)0===e[s]&&0===e[s+1]&&3===e[s+2]?(r.push(s+2),s+=2):s++;if(0===r.length)return e;t=n-r.length,i=new Uint8Array(t);var a=0;for(s=0;s<t;a++,s++)a===r[0]&&(a++,r.shift()),i[s]=e[a];return i},o=function(e){var t,i,n,r,s,a,o,u,l,c,h,d,p,f=0,m=0,g=0,v=0,y=1;if(i=(t=new tt(e)).readUnsignedByte(),r=t.readUnsignedByte(),n=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),Ze[i]&&(3===(s=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(h=3!==s?8:12,p=0;p<h;p++)t.readBoolean()&&_(p<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(a=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===a)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),o=t.readUnsignedExpGolomb(),p=0;p<o;p++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),u=t.readUnsignedExpGolomb(),l=t.readUnsignedExpGolomb(),0===(c=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(f=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:d=[1,1];break;case 2:d=[12,11];break;case 3:d=[10,11];break;case 4:d=[16,11];break;case 5:d=[40,33];break;case 6:d=[24,11];break;case 7:d=[20,11];break;case 8:d=[32,11];break;case 9:d=[80,33];break;case 10:d=[18,11];break;case 11:d=[15,11];break;case 12:d=[64,33];break;case 13:d=[160,99];break;case 14:d=[4,3];break;case 15:d=[3,2];break;case 16:d=[2,1];break;case 255:d=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}d&&(y=d[0]/d[1])}return{profileIdc:i,levelIdc:n,profileCompatibility:r,width:Math.ceil((16*(u+1)-2*f-2*m)*y),height:(2-c)*(l+1)*16-2*g-2*v,sarRatio:d}}}).prototype=new H;var it,nt={H264Stream:Qe,NalByteStream:Je},rt=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},st=function(e,t){var i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?20+i:10+i},at=function(e,t){var i=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|i};(it=function(){var o=new Uint8Array,u=0;it.prototype.init.call(this),this.setTimestamp=function(e){u=e},this.push=function(e){var t,i,n,r,s=0,a=0;for(o.length?(r=o.length,(o=new Uint8Array(e.byteLength+r)).set(o.subarray(0,r)),o.set(e,r)):o=e;3<=o.length-a;)if(o[a]!=="I".charCodeAt(0)||o[a+1]!=="D".charCodeAt(0)||o[a+2]!=="3".charCodeAt(0))if(255!=(255&o[a])||240!=(240&o[a+1]))a++;else{if(o.length-a<7)break;if(a+(s=at(o,a))>o.length)break;n={type:"audio",data:o.subarray(a,a+s),pts:u,dts:u},this.trigger("data",n),a+=s}else{if(o.length-a<10)break;if(a+(s=st(o,a))>o.length)break;i={type:"timed-metadata",data:o.subarray(a,a+s)},this.trigger("data",i),a+=s}t=o.length-a,o=0<t?o.subarray(a):new Uint8Array},this.reset=function(){o=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){o=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new H;function ot(e,t){var i;if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}function ut(e,t,i,n,r,s){return{start:{dts:e,pts:e+(i-t)},end:{dts:e+(n-t),pts:e+(r-i)},prependedContentDuration:s,baseMediaDecodeTime:e}}var lt,ct,ht,dt,pt=it,ft=nt.H264Stream,mt=rt,gt=le,vt=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],yt=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"];(ct=function(s,a){var o=[],u=0,l=0,c=0,h=1/0;a=a||{},ct.prototype.init.call(this),this.push=function(t){be(s,t),s&&vt.forEach(function(e){s[e]=t[e]}),o.push(t)},this.setEarliestDts=function(e){l=e-s.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){h=e},this.setAudioAppendStart=function(e){c=e},this.flush=function(){var e,t,i,n,r;0!==o.length&&(e=fe(o,s,l),s.baseMediaDecodeTime=_e(s,a.keepOriginalTimestamps),pe(s,e,c,h),s.samples=me(e),i=Q(ge(e)),o=[],t=J(u,[s]),n=new Uint8Array(t.byteLength+i.byteLength),u++,n.set(t),n.set(i,t.byteLength),ye(s),r=Math.ceil(1024*gt/s.samplerate),e.length&&this.trigger("timingInfo",{start:e[0].dts,end:e[0].dts+e.length*r}),this.trigger("data",{track:s,boxes:n})),this.trigger("done","AudioSegmentStream")},this.reset=function(){ye(s),o=[],this.trigger("reset")}}).prototype=new H,(lt=function(c,h){var t,i,d=0,p=[],f=[];h=h||{},lt.prototype.init.call(this),delete c.minPTS,this.gopCache_=[],this.push=function(e){be(c,e),"seq_parameter_set_rbsp"!==e.nalUnitType||t||(t=e.config,c.sps=[e.data],yt.forEach(function(e){c[e]=t[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.data,c.pps=[e.data]),p.push(e)},this.flush=function(){for(var e,t,i,n,r,s,a,o,u=0;p.length&&"access_unit_delimiter_rbsp"!==p[0].nalUnitType;)p.shift();if(0===p.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(e=ee(p),(i=te(e))[0][0].keyFrame||((t=this.getGopForFusion_(p[0],c))?(u=t.duration,i.unshift(t),i.byteLength+=t.byteLength,i.nalCount+=t.nalCount,i.pts=t.pts,i.dts=t.dts,i.duration+=t.duration):i=ie(i)),f.length){var l;if(!(l=h.alignGopsAtEnd?this.alignGopsAtEnd_(i):this.alignGopsAtStart_(i)))return this.gopCache_.unshift({gop:i.pop(),pps:c.pps,sps:c.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),p=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");ye(c),i=l}be(c,i),c.samples=ne(i),r=Q(re(i)),c.baseMediaDecodeTime=_e(c,h.keepOriginalTimestamps),this.trigger("processedGopsInfo",i.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),a=i[0],o=i[i.length-1],this.trigger("segmentTimingInfo",ut(c.baseMediaDecodeTime,a.dts,a.pts,o.dts+o.duration,o.pts+o.duration,u)),this.trigger("timingInfo",{start:i[0].dts,end:i[i.length-1].dts+i[i.length-1].duration}),this.gopCache_.unshift({gop:i.pop(),pps:c.pps,sps:c.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),p=[],this.trigger("baseMediaDecodeTime",c.baseMediaDecodeTime),this.trigger("timelineStartInfo",c.timelineStartInfo),n=J(d,[c]),s=new Uint8Array(n.byteLength+r.byteLength),d++,s.set(n),s.set(r,n.byteLength),this.trigger("data",{track:c,boxes:s}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),p=[],this.gopCache_.length=0,f.length=0,this.trigger("reset")},this.resetStream_=function(){ye(c),i=t=void 0},this.getGopForFusion_=function(e){var t,i,n,r,s,a=1/0;for(s=0;s<this.gopCache_.length;s++)n=(r=this.gopCache_[s]).gop,c.pps&&ot(c.pps[0],r.pps[0])&&c.sps&&ot(c.sps[0],r.sps[0])&&(n.dts<c.timelineStartInfo.dts||-1e4<=(t=e.dts-n.dts-n.duration)&&t<=45e3&&(!i||t<a)&&(i=r,a=t));return i?i.gop:null},this.alignGopsAtStart_=function(e){var t,i,n,r,s,a,o,u;for(s=e.byteLength,a=e.nalCount,o=e.duration,t=i=0;t<f.length&&i<e.length&&(n=f[t],r=e[i],n.pts!==r.pts);)r.pts>n.pts?t++:(i++,s-=r.byteLength,a-=r.nalCount,o-=r.duration);return 0===i?e:i===e.length?null:((u=e.slice(i)).byteLength=s,u.duration=o,u.nalCount=a,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(e){var t,i,n,r,s,a,o;for(t=f.length-1,i=e.length-1,s=null,a=!1;0<=t&&0<=i;){if(n=f[t],r=e[i],n.pts===r.pts){a=!0;break}n.pts>r.pts?t--:(t===f.length-1&&(s=i),i--)}if(!a&&null===s)return null;if(0===(o=a?i:s))return e;var u=e.slice(o),l=u.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return u.byteLength=l.byteLength,u.duration=l.duration,u.nalCount=l.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(e){f=e}}).prototype=new H,(dt=function(e,t){this.numberOfTracks=0,this.metadataStream=t,"undefined"!=typeof(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,dt.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}}).prototype=new H,dt.prototype.flush=function(e){var t,i,n,r,s=0,a={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,yt.forEach(function(e){a.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,vt.forEach(function(e){a.info[e]=this.audioTrack[e]},this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,n=Z(this.pendingTracks),a.initSegment=new Uint8Array(n.byteLength),a.initSegment.set(n),a.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)a.data.set(this.pendingBoxes[r],s),s+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(t=this.pendingCaptions[r]).startTime=de(t.startPts,o,this.keepOriginalTimestamps),t.endTime=de(t.endPts,o,this.keepOriginalTimestamps),a.captionStreams[t.stream]=!0,a.captions.push(t);for(r=0;r<this.pendingMetadata.length;r++)(i=this.pendingMetadata[r]).cueTime=de(i.pts,o,this.keepOriginalTimestamps),a.metadata.push(i);for(a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),r=0;r<a.captions.length;r++)t=a.captions[r],this.trigger("caption",t);for(r=0;r<a.metadata.length;r++)i=a.metadata[r],this.trigger("id3Frame",i)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},dt.prototype.setRemux=function(e){this.remuxTracks=e},(ht=function(n){var r,s,a=this,i=!0;ht.prototype.init.call(this),n=n||{},this.baseMediaDecodeTime=n.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};(this.transmuxPipeline_=t).type="aac",t.metadataStream=new Xe.MetadataStream,t.aacStream=new pt,t.audioTimestampRolloverStream=new Xe.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new Xe.TimestampRolloverStream("timed-metadata"),t.adtsStream=new et,t.coalesceStream=new dt(n,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(e){"timed-metadata"!==e.type||t.audioSegmentStream||(s=s||{timelineStartInfo:{baseMediaDecodeTime:a.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new ct(s,n),t.audioSegmentStream.on("timingInfo",a.trigger.bind(a,"audioTimingInfo")),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream)),a.trigger("trackinfo",{hasAudio:!!s,hasVideo:!!r})}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var i={};(this.transmuxPipeline_=i).type="ts",i.metadataStream=new Xe.MetadataStream,i.packetStream=new Xe.TransportPacketStream,i.parseStream=new Xe.TransportParseStream,i.elementaryStream=new Xe.ElementaryStream,i.timestampRolloverStream=new Xe.TimestampRolloverStream,i.adtsStream=new et,i.h264Stream=new ft,i.captionStream=new Xe.CaptionStream,i.coalesceStream=new dt(n,i.metadataStream),i.headOfPipeline=i.packetStream,i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream).pipe(i.timestampRolloverStream),i.timestampRolloverStream.pipe(i.h264Stream),i.timestampRolloverStream.pipe(i.adtsStream),i.timestampRolloverStream.pipe(i.metadataStream).pipe(i.coalesceStream),i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream),i.elementaryStream.on("data",function(e){var t;if("metadata"===e.type){for(t=e.tracks.length;t--;)r||"video"!==e.tracks[t].type?s||"audio"!==e.tracks[t].type||((s=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=a.baseMediaDecodeTime):(r=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=a.baseMediaDecodeTime;r&&!i.videoSegmentStream&&(i.coalesceStream.numberOfTracks++,i.videoSegmentStream=new lt(r,n),i.videoSegmentStream.on("timelineStartInfo",function(e){s&&(s.timelineStartInfo=e,i.audioSegmentStream.setEarliestDts(e.dts))}),i.videoSegmentStream.on("processedGopsInfo",a.trigger.bind(a,"gopInfo")),i.videoSegmentStream.on("segmentTimingInfo",a.trigger.bind(a,"videoSegmentTimingInfo")),i.videoSegmentStream.on("baseMediaDecodeTime",function(e){s&&i.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),i.videoSegmentStream.on("timingInfo",a.trigger.bind(a,"videoTimingInfo")),i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)),s&&!i.audioSegmentStream&&(i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new ct(s,n),i.audioSegmentStream.on("timingInfo",a.trigger.bind(a,"audioTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream)),a.trigger("trackinfo",{hasAudio:!!s,hasVideo:!!r})}}),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("id3Frame",function(e){e.dispatchType=i.metadataStream.dispatchType,a.trigger("id3Frame",e)}),i.coalesceStream.on("caption",this.trigger.bind(this,"caption")),i.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(e){var t=this.transmuxPipeline_;n.keepOriginalTimestamps||(this.baseMediaDecodeTime=e),s&&(s.timelineStartInfo.dts=void 0,s.timelineStartInfo.pts=void 0,ye(s),n.keepOriginalTimestamps||(s.timelineStartInfo.baseMediaDecodeTime=e),t.audioTimestampRolloverStream&&t.audioTimestampRolloverStream.discontinuity()),r&&(t.videoSegmentStream&&(t.videoSegmentStream.gopCache_=[]),r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,ye(r),t.captionStream.reset(),n.keepOriginalTimestamps||(r.timelineStartInfo.baseMediaDecodeTime=e)),t.timestampRolloverStream&&t.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){s&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(e){var t=this.transmuxPipeline_;n.remux=e,t&&t.coalesceStream&&t.coalesceStream.setRemux(e)},this.alignGopsWith=function(e){r&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(i){var t=mt(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),i=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){i=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new H;var _t={Transmuxer:ht,VideoSegmentStream:lt,AudioSegmentStream:ct,AUDIO_PROPERTIES:vt,VIDEO_PROPERTIES:yt,generateVideoSegmentTimingInfo:ut};function bt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Tt=(function(e,t,i){return t&&bt(e.prototype,t),i&&bt(e,i),e}(St,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new _t.Transmuxer(this.options),function(n,e){e.on("data",function(e){var t=e.initSegment;e.initSegment={data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength};var i=e.data;e.data=i.buffer,n.postMessage({action:"data",segment:e,byteOffset:i.byteOffset,byteLength:i.byteLength},[e.data])}),e.captionStream&&e.captionStream.on("data",function(e){n.postMessage({action:"caption",data:e})}),e.on("done",function(e){n.postMessage({action:"done"})}),e.on("gopInfo",function(e){n.postMessage({action:"gopInfo",gopInfo:e})}),e.on("videoSegmentTimingInfo",function(e){n.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:e})})}(this.self,this.transmuxer)}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(e){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}]),St);function St(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,St),this.options=t||{},this.self=e,this.init()}new function(t){t.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new Tt(t,e.data.options):(this.messageHandlers||(this.messageHandlers=new Tt(t)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}(kt)}()}),zu={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},Gu=(xo(Ku,rs.EventTarget),Ao(Ku,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),function(e,t,i){var n=t.player_;if(i.captions&&i.captions.length)for(var r in e.inbandTextTracks_||(e.inbandTextTracks_={}),i.captionStreams)if(!e.inbandTextTracks_[r]){n.tech_.trigger({type:"usage",name:"hls-608"});var s=n.textTracks().getTrackById(r);e.inbandTextTracks_[r]=s||n.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track}i.metadata&&i.metadata.length&&!e.metadataTrack_&&(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=i.metadata.dispatchType)}(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(e){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"videoSegmentTimingInfo_",value:function(e){var t={start:{decode:e.start.dts/9e4,presentation:e.start.pts/9e4},end:{decode:e.end.dts/9e4,presentation:e.end.pts/9e4},baseMediaDecodeTime:e.baseMediaDecodeTime/9e4};e.prependedContentDuration&&(t.prependedContentDuration=e.prependedContentDuration/9e4),this.trigger({type:"videoSegmentTimingInfo",videoSegmentTimingInfo:t})}},{key:"createRealSourceBuffers_",value:function(){var n=this,r=["audio","video"];r.forEach(function(t){if(n[t+"Codec_"]&&!n[t+"Buffer_"]){var i=null;if(n.mediaSource_[t+"Buffer_"])(i=n.mediaSource_[t+"Buffer_"]).updating=!1;else{var e=t+'/mp4;codecs="'+n[t+"Codec_"]+'"';i=function(e,t){var i=e.addSourceBuffer(t),n=Object.create(null);function r(t){"function"==typeof i[t]?n[t]=function(){return i[t].apply(i,arguments)}:"undefined"==typeof n[t]&&Object.defineProperty(n,t,{get:function(){return i[t]},set:function(e){return i[t]=e}})}for(var s in n.updating=!1,n.realBuffer_=i)r(s);return n}(n.mediaSource_.nativeMediaSource_,e),n.mediaSource_[t+"Buffer_"]=i}n[t+"Buffer_"]=i,["update","updatestart","updateend"].forEach(function(e){i.addEventListener(e,function(){if("audio"!==t||!n.audioDisabled_)return"updateend"===e&&(n[t+"Buffer_"].updating=!1),r.every(function(e){return!("audio"!==e||!n.audioDisabled_)||t===e||!n[e+"Buffer_"]||!n[e+"Buffer_"].updating})?n.trigger(e):void 0})})}})}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:function(e,t,i){if("undefined"==typeof t||null===t||!e.length)return[];var n=Math.ceil(9e4*(t-i+3)),r=void 0;for(r=0;r<e.length&&!(e[r].pts>n);r++);return e.slice(r)}(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(e){this.gopBuffer_=function(e,t,i){if(!t.length)return e;if(i)return t.slice();for(var n=t[0].pts,r=0;r<e.length&&!(e[r].pts>=n);r++);return e.slice(0,r).concat(t)}(this.gopBuffer_,e.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(e,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t),this.gopBuffer_=function(e,t,i,n){for(var r=Math.ceil(9e4*(t-n)),s=Math.ceil(9e4*(i-n)),a=e.slice(),o=e.length;o--&&!(e[o].pts<=s););if(-1===o)return a;for(var u=o+1;u--&&!(e[u].pts<=r););return u=Math.max(u,0),a.splice(u,o-u+1),a}(this.gopBuffer_,e,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),gu(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)gu(e,t,this.inbandTextTracks_[i])}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};if(!this.pendingBuffers_.length)return this.trigger("updateend"),void(this.bufferUpdating_=!1);e=this.pendingBuffers_.reduce(function(e,t){var i=t.type,n=t.data,r=t.initSegment;return e[i].segments.push(n),e[i].bytes+=n.byteLength,e[i].initSegment=r,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[i].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e},e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var t=!1;this.videoBuffer_&&e.video.bytes?(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0),yu(this,e.captions,e.metadata),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,t&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var i=0,n=void 0;if(e.bytes){n=new Uint8Array(e.bytes),e.segments.forEach(function(e){n.set(e,i),i+=e.byteLength});try{t.updating=!0,t.appendBuffer(n)}catch(e){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:e.message,originalError:e})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),Ku);function Ku(e,t){Po(this,Ku);var i=Oo(this,(Ku.__proto__||Object.getPrototypeOf(Ku)).call(this,rs.EventTarget));i.timestampOffset_=0,i.pendingBuffers_=[],i.bufferUpdating_=!1,i.mediaSource_=e,i.codecs_=t,i.audioCodec_=null,i.videoCodec_=null,i.audioDisabled_=!1,i.appendAudioInitSegment_=!0,i.gopBuffer_=[],i.timeMapping_=0,i.safeAppend_=11<=rs.browser.IE_VERSION;var n={remux:!1,alignGopsAtEnd:i.safeAppend_};return i.codecs_.forEach(function(e){Vu(e)?i.audioCodec_=e:qu(e)&&(i.videoCodec_=e)}),i.transmuxer_=new Wu,i.transmuxer_.postMessage({action:"init",options:n}),i.transmuxer_.onmessage=function(e){return"data"===e.data.action?i.data_(e):"done"===e.data.action?i.done_(e):"gopInfo"===e.data.action?i.appendGopInfo_(e):"videoSegmentTimingInfo"===e.data.action?i.videoSegmentTimingInfo_(e.data.videoSegmentTimingInfo):void 0},Object.defineProperty(i,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&0<=e&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(i,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(i,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(i,"buffered",{get:function(){return function(e,t,i){var n=null,r=null,s=0,a=[],o=[];if(!e&&!t)return rs.createTimeRange();if(!e)return t.buffered;if(!t)return e.buffered;if(i)return e.buffered;if(0===e.buffered.length&&0===t.buffered.length)return rs.createTimeRange();for(var u=e.buffered,l=t.buffered,c=u.length;c--;)a.push({time:u.start(c),type:"start"}),a.push({time:u.end(c),type:"end"});for(c=l.length;c--;)a.push({time:l.start(c),type:"start"}),a.push({time:l.end(c),type:"end"});for(a.sort(function(e,t){return e.time-t.time}),c=0;c<a.length;c++)"start"===a[c].type?2===++s&&(n=a[c].time):"end"===a[c].type&&1===--s&&(r=a[c].time),null!==n&&null!==r&&(o.push([n,r]),r=n=null);return rs.createTimeRanges(o)}(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),i}var Xu=(xo(Yu,rs.EventTarget),Ao(Yu,[{key:"addSeekableRange_",value:function(e,t){var i=void 0;if(this.duration!==1/0)throw(i=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",i.code=11,i;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=void 0,i=Hu(e);if(/^(video|audio)\/mp2t$/i.test(i.type)){var n=[];i.parameters&&i.parameters.codecs&&(n=i.parameters.codecs.split(","),n=(n=Nu(n)).filter(function(e){return Vu(e)||qu(e)})),0===n.length&&(n=["avc1.4d400d","mp4a.40.2"]),t=new Gu(this,n),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),Yu);function Yu(){Po(this,Yu);var s=Oo(this,(Yu.__proto__||Object.getPrototypeOf(Yu)).call(this)),e=void 0;for(e in s.nativeMediaSource_=new y.MediaSource,s.nativeMediaSource_)e in Yu.prototype||"function"!=typeof s.nativeMediaSource_[e]||(s[e]=s.nativeMediaSource_[e].bind(s.nativeMediaSource_));return s.duration_=NaN,Object.defineProperty(s,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(e){(this.duration_=e)===1/0||(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(s,"seekable",{get:function(){return this.duration_===1/0?rs.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(s,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(s,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),s.sourceBuffers=[],s.activeSourceBuffers_=[],s.updateActiveSourceBuffers_=function(){if(s.activeSourceBuffers_.length=0,1===s.sourceBuffers.length){var e=s.sourceBuffers[0];return e.appendAudioInitSegment_=!0,e.audioDisabled_=!e.audioCodec_,void s.activeSourceBuffers_.push(e)}for(var i=!1,n=!0,t=0;t<s.player_.audioTracks().length;t++){var r=s.player_.audioTracks()[t];if(r.enabled&&"main"!==r.kind){n=!(i=!0);break}}s.sourceBuffers.forEach(function(e,t){if(e.appendAudioInitSegment_=!0,e.videoCodec_&&e.audioCodec_)e.audioDisabled_=i;else if(e.videoCodec_&&!e.audioCodec_)e.audioDisabled_=!0,n=!1;else if(!e.videoCodec_&&e.audioCodec_&&(e.audioDisabled_=t?n:!n,e.audioDisabled_))return;s.activeSourceBuffers_.push(e)})},s.onPlayerMediachange_=function(){s.sourceBuffers.forEach(function(e){e.appendAudioInitSegment_=!0})},s.onHlsReset_=function(){s.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.postMessage({action:"resetCaptions"})})},s.onHlsSegmentTimeMapping_=function(t){s.sourceBuffers.forEach(function(e){return e.timeMapping_=t.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))},s),s.on("sourceopen",function(e){var t=h.querySelector('[src="'+s.url_+'"]');t&&(s.player_=rs(t.parentNode),s.player_&&(s.player_.tech_.on("hls-reset",s.onHlsReset_),s.player_.tech_.on("hls-segment-time-mapping",s.onHlsSegmentTimeMapping_),s.player_.audioTracks&&s.player_.audioTracks()&&(s.player_.audioTracks().on("change",s.updateActiveSourceBuffers_),s.player_.audioTracks().on("addtrack",s.updateActiveSourceBuffers_),s.player_.audioTracks().on("removetrack",s.updateActiveSourceBuffers_)),s.player_.on("mediachange",s.onPlayerMediachange_)))}),s.on("sourceended",function(e){for(var t=vu(s.duration),i=0;i<s.sourceBuffers.length;i++){var n=s.sourceBuffers[i],r=n.metadataTrack_&&n.metadataTrack_.cues;r&&r.length&&(r[r.length-1].endTime=t)}}),s.on("sourceclose",function(e){this.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_&&this.player_.tech_.el_&&(this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),s}var $u=0;rs.mediaSources={};function Qu(e,t){var i=rs.mediaSources[e];if(!i)throw new Error("Media Source not found (Video.js)");i.trigger({type:"sourceopen",swfId:t})}function Ju(){return!!y.MediaSource&&!!y.MediaSource.isTypeSupported&&y.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')}function Zu(){if(this.MediaSource={open:Qu,supportsNativeMediaSources:Ju},Ju())return new Xu;throw new Error("Cannot use create a virtual MediaSource for this video")}Zu.open=Qu,Zu.supportsNativeMediaSources=Ju;var el={createObjectURL:function(e){var t=void 0;return e instanceof Xu?(t=y.URL.createObjectURL(e.nativeMediaSource_),e.url_=t):e instanceof Xu?(t="blob:vjs-media-source/"+$u,$u++,rs.mediaSources[t]=e,t):(t=y.URL.createObjectURL(e),e.url_=t)}};rs.MediaSource=Zu,rs.URL=el;function tl(e,t){for(var a=void 0,o=sl(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod}),i=0;i<t.playlists.length;i++){var n=Ro(o,t.playlists[i]);n?o=n:a=!0}return Do(t,function(e,t,i,n){if(e.playlists&&e.playlists.length){var r=e.playlists[0].uri,s=Ro(o,e.playlists[0]);s&&((o=s).mediaGroups[t][i][n].playlists[0]=o.playlists[r],a=!1)}}),a?null:o}function il(e){var t=e.byterange.offset+e.byterange.length-1;return e.uri+"-"+e.byterange.offset+"-"+t}function nl(e,t){var i,n,r={};for(var s in e){var a=e[s].sidx;if(a){var o=il(a);if(!t[o])break;var u=t[o].sidxInfo;i=u,n=a,(Boolean(!i.map&&!n.map)||Boolean(i.map&&n.map&&i.map.byterange.offset===n.map.byterange.offset&&i.map.byterange.length===n.map.byterange.length))&&i.uri===n.uri&&i.byterange.offset===n.byterange.offset&&i.byterange.length===n.byterange.length&&(r[o]=t[o])}}return r}function rl(e,t,i,n,r){var s={uri:Lo(n.handleManifestRedirects,e.resolvedUri),byterange:e.byterange,playlist:t};return i(rs.mergeOptions(s,{responseType:"arraybuffer",headers:iu(s)}),r)}var sl=rs.mergeOptions,al=(xo(ol,rs.EventTarget),Ao(ol,[{key:"setupChildLoader",value:function(e,t){this.masterPlaylistLoader_=e,this.childPlaylist_=t}},{key:"dispose",value:function(){this.stopRequest(),this.loadedPlaylists_={},y.clearTimeout(this.minimumUpdatePeriodTimeout_),y.clearTimeout(this.mediaRequest_),y.clearTimeout(this.mediaUpdateTimeout)}},{key:"hasPendingRequest",value:function(){return this.request||this.mediaRequest_}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"sidxRequestFinished_",value:function(r,s,a,o){var u=this;return function(e,t){if(u.request){if(u.request=null,e)return u.error={status:t.status,message:"DASH playlist request error at URL: "+r.uri,response:t.response,code:2},a&&(u.state=a),u.trigger("error"),o(s,null);var i=new Uint8Array(t.response),n=va.parseSidx(i.subarray(8));return o(s,n)}}}},{key:"media",value:function(i){var n=this;if(!i)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var r=this.state;if("string"==typeof i){if(!this.master.playlists[i])throw new Error("Unknown playlist URI: "+i);i=this.master.playlists[i]}var e=!this.media_||i.uri!==this.media_.uri;if(e&&this.loadedPlaylists_[i.uri]&&this.loadedPlaylists_[i.uri].endList)return this.state="HAVE_METADATA",this.media_=i,void(e&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(e)if(this.media_&&this.trigger("mediachanging"),i.sidx){var t=void 0,s=void 0;s=this.masterPlaylistLoader_?(t=this.masterPlaylistLoader_.master,this.masterPlaylistLoader_.sidxMapping_):(t=this.master,this.sidxMapping_);var a=il(i.sidx);s[a]={sidxInfo:i.sidx},this.request=rl(i.sidx,i,this.hls_.xhr,{handleManifestRedirects:this.handleManifestRedirects},this.sidxRequestFinished_(i,t,r,function(e,t){if(!e||!t)throw new Error("failed to request sidx");s[a].sidx=t,n.haveMetadata({startingState:r,playlist:e.playlists[i.uri]})}))}else this.mediaRequest_=y.setTimeout(this.haveMetadata.bind(this,{startingState:r,playlist:i}),0)}},{key:"haveMetadata",value:function(e){var t=e.startingState,i=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[i.uri]=i,this.mediaRequest_=null,this.refreshMedia_(i.uri),"HAVE_MASTER"===t?this.trigger("loadedmetadata"):this.trigger("mediachange")}},{key:"pause",value:function(){this.stopRequest(),y.clearTimeout(this.mediaUpdateTimeout),y.clearTimeout(this.minimumUpdatePeriodTimeout_),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(e){var t=this;y.clearTimeout(this.mediaUpdateTimeout),y.clearTimeout(this.minimumUpdatePeriodTimeout_);var i=this.media();if(e){var n=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=y.setTimeout(function(){return t.load()},n)}else this.started?this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var s=ea(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_});s.uri=this.srcUrl;for(var e=0;e<s.playlists.length;e++){var t="placeholder-uri-"+e;s.playlists[e].uri=t,s.playlists[t]=s.playlists[e]}return Do(s,function(e,t,i,n){if(e.playlists&&e.playlists.length){var r="placeholder-uri-"+t+"-"+i+"-"+n;e.playlists[0].uri=r,s.playlists[r]=e.playlists[0]}}),Uo(s),Mo(s),s}},{key:"start",value:function(){var i=this;this.started=!0,this.masterPlaylistLoader_?this.mediaRequest_=y.setTimeout(this.haveMaster_.bind(this),0):this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,t){if(i.request){if(i.request=null,e)return i.error={status:t.status,message:"DASH playlist request error at URL: "+i.srcUrl,responseText:t.responseText,code:2},"HAVE_NOTHING"===i.state&&(i.started=!1),i.trigger("error");i.masterXml_=t.responseText,t.responseHeaders&&t.responseHeaders.date?i.masterLoaded_=Date.parse(t.responseHeaders.date):i.masterLoaded_=Date.now(),i.srcUrl=Lo(i.handleManifestRedirects,i.srcUrl,t),i.syncClientServerClock_(i.onClientServerClockSync_.bind(i))}})}},{key:"syncClientServerClock_",value:function(n){var r=this,s=ta(this.masterXml_);return null===s?(this.clientOffset_=this.masterLoaded_-Date.now(),n()):"DIRECT"===s.method?(this.clientOffset_=s.value-Date.now(),n()):void(this.request=this.hls_.xhr({uri:wo(this.srcUrl,s.value),method:s.method,withCredentials:this.withCredentials},function(e,t){if(r.request){if(e)return r.clientOffset_=r.masterLoaded_-Date.now(),n();var i=void 0;i="HEAD"===s.method?t.responseHeaders&&t.responseHeaders.date?Date.parse(t.responseHeaders.date):r.masterLoaded_:Date.parse(t.responseText),r.clientOffset_=i-Date.now(),n()}}))}},{key:"haveMaster_",value:function(){this.state="HAVE_MASTER",this.mediaRequest_=null,this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.master=this.parseMasterXml(),this.trigger("loadedplaylist"))}},{key:"onClientServerClockSync_",value:function(){var e=this;this.haveMaster_(),this.hasPendingRequest()||this.media_||this.media(this.master.playlists[0]),this.master&&this.master.minimumUpdatePeriod&&(this.minimumUpdatePeriodTimeout_=y.setTimeout(function(){e.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod))}},{key:"refreshXml_",value:function(){var o=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,t){if(o.request){if(o.request=null,e)return o.error={status:t.status,message:"DASH playlist request error at URL: "+o.srcUrl,responseText:t.responseText,code:2},"HAVE_NOTHING"===o.state&&(o.started=!1),o.trigger("error");o.masterXml_=t.responseText,o.sidxMapping_=function(e,t,i,s){var n=ea(e,{manifestUri:t,clientOffset:i}),a=nl(n.playlists,s);return Do(n,function(e,t,i,n){if(e.playlists&&e.playlists.length){var r=e.playlists;a=sl(a,nl(r,s))}}),a}(o.masterXml_,o.srcUrl,o.clientOffset_,o.sidxMapping_);var i=o.parseMasterXml(),n=tl(o.master,i),r=o.media().sidx;if(n)if(r){var s=il(r);if(!o.sidxMapping_[s]){var a=o.media();o.request=rl(a.sidx,a,o.hls_.xhr,{handleManifestRedirects:o.handleManifestRedirects},o.sidxRequestFinished_(a,i,o.state,function(e,t){if(!e||!t)throw new Error("failed to request sidx on minimumUpdatePeriod");o.sidxMapping_[s].sidx=t,o.minimumUpdatePeriodTimeout_=y.setTimeout(function(){o.trigger("minimumUpdatePeriod")},o.master.minimumUpdatePeriod),o.refreshMedia_(o.media().uri)}))}}else o.master=n;o.minimumUpdatePeriodTimeout_=y.setTimeout(function(){o.trigger("minimumUpdatePeriod")},o.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(e){var t=this;if(!e)throw new Error("refreshMedia_ must take a media uri");var i=void 0,n=void 0;n=this.masterPlaylistLoader_?(i=this.masterPlaylistLoader_.master,this.masterPlaylistLoader_.parseMasterXml()):(i=this.master,this.parseMasterXml());var r=tl(i,n);r?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=r:this.master=r,this.media_=r.playlists[e]):(this.media_=n.playlists[e],this.trigger("playlistunchanged")),this.media().endList||(this.mediaUpdateTimeout=y.setTimeout(function(){t.trigger("mediaupdatetimeout")},No(this.media(),!!r))),this.trigger("loadedplaylist")}}]),ol);function ol(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3];Po(this,ol);var r=Oo(this,(ol.__proto__||Object.getPrototypeOf(ol)).call(this)),s=i.withCredentials,a=void 0!==s&&s,o=i.handleManifestRedirects,u=void 0!==o&&o;if(r.hls_=t,r.withCredentials=a,r.handleManifestRedirects=u,!e)throw new Error("A non-empty playlist URL or playlist is required");return r.on("minimumUpdatePeriod",function(){r.refreshXml_()}),r.on("mediaupdatetimeout",function(){r.refreshMedia_(r.media().uri)}),r.state="HAVE_NOTHING",r.loadedPlaylists_={},"string"==typeof e?(r.srcUrl=e,r.sidxMapping_={},Oo(r)):(r.setupChildLoader(n,e),r)}function ul(e){return rs.log.debug?rs.log.debug.bind(rs,"VHS:",e+" >"):function(){}}function ll(){}var cl=(Ao(hl,[{key:"createSourceBuffer_",value:function(e,t){var i=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(e),this.logger_("created SourceBuffer"),t&&(t.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?t.on("sourcebufferadded",function(){i.start_()}):this.start_()}},{key:"start_",value:function(){var t=this;this.started_=!0,this.onUpdateendCallback_=function(){var e=t.pendingCallback_;t.pendingCallback_=null,t.sourceBuffer_.removing=!1,t.logger_("buffered ["+fu(t.buffered())+"]"),e&&e(),t.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(e){var t=this;this.processedAppend_&&this.queueCallback_(function(){t.sourceBuffer_.abort()},e)}},{key:"appendBuffer",value:function(e,t){var i=this;this.processedAppend_=!0,this.queueCallback_(function(){e.videoSegmentTimingInfoCallback&&i.sourceBuffer_.addEventListener("videoSegmentTimingInfo",e.videoSegmentTimingInfoCallback),i.sourceBuffer_.appendBuffer(e.bytes)},function(){e.videoSegmentTimingInfoCallback&&i.sourceBuffer_.removeEventListener("videoSegmentTimingInfo",e.videoSegmentTimingInfoCallback),t()})}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:rs.createTimeRanges()}},{key:"remove",value:function(e,t,i){var n=this,r=2<arguments.length&&void 0!==i?i:ll;this.processedAppend_&&this.queueCallback_(function(){n.logger_("remove ["+e+" => "+t+"]"),n.sourceBuffer_.removing=!0,n.sourceBuffer_.remove(e,t)},r)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||!!this.pendingCallback_&&this.pendingCallback_!==ll}},{key:"timestampOffset",value:function(e){var t=this;return"undefined"!=typeof e&&(this.queueCallback_(function(){t.sourceBuffer_.timestampOffset=e,t.runCallback_()}),this.timestampOffset_=e),this.timestampOffset_}},{key:"queueCallback_",value:function(e,t){this.callbacks_.push([e.bind(this),t]),this.runCallback_()}},{key:"runCallback_",value:function(){var e=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(e=this.callbacks_.shift(),this.pendingCallback_=e[1],e[0]())}},{key:"dispose",value:function(){function e(){t.sourceBuffer_&&"open"===t.mediaSource.readyState&&t.sourceBuffer_.abort(),t.sourceBuffer_.removeEventListener("updateend",e)}var t=this;this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_.removing?this.sourceBuffer_.addEventListener("updateend",e):e()}}]),hl);function hl(e,t,i,n){Po(this,hl),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=e,this.processedAppend_=!1,this.type_=i,this.mimeType_=t,this.logger_=ul("SourceUpdater["+i+"]["+t+"]"),"closed"===e.readyState?e.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,t,n)):this.createSourceBuffer_(t,n)}function dl(e){e.forEach(function(e){e.abort()})}function pl(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:kl,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:Cl,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:Sl,xhr:t}:null}function fl(i,n,r){var s=0,a=!1;return function(e,t){if(!a)return e?(a=!0,dl(i),r(e,t)):(s+=1)===i.length?(t.endOfAllRequests=Date.now(),t.encryptedBytes?function(n,r,s){n.addEventListener("message",function e(t){if(t.data.source===r.requestId){n.removeEventListener("message",e);var i=t.data.decrypted;return r.bytes=new Uint8Array(i.bytes,i.byteOffset,i.byteLength),s(null,r)}});var e=void 0;e=r.key.bytes.slice?r.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(r.key.bytes)),n.postMessage(su({source:r.requestId,encrypted:r.encryptedBytes,key:e,iv:r.key.iv}),[r.encryptedBytes.buffer,e.buffer])}(n,t,r):r(null,t)):void 0}}function ml(t,i){return function(e){return t.stats=rs.mergeOptions(t.stats,function(e){var t=e.target,i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return i.bytesReceived=e.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i}(e)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),i(e,t)}}function gl(e,t,i,n,r,s,a){var o=[],u=fl(o,i,a);if(r.key&&!r.key.bytes){var l=e(rs.mergeOptions(t,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),function(s,a){return function(e,t){var i=t.response,n=pl(e,t);if(n)return a(n,s);if(16!==i.byteLength)return a({status:t.status,message:"Invalid HLS key at URL: "+t.uri,code:Sl,xhr:t},s);var r=new DataView(i);return s.key.bytes=new Uint32Array([r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12)]),a(null,s)}}(r,u));o.push(l)}if(r.map&&!r.map.bytes){var c=e(rs.mergeOptions(t,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:iu(r.map)}),function(r,s,a){return function(e,t){var i=t.response,n=pl(e,t);return n?a(n,r):0===i.byteLength?a({status:t.status,message:"Empty HLS segment content at URL: "+t.uri,code:Sl,xhr:t},r):(r.map.bytes=new Uint8Array(t.response),s&&!s.isInitialized()&&s.init(),r.map.timescales=Ta.timescale(r.map.bytes),r.map.videoTrackIds=Ta.videoTrackIds(r.map.bytes),a(null,r))}}(r,n,u));o.push(c)}var h=e(rs.mergeOptions(t,{uri:r.resolvedUri,responseType:"arraybuffer",headers:iu(r)}),function(s,a,o){return function(e,t){var i=t.response,n=pl(e,t),r=void 0;return n?o(n,s):0===i.byteLength?o({status:t.status,message:"Empty HLS segment content at URL: "+t.uri,code:Sl,xhr:t},s):(s.stats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}}(t),s.key?s.encryptedBytes=new Uint8Array(t.response):s.bytes=new Uint8Array(t.response),a&&s.map&&s.map.bytes&&(a.isInitialized()||a.init(),(r=a.parse(s.bytes,s.map.videoTrackIds,s.map.timescales))&&r.captions&&(s.captionStreams=r.captionStreams,s.fmp4Captions=r.captions)),o(null,s))}}(r,n,u));return h.addEventListener("progress",ml(r,s)),o.push(h),function(){return dl(o)}}function vl(e,t){var i;return e&&(i=y.getComputedStyle(e))?i[t]:""}function yl(e,n){var r=e.slice();e.sort(function(e,t){var i=n(e,t);return 0===i?r.indexOf(e)-r.indexOf(t):i})}function _l(e,t){var i=void 0,n=void 0;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||y.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),i-(n=n||y.Number.MAX_VALUE)}function bl(e){return"number"==typeof e&&isFinite(e)}var Tl={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},Sl=2,kl=-101,Cl=-102,El=(xo(wl,rs.EventTarget),Ao(wl,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_&&this.captionParser_.reset()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(e){return"undefined"!=typeof e&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():rs.createTimeRanges()}},{key:"initSegment",value:function(e,t){var i=1<arguments.length&&void 0!==t&&t;if(!e)return null;var n=au(e),r=this.initSegments_[n];return i&&!r&&e.bytes&&(this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,timescales:e.timescales,videoTrackIds:e.videoTrackIds}),r||e}},{key:"segmentKey",value:function(e,t){var i=1<arguments.length&&void 0!==t&&t;if(!e)return null;var n=ou(e),r=this.keyCache_[n];this.cacheEncryptionKeys_&&i&&!r&&e.bytes&&(this.keyCache_[n]=r={resolvedUri:e.resolvedUri,bytes:e.bytes});var s={resolvedUri:(r||e).resolvedUri};return r&&(s.bytes=r.bytes),s}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new cl(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:{};if(e){var n=this.playlist_,r=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=i,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0});var s=null;if(n&&(n.id?s=n.id:n.uri&&(s=n.uri)),this.logger_("playlist update ["+s+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(n&&n.uri===e.uri){var a=e.mediaSequence-n.mediaSequence;this.logger_("live window shift ["+a+"]"),null!==this.mediaIndex&&(this.mediaIndex-=a),r&&(r.mediaIndex-=a,0<=r.mediaIndex&&(r.segment=e.segments[r.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,e)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(y.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(e,t){this.mimeType_||(this.mimeType_=e,this.sourceBufferEmitter_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(e){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),e),this.captionParser_&&this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(e,t,i){if(this.sourceUpdater_&&this.sourceUpdater_.remove(e,t,i),gu(e,t,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)gu(e,t,this.inbandTextTracks_[n])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&y.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=y.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&y.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=y.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);e&&(this.isEndOfStream_(e.mediaIndex)?this.endOfStream():e.mediaIndex===this.playlist_.segments.length-1&&"ended"===this.mediaSource_.readyState&&!this.seeking_()||(e.timeline!==this.currentTimeline_&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment,this.captionParser_&&this.captionParser_.clearAllCaptions()),this.loadSegment_(e)))}}},{key:"isEndOfStream_",value:function(e,t){return function(e,t,i){if(!e||!t)return!1;var n=i===e.segments.length;return e.endList&&"open"===t.readyState&&n}(1<arguments.length&&void 0!==t?t:this.playlist_,this.mediaSource_,e)&&!this.sourceUpdater_.updating()}},{key:"checkBuffer_",value:function(e,t,i,n,r,s){var a=0,o=void 0;e.length&&(a=e.end(e.length-1));var u=Math.max(0,a-r);if(!t.segments.length)return null;if(u>=this.goalBufferLength_())return null;if(!n&&1<=u)return null;if(null===s)return i=this.getSyncSegmentCandidate_(t),this.generateSegmentInfo_(t,i,null,!0);if(null!==i)return t.segments[i],o=a,this.generateSegmentInfo_(t,i+1,o,!1);if(this.fetchAtBuffer_){var l=Su.getMediaInfoForTime(t,a,s.segmentIndex,s.time);i=l.mediaIndex,o=l.startTime}else{var c=Su.getMediaInfoForTime(t,r,s.segmentIndex,s.time);i=c.mediaIndex,o=c.startTime}return this.generateSegmentInfo_(t,i,o,!1)}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(-1===this.currentTimeline_)return 0;var i=e.segments.map(function(e,t){return{timeline:e.timeline,segmentIndex:t}}).filter(function(e){return e.timeline===t.currentTimeline_});return i.length?i[Math.min(i.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,i,n){if(t<0||t>=e.segments.length)return null;var r=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:r.resolvedUri,mediaIndex:t,isSyncRequest:n,startOfSegment:i,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:r.timeline,duration:r.duration,segment:r}}},{key:"abortRequestEarly_",value:function(e){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return!1;var t=this.currentTime_(),i=e.bandwidth,n=this.pendingSegment_.duration,r=Su.estimateSegmentRequestTime(n,i,this.playlist_,e.bytesReceived),s=function(e,t,i){var n=2<arguments.length&&void 0!==i?i:1;return((e.length?e.end(e.length-1):0)-t)/n}(this.buffered_(),t,this.hls_.tech_.playbackRate())-1;if(r<=s)return!1;var a=function(e){var t=e.master,i=e.currentTime,n=e.bandwidth,r=e.duration,s=e.segmentDuration,a=e.timeUntilRebuffer,o=e.currentTimeline,u=e.syncController,l=t.playlists.filter(function(e){return!Su.isIncompatible(e)}),c=l.filter(Su.isEnabled);c.length||(c=l.filter(function(e){return!Su.isDisabled(e)}));var h=c.filter(Su.hasAttribute.bind(null,"BANDWIDTH")).map(function(e){var t=u.getSyncPoint(e,r,o,i)?1:2;return{playlist:e,rebufferingImpact:Su.estimateSegmentRequestTime(s,n,e)*t-a}}),d=h.filter(function(e){return e.rebufferingImpact<=0});return yl(d,function(e,t){return _l(t.playlist,e.playlist)}),d.length?d[0]:(yl(h,function(e,t){return e.rebufferingImpact-t.rebufferingImpact}),h[0]||null)}({master:this.hls_.playlists.master,currentTime:t,bandwidth:i,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:s,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var o=r-s-a.rebufferingImpact,u=.5;return s<=1/30&&(u=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||o<u)&&(this.bandwidth=a.playlist.attributes.BANDWIDTH*Tl.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(e,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=gl(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(e),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(e){var t=function(e,t,i){var n=void 0;return n=e.length&&0<e.start(0)&&e.start(0)<t?e.start(0):t-30,Math.min(n,t-i)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);0<t&&this.remove(0,t)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,i={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};if(t.key){var n=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);i.key=this.segmentKey(t.key),i.key.iv=n}return t.map&&(i.map=this.initSegment(t.map)),i}},{key:"segmentRequestFinished_",value:function(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),this.pendingSegment_){if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===Cl?void(this.mediaRequestsAborted+=1):(this.pause(),e.code===kl?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),t.key&&this.segmentKey(t.key,!0),this.processSegmentResponse_(t)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(e){var t=this.pendingSegment_;t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,e.fmp4Captions&&(function(e,t,i){for(var n in i)if(!e[n]){t.trigger({type:"usage",name:"hls-608"});var r=t.textTracks().getTrackById(n);e[n]=r||t.addRemoteTextTrack({kind:"captions",id:n,label:n},!1).track}}(this.inbandTextTracks_,this.hls_.tech_,e.captionStreams),function(e){var r=e.inbandTextTracks,t=e.captionArray,s=e.timestampOffset;if(t){var a=window.WebKitDataCue||window.VTTCue;t.forEach(function(e){var t=e.stream,i=e.startTime,n=e.endTime;r[t]&&(i+=s,n+=s,r[t].addCue(new a(i,n,e.text)))})}}({inbandTextTracks:this.inbandTextTracks_,captionArray:e.fmp4Captions,timestampOffset:0}),this.captionParser_&&this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_){var t=this.pendingSegment_,i=t.segment,n=this.syncController_.probeSegmentInfo(t);"undefined"==typeof this.startingMedia_&&n&&(n.containsAudio||n.containsVideo)&&(this.startingMedia_={containsAudio:n.containsAudio,containsVideo:n.containsVideo});var r=function(e,t,i){return"main"===e&&t&&i?i.containsAudio||i.containsVideo?t.containsVideo&&!i.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.containsVideo&&i.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.startingMedia_,n);if(r)return this.error({message:r,blacklistDuration:1/0}),void this.trigger("error");if(t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");if(null!==t.timestampOffset&&t.timestampOffset!==this.sourceUpdater_.timestampOffset()){if(n&&n.segmentTimestampInfo){var s=n.segmentTimestampInfo[0].ptsTime,a=n.segmentTimestampInfo[0].dtsTime;t.timestampOffset-=s-a}this.sourceUpdater_.timestampOffset(t.timestampOffset),this.trigger("timestampoffset")}var o=this.syncController_.mappingForTimeline(t.timeline);if(null!==o&&this.trigger({type:"segmenttimemapping",mapping:o}),this.state="APPENDING",i.map){var u=au(i.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==u){var l=this.initSegment(i.map);this.sourceUpdater_.appendBuffer({bytes:l.bytes},function(){e.activeInitSegmentId_=u})}}t.byteLength=t.bytes.byteLength,"number"==typeof i.start&&"number"==typeof i.end?this.mediaSecondsLoaded+=i.end-i.start:this.mediaSecondsLoaded+=i.duration,this.logger_(function(e){var t=e.segment,i=t.start,n=t.end,r=e.playlist,s=r.mediaSequence,a=r.id,o=r.segments,u=void 0===o?[]:o,l=e.mediaIndex,c=e.timeline;return["appending ["+l+"] of ["+s+", "+(s+u.length)+"] from playlist ["+a+"]","["+i+" => "+n+"] in timeline ["+c+"]"].join(" ")}(t)),this.sourceUpdater_.appendBuffer({bytes:t.bytes,videoSegmentTimingInfoCallback:this.handleVideoSegmentTimingInfo_.bind(this,t.requestId)},this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleVideoSegmentTimingInfo_",value:function(e,t){if(this.pendingSegment_&&e===this.pendingSegment_.requestId){var i=this.pendingSegment_.segment;i.videoTimingInfo||(i.videoTimingInfo={}),i.videoTimingInfo.transmuxerPrependedSeconds=t.videoSegmentTimingInfo.prependedContentDuration||0,i.videoTimingInfo.transmuxedPresentationStart=t.videoSegmentTimingInfo.start.presentation,i.videoTimingInfo.transmuxedPresentationEnd=t.videoSegmentTimingInfo.end.presentation,i.videoTimingInfo.baseMediaDecodeTime=t.videoSegmentTimingInfo.baseMediaDecodeTime}}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,i=null!==this.mediaIndex;this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration?this.resetEverything():(i&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.isEndOfStream_(e.mediaIndex+1,e.playlist)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,n=Math.floor(e.byteLength/i*8*1e3);this.throughput.rate+=(n-t)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(e){if(this.segmentMetadataTrack_){var t=e.segment,i=t.start,n=t.end;if(bl(i)&&bl(n)){gu(i,n,this.segmentMetadataTrack_);var r=y.WebKitDataCue||y.VTTCue,s={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.uri,start:i,end:n},a=new r(i,n,JSON.stringify(s));a.value=s,this.segmentMetadataTrack_.addCue(a)}}}}]),wl);function wl(e){Po(this,wl);var t=Oo(this,(wl.__proto__||Object.getPrototypeOf(wl)).call(this));if(!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");return t.bandwidth=e.bandwidth,t.throughput={rate:0,count:0},t.roundTrip=NaN,t.resetStats_(),t.mediaIndex=null,t.hasPlayed_=e.hasPlayed,t.currentTime_=e.currentTime,t.seekable_=e.seekable,t.seeking_=e.seeking,t.duration_=e.duration,t.mediaSource_=e.mediaSource,t.hls_=e.hls,t.loaderType_=e.loaderType,t.startingMedia_=void 0,t.segmentMetadataTrack_=e.segmentMetadataTrack,t.goalBufferLength_=e.goalBufferLength,t.sourceType_=e.sourceType,t.inbandTextTracks_=e.inbandTextTracks,t.state_="INIT",t.checkBufferTimeout_=null,t.error_=void 0,t.currentTimeline_=-1,t.pendingSegment_=null,t.mimeType_=null,t.sourceUpdater_=null,t.xhrOptions_=null,t.activeInitSegmentId_=null,t.initSegments_={},t.cacheEncryptionKeys_=e.cacheEncryptionKeys,t.keyCache_={},"main"===t.loaderType_?t.captionParser_=new ja:t.captionParser_=null,t.decrypter_=e.decrypter,t.syncController_=e.syncController,t.syncPoint_={segmentIndex:0,time:0},t.syncController_.on("syncinfoupdate",function(){return t.trigger("syncinfoupdate")}),t.mediaSource_.addEventListener("sourceopen",function(){return t.ended_=!1}),t.fetchAtBuffer_=!1,t.logger_=ul("SegmentLoader["+t.loaderType_+"]"),Object.defineProperty(t,"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e)}}),t}function Ll(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))}var Pl=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)})),Al=(xo(Il,El),Ao(Il,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return rs.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,i=e[e.length-1].startTime;return rs.createTimeRanges([[t,i]])}},{key:"initSegment",value:function(e,t){var i=1<arguments.length&&void 0!==t&&t;if(!e)return null;var n=au(e),r=this.initSegments_[n];if(i&&!r&&e.bytes){var s=Pl.byteLength+e.bytes.byteLength,a=new Uint8Array(s);a.set(e.bytes),a.set(Pl,e.bytes.byteLength),this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return r||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){return"undefined"==typeof e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}},{key:"remove",value:function(e,t){gu(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline))return this.syncController_.one("timestampoffset",function(){e.state="READY",e.paused()||e.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(t)}}},{key:"skipEmptySegments_",value:function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var e=this.pendingSegment_,i=e.segment;if("function"!=typeof y.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var n=void 0,r=function(){t.subtitlesTrack_.tech_.off("vttjsloaded",n),t.error({message:"Error loading vtt.js"}),t.state="READY",t.pause(),t.trigger("error")};return n=function(){t.subtitlesTrack_.tech_.off("vttjserror",r),t.handleSegment_()},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",n),void this.subtitlesTrack_.tech_.one("vttjserror",r)}i.requested=!0;try{this.parseVTTCues_(e)}catch(e){return this.error({message:e.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(e,this.syncController_.timelines[e.timeline],this.playlist_),e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");e.byteLength=e.bytes.byteLength,this.mediaSecondsLoaded+=i.duration,e.cues.length&&this.remove(e.cues[0].endTime,e.cues[e.cues.length-1].endTime),e.cues.forEach(function(e){t.subtitlesTrack_.addCue(e)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(t){var e=void 0,i=!1;"function"==typeof y.TextDecoder?e=new y.TextDecoder("utf8"):(e=y.WebVTT.StringDecoder(),i=!0);var n=new y.WebVTT.Parser(y,y.vttjs,e);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},n.oncue=t.cues.push.bind(t.cues),n.ontimestampmap=function(e){return t.timestampmap=e},n.onparsingerror=function(e){rs.log.warn("Error encountered when parsing cues: "+e.message)},t.segment.map){var r=t.segment.map.bytes;i&&(r=Ll(r)),n.parse(r)}var s=t.bytes;i&&(s=Ll(s)),n.parse(s),n.flush()}},{key:"updateTimeMapping_",value:function(e,t,i){var n=e.segment;if(t)if(e.cues.length){var r=e.timestampmap,s=r.MPEGTS/9e4-r.LOCAL+t.mapping;if(e.cues.forEach(function(e){e.startTime+=s,e.endTime+=s}),!i.syncInfo){var a=e.cues[0].startTime,o=e.cues[e.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(a,o-n.duration)}}}else n.empty=!0}}]),Il);function Il(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Po(this,Il);var i=Oo(this,(Il.__proto__||Object.getPrototypeOf(Il)).call(this,e,t));return i.mediaSource_=null,i.subtitlesTrack_=null,i}function xl(e,t){for(var i=e.cues,n=0;n<i.length;n++){var r=i[n];if(t>=r.adStartTime&&t<=r.adEndTime)return r}return null}var Ol=lo,Dl=[{name:"VOD",run:function(e,t,i,n,r){if(i===1/0)return null;return{time:0,segmentIndex:0}}},{name:"ProgramDateTime",run:function(e,t,i,n,r){if(!e.datetimeToDisplayTime)return null;var s=t.segments||[],a=null,o=null;r=r||0;for(var u=0;u<s.length;u++){var l=s[u];if(l.dateTimeObject){var c=l.dateTimeObject.getTime()/1e3+e.datetimeToDisplayTime,h=Math.abs(r-c);if(null!==o&&(0===h||o<h))break;o=h,a={time:c,segmentIndex:u}}}return a}},{name:"Segment",run:function(e,t,i,n,r){var s=t.segments||[],a=null,o=null;r=r||0;for(var u=0;u<s.length;u++){var l=s[u];if(l.timeline===n&&"undefined"!=typeof l.start){var c=Math.abs(r-l.start);if(null!==o&&o<c)break;(!a||null===o||c<=o)&&(o=c,a={time:l.start,segmentIndex:u})}}return a}},{name:"Discontinuity",run:function(e,t,i,n,r){var s=null;if(r=r||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=null,o=0;o<t.discontinuityStarts.length;o++){var u=t.discontinuityStarts[o],l=t.discontinuitySequence+o+1,c=e.discontinuities[l];if(c){var h=Math.abs(r-c.time);if(null!==a&&a<h)break;(!s||null===a||h<=a)&&(a=h,s={time:c.time,segmentIndex:u})}}return s}},{name:"Playlist",run:function(e,t,i,n,r){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}:null}}],Rl=(xo(Ul,rs.EventTarget),Ao(Ul,[{key:"getSyncPoint",value:function(e,t,i,n){var r=this.runStrategies_(e,t,i,n);return r.length?this.selectSyncPoint_(r,{key:"time",value:n}):null}},{key:"getExpiredTime",value:function(e,t){if(!e||!e.segments)return null;var i=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!i.length)return null;var n=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return 0<n.segmentIndex&&(n.time*=-1),Math.abs(n.time+zo(e,n.segmentIndex,0))}},{key:"runStrategies_",value:function(e,t,i,n){for(var r=[],s=0;s<Dl.length;s++){var a=Dl[s],o=a.run(this,e,t,i,n);o&&(o.strategy=a.name,r.push({strategy:a.name,syncPoint:o}))}return r}},{key:"selectSyncPoint_",value:function(e,t){for(var i=e[0].syncPoint,n=Math.abs(e[0].syncPoint[t.key]-t.value),r=e[0].strategy,s=1;s<e.length;s++){var a=Math.abs(e[s].syncPoint[t.key]-t.value);a<n&&(n=a,i=e[s].syncPoint,r=e[s].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+r+"]: [time:"+i.time+", segmentIndex:"+i.segmentIndex+"]"),i}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var i=t.mediaSequence-e.mediaSequence-1;0<=i;i--){var n=e.segments[i];if(n&&"undefined"!=typeof n.start){t.syncInfo={mediaSequence:e.mediaSequence+i,time:n.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){if(!this.datetimeToDisplayTime&&e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(e){var t=e.segment,i=e.playlist,n=void 0;return(n=t.map?this.probeMp4Segment_(e):this.probeTsSegment_(e))&&this.calculateSegmentTimeMapping_(e,n)&&(this.saveDiscontinuitySyncInfo_(e),i.syncInfo||(i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:t.start})),n}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,i=Ta.timescale(t.map.bytes),n=Ta.compositionStartTime(i,e.bytes);return null!==e.timestampOffset&&(e.timestampOffset-=n),{start:n,end:n+t.duration}}},{key:"probeTsSegment_",value:function(e){var t=Ol(e.bytes,this.inspectCache_),i=void 0,n=void 0,r=void 0;return t?(t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,i=t.video[0].dtsTime,n=t.video[1].dtsTime,r=t.video):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,i=t.audio[0].dtsTime,n=t.audio[1].dtsTime,r=t.audio),{segmentTimestampInfo:r,start:i,end:n,containsVideo:t.video&&2===t.video.length,containsAudio:t.audio&&2===t.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(e){return"undefined"==typeof this.timelines[e]?null:this.timelines[e].time}},{key:"mappingForTimeline",value:function(e){return"undefined"==typeof this.timelines[e]?null:this.timelines[e].mapping}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var i=e.segment,n=this.timelines[e.timeline];if(null!==e.timestampOffset)n={time:e.startOfSegment,mapping:e.startOfSegment-t.start},this.timelines[e.timeline]=n,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+n.time+"] [mapping: "+n.mapping+"]"),i.start=e.startOfSegment,i.end=t.end+n.mapping;else{if(!n)return!1;i.start=t.start+n.mapping,i.end=t.end+n.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,i=e.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var n=0;n<t.discontinuityStarts.length;n++){var r=t.discontinuityStarts[n],s=t.discontinuitySequence+n+1,a=r-e.mediaIndex,o=Math.abs(a);if(!this.discontinuities[s]||this.discontinuities[s].accuracy>o){var u=void 0;u=a<0?i.start-zo(t,e.mediaIndex,r):i.end+zo(t,e.mediaIndex+1,r),this.discontinuities[s]={time:u,accuracy:o}}}}}]),Ul);function Ul(){Po(this,Ul);var e=Oo(this,(Ul.__proto__||Object.getPrototypeOf(Ul)).call(this));return e.inspectCache_=void 0,e.timelines=[],e.discontinuities=[],e.datetimeToDisplayTime=null,e.logger_=ul("SyncController"),e}function Ml(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)}function Nl(e,t){(t.activePlaylistLoader=e).load()}function Bl(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){Vl[e](e,t)});var i=t.mediaTypes,e=t.masterPlaylistLoader,n=t.tech,r=t.hls;["AUDIO","SUBTITLES"].forEach(function(e){i[e].activeGroup=function(s,a){return function(t){var e=a.masterPlaylistLoader,i=a.mediaTypes[s].groups,n=e.media();if(!n)return null;var r=null;return n.attributes[s]&&(r=i[n.attributes[s]]),r=r||i.main,"undefined"==typeof t?r:null===t?null:r.filter(function(e){return e.id===t.id})[0]||null}}(e,t),i[e].activeTrack=ql[e](e,t),i[e].onGroupChanged=function(o,u){return function(){var e=u.segmentLoaders,t=e[o],i=e.main,n=u.mediaTypes[o],r=n.activeTrack(),s=n.activeGroup(r),a=n.activePlaylistLoader;Ml(t,n),s&&(s.playlistLoader?(t.resyncLoader(),Nl(s.playlistLoader,n)):a&&i.resetEverything())}}(e,t),i[e].onTrackChanged=function(o,u){return function(){var e=u.segmentLoaders,t=e[o],i=e.main,n=u.mediaTypes[o],r=n.activeTrack(),s=n.activeGroup(r),a=n.activePlaylistLoader;Ml(t,n),s&&(s.playlistLoader?(a!==s.playlistLoader&&(t.track&&t.track(r),t.resetEverything()),Nl(s.playlistLoader,n)):i.resetEverything())}}(e,t)});var s=i.AUDIO.activeGroup(),a=(s.filter(function(e){return e.default})[0]||s[0]).id;function o(){i.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"hls-audio-change"})}for(var u in i.AUDIO.tracks[a].enabled=!0,i.AUDIO.onTrackChanged(),e.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(e){return i[e].onGroupChanged()})}),n.audioTracks().addEventListener("change",o),n.remoteTextTracks().addEventListener("change",i.SUBTITLES.onTrackChanged),r.on("dispose",function(){n.audioTracks().removeEventListener("change",o),n.remoteTextTracks().removeEventListener("change",i.SUBTITLES.onTrackChanged)}),n.clearTracks("audio"),i.AUDIO.tracks)n.audioTracks().addTrack(i.AUDIO.tracks[u])}var jl=new Ou("./decrypter-worker.worker.js",function(e,t){var i,c,g,n,r,u,a,s=this;i=function(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),e},c=null,d.prototype.decrypt=function(e,t,i,n,r,s){var a=this._key[1],o=e^a[0],u=n^a[1],l=i^a[2],c=t^a[3],h=void 0,d=void 0,p=void 0,f=a.length/4-2,m=void 0,g=4,v=this._tables[1],y=v[0],_=v[1],b=v[2],T=v[3],S=v[4];for(m=0;m<f;m++)h=y[o>>>24]^_[u>>16&255]^b[l>>8&255]^T[255&c]^a[g],d=y[u>>>24]^_[l>>16&255]^b[c>>8&255]^T[255&o]^a[g+1],p=y[l>>>24]^_[c>>16&255]^b[o>>8&255]^T[255&u]^a[g+2],c=y[c>>>24]^_[o>>16&255]^b[u>>8&255]^T[255&l]^a[g+3],g+=4,o=h,u=d,l=p;for(m=0;m<4;m++)r[(3&-m)+s]=S[o>>>24]<<24^S[u>>16&255]<<16^S[l>>8&255]<<8^S[255&c]^a[g++],h=o,o=u,u=l,l=c,c=h},g=d,l.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},l.prototype.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e].splice(i,1),-1<i},l.prototype.trigger=function(e,t){var i=this.listeners[e];if(i)if(2===arguments.length)for(var n=i.length,r=0;r<n;++r)i[r].call(this,t);else for(var s=Array.prototype.slice.call(arguments,1),a=i.length,o=0;o<a;++o)i[o].apply(this,s)},l.prototype.dispose=function(){this.listeners={}},l.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,r=n=l),p.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},p.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},u=p,f.prototype.decryptChunk_=function(t,i,n,r){return function(){var e=function(e,t,i){var n=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),r=new g(Array.prototype.slice.call(t)),s=new Uint8Array(e.byteLength),a=new Int32Array(s.buffer),o=void 0,u=void 0,l=void 0,c=void 0,h=void 0,d=void 0,p=void 0,f=void 0,m=void 0;for(o=i[0],u=i[1],l=i[2],c=i[3],m=0;m<n.length;m+=4)h=v(n[m]),d=v(n[m+1]),p=v(n[m+2]),f=v(n[m+3]),r.decrypt(h,d,p,f,a,m),a[m]=v(a[m]^o),a[m+1]=v(a[m+1]^u),a[m+2]=v(a[m+2]^l),a[m+3]=v(a[m+3]^c),o=h,u=d,l=p,c=f;return s}(t,i,n);r.set(e,t.byteOffset)}},i(f,null,[{key:"STEP",get:function(){return 32e3}}]),a=f,new function(s){s.onmessage=function(e){var i=e.data,t=new Uint8Array(i.encrypted.bytes,i.encrypted.byteOffset,i.encrypted.byteLength),n=new Uint32Array(i.key.bytes,i.key.byteOffset,i.key.byteLength/4),r=new Uint32Array(i.iv.bytes,i.iv.byteOffset,i.iv.byteLength/4);new a(t,n,r,function(e,t){s.postMessage(function(i){var n={};return Object.keys(i).forEach(function(e){var t=i[e];ArrayBuffer.isView(t)?n[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:n[e]=t}),n}({source:i.source,decrypted:t}),[t.buffer])})}}(s);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){h(this,d),c=c||function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],i=e[1],n=t[4],r=i[4],s=void 0,a=void 0,o=void 0,u=[],l=[],c=void 0,h=void 0,d=void 0,p=void 0,f=void 0;for(s=0;s<256;s++)l[(u[s]=s<<1^283*(s>>7))^s]=s;for(a=o=0;!n[a];a^=c||1,o=l[o]||1)for(d=(d=o^o<<1^o<<2^o<<3^o<<4)>>8^255&d^99,f=16843009*u[h=u[c=u[r[n[a]=d]=a]]]^65537*h^257*c^16843008*a,p=257*u[d]^16843008*d,s=0;s<4;s++)t[s][a]=p=p<<24^p>>>8,i[s][d]=f=f<<24^f>>>8;for(s=0;s<5;s++)t[s]=t[s].slice(0),i[s]=i[s].slice(0);return e}(),this._tables=[[c[0][0].slice(),c[0][1].slice(),c[0][2].slice(),c[0][3].slice(),c[0][4].slice()],[c[1][0].slice(),c[1][1].slice(),c[1][2].slice(),c[1][3].slice(),c[1][4].slice()]];var t=void 0,i=void 0,n=void 0,r=void 0,s=void 0,a=this._tables[0][4],o=this._tables[1],u=e.length,l=1;if(4!==u&&6!==u&&8!==u)throw new Error("Invalid aes key size");for(r=e.slice(0),s=[],this._key=[r,s],t=u;t<4*u+28;t++)n=r[t-1],(t%u==0||8===u&&t%u==4)&&(n=a[n>>>24]<<24^a[n>>16&255]<<16^a[n>>8&255]<<8^a[255&n],t%u==0&&(n=n<<8^n>>>24^l<<24,l=l<<1^283*(l>>7))),r[t]=r[t-u]^n;for(i=0;t;i++,t--)n=r[3&i?t:t-4],s[i]=t<=4||i<4?n:o[0][a[n>>>24]]^o[1][a[n>>16&255]]^o[2][a[n>>8&255]]^o[3][a[255&n]]}function l(){h(this,l),this.listeners={}}function p(){h(this,p);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.call(this,n));return e.jobs=[],e.delay=1,e.timeout_=null,e}function v(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}function f(e,t,i,n){h(this,f);var r=f.STEP,s=new Int32Array(e.buffer),a=new Uint8Array(e.byteLength),o=0;for(this.asyncStream_=new u,this.asyncStream_.push(this.decryptChunk_(s.subarray(o,o+r),t,i,a)),o=r;o<s.length;o+=r)i=new Uint32Array([v(s[o-4]),v(s[o-3]),v(s[o-2]),v(s[o-1])]),this.asyncStream_.push(this.decryptChunk_(s.subarray(o,o+r),t,i,a));this.asyncStream_.push(function(){n(null,function(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}(a))})}}),Fl={AUDIO:function(u,l){return function(){var e=l.segmentLoaders[u],t=l.mediaTypes[u],i=l.blacklistCurrentPlaylist;Ml(e,t);var n=t.activeTrack(),r=t.activeGroup(),s=(r.filter(function(e){return e.default})[0]||r[0]).id,a=t.tracks[s];if(n!==a){for(var o in rs.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),t.tracks)t.tracks[o].enabled=t.tracks[o]===a;t.onTrackChanged()}else i({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(n,r){return function(){var e=r.segmentLoaders[n],t=r.mediaTypes[n];rs.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Ml(e,t);var i=t.activeTrack();i&&(i.mode="disabled"),t.onTrackChanged()}}},Hl={AUDIO:function(e,t,i){if(t){var n=i.tech,r=i.requestOptions,s=i.segmentLoaders[e];t.on("loadedmetadata",function(){var e=t.media();s.playlist(e,r),(!n.paused()||e.endList&&"none"!==n.preload())&&s.load()}),t.on("loadedplaylist",function(){s.playlist(t.media(),r),n.paused()||s.load()}),t.on("error",Fl[e](e,i))}},SUBTITLES:function(e,t,i){var n=i.tech,r=i.requestOptions,s=i.segmentLoaders[e],a=i.mediaTypes[e];t.on("loadedmetadata",function(){var e=t.media();s.playlist(e,r),s.track(a.activeTrack()),(!n.paused()||e.endList&&"none"!==n.preload())&&s.load()}),t.on("loadedplaylist",function(){s.playlist(t.media(),r),n.paused()||s.load()}),t.on("error",Fl[e](e,i))}},Vl={AUDIO:function(e,t){var i,n,r=t.hls,s=t.sourceType,a=t.segmentLoaders[e],o=t.requestOptions,u=t.master.mediaGroups,l=t.mediaTypes[e],c=l.groups,h=l.tracks,d=t.masterPlaylistLoader;for(var p in u[e]&&0!==Object.keys(u[e]).length||(u[e]={main:{default:{default:!0}}}),u[e])for(var f in c[p]||(c[p]=[]),u[e][p]){var m=u[e][p][f],g=void 0;if(g=m.resolvedUri?new Ho(m.resolvedUri,r,o):m.playlists&&"dash"===s?new al(m.playlists[0],r,o,d):null,m=rs.mergeOptions({id:f,playlistLoader:g},m),Hl[e](e,m.playlistLoader,t),c[p].push(m),"undefined"==typeof h[f]){var v=new rs.AudioTrack({id:f,kind:(i=m,n=void 0,n=i.default?"main":"alternative",i.characteristics&&0<=i.characteristics.indexOf("public.accessibility.describes-video")&&(n="main-desc"),n),enabled:!1,language:m.language,default:m.default,label:f});h[f]=v}}a.on("error",Fl[e](e,t))},SUBTITLES:function(e,t){var i=t.tech,n=t.hls,r=t.sourceType,s=t.segmentLoaders[e],a=t.requestOptions,o=t.master.mediaGroups,u=t.mediaTypes[e],l=u.groups,c=u.tracks,h=t.masterPlaylistLoader;for(var d in o[e])for(var p in l[d]||(l[d]=[]),o[e][d])if(!o[e][d][p].forced){var f=o[e][d][p],m=void 0;if("hls"===r?m=new Ho(f.resolvedUri,n,a):"dash"===r&&(m=new al(f.playlists[0],n,a,h)),f=rs.mergeOptions({id:p,playlistLoader:m},f),Hl[e](e,f.playlistLoader,t),l[d].push(f),"undefined"==typeof c[p]){var g=i.addRemoteTextTrack({id:p,kind:"subtitles",default:f.default&&f.autoselect,language:f.language,label:p},!1).track;c[p]=g}}s.on("error",Fl[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var i=t.tech,n=t.master.mediaGroups,r=t.mediaTypes[e],s=r.groups,a=r.tracks;for(var o in n[e])for(var u in s[o]||(s[o]=[]),n[e][o]){var l=n[e][o][u];if(l.instreamId.match(/CC\d/)&&(s[o].push(rs.mergeOptions({id:u},l)),"undefined"==typeof a[u])){var c=i.addRemoteTextTrack({id:l.instreamId,kind:"captions",default:l.default&&l.autoselect,language:l.language,label:u},!1).track;a[u]=c}}}},ql={AUDIO:function(i,n){return function(){var e=n.mediaTypes[i].tracks;for(var t in e)if(e[t].enabled)return e[t];return null}},SUBTITLES:function(i,n){return function(){var e=n.mediaTypes[i].tracks;for(var t in e)if("showing"===e[t].mode)return e[t];return null}}},Wl=void 0,zl=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],Gl=(xo(Kl,rs.EventTarget),Ao(Kl,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var n=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=n.masterPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;eu(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=t,e.endList&&"none"!==n.tech_.preload()&&(n.mainSegmentLoader_.playlist(e,n.requestOptions_),n.mainSegmentLoader_.load()),Bl({sourceType:n.sourceType_,segmentLoaders:{AUDIO:n.audioSegmentLoader_,SUBTITLES:n.subtitleSegmentLoader_,main:n.mainSegmentLoader_},tech:n.tech_,requestOptions:n.requestOptions_,masterPlaylistLoader:n.masterPlaylistLoader_,hls:n.hls_,master:n.master(),mediaTypes:n.mediaTypes_,blacklistCurrentPlaylist:n.blacklistCurrentPlaylist.bind(n)}),n.triggerPresenceUsage_(n.master(),e);try{n.setupSourceBuffers_()}catch(e){return rs.log.warn("Failed to create SourceBuffers",e),n.mediaSource.endOfStream("decode")}n.setupFirstPlay(),!n.mediaTypes_.AUDIO.activePlaylistLoader||n.mediaTypes_.AUDIO.activePlaylistLoader.media()?n.trigger("selectedinitialmedia"):n.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){n.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var e=n.masterPlaylistLoader_.media();if(!e){n.excludeUnsupportedVariants_();var t=void 0;return n.enableLowInitialPlaylist&&(t=n.selectInitialPlaylist()),t=t||n.selectPlaylist(),n.initialMedia_=t,void n.masterPlaylistLoader_.media(n.initialMedia_)}if(n.useCueTags_&&n.updateAdCues_(e),n.mainSegmentLoader_.playlist(e,n.requestOptions_),n.updateDuration(),n.tech_.paused()||(n.mainSegmentLoader_.load(),n.audioSegmentLoader_&&n.audioSegmentLoader_.load()),!e.endList){var i=function(){var e=n.seekable();0!==e.length&&n.mediaSource.addSeekableRange_(e.start(0),e.end(0))};n.duration()!==1/0?n.tech_.one("durationchange",function e(){n.duration()===1/0?i():n.tech_.one("durationchange",e)}):i()}}),this.masterPlaylistLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){n.mainSegmentLoader_.abort(),n.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var e=n.masterPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;eu(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=t,n.mainSegmentLoader_.playlist(e,n.requestOptions_),n.mainSegmentLoader_.load(),n.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var e=n.masterPlaylistLoader_.media();n.stuckAtPlaylistEnd_(e)&&(n.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),n.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){n.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){n.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(e,t){var i=e.mediaGroups||{},n=!0,r=Object.keys(i.AUDIO);for(var s in i.AUDIO)for(var a in i.AUDIO[s])i.AUDIO[s][a].uri||(n=!1);n&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),Wl.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),Wl.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.length&&1<Object.keys(i.AUDIO[r[0]]).length&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var s=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var e=s.selectPlaylist(),t=s.masterPlaylistLoader_.media(),i=s.tech_.buffered(),n=i.length?i.end(i.length-1)-s.tech_.currentTime():0,r=s.bufferLowWaterLine();(!t.endList||s.duration()<Tl.MAX_BUFFER_LOW_WATER_LINE||e.attributes.BANDWIDTH<t.attributes.BANDWIDTH||r<=n)&&s.masterPlaylistLoader_.media(e),s.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){s.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){s.blacklistCurrentPlaylist(s.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){s.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){s.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){s.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){s.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){s.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){s.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(e){s.tech_.trigger({type:"hls-segment-time-mapping",mapping:e.mapping})}),this.audioSegmentLoader_.on("ended",function(){s.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var e=this,t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetEverything(function(){rs.browser.IE_VERSION||rs.browser.IS_EDGE?e.tech_.setCurrentTime(e.tech_.currentTime()+.04):e.tech_.setCurrentTime(e.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.seekTo_(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_())return!1;if(!t.endList){var i=this.seekable();if(!i.length)return!1;if(rs.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.seekTo_(i.end(0)),e.hasPlayed_=function(){return!0}}),!1;this.trigger("firstplay"),this.seekTo_(i.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(e){return rs.log.warn("Failed to create Source Buffers",e),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var e=this.tech_.play();"undefined"!=typeof e&&"function"==typeof e.then&&e.then(null,function(e){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),e){this.logger_("calling mediaSource.endOfStream()");try{this.mediaSource.endOfStream()}catch(e){rs.log.warn("Failed to call media source endOfStream",e)}}}},{key:"stuckAtPlaylistEnd_",value:function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(null===t)return!1;var i=Wl.Playlist.playlistEnd(e,t),n=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return i-n<=.1;var s=r.end(r.length-1);return s-n<=.1&&i-s<=.1}},{key:"blacklistCurrentPlaylist",value:function(e,t){var i,n=0<arguments.length&&void 0!==e?e:{},r=t,s=void 0;if(s=n.playlist||this.masterPlaylistLoader_.media(),r=r||n.blacklistDuration||this.blacklistDuration,!s){this.error=n;try{return this.mediaSource.endOfStream("network")}catch(e){return this.trigger("error")}}var a=1===this.masterPlaylistLoader_.master.playlists.filter(Jo).length,o=this.masterPlaylistLoader_.master.playlists;return 1===o.length?(rs.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(a)):(a&&(rs.log.warn("Removing all playlists from the blacklist because the last rendition is about to be blacklisted."),o.forEach(function(e){e.excludeUntil!==1/0&&delete e.excludeUntil}),this.tech_.trigger("retryplaylist")),s.excludeUntil=Date.now()+1e3*r,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),i=this.selectPlaylist(),rs.log.warn("Problem encountered with the current HLS playlist."+(n.message?" "+n.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(i,a))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=du(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:Wl.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e=void 0,t=void 0;if(this.masterPlaylistLoader_){var i=this.masterPlaylistLoader_.media();if(i){var n=this.syncController_.getExpiredTime(i,this.mediaSource.duration);if(null!==n&&0!==(e=Wl.Playlist.seekable(i,n)).length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(i=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(i,this.mediaSource.duration)))return;if(0===(t=Wl.Playlist.seekable(i,n)).length)return}var r=void 0,s=void 0;this.seekable_&&this.seekable_.length&&(r=this.seekable_.end(0),s=this.seekable_.start(0)),t?t.start(0)>e.end(0)||e.start(0)>t.end(0)?this.seekable_=e:this.seekable_=rs.createTimeRanges([[t.start(0)>e.start(0)?t.start(0):e.start(0),t.end(0)<e.end(0)?t.end(0):e.end(0)]]):this.seekable_=e,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===r&&this.seekable_.start(0)===s||(this.logger_("seekable updated ["+fu(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},{key:"updateDuration",value:function(){function e(){t.logger_("Setting duration from "+t.mediaSource.duration+" => "+n);try{t.mediaSource.duration=n}catch(e){rs.log.warn("Failed to set media source duration",e)}t.tech_.trigger("durationchange"),t.mediaSource.removeEventListener("sourceopen",e)}var t=this,i=this.mediaSource.duration,n=Wl.Playlist.duration(this.masterPlaylistLoader_.media()),r=this.tech_.buffered();0<r.length&&(n=Math.max(n,r.end(r.length-1))),i!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",e):e())}},{key:"dispose",value:function(){var n=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(e){var t=n.mediaTypes_[e].groups;for(var i in t)t[i].forEach(function(e){e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e,t=this.masterPlaylistLoader_.media();if(t&&"open"===this.mediaSource.readyState){if((e=Fu(this.masterPlaylistLoader_.master,t)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+t.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(e),this.excludeIncompatibleVariants_(t)}}},{key:"configureLoaderMimeTypes_",value:function(e){var t=1<e.length&&-1===e[0].indexOf(",")&&e[0]!==e[1]?new rs.EventTarget:null;this.mainSegmentLoader_.mimeType(e[0],t),e[1]&&this.audioSegmentLoader_.mimeType(e[1],t)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(e){e.attributes.CODECS&&y.MediaSource&&y.MediaSource.isTypeSupported&&!y.MediaSource.isTypeSupported('video/mp4; codecs="'+function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e){return Nu([e])[0]})}(e.attributes.CODECS)+'"')&&(e.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(e){var i=2,n=null,t=void 0;e.attributes.CODECS&&(t=Bu(e.attributes.CODECS),n=t.videoCodec,i=t.codecCount),this.master().playlists.forEach(function(e){var t={codecCount:2,videoCodec:null};e.attributes.CODECS&&(t=Bu(e.attributes.CODECS)),t.codecCount!==i&&(e.excludeUntil=1/0),t.videoCodec!==n&&(e.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(e){var t=0,i=this.seekable();i.length&&(t=i.start(0)),function(e,t,i){var n=2<arguments.length&&void 0!==i?i:0;if(e.segments)for(var r=n,s=void 0,a=0;a<e.segments.length;a++){var o=e.segments[a];if(s=s||xl(t,r+o.duration/2)){if("cueIn"in o){s.endTime=r,s.adEndTime=r,r+=o.duration,s=null;continue}if(r<s.endTime){r+=o.duration;continue}s.endTime+=o.duration}else if("cueOut"in o&&((s=new y.VTTCue(r,r+o.duration,o.cueOut)).adStartTime=r,s.adEndTime=r+parseFloat(o.cueOut),t.addCue(s)),"cueOutCont"in o){var u,l,c=o.cueOutCont.split("/").map(parseFloat),h=Bo(c,2);u=h[0],l=h[1],(s=new y.VTTCue(r,r+o.duration,"")).adStartTime=r-u,s.adEndTime=s.adStartTime+l,t.addCue(s)}r+=o.duration}}(e,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var e=this.tech_.currentTime(),t=Tl.GOAL_BUFFER_LENGTH,i=Tl.GOAL_BUFFER_LENGTH_RATE,n=Math.max(t,Tl.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*i,n)}},{key:"bufferLowWaterLine",value:function(){var e=this.tech_.currentTime(),t=Tl.BUFFER_LOW_WATER_LINE,i=Tl.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(t,Tl.MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*i,n)}}]),Kl);function Kl(e){Po(this,Kl);var t=Oo(this,(Kl.__proto__||Object.getPrototypeOf(Kl)).call(this)),i=e.url,n=e.handleManifestRedirects,r=e.withCredentials,s=e.tech,a=e.bandwidth,o=e.externHls,u=e.useCueTags,l=e.blacklistDuration,c=e.enableLowInitialPlaylist,h=e.sourceType,d=e.seekTo,p=e.cacheEncryptionKeys;if(!i)throw new Error("A non-empty playlist URL is required");Wl=o,t.withCredentials=r,t.tech_=s,t.hls_=s.hls,t.seekTo_=d,t.sourceType_=h,t.useCueTags_=u,t.blacklistDuration=l,t.enableLowInitialPlaylist=c,t.useCueTags_&&(t.cueTagsTrack_=t.tech_.addTextTrack("metadata","ad-cues"),t.cueTagsTrack_.inBandMetadataTrackDispatchType=""),t.requestOptions_={withCredentials:r,handleManifestRedirects:n,timeout:null},t.mediaTypes_=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ll,activeTrack:ll,onGroupChanged:ll,onTrackChanged:ll}}),t}(),t.mediaSource=new rs.MediaSource,t.mediaSource.addEventListener("sourceopen",t.handleSourceOpen_.bind(t)),t.seekable_=rs.createTimeRanges(),t.hasPlayed_=function(){return!1},t.syncController_=new Rl(e),t.segmentMetadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,t.decrypter_=new jl,t.inbandTextTracks_={};var f={hls:t.hls_,mediaSource:t.mediaSource,currentTime:t.tech_.currentTime.bind(t.tech_),seekable:function(){return t.seekable()},seeking:function(){return t.tech_.seeking()},duration:function(){return t.mediaSource.duration},hasPlayed:function(){return t.hasPlayed_()},goalBufferLength:function(){return t.goalBufferLength()},bandwidth:a,syncController:t.syncController_,decrypter:t.decrypter_,sourceType:t.sourceType_,inbandTextTracks:t.inbandTextTracks_,cacheEncryptionKeys:p};return t.masterPlaylistLoader_="dash"===t.sourceType_?new al(i,t.hls_,t.requestOptions_):new Ho(i,t.hls_,t.requestOptions_),t.setupMasterPlaylistLoaderListeners_(),t.mainSegmentLoader_=new El(rs.mergeOptions(f,{segmentMetadataTrack:t.segmentMetadataTrack_,loaderType:"main"}),e),t.audioSegmentLoader_=new El(rs.mergeOptions(f,{loaderType:"audio"}),e),t.subtitleSegmentLoader_=new Al(rs.mergeOptions(f,{loaderType:"vtt"}),e),t.setupSegmentLoaderListeners_(),zl.forEach(function(e){t[e+"_"]=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]}.bind(t,e)}),t.logger_=ul("MPC"),t.masterPlaylistLoader_.load(),t}function Xl(e,t,i){Po(this,Xl);var n=e.masterPlaylistController_,r=n[(e.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(n);if(t.attributes.RESOLUTION){var s=t.attributes.RESOLUTION;this.width=s.width,this.height=s.height}this.bandwidth=t.attributes.BANDWIDTH,this.id=i,this.enabled=function(r,s,a){return function(e){var t=r.master.playlists[s],i=Qo(t),n=Jo(t);return"undefined"==typeof e?n:(e?delete t.disabled:t.disabled=!0,e===n||i||(a(),e?r.trigger("renditionenabled"):r.trigger("renditiondisabled")),e)}}(e.playlists,t.uri,r)}var Yl=["seeking","seeked","pause","playing","error"],$l=(Ao(Ql,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&y.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=y.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+.1>=t.end(t.length-1)))return this.techWaiting_();5<=this.consecutiveUpdates&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){if(!this.tech_.seeking())return!1;var e=this.seekable(),t=this.tech_.currentTime(),i=void 0;return this.afterSeekableWindow_(e,t,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(i=e.end(e.length-1)),this.beforeSeekableWindow_(e,t)&&(i=e.start(0)+.1),"undefined"!=typeof i&&(this.logger_("Trying to seek outside of seekable at time "+t+" with seekable range "+fu(e)+". Seeking to "+i+"."),this.seekTo(i),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),i=du(t,e);return i.length&&e+3<=i.end(0)?(this.cancelTimer_(),this.seekTo(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+i.start(0)+" -> "+i.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var i=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+i),this.cancelTimer_(),this.seekTo(i),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var n=this.tech_.buffered(),r=pu(n,t);if(this.videoUnderflow_(r,n,t))return this.cancelTimer_(),this.seekTo(t),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(0<r.length){var s=r.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+s+", seeking to "+r.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*s,t),!0}return!1}},{key:"afterSeekableWindow_",value:function(e,t,i,n){var r=3<arguments.length&&void 0!==n&&n;if(!e.length)return!1;var s=e.end(e.length-1)+.1;return!i.endList&&r&&(s=e.end(e.length-1)+3*i.targetDuration),s<t}},{key:"beforeSeekableWindow_",value:function(e,t){return!!(e.length&&0<e.start(0)&&t<e.start(0)-.1)}},{key:"videoUnderflow_",value:function(e,t,i){if(0===e.length){var n=this.gapFromVideoUnderflow_(t,i);if(n)return this.logger_("Encountered a gap in video from "+n.start+" to "+n.end+". Seeking to current time "+i),!0}return!1}},{key:"skipTheGap_",value:function(e){var t=this.tech_.buffered(),i=this.tech_.currentTime(),n=pu(t,i);this.cancelTimer_(),0!==n.length&&i===e&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",e,"nextRange start:",n.start(0)),this.seekTo(n.start(0)+1/30),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(e,t){for(var i=function(e){if(e.length<2)return rs.createTimeRanges();for(var t=[],i=1;i<e.length;i++){var n=e.end(i-1),r=e.start(i);t.push([n,r])}return rs.createTimeRanges(t)}(e),n=0;n<i.length;n++){var r=i.start(n),s=i.end(n);if(t-r<4&&2<t-r)return{start:r,end:s}}return null}}]),Ql);function Ql(e){var t=this;Po(this,Ql),this.tech_=e.tech,this.seekable=e.seekable,this.seekTo=e.seekTo,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=ul("PlaybackWatcher"),this.logger_("initialize");function i(){return t.monitorCurrentTime_()}function n(){return t.techWaiting_()}function r(){return t.cancelTimer_()}function s(){return t.fixesBadSeeks_()}this.tech_.on("seekablechanged",s),this.tech_.on("waiting",n),this.tech_.on(Yl,r),this.tech_.on("canplay",i),this.dispose=function(){t.logger_("dispose"),t.tech_.off("seekablechanged",s),t.tech_.off("waiting",n),t.tech_.off(Yl,r),t.tech_.off("canplay",i),t.checkCurrentTimeTimeout_&&y.clearTimeout(t.checkCurrentTimeTimeout_),t.cancelTimer_()}}function Jl(e){!function t(i,e){var n=0,r=0,s=rs.mergeOptions(Zl,e);i.ready(function(){i.trigger({type:"usage",name:"hls-error-reload-initialized"})});function a(){r&&i.currentTime(r)}function o(e){null!=e&&(r=i.duration()!==1/0&&i.currentTime()||0,i.one("loadedmetadata",a),i.src(e),i.trigger({type:"usage",name:"hls-error-reload"}),i.play())}function u(){if(Date.now()-n<1e3*s.errorInterval)i.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(s.getSource&&"function"==typeof s.getSource)return n=Date.now(),s.getSource.call(i,o);rs.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}}function l(){i.off("loadedmetadata",a),i.off("error",u),i.off("dispose",l)}i.on("error",u),i.on("dispose",l),i.reloadSourceOnError=function(e){l(),t(i,e)}}(this,e)}var Zl={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}};rs.use("*",function(t){return{setSource:function(e,t){t(null,e)},setCurrentTime:function(e){return t.vhs&&t.currentSource().src===t.vhs.source_.src&&t.vhs.setCurrentTime(e),e},play:function(){t.vhs&&t.currentSource().src===t.vhs.source_.src&&t.vhs.setCurrentTime(t.tech_.currentTime())}}});var ec={PlaylistLoader:Ho,Playlist:Su,Decrypter:Co,AsyncStream:bo,decrypt:ko,utils:Eu,STANDARD_PLAYLIST_SELECTOR:function(){return function(e,t,i,n,r){var s=e.playlists.map(function(e){var t,i;return t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,i=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height,{bandwidth:e.attributes.BANDWIDTH||y.Number.MAX_VALUE,width:t,height:i,playlist:e}});yl(s,function(e,t){return e.bandwidth-t.bandwidth});var a=(s=s.filter(function(e){return!Su.isIncompatible(e.playlist)})).filter(function(e){return Su.isEnabled(e.playlist)});a.length||(a=s.filter(function(e){return!Su.isDisabled(e.playlist)}));var o=a.filter(function(e){return e.bandwidth*Tl.BANDWIDTH_VARIANCE<t}),u=o[o.length-1],l=o.filter(function(e){return e.bandwidth===u.bandwidth})[0];if(!1===r){var c=l||a[0]||s[0];return c?c.playlist:null}var h=o.filter(function(e){return e.width&&e.height});yl(h,function(e,t){return e.width-t.width});var d=h.filter(function(e){return e.width===i&&e.height===n});u=d[d.length-1];var p=d.filter(function(e){return e.bandwidth===u.bandwidth})[0],f=void 0,m=void 0,g=void 0;p||(m=(f=h.filter(function(e){return e.width>i||e.height>n})).filter(function(e){return e.width===f[0].width&&e.height===f[0].height}),u=m[m.length-1],g=m.filter(function(e){return e.bandwidth===u.bandwidth})[0]);var v=g||p||l||a[0]||s[0];return v?v.playlist:null}(this.playlists.master,this.systemBandwidth,parseInt(vl(this.tech_.el(),"width"),10),parseInt(vl(this.tech_.el(),"height"),10),this.limitRenditionByPlayerDimensions)},INITIAL_PLAYLIST_SELECTOR:function(){var e=this.playlists.master.playlists.filter(Su.isEnabled);return yl(e,function(e,t){return _l(e,t)}),e.filter(function(e){return Bu(e.attributes.CODECS).videoCodec})[0]||null},comparePlaylistBandwidth:_l,comparePlaylistResolution:function(e,t){var i=void 0,n=void 0;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||y.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),i===(n=n||y.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:i-n},xhr:tu()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(t){Object.defineProperty(ec,t,{get:function(){return rs.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),Tl[t]},set:function(e){rs.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?rs.log.warn("value of Hls."+t+" must be greater than or equal to 0"):Tl[t]=e}})});function tc(e){return/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(e)?"hls":/^application\/dash\+xml/i.test(e)?"dash":null}function ic(e,t){for(var i=t.media(),n=-1,r=0;r<e.length;r++)if(e[r].id===i.uri){n=r;break}e.selectedIndex_=n,e.trigger({selectedIndex:n,type:"change"})}var nc="videojs-vhs";ec.canPlaySource=function(){return rs.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};function rc(e){var t=e.masterPlaylistController_.mainSegmentLoader_,i=e.masterPlaylistController_.audioSegmentLoader_,n=rs.players[e.tech_.options_.playerId];if(n.eme){var r=function(e,t,i){if(!e)return e;var n=void 0,r=void 0;if(i.mimeType_)n=t.mimeType_,r=i.mimeType_;else{var s=Hu(t.mimeType_),a=s.parameters.codecs.split(","),o=void 0,u=void 0;a.forEach(function(e){e=e.trim(),Vu(e)?o=e:qu(e)&&(u=e)}),n=s.type+'; codecs="'+u+'"',r=s.type.replace("video","audio")+'; codecs="'+o+'"'}var l={},c=t.playlist_;for(var h in e)l[h]={audioContentType:r,videoContentType:n},c.contentProtection&&c.contentProtection[h]&&c.contentProtection[h].pssh&&(l[h].pssh=c.contentProtection[h].pssh),"string"==typeof e[h]&&(l[h].url=e[h]);return rs.mergeOptions(e,l)}(e.source_.keySystems,t,i);r&&(n.currentSource().keySystems=r,11!==rs.browser.IE_VERSION&&n.eme.initializeMediaKeys&&n.eme.initializeMediaKeys())}}function sc(){if(!window.localStorage)return null;var e=window.localStorage.getItem(nc);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}ec.supportsNativeHls=function(){var t=h.createElement("video");if(!rs.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(t.canPlayType(e))})}(),ec.supportsNativeDash=!!rs.getTech("Html5").isSupported()&&/maybe|probably/i.test(h.createElement("video").canPlayType("application/dash+xml")),ec.supportsTypeNatively=function(e){return"hls"===e?ec.supportsNativeHls:"dash"===e&&ec.supportsNativeDash},ec.isSupported=function(){return rs.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var ac=rs.getComponent("Component"),oc=(xo(uc,ac),Ao(uc,[{key:"setOptions_",value:function(){var t=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage="undefined"!=typeof this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var e=sc();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Tl.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Tl.INITIAL_BANDWIDTH,["withCredentials","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys"].forEach(function(e){"undefined"!=typeof t.source_[e]&&(t.options_[e]=t.source_[e])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions}},{key:"src",value:function(e,t){var i=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=ec,this.options_.sourceType=tc(t),this.options_.seekTo=function(e){i.tech_.setCurrentTime(e),i.setCurrentTime(e)},this.masterPlaylistController_=new Gl(this.options_),this.playbackWatcher_=new $l(rs.mergeOptions(this.options_,{seekable:function(){return i.seekable()},media:function(){return i.masterPlaylistController_.media()}})),this.masterPlaylistController_.on("error",function(){rs.players[i.tech_.options_.playerId].error(i.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):ec.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=ec.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e=1/(this.bandwidth||1),t=void 0;return t=0<this.throughput?1/this.throughput:0,Math.floor(1/(e+t))},set:function(){rs.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return i.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return i.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return i.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return i.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return i.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return i.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return i.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return i.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return mu(i.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return i.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return i.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return i.tech_.name_},enumerable:!0},duration:{get:function(){return i.tech_.duration()},enumerable:!0},master:{get:function(){return i.playlists.master},enumerable:!0},playerDimensions:{get:function(){return i.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return mu(i.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return i.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){i.options_.useBandwidthFromLocalStorage&&function(e){if(window.localStorage){var t=sc();t=t?rs.mergeOptions(t,e):e;try{window.localStorage.setItem(nc,JSON.stringify(t))}catch(e){return}}}({bandwidth:i.bandwidth,throughput:Math.round(i.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){!function(i){var e=i.playlists;i.representations=function(){return e.master.playlists.filter(function(e){return!Qo(e)}).map(function(e,t){return new Xl(i,e,e.uri)})}}(i),rc(i)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.tech_.ready(function(){return i.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(rs.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var e=this,t=rs.players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){!function(t,e){e.representations().forEach(function(e){t.addQualityLevel(e)}),ic(t,e.playlists)}(e.qualityLevels_,e)}),this.playlists.on("mediachange",function(){ic(e.qualityLevels_,e.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.hls&&delete this.tech_.hls,function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(uc.prototype.__proto__||Object.getPrototypeOf(uc.prototype),"dispose",this).call(this)}},{key:"convertToProgramTime",value:function(e,t){return lu({playlist:this.masterPlaylistController_.media(),time:e,callback:t})}},{key:"seekToProgramTime",value:function(e,t,i,n){var r=!(2<arguments.length&&void 0!==i)||i,s=3<arguments.length&&void 0!==n?n:2;return cu({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:s,pauseAfterSeek:r,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}}]),uc);function uc(e,t,i){Po(this,uc);var n=Oo(this,(uc.__proto__||Object.getPrototypeOf(uc)).call(this,t,i.hls));if(t.options_&&t.options_.playerId){var r=rs(t.options_.playerId);r.hasOwnProperty("hls")||Object.defineProperty(r,"hls",{get:function(){return rs.log.warn("player.hls is deprecated. Use player.tech().hls instead."),t.trigger({type:"usage",name:"hls-player-access"}),n},configurable:!0}),r.vhs=n,(r.dash=n).player_=r}if(n.tech_=t,n.source_=e,n.stats={},n.setOptions_(),n.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(n.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return n.on(h,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var t=h.fullscreenElement||h.webkitFullscreenElement||h.mozFullScreenElement||h.msFullscreenElement;t&&t.contains(n.tech_.el())&&n.masterPlaylistController_.smoothQualityChange_()}),n.on(n.tech_,"seeking",function(){0===this.tech_.currentTime()&&this.tech_.player_.loop()&&this.setCurrentTime(0)}),n.on(n.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),n.on(n.tech_,"play",n.play),n}var lc={name:"videojs-http-streaming",VERSION:"1.11.2",canHandleSource:function(e,t){var i=rs.mergeOptions(rs.options,1<arguments.length&&void 0!==t?t:{});return lc.canPlayType(e.type,i)},handleSource:function(e,t,i){var n=rs.mergeOptions(rs.options,2<arguments.length&&void 0!==i?i:{});return t.hls=new oc(e,t,n),t.hls.xhr=tu(),t.hls.src(e.src,e.type),t.hls},canPlayType:function(e,t){var i=rs.mergeOptions(rs.options,1<arguments.length&&void 0!==t?t:{}).hls.overrideNative,n=tc(e);return n&&(!ec.supportsTypeNatively(n)||i)?"maybe":""}};return"undefined"!=typeof rs.MediaSource&&"undefined"!=typeof rs.URL||(rs.MediaSource=Zu,rs.URL=el),Zu.supportsNativeMediaSources()&&rs.getTech("Html5").registerSourceHandler(lc,0),rs.HlsHandler=oc,rs.HlsSourceHandler=lc,rs.Hls=ec,rs.use||rs.registerComponent("Hls",ec),rs.options.hls=rs.options.hls||{},rs.registerPlugin?rs.registerPlugin("reloadSourceOnError",Jl):rs.plugin("reloadSourceOnError",Jl),rs});
!function(){!function(a){var b=a&&a.videojs;b&&(b.CDN_VERSION="7.7.5")}(window)}();
(function(root,factory){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=factory(require("video.js"))}else if(typeof define==="function"&&define.amd){define(["videojs"],function(videojs){return root.Youtube=factory(videojs)})}else{root.Youtube=factory(root.videojs)}})(this,function(videojs){"use strict";var _isOnMobile=videojs.browser.IS_IOS||videojs.browser.IS_ANDROID;var Tech=videojs.getTech("Tech");var Youtube=videojs.extend(Tech,{constructor:function(options,ready){Tech.call(this,options,ready);this.setPoster(options.poster);this.setSrc(this.options_.source,true);setTimeout(function(){this.el_.parentNode.className+=" vjs-youtube";if(_isOnMobile){this.el_.parentNode.className+=" vjs-youtube-mobile"}if(Youtube.isApiReady){this.initYTPlayer()}else{Youtube.apiReadyQueue.push(this)}}.bind(this))},dispose:function(){if(this.ytPlayer){this.ytPlayer.stopVideo();this.ytPlayer.destroy()}else{var index=Youtube.apiReadyQueue.indexOf(this);if(index!==-1){Youtube.apiReadyQueue.splice(index,1)}}this.ytPlayer=null;this.el_.parentNode.className=this.el_.parentNode.className.replace(" vjs-youtube","").replace(" vjs-youtube-mobile","");this.el_.parentNode.removeChild(this.el_);Tech.prototype.dispose.call(this)},createEl:function(){var div=document.createElement("div");div.setAttribute("id",this.options_.techId);div.setAttribute("style","width:100%;height:100%;top:0;left:0;position:absolute");div.setAttribute("class","vjs-tech");var divWrapper=document.createElement("div");divWrapper.appendChild(div);if(!_isOnMobile&&!this.options_.ytControls){var divBlocker=document.createElement("div");divBlocker.setAttribute("class","vjs-iframe-blocker");divBlocker.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%");divBlocker.onclick=function(){this.pause()}.bind(this);divWrapper.appendChild(divBlocker)}return divWrapper},initYTPlayer:function(){var playerVars={controls:0,modestbranding:1,rel:0,showinfo:0,loop:this.options_.loop?1:0};if(typeof this.options_.autohide!=="undefined"){playerVars.autohide=this.options_.autohide}if(typeof this.options_["cc_load_policy"]!=="undefined"){playerVars["cc_load_policy"]=this.options_["cc_load_policy"]}if(typeof this.options_.ytControls!=="undefined"){playerVars.controls=this.options_.ytControls}if(typeof this.options_.disablekb!=="undefined"){playerVars.disablekb=this.options_.disablekb}if(typeof this.options_.end!=="undefined"){playerVars.end=this.options_.end}if(typeof this.options_.color!=="undefined"){playerVars.color=this.options_.color}if(!playerVars.controls){playerVars.fs=0}else if(typeof this.options_.fs!=="undefined"){playerVars.fs=this.options_.fs}if(typeof this.options_.end!=="undefined"){playerVars.end=this.options_.end}if(typeof this.options_.hl!=="undefined"){playerVars.hl=this.options_.hl}else if(typeof this.options_.language!=="undefined"){playerVars.hl=this.options_.language.substr(0,2)}if(typeof this.options_["iv_load_policy"]!=="undefined"){playerVars["iv_load_policy"]=this.options_["iv_load_policy"]}if(typeof this.options_.list!=="undefined"){playerVars.list=this.options_.list}else if(this.url&&typeof this.url.listId!=="undefined"){playerVars.list=this.url.listId}if(typeof this.options_.listType!=="undefined"){playerVars.listType=this.options_.listType}if(typeof this.options_.modestbranding!=="undefined"){playerVars.modestbranding=this.options_.modestbranding}if(typeof this.options_.playlist!=="undefined"){playerVars.playlist=this.options_.playlist}if(typeof this.options_.playsinline!=="undefined"){playerVars.playsinline=this.options_.playsinline}if(typeof this.options_.rel!=="undefined"){playerVars.rel=this.options_.rel}if(typeof this.options_.showinfo!=="undefined"){playerVars.showinfo=this.options_.showinfo}if(typeof this.options_.start!=="undefined"){playerVars.start=this.options_.start}if(typeof this.options_.theme!=="undefined"){playerVars.theme=this.options_.theme}if(typeof this.options_.customVars!=="undefined"){var customVars=this.options_.customVars;Object.keys(customVars).forEach(function(key){playerVars[key]=customVars[key]})}this.activeVideoId=this.url?this.url.videoId:null;this.activeList=playerVars.list;this.ytPlayer=new YT.Player(this.options_.techId,{videoId:this.activeVideoId,playerVars:playerVars,events:{onReady:this.onPlayerReady.bind(this),onPlaybackQualityChange:this.onPlayerPlaybackQualityChange.bind(this),onPlaybackRateChange:this.onPlayerPlaybackRateChange.bind(this),onStateChange:this.onPlayerStateChange.bind(this),onError:this.onPlayerError.bind(this)}})},onPlayerReady:function(){if(this.options_.muted){this.ytPlayer.mute()}var playbackRates=this.ytPlayer.getAvailablePlaybackRates();if(playbackRates.length>1){this.featuresPlaybackRate=true}this.playerReady_=true;this.triggerReady();if(this.playOnReady){this.play()}else if(this.cueOnReady){this.cueVideoById_(this.url.videoId);this.activeVideoId=this.url.videoId}},onPlayerPlaybackQualityChange:function(){},onPlayerPlaybackRateChange:function(){this.trigger("ratechange")},onPlayerStateChange:function(e){var state=e.data;if(state===this.lastState||this.errorNumber){return}this.lastState=state;switch(state){case-1:this.trigger("loadstart");this.trigger("loadedmetadata");this.trigger("durationchange");this.trigger("ratechange");break;case YT.PlayerState.ENDED:this.trigger("ended");break;case YT.PlayerState.PLAYING:this.trigger("timeupdate");this.trigger("durationchange");this.trigger("playing");this.trigger("play");if(this.isSeeking){this.onSeeked()}break;case YT.PlayerState.PAUSED:this.trigger("canplay");if(this.isSeeking){this.onSeeked()}else{this.trigger("pause")}break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate");this.player_.trigger("waiting");break}},onPlayerError:function(e){this.errorNumber=e.data;this.trigger("pause");this.trigger("error")},error:function(){var code=1e3+this.errorNumber;switch(this.errorNumber){case 5:return{code:code,message:"Error while trying to play the video"};case 2:case 100:return{code:code,message:"Unable to find the video"};case 101:case 150:return{code:code,message:"Playback on other Websites has been disabled by the video owner."}}return{code:code,message:"YouTube unknown error ("+this.errorNumber+")"}},loadVideoById_:function(id){var options={videoId:id};if(this.options_.start){options.startSeconds=this.options_.start}if(this.options_.end){options.endEnd=this.options_.end}this.ytPlayer.loadVideoById(options)},cueVideoById_:function(id){var options={videoId:id};if(this.options_.start){options.startSeconds=this.options_.start}if(this.options_.end){options.endEnd=this.options_.end}this.ytPlayer.cueVideoById(options)},src:function(src){if(src){this.setSrc({src:src})}return this.source},poster:function(){if(_isOnMobile){return null}return this.poster_},setPoster:function(poster){this.poster_=poster},setSrc:function(source){if(!source||!source.src){return}delete this.errorNumber;this.source=source;this.url=Youtube.parseUrl(source.src);if(!this.options_.poster){if(this.url.videoId){this.poster_="https://img.youtube.com/vi/"+this.url.videoId+"/0.jpg";this.trigger("posterchange");this.checkHighResPoster()}}if(this.options_.autoplay&&!_isOnMobile){if(this.isReady_){this.play()}else{this.playOnReady=true}}else if(this.activeVideoId!==this.url.videoId){if(this.isReady_){this.cueVideoById_(this.url.videoId);this.activeVideoId=this.url.videoId}else{this.cueOnReady=true}}},autoplay:function(){return this.options_.autoplay},setAutoplay:function(val){this.options_.autoplay=val},loop:function(){return this.options_.loop},setLoop:function(val){this.options_.loop=val},play:function(){if(!this.url||!this.url.videoId){return}this.wasPausedBeforeSeek=false;if(this.isReady_){if(this.url.listId){if(this.activeList===this.url.listId){this.ytPlayer.playVideo()}else{this.ytPlayer.loadPlaylist(this.url.listId);this.activeList=this.url.listId}}if(this.activeVideoId===this.url.videoId){this.ytPlayer.playVideo()}else{this.loadVideoById_(this.url.videoId);this.activeVideoId=this.url.videoId}}else{this.trigger("waiting");this.playOnReady=true}},pause:function(){if(this.ytPlayer){this.ytPlayer.pauseVideo()}},paused:function(){return this.ytPlayer?this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING:true},currentTime:function(){return this.ytPlayer?this.ytPlayer.getCurrentTime():0},setCurrentTime:function(seconds){if(this.lastState===YT.PlayerState.PAUSED){this.timeBeforeSeek=this.currentTime()}if(!this.isSeeking){this.wasPausedBeforeSeek=this.paused()}this.ytPlayer.seekTo(seconds,true);this.trigger("timeupdate");this.trigger("seeking");this.isSeeking=true;if(this.lastState===YT.PlayerState.PAUSED&&this.timeBeforeSeek!==seconds){clearInterval(this.checkSeekedInPauseInterval);this.checkSeekedInPauseInterval=setInterval(function(){if(this.lastState!==YT.PlayerState.PAUSED||!this.isSeeking){clearInterval(this.checkSeekedInPauseInterval)}else if(this.currentTime()!==this.timeBeforeSeek){this.trigger("timeupdate");this.onSeeked()}}.bind(this),250)}},seeking:function(){return this.isSeeking},seekable:function(){if(!this.ytPlayer){return videojs.createTimeRange()}return videojs.createTimeRange(0,this.ytPlayer.getDuration())},onSeeked:function(){clearInterval(this.checkSeekedInPauseInterval);this.isSeeking=false;if(this.wasPausedBeforeSeek){this.pause()}this.trigger("seeked")},playbackRate:function(){return this.ytPlayer?this.ytPlayer.getPlaybackRate():1},setPlaybackRate:function(suggestedRate){if(!this.ytPlayer){return}this.ytPlayer.setPlaybackRate(suggestedRate)},duration:function(){return this.ytPlayer?this.ytPlayer.getDuration():0},currentSrc:function(){return this.source&&this.source.src},ended:function(){return this.ytPlayer?this.lastState===YT.PlayerState.ENDED:false},volume:function(){return this.ytPlayer?this.ytPlayer.getVolume()/100:1},setVolume:function(percentAsDecimal){if(!this.ytPlayer){return}this.ytPlayer.setVolume(percentAsDecimal*100);this.setTimeout(function(){this.trigger("volumechange")},50)},muted:function(){return this.ytPlayer?this.ytPlayer.isMuted():false},setMuted:function(mute){if(!this.ytPlayer){return}else{this.muted(true)}if(mute){this.ytPlayer.mute()}else{this.ytPlayer.unMute()}this.setTimeout(function(){this.trigger("volumechange")},50)},buffered:function(){if(!this.ytPlayer||!this.ytPlayer.getVideoLoadedFraction){return videojs.createTimeRange()}var bufferedEnd=this.ytPlayer.getVideoLoadedFraction()*this.ytPlayer.getDuration();return videojs.createTimeRange(0,bufferedEnd)},preload:function(){},load:function(){},reset:function(){},supportsFullScreen:function(){return true},checkHighResPoster:function(){var uri="https://img.youtube.com/vi/"+this.url.videoId+"/maxresdefault.jpg";try{var image=new Image;image.onload=function(){if("naturalHeight"in image){if(image.naturalHeight<=90||image.naturalWidth<=120){return}}else if(image.height<=90||image.width<=120){return}this.poster_=uri;this.trigger("posterchange")}.bind(this);image.onerror=function(){};image.src=uri}catch(e){}}});Youtube.isSupported=function(){return true};Youtube.canPlaySource=function(e){return Youtube.canPlayType(e.type)};Youtube.canPlayType=function(e){return e==="video/youtube"};Youtube.parseUrl=function(url){var result={videoId:null};var regex=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;var match=url.match(regex);if(match&&match[2].length===11){result.videoId=match[2]}var regPlaylist=/[?&]list=([^#\&\?]+)/;match=url.match(regPlaylist);if(match&&match[1]){result.listId=match[1]}return result};function apiLoaded(){YT.ready(function(){Youtube.isApiReady=true;for(var i=0;i<Youtube.apiReadyQueue.length;++i){Youtube.apiReadyQueue[i].initYTPlayer()}})}function loadScript(src,callback){var loaded=false;var tag=document.createElement("script");var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);tag.onload=function(){if(!loaded){loaded=true;callback()}};tag.onreadystatechange=function(){if(!loaded&&(this.readyState==="complete"||this.readyState==="loaded")){loaded=true;callback()}};tag.src=src}function injectCss(){var css=".vjs-youtube .vjs-iframe-blocker { display: none; }"+".vjs-youtube.vjs-user-inactive .vjs-iframe-blocker { display: block; }"+".vjs-youtube .vjs-poster { background-size: cover; }"+".vjs-youtube-mobile .vjs-big-play-button { display: none; }";var head=document.head||document.getElementsByTagName("head")[0];var style=document.createElement("style");style.type="text/css";if(style.styleSheet){style.styleSheet.cssText=css}else{style.appendChild(document.createTextNode(css))}head.appendChild(style)}Youtube.apiReadyQueue=[];loadScript("https://www.youtube.com/iframe_api",apiLoaded);injectCss();if(typeof videojs.registerTech!=="undefined"){videojs.registerTech("Youtube",Youtube)}else{videojs.registerComponent("Youtube",Youtube)}});
!function(e,t){"function"==typeof define&&define.amd?define(["video.js"],(function(i){return e.Vimeo=t(i)})):"object"==typeof module&&module.exports?module.exports=e.Vimeo=t(require("video.js")):e.Vimeo=t(e.videojs)}(this,(function(e){"use strict";var t=-1,i=0,o=1,n=2,r=3,s=e.getComponent("Tech"),a=e.extend(s,{constructor:function(e,t){s.call(this,e,t),""!=e.poster&&this.setPoster(e.poster),this.setSrc(this.options_.source.src,!0),setTimeout(function(){this.el_.parentNode.className+=" vjs-vimeo"}.bind(this))},dispose:function(){this.el_.parentNode.className=this.el_.parentNode.className.replace(" vjs-vimeo","")},createEl:function(){this.vimeo={},this.vimeoInfo={},this.baseUrl="https://player.vimeo.com/video/",this.baseApiUrl="https://www.vimeo.com/api/v2/video/";var e=a.parseUrl(this.options_.source.src);this.videoId=e.videoId,this.videoSearch=e.videoSearch,this.iframe=document.createElement("iframe"),this.iframe.setAttribute("id",this.options_.techId),this.iframe.setAttribute("title","Vimeo Video Player"),this.iframe.setAttribute("class","vimeoplayer"),this.iframe.setAttribute("src",this.baseUrl+this.videoId+"?api=1&player_id="+this.options_.techId+this.videoSearch),this.iframe.setAttribute("frameborder","0"),this.iframe.setAttribute("scrolling","no"),this.iframe.setAttribute("marginWidth","0"),this.iframe.setAttribute("marginHeight","0"),this.iframe.setAttribute("webkitAllowFullScreen","0"),this.iframe.setAttribute("mozallowfullscreen","0"),this.iframe.setAttribute("allowFullScreen","0");var t,i=document.createElement("div");if(i.setAttribute("class","vimeoFrame"),i.appendChild(this.iframe),!u&&!this.options_.ytControls){var o=document.createElement("div");o.setAttribute("class","vjs-iframe-blocker"),o.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%"),o.onclick=function(){this.onPause()}.bind(this),i.appendChild(o)}return a.isApiReady?this.initPlayer():a.apiReadyQueue.push(this),""==this.options_.poster&&$.getJSON(this.baseApiUrl+this.videoId+".json?callback=?",{format:"json"},(t=this,function(e){t.setPoster(e[0].thumbnail_large)})),i},initPlayer:function(){var e=this;a.parseUrl(this.options_.source.src).videoId;this.vimeo&&this.vimeo.api&&(this.vimeo.api("unload"),delete this.vimeo),e.vimeo=$f(e.iframe),e.vimeoInfo={state:t,volume:1,muted:!1,muteVolume:1,time:0,duration:0,buffered:0,url:e.baseUrl+e.videoId,error:null},this.vimeo.addEvent("ready",(function(t){e.onReady(),e.vimeo.addEvent("loadProgress",(function(t,i){e.onLoadProgress(t)})),e.vimeo.addEvent("playProgress",(function(t,i){e.onPlayProgress(t)})),e.vimeo.addEvent("play",(function(t){e.onPlay()})),e.vimeo.addEvent("pause",(function(t){e.onPause()})),e.vimeo.addEvent("finish",(function(t){e.onFinish()})),e.vimeo.addEvent("seek",(function(t,i){e.onSeek(t)}))}))},onReady:function(){this.isReady_=!0,this.triggerReady(),this.trigger("loadedmetadata"),this.startMuted&&(this.setMuted(!0),this.startMuted=!1)},onLoadProgress:function(e){var t=!this.vimeoInfo.duration;this.vimeoInfo.duration=e.duration,this.vimeoInfo.buffered=e.percent,this.trigger("progress"),t&&this.trigger("durationchange")},onPlayProgress:function(e){this.vimeoInfo.time=e.seconds,this.trigger("timeupdate")},onPlay:function(){this.vimeoInfo.state=o,this.trigger("play")},onPause:function(){this.vimeoInfo.state=n,this.trigger("pause")},onFinish:function(){this.vimeoInfo.state=i,this.trigger("ended")},onSeek:function(e){this.trigger("seeking"),this.vimeoInfo.time=e.seconds,this.trigger("timeupdate"),this.trigger("seeked")},onError:function(e){this.error=e,this.trigger("error")},error:function(){switch(this.errorNumber){case 2:return{code:"Unable to find the video"};case 5:return{code:"Error while trying to play the video"};case 100:return{code:"Unable to find the video"};case 101:case 150:return{code:"Playback on other Websites has been disabled by the video owner."}}return{code:"Vimeo unknown error ("+this.errorNumber+")"}},src:function(){return this.source},poster:function(){return this.poster_},setPoster:function(e){this.poster_=e},setSrc:function(e){var t;e&&e.src&&(this.source=e,this.url=a.parseUrl(e.src),this.options_.poster||this.url.videoId&&($.getJSON(this.baseApiUrl+this.videoId+".json?callback=?",{format:"json"},(t=this,function(e){t.poster_=e[0].thumbnail_small})),this.checkHighResPoster()),this.options_.autoplay&&!u&&(this.isReady_?this.play():this.playOnReady=!0))},supportsFullScreen:function(){return!0},load:function(){},play:function(){this.vimeo.api("play")},pause:function(){this.vimeo.api("pause")},paused:function(){return this.vimeoInfo.state!==o&&this.vimeoInfo.state!==r},currentTime:function(){return this.vimeoInfo.time||0},setCurrentTime:function(e){this.vimeo.api("seekTo",e),this.player_.trigger("timeupdate")},duration:function(){return this.vimeoInfo.duration||0},buffered:function(){return e.createTimeRange(0,this.vimeoInfo.buffered*this.vimeoInfo.duration||0)},volume:function(){return this.vimeoInfo.muted?this.vimeoInfo.muteVolume:this.vimeoInfo.volume},setVolume:function(e){this.vimeo.api("setvolume",e),this.vimeoInfo.volume=e,this.player_.trigger("volumechange")},currentSrc:function(){return this.el_.src},muted:function(){return this.vimeoInfo.muted||!1},setMuted:function(e){e?(this.vimeoInfo.muteVolume=this.vimeoInfo.volume,this.setVolume(0)):this.setVolume(this.vimeoInfo.muteVolume),this.vimeoInfo.muted=e,this.player_.trigger("volumechange")},checkHighResPoster:function(){try{$.getJSON(this.baseApiUrl+this.videoId+".json?callback=?",{format:"json"},(function(e){e[0].thumbnail_large}));var e=new Image;e.onload=function(){if("naturalHeight"in this){if(this.naturalHeight<=90||this.naturalWidth<=120)return void this.onerror()}else if(this.height<=90||this.width<=120)return void this.onerror();this.poster_="",this.trigger("posterchange")}.bind(this),e.onerror=function(){},e.src=""}catch(e){}}});a.isSupported=function(){return!0},a.canPlaySource=function(e){return"video/vimeo"===e.type};var u=/(iPad|iPhone|iPod|Android)/g.test(navigator.userAgent);a.parseUrl=function(e){var t={videoId:null,videoSearch:""},i=e.match(/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)?(\?[^#]+)?/);return i&&(t.videoId=i[5],i[6]&&(t.videoSearch=i[6].replace("?","&"))),t},a.apiReadyQueue=[];!function(){var e,t,i;a.isApiReady=!0,e=".vjs-vimeo .vjs-iframe-blocker { display: none; }.vjs-vimeo.vjs-user-inactive .vjs-iframe-blocker { display: block; }.vjs-vimeo .vjs-poster { background-size: cover; }.vjs-vimeo { height:100%; }.vimeoplayer { width:100%; height:180%; position:absolute; left:0; top:-40%; }",t=document.head||document.getElementsByTagName("head")[0],(i=document.createElement("style")).type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),t.appendChild(i);for(var o=0;o<a.apiReadyQueue.length;++o)a.apiReadyQueue[o].initPlayer()}(),e.registerTech("Vimeo",a);!function(){function e(t){return new e.fn.init(t)}var t={},i=!1,o=(Array.prototype.slice,"*");function n(e,t,i){if(!i.contentWindow.postMessage)return!1;var n=JSON.stringify({method:e,value:t});i.contentWindow.postMessage(n,o)}function r(e){var n,r;try{r=(n=JSON.parse(e.data)).event||n.method}catch(e){}if("ready"!=r||i||(i=!0),!/^https?:\/\/player.vimeo.com/.test(e.origin))return!1;"*"===o&&(o=e.origin);var s=n.value,a=n.data,u=""===u?null:n.player_id,h=function(e,i){if(i&&t[i])return t[i][e];if(t[e])return t[e]}(r,u),d=[];return!!h&&(void 0!==s&&d.push(s),a&&d.push(a),u&&d.push(u),d.length>0?h.apply(null,d):h.call())}function s(e,i,o){o?(t[o]||(t[o]={}),t[o][e]=i):t[e]=i}function a(e){return!!(e&&e.constructor&&e.call&&e.apply)}e.fn=e.prototype={element:null,init:function(e){return"string"==typeof e&&(e=document.getElementById(e)),this.element=e,this},api:function(e,t){if(!this.element||!e)return!1;var i=this.element,o=""!==i.id?i.id:null,r=a(t)?null:t,u=a(t)?t:null;return u&&s(e,u,o),n(e,r,i),this},addEvent:function(e,t){if(!this.element)return!1;var o=this.element,r=""!==o.id?o.id:null;return s(e,t,r),"ready"!=e?n("addEventListener",e,o):"ready"==e&&i&&t.call(null,r),this},removeEvent:function(e){if(!this.element)return!1;var i=this.element,o=function(e,i){if(i&&t[i]){if(!t[i][e])return!1;t[i][e]=null}else{if(!t[e])return!1;t[e]=null}return!0}(e,""!==i.id?i.id:null);"ready"!=e&&o&&n("removeEventListener",e,i)}},e.fn.init.prototype=e.fn,window.addEventListener?window.addEventListener("message",r,!1):window.attachEvent("onmessage",r),window.Froogaloop=window.$f=e}()}));
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SyvoModule(e,t){var n=this,i=!1;function o(e){return"".concat(n.name,":").concat(e)}n.isLoaded=function(){return i},n.load=function(e){if(!i){var o=$(window);o.trigger(n.eventNames.onBeforeLoad,[n]),t(e),i=!0,o.trigger(n.eventNames.onAfterLoad,[n])}},n.getModuleEventName=o,n.name=e,n.eventNames={onBeforeLoad:o("onBeforeLoad"),onAfterLoad:o("onAfterLoad")}}function formatMoneyByIndexOfCurrency(e,t){void 0===t&&(t=window.common_settings.checkoutCurrencyIndex),isNaN(e)||(e=(e-0).toFixed(2));var n=(window.common_settings.currencies||[]).find((function(e){return e.Currency==t}));return n?n.Format.replace("0.00",e):e}window.Syvo={},function(){var e=-(new Date).getTimezoneOffset();$.cookie("timeZoneOffset",e,{expires:1,path:"/"}),$.fn.serializeObject=function(){var e={},t=this.serializeArray();return $.each(t,(function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""})),e},$.serializeArrayToDictionary=function(e){var t={};return $.each(e,(function(){t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||""),t[this.name]=t[this.name].join(",")):t[this.name]=this.value||""})),t},$.convertToBool=function(e){if(void 0===e)return!1;switch("string"==typeof e&&(e=e.toLowerCase()),e){case"true":case 1:return!0;case"false":case 0:default:return!1}},$.getCurrentViewport=function(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}},$.fixedHeader=function(e){var t={init:i,destroy:o,reinit:function(){o(),i()}},n={root:{selector:"body",classModifier:"fixed-header"},header:{selector:"[data-property=fixed-header]",events:{timeout:250,onCalculate:"syvo_fixedHeader:onCalculate",onBeforeChange:"syvo_fixedHeader:onBeforeChange",onAfterChange:"syvo_fixedHeader:onAfterChange",onApply:"syvo_fixedHeader:onApply",onReset:"syvo_fixedHeader:onReset",onHeightChanged:"syvo_fixedHeader:onHeightChanged"},callbacks:{onCalculate:x,onBeforeChange:x,onAfterChange:x,onApply:x,onReset:x,onHeightChanged:x}},scrolledFromTop:null};if(t.settings=$.extend(!0,{},n,e),t.settings.root&&t.settings.header&&t.settings.header.events&&t.settings.header.callbacks)return i(),t;function i(){t.$root=$(t.settings.root.selector),t.$header=$(t.settings.header.selector),t.$window=$(window),u(),v(),t.$window.on("hashchange",a),t.$window.on("scroll",l),t.$window.on("resize gestureend syvo:pinchend orientationchange",c),t.$window.on("load",r),u()}function o(){f(!1),function(){if(!t.$hiddenRoot)return;t.$hiddenRoot.remove()}(),t.$window.off("hashchange",a),t.$window.off("scroll",l),t.$window.off("resize gestureend syvo:pinchend orientationchange",c),t.$window.off("load",r)}function s(e){return(e||t.$header).outerHeight()}function r(e){g()}function a(e){clearTimeout(t.windowOnHashChangeTimeout),t.windowOnHashChangeTimeout=setTimeout((function(){v()}),t.settings.header.events.timeOut)}function l(e){u()}function c(e){m()?s()!==t.fixedHeaderHeight&&d():s()!==t.headerHeight&&d()}function d(){clearTimeout(t.headerOuterHeightChangedTimeout),t.headerOuterHeightChangedTimeout=setTimeout((function(){g()}),t.settings.header.events.timeOut),p(t.$header,t.settings.header.events.onHeightChanged,k,t.settings.header.callbacks.onHeightChanged)}function u(){var e=m();t.$window.scrollTop()>(t.settings.scrolledFromTop?t.settings.scrolledFromTop:Math.abs(t.headerHeight-t.fixedHeaderHeight))?e||f(!0):e&&f(!1)}function f(e){p(t.$header,t.settings.header.events.onBeforeChange,y,t.settings.header.callbacks.onBeforeChange),!0===e?(t.$root.css("padding-top",t.headerHeight),h(t.$root,!0),t.isHeaderFixed=!0,p(t.$header,t.settings.header.events.onApply,C,t.settings.header.callbacks.onApply)):(h(t.$root,!1),t.$root.css("padding-top",""),t.isHeaderFixed=!1,p(t.$header,t.settings.header.events.onReset,S,t.settings.header.callbacks.onReset)),p(t.$header,t.settings.header.events.onAfterChange,b,t.settings.header.callbacks.onAfterChange)}function g(){!function(){t.$hiddenRoot||(t.$hiddenRoot=function(){var e=$('<div class="theme-typo iblock-fix '.concat(t.$root.attr("class"),'"></div>'));e.css("position","fixed").css("top","100%").css("left","0").css("right","0").css("bottom","auto").css("opacity","0").css("z-index","0").append(t.$header.clone());var n=e.find("[id]");return $.each(n,(function(e,t){var n=$(t);n.attr("id",n.attr("id")+"-cloned")})),e}());t.$hiddenRoot.insertAfter(t.$root);var e=t.$hiddenRoot.find(t.settings.header.selector);m(t.$hiddenRoot)?(t.fixedHeaderHeight=s(e),h(t.$hiddenRoot,!1),t.headerHeight=s(e)):(t.headerHeight=s(e),h(t.$hiddenRoot,!0),t.fixedHeaderHeight=s(e));t.$hiddenRoot.remove()}(),p(t.$header,t.settings.header.events.onCalculate,w,t.settings.header.callbacks.onCalculate)}function m(e){return(e||t.$root).hasClass(t.settings.root.classModifier)}function h(e,n){0!==e.length&&(!0===n?e.addClass(t.settings.root.classModifier):e.removeClass(t.settings.root.classModifier))}function v(){var e=window.location.hash;if(e){var n=$(e).offset();n&&$("html, body").animate({scrollTop:n.top-t.$header.outerHeight()},"fast")}}function p(e,n,i,o){e&&0!==e.length&&("string"==typeof n&&e.trigger(n,[t.headerHeight,t.fixedHeaderHeight]),"function"==typeof i&&i(),"function"==typeof o&&o())}function w(){}function y(){}function b(){}function C(){}function S(){}function k(){}function x(){}},$.checkContains=function(e,t){if(e instanceof jQuery&&t instanceof jQuery)for(var n=0,i=e.length;n<i;n++)for(var o=0,s=t.length;o<s;o++)if($.contains(e[n],t[o]))return!0;return!1},$.fn.spyChanges=function(e,t){if("function"==typeof e){var n,i=this,o=e();!function s(){var r=e();r!==o&&(i.trigger(t),o=r);clearTimeout(n),n=setTimeout(s,100)}()}},$.fn.setCursorPosition=function(e){return 0===this.length?this:$(this).setSelection(e,e)},$.fn.setSelection=function(e,t){if(0===this.length)return this;var n=this[0];if(n.createTextRange){var i=n.createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}else n.setSelectionRange&&(n.focus(),n.setSelectionRange(e,t));return this},$.fn.focusEnd=function(){this.setCursorPosition(this.val().length)},$.fn.focusStart=function(){this.setCursorPosition(0)},$.fn.showInlineBlock=function(){this.css("display","inline-block")},$.validator.addMethod("minDate",(function(e,t,n){var i=null;return"string"==typeof n&&(i=new Date(Date.parse(n))),n instanceof Date&&(i=n),!!this.optional(t)||((null==i||isNaN(i.getTime()))&&(i=$.datepicker._determineDate($(t).data("datepicker"),n,new Date)),i<=$(t).datepicker("getDate"))})),$.validator.addMethod("maxDate",(function(e,t,n){var i=null;return"string"==typeof n&&(i=new Date(Date.parse(n))),n instanceof Date&&(i=n),!!this.optional(t)||((null==i||isNaN(i.getTime()))&&(i=$.datepicker._determineDate($(t).data("datepicker"),n,new Date)),i>=$(t).datepicker("getDate"))})),$.validator.addMethod("string-regex-format",(function(e,t,n){if(e){var i=t.getAttribute("data-val-string-regex-format-regexp");if(i)return new RegExp(i).test(e)}return!0})),jQuery.validator.unobtrusive.adapters.addBool("string-regex-format"),$.validator.addMethod("dateFormat",(function(e,t,n){try{return this.optional(t)||null!==$.datepicker.parseDate(n,e)}catch(e){return!1}}))}(jQuery),Number.prototype.formatMoney=function(e,t,n,i,o){o=void 0===o||o<1||"begin"===o?"begin":"end",i=isNaN(i=Math.abs(i))?2:i;var s=parseFloat(this,i);t=void 0===t?".":t,n=void 0===n?",":n;var r=s<0?"(":"",a=s<0?")":"",l=parseInt(s=Math.abs(+s||0))+"",c=(c=l.length)>3?c%3:0,d=r;return d+="begin"===o&&e?e+"":"",d+="",d+=c?l.substr(0,c)+n:"",d+=l.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+n),d+=i?t+(Math.ceil(Math.abs(s-l).toFixed(6)*Math.pow(10,i))/Math.pow(10,i)).toFixed(i).slice(i):"",d+="end"===o&&e?e+"":"",d+=a},Number.prototype.formatMoneyInternational=function(e,t){e=null==e?"en_us":e,t=null==t?e:t;var n,i={float:{symbol:null,symbolPosition:"end",decimal:".",comma:""},bg:{symbol:" BGN",symbolPosition:"end",decimal:",",comma:" "},ca:{symbol:" €",symbolPosition:"end",decimal:",",comma:"."},cs:{symbol:" Kc",symbolPosition:"end",decimal:",",comma:" "},da:{symbol:"kr ",symbolPosition:"begin",decimal:",",comma:"."},de:{symbol:" €",symbolPosition:"end",decimal:",",comma:"."},de_au:{symbol:" €",symbolPosition:"end",decimal:",",comma:"."},de_lu:{symbol:" €",symbolPosition:"end",decimal:",",comma:"."},el:{symbol:" €",symbolPosition:"end",decimal:",",comma:"."},en_us:{symbol:"$",symbolPosition:"begin",decimal:".",comma:","},en_gb:{symbol:"£ ",symbolPosition:"begin",decimal:".",comma:","},en_au:{symbol:"$ ",symbolPosition:"begin",decimal:".",comma:","},en_ca:{symbol:"$",symbolPosition:"begin",decimal:".",comma:","},en_ie:{symbol:"€ ",symbolPosition:"begin",decimal:".",comma:","},es_mx:{symbol:"$ ",symbolPosition:"begin",decimal:".",comma:","},es:{symbol:" €",symbolPosition:"end",decimal:",",comma:"."},fi:{symbol:" €",symbolPosition:"end",decimal:",",comma:" "},fr:{symbol:" €",symbolPosition:"end",decimal:",",comma:" "},fr_ca:{symbol:" $",symbolPosition:"end",decimal:",",comma:" "},fr_ch:{symbol:"SFr. ",symbolPosition:"begin",decimal:".",comma:"'"},hu:{symbol:" Ft",symbolPosition:"end",decimal:",",comma:" "},it:{symbol:"€ ",symbolPosition:"begin",decimal:",",comma:"."},it_ch:{symbol:"&#8355; ",symbolPosition:"begin",decimal:".",comma:"'"},ja:{symbol:"¥ ",symbolPosition:"begin",decimal:".",comma:"'"},nl:{symbol:"€ ",symbolPosition:"begin",decimal:",",comma:"."},no:{symbol:"kr ",symbolPosition:"begin",decimal:",",comma:" "},pl:{symbol:" zl",symbolPosition:"end",decimal:",",comma:" "},pt_br:{symbol:"R$ ",symbolPosition:"begin",decimal:",",comma:"."},pt:{symbol:" €",symbolPosition:"end",decimal:",",comma:"."},ro:{symbol:" lei",symbolPosition:"end",decimal:",",comma:"."},ru:{symbol:" p.",symbolPosition:"end",decimal:",",comma:" "},hr:{symbol:" kn",symbolPosition:"end",decimal:",",comma:"."},sr:{symbol:" Din.",symbolPosition:"end",decimal:",",comma:"."},sv:{symbol:" kr",symbolPosition:"end",decimal:",",comma:"."},tr:{symbol:" TL",symbolPosition:"end",decimal:",",comma:"."},id:{symbol:" Rp.",symbolPosition:"begin",decimal:" ",comma:"."},uk:{symbol:" rpH.",symbolPosition:"end",decimal:",",comma:" "},be:{symbol:" p.",symbolPosition:"end",decimal:",",comma:" "},sl:{symbol:" SIT",symbolPosition:"end",decimal:",",comma:"."},et:{symbol:" kr",symbolPosition:"end",decimal:".",comma:" "},lv:{symbol:"Ls ",symbolPosition:"begin",decimal:",",comma:" "},lt:{symbol:" Lt",symbolPosition:"end",decimal:",",comma:"."},af:{symbol:"R ",symbolPosition:"begin",decimal:".",comma:","},fo:{symbol:"kr ",symbolPosition:"begin",decimal:",",comma:"."}},o=this+"";return i[e]?(n=parseFloat(o.replace(i[t].comma,"").replace(i[t].decimal,".").replace(/[^\d\.\,\-]/g,""))).formatMoney(i[e].symbol,i[e].decimal,i[e].comma,2,i[e].symbolPosition):(n=parseFloat(o.replace(i.en_us.decimal,".").replace(i.en_us.comma,"").replace(/[^\d\.\,\-]/g,"")),console.log("Error: "+e+" country code unknown."),n.formatMoney(i.en_us.symbol,i.en_us.decimal,i.en_us.comma,2,i.en_us.symbolPosition))},String.prototype.formatMoneyInternational=Number.prototype.formatMoneyInternational,window.days={SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6},Date.prototype.toDateWithoutOffset=function(){var e=6e4*this.getTimezoneOffset();return new Date(this.getTime()+e)},window.googleAdwordsAsync=function(e){for(var t in e)e.hasOwnProperty(t)&&0===t.indexOf("google")&&(window[t]=e[t]);var n=document.write;document.write=function(e){$("body").append(e)},$.getScript("https://www.googleadservices.com/pagead/conversion.js",(function(){setTimeout((function(){document.write=n}),100)}))},Common={pickHiddenVars:function(e){var t,n,i={settings:$.extend(!0,{},{parent:{selector:"[data-vars]"},vars:{nameAttr:"data-var-name",typeAttr:"data-var-type",valueAttr:"data-var-value"}},e)};i.settings&&i.settings.parent&&i.settings.vars&&(i.vars={},t={},n=$(i.settings.parent.selector).find("["+i.settings.vars.nameAttr+"]"),$.each(n,(function(){var e=$(this),n=e.attr(i.settings.vars.nameAttr);if(n){var o=e.attr(i.settings.vars.typeAttr);if(o){var s=e.css(e.attr(i.settings.vars.valueAttr));s&&(t[n]=t[n]||{},t[n][o]=s)}}})),$.isEmptyObject(t)||(i.vars=t),window.common_settings=window.common_settings||{},window.common_settings.vars=i.vars)},getBaseHref:function(){return $("base").attr("href").toLowerCase()},initDownloadLink:function(e){var t={settings:$.extend(!0,{},{targets:{selector:"[download-link]",dataAttr:"download-link"}},e)};if(t.settings.targets&&t.settings.targets.selector)return t.init=n,t.destroy=i,t.reload=function(){return i(),n()},n();function n(){return t.$targets=$(t.settings.targets.selector).filter((function(){return $(this).attr(t.settings.targets.dataAttr)})),t.$targets.on("click",o),t}function i(){return t.$targets.off("click",o),t.$targets=$(),t}function o(e){var n;"function"==typeof window.navigator.msSaveBlob&&(e.preventDefault(),n=$(this),new Promise((function(e,i){try{var o=n.attr(t.settings.targets.dataAttr),s=new XMLHttpRequest;s.onloadstart=function(){s.responseType="blob"},s.onload=function(){window.navigator.msSaveBlob(s.response,o)},s.open("GET",o,!0),s.send(),e()}catch(e){i()}})))}},serializeFormToObject:function(e,t){var n=e.serializeArray();n.filter((function(e){return"false"===e.value})).forEach((function(e){if(n.find((function(t){return e.name===t.name&&"true"===t.value}))){var t=n.indexOf(e);n.splice(t,1)}}));var i={};return $.each(n,(function(n,o){var s=o.value;if(t&&(s="boolean"==typeof(s=function(t){var n=e.find('[name="'+t+'"]');if(n&&n.is("[type=checkbox]"))return n.is(":checked");return}(o.name))?s:o.value),o.name.endsWith("[]")){var r=o.name.substring(0,o.name.length-2);return i[r]||(i[r]=[]),void i[r].push(s)}i[o.name]=s})),i},showLoader:function(){$.LoadingOverlay("show",{image:"",fontawesome:"fa fa-circle-o-notch fa-spin fa-3x fa-fw",zIndex:1e4,maxSize:30,color:"rgba(43, 46, 51, 0.68)"})},hideLoader:function(){$.LoadingOverlay("hide")},slickSliderLazyLoad:{inited:function(e){var t=this,n={selector:t.getCurrentSlides(e,0).add(t.getFutureSlides(e,0)).find("[data-lazy-load]")};t.reloadPlugin(n)},onAfterInited:function(e){var t=this,n={selector:t.getFutureSlides(e,0).not(t.getCurrentSlides(e,0)).find("[data-lazy-load]")};t.reloadPlugin(n)},beforeChanged:function(e,t,n){var i=this,o={selector:i.getNextSlides(e,t,n).not(i.getCurrentSlides(e,t)).find("[data-lazy-load]")};i.reloadPlugin(o),i.setupClonedSlides(e)},afterChanged:function(e,t){var n=this,i={selector:n.getFutureSlides(e,t).not(n.getCurrentSlides(e,t)).find("[data-lazy-load]")};n.reloadPlugin(i)},getSlides:function(e,t,n){for(;t>e.$slides.length;)t-=e.$slides.length;for(;n>e.$slides.length;)n-=e.$slides.length;for(;t<0;)t+=e.$slides.length;for(;n<0;)n+=e.$slides.length;if(n<t){var i=n;n=t,t=i}return e.$slides.filter((function(e,i){return e>=t&&e<n}))},getCurrentSlides:function(e,t){return this.getSlides(e,t,t+e.options.slidesToShow)},getNextSlides:function(e,t,n){var i=e.$slides.length-e.options.slidesToScroll,o=e.options.slidesToScroll-e.options.slidesToShow;o<0&&(o=0);var s=function(){var e=n-o;e>=i&&(e=i);0>e&&(e=0);return e}(),r=function(){var t=n+e.options.slidesToShow;t>e.$slides.length&&(t=e.$slides.length);return t}();return this.getSlides(e,s,r)},getFutureSlides:function(e,t){for(var n=this,i=t+e.options.slidesToScroll,o=null;i>e.$slides.length;)i-=e.$slides.length;if(e.options.infinite)for(o=t-e.options.slidesToScroll;o<0;)o+=e.$slides.length;return n.getNextSlides(e,t,i).add(null!==o?n.getNextSlides(e,t,o):$())},setupClonedSlides:function(e){var t,n=this;(t=e.$slideTrack.children(".slick-cloned")).length>0&&$.each(t,(function(){!function(e){var t=window.Syvo.Lazy_Load.isLoaded()?"[".concat(window.Syvo.Lazy_Load.settings.dataAttr,"]"):"[data-lazy-load]",i=e.find(t),o=i.attr("data-src");function s(e){window.Syvo.Lazy_Load.pluginAfterLoaded(e)}i.css("background-image","url('".concat(o,"')")),n.runForPlugin(s,i)}($(this))}))},reloadPlugin:function(e){this.runForPlugin(window.Syvo.Lazy_Load.reload,e)},runForPlugin:function(e,t){"function"!=typeof e||arguments.length<1||(window.Syvo.Lazy_Load.isLoaded()?e(t):$(window).on(window.Syvo.Lazy_Load.eventNames.onAfterLoad,(function(){e(t)})))}},initTogglePopupSidebar:function(){var e=$("[toggle-popup]");e.click((function(t){t.preventDefault();var n=$(this).attr("toggle-popup");if(n){var i=e.filter("[toggle-popup='"+n+"']"),o=$(n),s=$("body");return o.hasClass("active")?(i.removeClass("active"),o.removeClass("active"),s.removeClass("body-overflow-mobile"),s.removeClass("overflow-hidden-mobile")):(i.addClass("active"),o.addClass("active"),s.addClass("body-overflow-mobile"),s.addClass("overflow-hidden-mobile")),!1}}))},initToggleAccordeon:function(){var e=$("[toggle-accordeon]");e.click((function(t){t.preventDefault();var n=$(this).attr("toggle-accordeon");if(n){var i=e.filter("[toggle-accordeon='"+n+"']");$(n);return i.toggleClass("active"),$(n).toggleClass("active"),!1}}))},initIntelligentNavbar:function(){var e=$(".main-navbar .common-navbar > ul > li");if(0!==e.length){var t={$li:null,hoveringTimeout:null,bluringTimeout:null};!function(){for(var r=0,a=e.length;r<a;r++)i.call(e[r]);$(window).on("touchstart",(function(e){var n=$(e.target);!t.$li||t.$li.is(n)||$.checkContains(t.$li,n)||(o(),s())})),e.on("mouseenter touchstart",n),e.on("mouseleave",i)}()}function n(e){var n=$(this);n.is(t.$li)||(o(),s(n)),t.hovering||(t.hovering=!0,t.hoveringTimeout=setTimeout((function(){t.hovering=!1}),500),null!=t.$li&&(t.$li.removeClass("mouseleft"),t.$li.addClass("mouseentered")))}function i(e){var n=$(this);n.is(t.$li)||(o(),s(n)),t.bluring||(t.bluring=!0,t.bluringTimeout=setTimeout((function(){t.bluring=!1}),500),o())}function o(){null!=t.$li&&(t.$li.removeClass("mouseentered"),t.$li.addClass("mouseleft"))}function s(e){null!=e&&(t.$li=e),clearTimeout(t.hoveringTimeout),t.hovering=!1,clearTimeout(t.bluringTimeout),t.bluring=!1}},initCheckboxDropdowns:function(e){var t={init:n,reinit:function(){i(),n()},destroy:i};function n(){t.$checkbox=$(t.settings.checkbox.selector),t.$checkbox.on("change",o)}function i(){t.$checkbox.off("change",o)}function o(e){var n,i,o=$(this),s=o.prop("checked"),r=o.closest("li"),a=o.closest(t.settings.parent.selector),l=(n=a,(i=o.closest(t.settings.parent.scrollerSelector)).length>0?i:n);if(s){var c=o.parentsUntil(t.settings.parent.selector).children(t.settings.checkbox.selector);a.find(t.settings.checkbox.selector).not(c).prop("checked",!1).removeAttr("checked");var d=o.siblings("ul").children();d.not(t.settings.listItem.emptySelector).length<=1&&d.children("input").prop("checked",!0),d.filter(t.settings.listItem.openedByParentSelector).children("input").prop("checked",!0)}(r.nextAll(t.settings.listItem.emptySelector).children("input").prop("checked",s),s)&&($.convertToBool(a.attr(t.settings.parent.attrs.noAnimation))||$.convertToBool(o.attr(t.settings.checkbox.attrs.noIsCheckedAnimation))||function(e,t){function n(){return e.offset().top+t.scrollTop()}setTimeout((function(){t.animate({scrollTop:n()},"slow")}),500)}(o,l))}t.settings=$.extend(!0,{},{parent:{selector:".main-navbar",scrollerSelector:".main-navbar-extended-contents",attrs:{noAnimation:"data-noanimation"}},checkbox:{selector:"[data-trigger='menu-opener']",attrs:{noIsCheckedAnimation:"data-checked-noanimation"}},listItem:{emptySelector:"[data-menu-item='empty']",openedByParentSelector:"[data-menu-item='parently-opened']"}},e),t.settings.parent&&t.settings.checkbox&&t.settings.listItem&&n()},initMaterialStyle:function(){$("[material-style]").addClass("no-content").change((function(){var e=$(this),t=e.val();t&&t.length>0?(e.removeClass("no-content"),e.addClass("has-content")):(e.removeClass("has-content"),e.addClass("no-content"))})).keyup((function(){$(this).hasClass("dirty")||$(this).addClass("dirty")}))},initCloseButton:function(){$("[data-trigger='close']").click((function(e){e.preventDefault();var t=$(this).attr("close-target");if(t){var n=$(t);if(!(n.length>0))return console.error("Wrong target for closing."),!1;n.fadeOut("slow")}}))},initAccordeonListingFilter:function(e){var t=$(".filters-accordeon .product-control"),n=$(".filters-accordeon .panel-collapse"),i=$.getCurrentViewport().width;function o(o){var s=$.getCurrentViewport().width;if(o)return r(),void(i=s);function r(){t.addClass("collapsed"),n.removeClass("in"),$(window).trigger("syvo_filters:ready")}s<e?(i>=e||i===s)&&(r(),i=s):(i<e||i===s)&&(t.removeClass("collapsed"),n.addClass("in"),$(window).trigger("syvo_filters:ready"),i=s)}o(common_settings.isMobile),$(window).resize((function(){o()}))},initStickySubmit:function(e){var t={};if(t.settings=$.extend({},{target:{selector:"[data-property='sticky-submit']",activeClass:"sticky"},parent:{selector:"[data-property='sticky-submit-parent']",activeClass:"sticky-submit-active",topTouchedClass:"top-touched",bottomTouchedClass:"bottom-touched"},dependencies:{list:[{selector:".filter-input input",action:"click touch"}],activeClass:"sticky-forced"},breakpoint:992},e),t.target=$(t.settings.target.selector),t.parent=t.target.closest(t.settings.parent.selector),t.lastWidth=$.getCurrentViewport().width,t.fixedHeaderOffset=0,t.init=function(){for(var e=$(window).scrollTop(),n=e+$.getCurrentViewport().height,i=0,o=t.target.length;i<o;i++){var d=$(t.target[i]),u=d.closest(t.settings.parent.selector),f=u.offset().top-t.fixedHeaderOffset,g=f+u.height()+d.height();e<f?a(u,d):r(u,d),l(u,e,f),c(u,n,g),u.dependencyFired&&s(u,d),t.activatedFromDependency&&u.length>0&&t.activatedFromDependency.indexOf(u[0])>=0&&s(u,d)}},t.operateScroll=t.init,t.destroy=function(){a(t.parent,t.target,!0),t.operateScroll=function(){}},t.reinit=function(){t.operateScroll=t.init,t.init()},t.settings.breakpoint?(t.checkBreakPoint=function(){var e=$.getCurrentViewport().width;e<t.settings.breakpoint?(t.lastWidth>=t.settings.breakpoint||t.inited)&&(t.destroy(),t.lastWidth=e):(t.lastWidth<t.settings.breakpoint||!t.inited)&&(t.destroy(),t.reinit(),t.lastWidth=e)},t.checkBreakPoint(),$(window).resize((function(){clearTimeout(t.resizedFinished),t.resizedFinished=setTimeout((function(){t.checkBreakPoint()}),1e3)})),$(window).on("syvo_filters:ready",(function(){t.reinit()})),$(window).on("syvo_fixedHeader:onApply",(function(e){t.fixedHeaderOffset=$(e.target).outerHeight(),t.reinit()})),$(window).on("syvo_fixedHeader:onReset",(function(){t.fixedHeaderOffset=0,t.reinit()}))):t.init(),t.settings.dependencies&&t.settings.dependencies.list&&t.settings.dependencies.list.length>0){t.activatedFromDependency=[];for(var n=0,i=t.settings.dependencies.list.length;n<i;n++){var o=t.settings.dependencies.list[n];$(o.selector).on(o.action,(function(){var e=$(this).closest(t.settings.parent.selector),n=e.find(t.settings.target.selector);s(e,n)}))}}function s(e,n){e.length>0&&-1===t.activatedFromDependency.indexOf(e[0])&&t.activatedFromDependency.push(e[0]),a(e,n,!0),r(e,n),e.trigger("syvo_sticky_submit:dependencyFired")}function r(e,n){n.width(n.width()),t.activatedFromDependency&&e.length>0&&t.activatedFromDependency.indexOf(e[0])>=0&&n.addClass(t.settings.dependencies.activeClass),e.addClass(t.settings.parent.activeClass),n.addClass(t.settings.target.activeClass),e.trigger("syvo_sticky_submit:activated"),t.inited=!0}function a(e,n,i){n.removeClass(t.settings.target.activeClass),e.removeClass(t.settings.parent.activeClass),e.trigger("syvo_sticky_submit:deactivated"),i&&n.removeClass(t.settings.dependencies.activeClass),(!t.activatedFromDependency||0===t.activatedFromDependency.length||0===e.length&&-1===t.activatedFromDependency.indexOf(e[0])||i)&&n.width(""),t.inited=!1}function l(e,n,i){n<i?e.hasClass(t.settings.parent.topTouchedClass)&&(e.removeClass(t.settings.parent.topTouchedClass),e.trigger("syvo_sticky_submit:topUnTouched")):e.hasClass(t.settings.parent.topTouchedClass)||(e.addClass(t.settings.parent.topTouchedClass),e.trigger("syvo_sticky_submit:topTouched"))}function c(e,n,i){n>=i?e.hasClass(t.settings.parent.bottomTouchedClass)||(e.addClass(t.settings.parent.bottomTouchedClass),e.trigger("syvo_sticky_submit:bottomTouched")):e.hasClass(t.settings.parent.bottomTouchedClass)&&(e.removeClass(t.settings.parent.bottomTouchedClass),e.trigger("syvo_sticky_submit:bottomUnTouched"))}$(window).scroll((function(){clearTimeout(t.scrollFinished),t.scrollFinished=setTimeout((function(){t.operateScroll()}),100)})),$(window).resize((function(){clearTimeout(t.resizedFinished),t.resizedFinished=setTimeout((function(){t.destroy(),t.reinit()}),1e3)}))},checkBreakPoint:function(e,t,n,i){var o={};function s(){o.lastWidth=t,a(),$(window).on("resize",l)}function r(){o.lastWidth=null,$(window).off("resize",l)}function a(){var t=$.getCurrentViewport().width;t<e?o.lastWidth>=e&&("function"==typeof i&&i(),o.lastWidth=t):o.lastWidth<e&&("function"==typeof n&&n(),o.lastWidth=t)}function l(){a()}return o.init=s,o.destroy=r,o.reload=function(){r(),s()},s(),o},initScrollToButton:function(){var e=$("[data-trigger='scroll-to']"),t=0,n=$("[data-property=fixed-header]"),i=0;e.on("click",(function(e){var n;e.preventDefault(),t=function(e){var t=$(document).scrollTop(),n=$(e);n.length>0?t=$(n[0]).offset().top-i:console.error("Wrong target for scrolling.");return t}($(this).attr("data-target")),n=t,$("html, body").animate({scrollTop:n},"slow")})),n.on("syvo_fixedHeader:onCalculate",(function(e,t,n){i=n}))},initInputToggle:function(){var e=$("[data-trigger='toggle']");$.each(e,(function(){var e=$(this);$("input[name='"+e.attr("name")+"']").not(e).change((function(){e.trigger("change")}));var t=e.attr("toggle-target");if(t){var n=$(t);e.prop("checked")?n.show("slow"):n.hide("fast")}else console.log("no target is setted up for "+e)})),e.on("change",(function(){var e=$(this),t=e.attr("toggle-target");if(t){var n=$(t);e.prop("checked")?n.show("slow"):n.hide("fast")}}))},initDraggableToggleV2:function(e){var t={settings:$.extend(!0,{},{parent:{selector:"[data-property='v2-toggle']"},input:{selector:"input[type='checkbox']"},handle:{selector:".handle"},area:{selector:".v2-control"}},e)};function n(e){e.input=e.find(t.settings.input.selector),e.area=e.find(t.settings.area.selector),e.handle=e.find(t.settings.handle.selector),function(){"function"==typeof $.fn.draggable&&e.handle.draggable({axis:"x",containment:"parent",stop:function(){!function(){parseInt(e.handle.css("left"))+e.handle.width()/2<=e.area.width()/2?e.input.prop("checked",!1).change():e.input.prop("checked",!0).change();e.handle.css("left","")}()},start:function(){e.handle.css("left","")}});"function"==typeof $.fn.swipe&&e.area.swipe({allowPageScroll:"none",threshold:0,swipe:function(t,n,i,o,s,r){!function(t,n){n>=e.area.width()/2&&(t===$.fn.swipe.directions.LEFT?e.input.prop("checked",!1).change():t===$.fn.swipe.directions.RIGHT&&e.input.prop("checked",!0).change())}(n,i)}});e.on("click",(function(t){n=$(t.target),n.is(e.handle)||e.input.prop("checked",!e.input.prop("checked")).change();var n}))}()}t.settings&&t.settings.parent&&t.settings.handle&&(t.toggles=[],$.each($(t.settings.parent.selector),(function(){var e=$(this);t.toggles.push(e)})),function(){if(0!==t.toggles.length)for(var e=0,i=t.toggles.length;e<i;e++)n(t.toggles[e])}())},initAutocompleteV2:function(e){var t={settings:$.extend(!0,{},{parent:{selector:"[data-property='v2-autocomplete']"},input:{dataAttr:"data-autocomplete-target",triggerEvent:"keyup",debounce:500},list:{dataAttr:"data-autocomplete-list",updatingClass:"is-updating",values:{dataAttr:"data-autocomplete-value",parent:"li",hideClass:"is-hidden",updatingClass:"is-updating"}},onBeforeChange:function(){},onChange:function(){},onAfterChange:function(){}},e)};function n(e){e.list=$(e.attr(t.settings.input.dataAttr));var n=e.list.find($("["+t.settings.list.values.dataAttr+"]"));0!==n.length&&(e.list.values=[],$.each(n,(function(){var n=$(this);e.list.values.push({item:n.closest(t.settings.list.values.parent),value:i(n)})})),e.list.cachedValues=e.list.values,e.on(t.settings.input.triggerEvent,(function(){var n=$(this);clearTimeout(e.timeOut),e.timeOut=setTimeout((function(){!function(n){var i,o,s,r=n&&n.startsWith(e.lastValue)?e.list.cachedValues:e.list.values,a=[],l=$(),c=$();if(n)for(var d=0,u=r.length;d<u;d++)r[d].value.toLowerCase().startsWith(n.toLowerCase())?(a.push(r[d]),c=c.add(r[d].item)):l=l.add(r[d].item);else{for(var f=0,g=r.length;f<g;f++)c=c.add(r[f].item);a=r}e.lastValue=n,e.list.cachedValues=a,i=function(){var n;e.list.addClass(t.settings.list.updatingClass),(n=c).addClass(t.settings.list.values.updatingClass),setTimeout((function(){n.removeClass(t.settings.list.values.updatingClass),n.removeClass(t.settings.list.values.hideClass)}),50),function(e){e.addClass(t.settings.list.values.updatingClass),setTimeout((function(){e.removeClass(t.settings.list.values.updatingClass),e.addClass(t.settings.list.values.hideClass)}),50)}(l),setTimeout((function(){e.list.removeClass(t.settings.list.updatingClass)}),50)},"function"==typeof o&&o(),"function"==typeof t.settings.onBeforeChange&&t.settings.onBeforeChange(),e.list.trigger("v2-autocomplete:onBeforeChange"),"function"==typeof i&&i(),"function"==typeof t.settings.onChange&&t.settings.onChange(),e.list.trigger("v2-autocomplete:onChange"),"function"==typeof s&&s(),"function"==typeof t.settings.onAfterChange&&t.settings.onAfterChange(),e.list.trigger("v2-autocomplete:onAfterChange")}(n.val())}),t.settings.input.debounce)})))}function i(e){var n=e.attr(t.settings.list.values.dataAttr);return n||(n=e.text()),n}t.settings&&t.settings.parent&&t.settings.input&&t.settings.list&&(t.autocompletes=[],$.each($(t.settings.parent.selector),(function(){var e=$(this);t.autocompletes.push(e.find("["+t.settings.input.dataAttr+"]"))})),function(){if(0!==t.autocompletes.length)for(var e=0,i=t.autocompletes.length;e<i;e++)n(t.autocompletes[e])}())},initScrollbarV2:function(e){var t={target:{selector:"[data-property='v2-scrollbar']"},mCS:{advanced:{autoUpdateTimeout:10},callbacks:{onOverflowYNone:function(){$(this).addClass("no-scrollbar")},onOverflowY:function(){$(this).removeClass("no-scrollbar")}}}},n={settings:$.extend(!0,{},t,e),mCS:[]};if(n.settings&&n.settings.target&&n.settings.target.selector&&n.settings.mCS)return n.init=i,n.destroy=o,n.reload=function(){return o(),i(),n},i(),n;function i(){return $.each($(n.settings.target.selector),(function(){var e=$(this);n.mCS.push(e)})),function(){if(0===n.mCS.length)return;for(var e=0,t=n.mCS.length;e<t;e++)n.mCS[e].mCustomScrollbar(n.settings.mCS)}(),n}function o(){return function(){if(0===n.mCS.length)return;for(var e=0,t=n.mCS.length;e<t;e++)n.mCS[e].mCustomScrollbar("destroy")}(),n.mCS=[],n}},initIonRangeV2:function(e){var t={parent:{selector:"[data-property='v2-range']"},input:{dataAttr:"v2-range-target",fromAttr:"v2-range-from",toAttr:"v2-range-to"},ionSettings:{min:0,max:0,type:"double",prefix:this.getCheckoutCurrencyPrefix(),postfix:this.getCheckoutCurrencyPostfix(),grid:!1,prettify_enabled:!0,prettify_separator:",",input_values_separator:"-",max_postfix:"",change_triggered:!1,extra_classes:"ion-control"}},n={settings:$.extend(!0,{},t,e)};n.settings&&n.settings.parent&&n.settings.input&&n.settings.ionSettings&&(n.priceRanges=[],function(){var e=$(n.settings.parent.selector).find("["+n.settings.input.dataAttr+"]");function t(e){var t=u(e.attr(n.settings.input.dataAttr)),i=$.extend(!0,{},n.settings.ionSettings,t);i.onFinish=d,i.onUpdate=c,e.ionRangeSlider(i);var o=e.data("ionRangeSlider");o.updateRange=l,n.priceRanges.push(o);var s=e.closest(n.settings.parent.selector),r=s.find("["+n.settings.input.fromAttr+"]"),a=s.find("["+n.settings.input.toAttr+"]");function l(){var e=parseFloat(r.val()),t=parseFloat(a.val()),n=!isNaN(e)&&e>o.options.min?e:o.options.min,i=!isNaN(t)&&t<o.options.max?t:o.options.max;o.update({from:n,to:i})}function c(e){r.val(e.from),a.val(e.to)}function d(e){r.val(e.from),a.val(e.to).change()}function u(e){if(e)try{return JSON.parse(e)}catch(e){console.log(e)}}r.change(l),a.change(l)}$.each(e,(function(){t($(this))}))}())},_partsOfPriceFormat:function(){var e=window.common_settings.currencies.find((function(e){return e.Currency==window.common_settings.checkoutCurrencyIndex}));if(e&&-1!==e.Format.indexOf("0.00"))return e.Format.split("0.00");return[]},getCheckoutCurrencyPrefix:function(){return this._partsOfPriceFormat()[0]||null},getCheckoutCurrencyPostfix:function(){return this._partsOfPriceFormat()[1]||null},initReCaptchaScaling:function(e){var t=e||304,n=$(".g-recaptcha");function i(e,t){var n=e.parent().width()/t||1;e.css({transform:"scale("+n+")"})}i(n,t),$(window).resize((function(){i(n,t)})),$(".modal").on("modal:open shown",(function(){i(n,t)}))},initReCaptchaAccessibilityFixes:function(){$("#g-recaptcha-response").attr("aria-label","Google ReCaptcha")},storageManager:{setKey:function(e,t,n){sessionStorage.setItem(e,JSON.stringify(t),n)},getKey:function(e,t,n){return JSON.parse(sessionStorage.getItem(e))},removeItem:function(e){sessionStorage.removeItem(e)}},saveQueryStringValues:function(){var e=new URI(location.href).query(!0);for(var t in e)e.hasOwnProperty(t)&&sessionStorage.setItem(t,e[t])},initTransferReceivers:function(){var e=$("form[data-transfer-property]"),t=e.data("transfer-property"),n=Common.storageManager.getKey(t)||{};e.find("input, select, textarea").each((function(e,i){if(!$(this).data("transfer-ignore")){var o=$(this).data("transfer-field");void 0===o&&(o=$(this).attr("name"));var s=n,r=$(this).data("transfer-property");void 0!==r&&r!=t&&(localdata=Common.storageManager.getKey(r)||{});var a=s[o];void 0!==a&&$(this).val(a).trigger("change")}}))},initTransferSenders:function(){var e=$("[transfer-emitter]"),t=e.data("transfer-property");e.find("[transfer-submitter]").click((function(n){if(e.valid()){var i=Common.serializeFormToObject(e);Common.storageManager.setKey(t,i)}else n.preventDefault()}))},initTelephoneMask:function(e){"function"==typeof $.fn.inputmask&&(e||(e=$("[data-property=phone-mask]")),e.inputmask({mask:"+1-999-999-9999",autoUnmask:!0,onUnMask:function(e){return e.replace(/-/g,"")}}))},initStellar:function(e,t,n){var i={verticalScrolling:!0,responsive:!0,horizontalOffset:0,hideDistantElements:!1},o={settings:n?$.extend(!0,{},i,n):i};function s(t,n){return t>e?($.stellar(o.settings),!0):(n&&($.stellar("destroy"),$.stellar({verticalScrolling:!1,verticalOffset:0,horizontalOffset:0,hideDistantElements:!1}),$.stellar("destroy")),!1)}window.common_settings&&window.common_settings.isMobile&&$("body").addClass("is-mobile-device"),$("body").hasClass("is-mobile-device")||function(){if("function"==typeof $.stellar){!function(){if(!(t&&t instanceof Object))return;$.each(t,(function(e,t){$(e).attr("data-stellar-background-ratio",t)}))}();var n=$.getCurrentViewport().width,i=s(n,!1);$(window).resize((function(){var t=$.getCurrentViewport().width;(n>e&&t<=e||n<=e&&t>e)&&(i=s(t,i)),n=t}))}}()},calculateTax:function(e,t,n,i,o){var s=0;if(isNaN(e)||!t||0===t.length||!n||0===n.length||isNaN(i))return s;e=parseInt(e);var r=n.filter((function(t){return t.StateId==e}));if(0===r.length)return s;var a=r[0].TaxPercent;if(!r.find((function(e){return e.TaxPercent!=a}))){var l=t.reduce((function(e,t){return e+t.Price}),0);o&&o.length>0&&-1!==o.indexOf(e)&&(l<i?l=0:l-=i),s=(l*(a||0)/100).toFixed(2)-0}else s=t.reduce((function(e,t){var n=r.find((function(e){return e.ProductId==t.ProductId}))||{TaxPercent:0};return e+((t.Price*n.TaxPercent/100).toFixed(2)-0)}),0);return s},createAndSubmitForm:function(e,t){var n=$("<form />",{method:"post",action:e,id:"form"+Date.now()});for(var i in t)if(t.hasOwnProperty(i)){var o=$("<input />",{type:"hidden",name:i,value:t[i]});n.append(o)}$("body").append(n),n[0].submit()},toCamel:function(e){var t,n,i,o;if(e instanceof Array)return e.map((function(e){return"object"===_typeof(e)&&(e=Common.toCamel(e)),e}));for(n in t={},e)e.hasOwnProperty(n)&&(i=(n.charAt(0).toLowerCase()+n.slice(1)||n).toString(),((o=e[n])instanceof Array||null!==o&&o.constructor===Object)&&(o=Common.toCamel(o)),t[i]=o);return t},stringFormat:function(e,t){if("string"!=typeof e)return e;function n(e,t,i){if(!e)return"";var o=e.split("{"+t+"}");return t+1<i.length&&(o=o.map((function(e){return n(e,t+1,i)}))),o.join(i[t]||"")}return Array.isArray(t)||(t=Array.from(arguments).slice(1)),n(e,0,t)},initCarouselSwipeFix:function(){var e=$(".carousel");e.length>0&&e.swipe({swipeStatus:function(e,t){var n=$(this);n.data("stopclick",!0),t===$.fn.swipe.phases.PHASE_CANCEL&&n.data("stopclick",!1)},triggerOnTouchEnd:!1}).on("click",(function(e){var t=$(this);!0===t.data("stopclick")&&(e.stopImmediatePropagation(),e.preventDefault(),t.data("stopclick",!1))}))},submenuFix:function(){var e=$(".common-navbar"),t=e.find("> ul > li"),n="submenu-right";if(0!==e.length&&0!==t.length){var i=$.getCurrentViewport().width;o(i),$(window).resize((function(){o($.getCurrentViewport().width)}))}function o(e){e<992?i>=992&&s():i<992?s():function(){s();var e=$.getCurrentViewport().width/2;$.each(t,(function(){var t=$(this);t.offset().left>e&&t.addClass(n)}))}(),i=e}function s(){t.removeClass(n)}},bindEvents:function(){var e,t;setTimeout((function(){$("#spinner").hide()}),500),$(".clickable").on("click",(function(e){e.stopPropagation()})),$(".close-dropdown").click((function(e){$(this).parent().prev().dropdown("toggle")})),$(".dropdown").on("show.bs.dropdown",(function(e){e.stopPropagation(),$(this).hasClass("allow-body-overflow")||$("body").addClass("overflow-hidden-mobile")})).on("hide.bs.dropdown",(function(e){e.stopPropagation(),$("body").removeClass("overflow-hidden-mobile")})),$(".navbar-collapse").on("show.bs.collapse shown.bs.collapse",(function(e){e.stopPropagation(),$(this).hasClass("allow-body-overflow")||$("body").addClass("overflow-hidden-mobile")})).on("hide.bs.collapse hidden.bs.collapse",(function(e){e.stopPropagation(),$("body").removeClass("overflow-hidden-mobile")})),$(".show-search").click((function(e){e.preventDefault();var t=$(".search-form");t.removeClass("collapsed"),t.addClass("in"),t.find('input[type="search"]').focus()})),$(".close-search-form").click((function(e){e.preventDefault();var t=$(".search-form");t.removeClass("in"),t.addClass("collapsed"),t.find('input[type="search"]').blur()})),$(".search-form input").focus((function(e){var t=$(this).closest(".search-form");t.removeClass("lost-focus"),t.addClass("has-focus")})).blur((function(e){var t=$(this).closest(".search-form");t.removeClass("has-focus"),t.addClass("lost-focus")})),e=$(window),t=!1,e.on("touchstart",(function(e){e.originalEvent instanceof TouchEvent&&2===e.originalEvent.touches.length&&(t=!0,function(e,t){e&&0!==e.length&&e.trigger("syvo:pinchstart",t)}($(this),e))})),e.on("touchmove",(function(e){t&&function(e,t){e&&0!==e.length&&e.trigger("syvo:pinchmove",t)}($(this),e)})),e.on("touchmove",(function(e){t&&(function(e,t){e&&0!==e.length&&e.trigger("syvo:pinchend",t)}($(this),e),t=!1)}))},initFixes:function(){setTimeout((function(){var e=$("select");0!==e.length&&e.not("[no-styler]").styler()}),50)},initSlickADAFixesFromMain:function(){if("function"==typeof $.fn.slick){var e=function(e){function t(e){return e.attr("aria-label")}function n(e,t){e.attr("aria-label",t)}e.on("init",(function(e,i){var o=i.initADA;function s(){var e=$(this),t=e.attr("aria-describedby");void 0!==e.attr("aria-describedby")&&0===$("#"+t).length&&e.removeAttr("aria-describedby")}i.initADA=function(){o.apply(i,arguments);var e=t(i.$slider);n(i.$slideTrack,"".concat(e," Scroll List")),i.$slider.find(".slick-slide").each(s)}})),e.on("init breakpoint afterChange",(function(e,t,n){t.options.dots&&t.$dots&&setTimeout((function(){t.$dots.find("li").each((function(){var e=$(this);e.attr("role","tab"),e.attr("tabindex",0),e.attr("aria-hidden",!1),e.attr("aria-selected",e.hasClass("dot-current")),e.removeAttr("aria-controls")}))}),1)}))},t=$.fn.slick;$.fn.slick=function(){return e(this),t.apply(this,arguments)}}},initMagicZoomADAFixes:function(){if(window.MagicZoom){window.MagicZoom.registerCallback("onZoomReady",(function(e){$(".mz-lens img").each((function(){var e=$(this),t="Zoommed image",n=e.parent().parent().children("img").attr("alt");n&&(t="Zoom for "+n),e.attr("alt",t)})),$(".mz-zoom-window").attr("aria-hidden","true"),Common.initMagicZoomAccessibilityFixes(e)}))}},initResponsiveSlick:function(e,t,n,i,o){if(e&&t&&n&&i){var s={$slider:$(t),init:r,reinit:function(){a(),r()},destroy:a};return r(),s}function r(){s.prevWidth=$.getCurrentViewport().width,$(window).on("resize",d),s.$slider.on("setPosition",u),l(),s.$slider.trigger("setPosition")}function a(){$(window).off("resize",d),s.$slider.off("setPosition",u),s.slick=c("unslick")}function l(){var t=$.getCurrentViewport().width;t<=e?s.slick?s.prevWidth>e&&(s.slick=c(i)):s.slick=c(i):s.slick?s.prevWidth<=e&&(s.slick=c(n)):s.slick=c(n),s.prevWidth=t}function c(e){if(s.slick&&s.$slider.slick("unslick"),"unslick"!==e)return s.$slider.slick(e)}function d(){l()}function u(e,t){!function(e){if(!e||!e.$slider||!o)return;Common.setRelatedArrowsPosition(e,o)}(t)}},googleTranslateResponsiveInit:function(e){var t={target:"google_translate_element",layout:2,pageLanguage:"en",responsive:[{breakpoint:992,settings:{target:"google_translate_element_mobile",layout:1}}]},n=function(){},i={init:window.googleTranslateElementInit,getSettings:function(){return $.extend(!0,{},i.settings)},settings:$.extend(!0,{},t,e),responsive:n,reinit:n},o=s().breakpoint;function s(){var e=i.settings.responsive,t=$.getCurrentViewport().width;return 0===(e=(e=e.sort((function(e,t){return e.breakpoint-t.breakpoint}))).filter((function(e,n){return e.breakpoint>t}))).length&&e.push({breakpoint:8e3,settings:i.settings}),e[0]}i.settings.responsive&&i.settings.responsive.length>0&&($(window).resize((function(){i.responsive(s().breakpoint)})),i.responsive=function(e){o!==e&&(o=e,i.reinit())},i.reinit=function(){window.location.reload()},i.getSettings=function(){return i.currentBreakpoint=s(),$.extend(!0,{},i.settings,i.currentBreakpoint.settings)}),window.googleTranslateElementInit=function(){var e=i.getSettings();i.TranslateElement=new google.translate.TranslateElement(e,e.target)}},applyForMobile:function(e){var t={settings:$.extend(!0,{},{breakpoint:992,targets:[]},e)};function n(e,n){var i=$.getCurrentViewport().width;if(n)return o(),i;if(i<t.settings.breakpoint){if(null==e||e>=t.settings.breakpoint||e===i)return o(),i}else if(e<t.settings.breakpoint)return function(){for(var e=0,n=t.settings.targets.length;e<n;e++)t.defaultState.hasOwnProperty(t.settings.targets[e].selector)&&$(t.settings.targets[e].selector).attr(t.settings.targets[e].attr,t.defaultState[t.settings.targets[e].selector])}(),i;function o(){!function(){for(var e=0,n=t.settings.targets.length;e<n;e++){var i=void 0;i=t.defaultState.hasOwnProperty(t.settings.targets[e].selector)?t.defaultState[t.settings.targets[e].selector]:$(t.settings.targets[e].selector).attr(t.settings.targets[e].attr),t.settings.targets[e].modifyFunc&&"function"==typeof t.settings.targets[e].modifyFunc&&$(t.settings.targets[e].selector).attr(t.settings.targets[e].attr,t.settings.targets[e].modifyFunc(i))}}()}}t.settings&&t.settings.breakpoint&&t.settings.targets&&$.isArray(t.settings.targets)&&0!==t.settings.targets.length&&function(){t.defaultState=function(){for(var e={},n=0,i=t.settings.targets.length;n<i;n++)e[t.settings.targets[n].selector]=$(t.settings.targets[n].selector).attr(t.settings.targets[n].attr);return e}();var e=n($.getCurrentViewport().width,common_settings.isMobile);$(window).resize((function(){e=n(e)}))}()},disableSafaryAutozoomOnFocus:function(e){var t={settings:$.extend(!0,{},{targets:[{selector:"head meta[name=viewport]",attr:"content"}],onlyForMobile:!0},e)};function n(e){var t=function(e){for(var t={},n=0,i=e.length;n<i;n++){var o=e[n].split("=");2!==o.length?1!==o.length?o.length>2&&(t[o[0]]=o.splice(1,1).join("=")):t[o[0]]="":t[o[0]]=o[1]}return t}(e.split(", "));return t["user-scalable"]=0,function(e){return $.param(e).replace(/&/g,", ")}(t)}t.settings&&t.settings.targets&&$.isArray(t.settings.targets)&&0!==t.settings.targets.length&&function(){if(!t.settings.selector)return void function(){for(var e=0,i=t.settings.targets.length;e<i;e++)t.settings.targets[e].modifyFunc=n;Common.applyForMobile({breakpoint:t.settings.onlyForMobile?992:8e3,targets:t.settings.targets})}();!function(){var e=$(t.settings.selector);if(0===e.length)return;function i(){!function(){for(var e=0,n=t.settings.targets.length;e<n;e++)t.defaultState.hasOwnProperty(t.settings.targets[e].selector)&&$(t.settings.targets[e].selector).attr(t.settings.targets[e].attr,t.defaultState[t.settings.targets[e].selector])}()}function o(){!function(){for(var e=0,i=t.settings.targets.length;e<i;e++){var o=void 0;o=t.defaultState.hasOwnProperty(t.settings.targets[e].selector)?t.defaultState[t.settings.targets[e].selector]:$(t.settings.targets[e].selector).attr(t.settings.targets[e].attr),$(t.settings.targets[e].selector).attr(t.settings.targets[e].attr,n(o))}}()}t.defaultState=function(){for(var e={},n=0,i=t.settings.targets.length;n<i;n++)e[t.settings.targets[n].selector]=$(t.settings.targets[n].selector).attr(t.settings.targets[n].attr);return e}(),e.on("touchstart focus",(function(){o()})),e.on("touchend",(function(){setTimeout(i,500)})),e.on("blur",(function(){i()}))}()}()},setRelatedArrowsPosition:function(e,t,n){if(e&&e.$slider&&e.$prevArrow&&e.$nextArrow){var i=e.$slider.find(t);if(0!==i.length){var o=function(){var t=e.$slider.find(n).outerHeight();return t||0}(),s=i.outerHeight()-2*o,r=i.offset().top-function(){if("static"!==e.$slider.css("position"))return e.$slider;return t=e.$slider.parents().filter((function(){return"static"!==$(this).css("position")})),0!==t.length?$(t[0]):$("body");var t}().offset().top+o;e.$prevArrow.css("position","absolute").css("height",s+"px").css("top",r+"px"),e.$nextArrow.css("position","absolute").css("height",s+"px").css("top",r+"px")}}},getWindowLocationParameter:function(e,t){t="boolean"==typeof t&&t,e=e.toLowerCase();var n=new URL(window.location.href.toLowerCase()).searchParams;if(n.has(e)){var i=n.get(e);return void 0===i&&t?t:i}},slickDotsSlider:function(e){var t=!1,n={settings:$.extend(!0,{},{parent:{selector:"[data-property=slick-dots-slider]",activeClass:"slick-dots-slider"},control:{selector:".slick-dots > li",pluginCurrentSelector:".slick-active",currentClass:"dot-current",edgeClass:"dot-edge",hiddenClass:"dot-hidden",activeClass:"dot-active",activeCount:4},timeout:250},e)};if(n.settings.parent&&n.settings.control)return n.init=i,n.destroy=o,n.reload=function(){return o(),i()},n.setIndexFromParent=function(e,t){d(l(e,t))},i();function i(){if(t)return n;return n.$parents=$(n.settings.parent.selector),n.$controls=n.$parents.find(n.settings.control.selector),n.$controls.on("click",a),$.each(n.$parents,(function(e,t){d(l($(t)))})),s(),s(!0),n}function o(){if(!t)return n;return n.$controls.removeClass(n.settings.control.currentClass).removeClass(n.settings.control.activeClass).removeClass(n.settings.control.hiddenClass),n.$controls.off("click",a),n.$parents=$(),n.$controls=$(),s(!1),n}function s(e){t=e,r((function(){!0===e?n.$parents.addClass(n.settings.parent.activeClass):n.$parents.removeClass(n.settings.parent.activeClass)}))}function r(e){setTimeout((function(){"function"==typeof e&&e()}),n.settings.timeout)}function a(e){var t,i,o;e.preventDefault(),t=$(this),i=function(e){return e.closest(n.settings.parent.selector)}(t),o=c(i),d(new u(i,o,t))}function l(e,t){var i=c(e),o=void 0===t?i.filter(n.settings.control.pluginCurrentSelector):i.filter((function(e,n){return e===t}));return new u(e,i,o,t)}function c(e){return e.find(n.settings.control.selector)}function d(e){e.currentIndex=function(e){if(void 0!==e.currentIndex)return e.currentIndex;var t;return $.each(e.$controls,(function(e,i){void 0===t&&(t=n(e,$(i)))})),t;function n(t,n){if(n.is(e.$current))return t}}(e);var t=function(e){var t=e.$controls.length,i=0,o=t-1,s=e.currentIndex,r=n.settings.control.activeCount;if(r>t)return new f(i,o,s);if(s<=1)return new f(i,i+r-1,s);if(o-s<=1)return new f(o-r+1,o,s);var a=s-1;a<i&&(a=i);var l=a+r-1;l>o&&(a=(l=o)-r+1);return new f(a,l,s)}(e),i=e.$controls.filter((function(e,n){return e>=t.begin&&e<=t.end})),o=e.$controls.filter((function(e,n){return e===t.begin||e===t.end})),s=e.$controls.not(o),a=e.$controls.not(i);e.$controls.not(e.$current).removeClass(n.settings.control.currentClass),e.$current.addClass(n.settings.control.currentClass),r((function(){o.addClass(n.settings.control.edgeClass),s.removeClass(n.settings.control.edgeClass),i.removeClass(n.settings.control.hiddenClass).addClass(n.settings.control.activeClass),a.removeClass(n.settings.control.activeClass).addClass(n.settings.control.hiddenClass)}))}function u(e,t,n,i){this.$controls=t,this.$current=n,this.currentIndex=i}function f(e,t,n){this.current=n,this.begin=e,this.end=t}},initMagicZoomAccessibilityFixes:function(e){$(".mz-zoom-window > img").attr("alt","Mz zoom window"),$("#"+e+" .mz-nav-controls button").each((function(){var e=$(this);e.attr("aria-label",e.attr("title"))}))},initPhoneMask:function(){var e=$("input[data-val-string-regex-format-regexp]");$.each(e,(function(e,t){var n=$(t),i=n.attr("data-val-string-regex-format-regexp");try{new RegExp(i)}catch(e){return}Inputmask({regex:i}).mask(n)}))}},CommonMonCherry={findInStore:function(e,t){function n(e,n){var i=e.find("[data-property='sticky-submit']");void 0===n?i.css("transform",""):i.css("transform","translateY(".concat(n,")")),e.css("padding-bottom",i.height()+"px"),i.css("top",t.height()+"px")}function i(e){var t=e.find("[data-property='sticky-submit']");t.css("transform",""),e.css("padding-bottom",""),t.css("top","")}e.on("syvo_sticky_submit:activated",(function(e){n($(this),"-1%")})),e.on("syvo_sticky_submit:topTouched",(function(e){$(this);n($(this),0)})),e.on("syvo_sticky_submit:topUnTouched",(function(e){i($(this))})),$(window).resize((function(){e.hasClass("top-touched")?n(e):i(e)}))},overViewVideosInImageSliderOnMobile:function(){var e="[data-list='preview-videos']",t="[data-list='overview-videos']",n=$(e),i=$(t);if(0!==i.length||0!==n.length){var o="[data-list='previews']",s="[data-list='overviews']",r=$(o),a=$(s);if(0!==a.length||0!==r.length){var l={previewsSlider:{selector:o,_$el:r},overviewsSlider:{selector:s,_$el:a},previewVideosSlider:{selector:e,_$el:n},overviewVideosSlider:{selector:t,_$el:i},initCount:0};$(window).on("Video:onBeforeLoad",(function(){!function(){function e(e){for(var t=$(e).find("[id]"),n=0,i=t.length;n<i;n++){var o=$(t[n]).attr("id");e=e.replace(o,o+"cloned")}return $(e).filter((function(){return 3!==this.nodeType}))}c(),l.overviewVideosSlider.$listItems=e(l.overviewVideosSlider._$el.html()),l.overviewsSlider.$listItems=e(l.overviewsSlider._$el.html()),l.previewVideosSlider.$listItems=e(l.previewVideosSlider._$el.html()),l.previewsSlider.$listItems=e(l.previewsSlider._$el.html())}()})),$(window).on("Video:onAfterLoad",(function(){!function(){l.videoModel=window.Syvo.Video,l.overviewVideosSlider.$players=l.overviewVideosSlider.$listItems.find("[data-video-type='video-js']");for(var e=0,t=l.overviewVideosSlider.$players.length;e<t;e++){var n=l.videoModel.initVideoJsSingleItem(l.overviewVideosSlider.$players[e]);n&&l.videoModel.playerItems.push(n)}l.videoModel.handleCarouselVideos()}()})),$(window).on("Product_Views:onBeforeLoad",(function(){c()})),$(window).on("Product_Views:onAfterLoad",(function(){!function(){var e=$(l.previewsSlider.selector+","+l.overviewsSlider.selector),t=null;function n(){l.productViewsModel=window.Syvo.Product_Views}function i(){u(l.overviewsSlider._$el)&&(l.overviewsSlider.slick=l.overviewsSlider._$el.slick("getSlick")),u(l.previewsSlider._$el)&&(l.previewsSlider.slick=l.previewsSlider._$el.slick("getSlick"))}function o(){function n(){clearTimeout(t),t=setTimeout((function(){i(),r()}),100),l.initCount=0}u(l.previewsSlider._$el)||u(l.overviewsSlider._$el)?n():e.on("init reinit",(function(){l.initCount++,2===l.initCount&&n()}))}function s(){function n(){clearTimeout(t),t=setTimeout((function(){i(),a()}),100)}u(l.overviewsSlider._$el)||u(l.overviewsSlider._$el)?n():e.on("init reinit",(function(){n()}))}function r(){var e,t;if((l.overviewsSlider.added||l.previewsSlider.added)&&(c(),e=u(l.overviewsSlider._$el)?l.overviewsSlider.slick.$slides.length-l.overviewsSlider.$listItems.length:l.overviewVideosSlider.$listItems.length,t=u(l.previewsSlider._$el)?l.previewsSlider.slick.$slides.length-l.previewsSlider.$listItems.length:l.previewVideosSlider.$listItems.length,e>0||t>0)){if(u(l.overviewsSlider._$el)){if(e>0)for(var n=1;n<=e;n++)l.overviewsSlider._$el.slick("slickRemove",l.overviewsSlider.slick.$slides.length-n);l.overviewsSlider.added=!1}if(u(l.previewsSlider._$el)){if(t>0)for(var i=1;i<=t;i++)l.previewsSlider._$el.slick("slickRemove",l.previewsSlider.slick.$slides.length-i);l.previewsSlider.added=!1}d()}}function a(){if(!l.overviewsSlider.added||!l.previewsSlider.added){c();var e=l.overviewVideosSlider.$listItems.length>0&&u(l.overviewsSlider._$el)&&l.overviewsSlider.slick.$slides.length===l.overviewsSlider.$listItems.length,t=l.previewVideosSlider.$slides.length>0&&u(l.previewsSlider._$el)&&l.previewsSlider.slick.$slides.length===l.previewsSlider.$listItems.length;if(e||t){if(e){for(var n=0;n<l.overviewVideosSlider.$slides.length;n++)l.overviewsSlider._$el.slick("slickAdd",l.overviewVideosSlider.$listItems[n]);l.overviewsSlider.added=e}if(t){for(var i=0;i<l.previewVideosSlider.$slides.length;i++)l.previewsSlider._$el.slick("slickAdd",l.previewVideosSlider.$listItems[i]);l.previewsSlider.added=t}}}}function c(){l.overviewVideosSlider.$listItems&&0!==l.overviewVideosSlider.$listItems.length&&(l.overviewVideosSlider.$players=l.overviewVideosSlider.$listItems.find("[data-video-type='video-js']"),0!==l.overviewVideosSlider.$players.length&&(l.overviewVideosSlider.$players.css("padding-bottom",l.overviewsSlider._$el.height()/l.overviewsSlider._$el.width()*100+"%"),"function"==typeof l.videoModel.pauseAll&&l.videoModel.pauseAll()))}function d(){clearTimeout(l.reinitSlickTimeout),l.reinitSlickTimeout=setTimeout((function(){l.overviewsSlider._$el.slick("unslick"),l.overviewsSlider._$el.html(l.overviewsSlider.$slides);var e=l.overviewsSlider._$el.height();l.productViewsModel.settings.overviews&&l.overviewsSlider._$el.slick(l.productViewsModel.settings.overviews),l.previewsSlider._$el.slick("unslick"),l.previewsSlider._$el.html(l.previewsSlider.$slides);var t=l.previewsSlider._$el.height();l.productViewsModel.settings.previews&&l.previewsSlider._$el.slick(l.productViewsModel.settings.previews),i(),l.overviewsSlider.slick.$list.css("height",e),l.previewsSlider.slick.$list.css("height",t)}),500)}function u(e){return!(!e||null===e.length)&&e.hasClass("slick-initialized")}n(),Common.checkBreakPoint(992,$.getCurrentViewport().width>=992?991:993,(function(){o()}),(function(){s()}))}()}))}}function c(){var e=".list-item";l.previewsSlider.$slides=l.previewsSlider._$el.children(e),l.overviewsSlider.$slides=l.overviewsSlider._$el.children(e),l.previewVideosSlider.$slides=l.previewVideosSlider._$el.children(e),l.overviewVideosSlider.$slides=l.overviewVideosSlider._$el.children(e)}},initFixedHeaderMdAndMore:function(){var e,t=$("body").hasClass("page-plp");function n(){e&&"function"==typeof e.init?e.init():e=$.fixedHeader()}Common.checkBreakPoint(992,$.getCurrentViewport().width>992?991:993,(function(){n()}),(function(){!function(){if(t){if(e&&"function"==typeof e.destroy)e.destroy()}else n()}()}))}},jQuery((function(e){Common.pickHiddenVars(),Common.initIntelligentNavbar(),Common.initCheckboxDropdowns(),Common.initTransferReceivers(),Common.initTransferSenders(),Common.initTelephoneMask(),Common.initCarouselSwipeFix(),Common.initCloseButton(),Common.initInputToggle(),Common.initStickySubmit(),Common.initSlickADAFixesFromMain(),Common.initMagicZoomADAFixes(),Common.saveQueryStringValues(),Common.initScrollToButton(),Common.initPhoneMask(),Common.submenuFix(),Array.isArray(window.launchAfterJquery)&&window.launchAfterJquery.length>0&&e.each(window.launchAfterJquery,(function(e,t){"function"==typeof t&&t()}))}));
"use strict";window.Syvo.Wishlist_Share=new SyvoModule("Wishlist_Share",(function(e){var r=!1,t=$.extend({},{parent:{selector:"[data-property=parent]"},form:{selector:"[data-property=share-form]",errorElement:"label",action:"wishlist/sharefriend"},success:{selector:"[data-property=form-result]",message:"Your favs have been successfully shared with {0}",property:"[data-property=success-result]"},error:{selector:"[data-property=form-result]",message:"Something goes wrong. Please, try again"}},e);t.parent&&t.form&&t.success&&t.error&&function(){if(t.parent.selector&&t.form.selector){var e=$(t.parent.selector),a=$(t.form.selector);o={},t.form.errorElement&&(o.errorElement=t.form.errorElement),a.validate(o),a.submit((function(e){e.preventDefault(),r=!1;var a=$(this),o=a.find("[name='g-recaptcha-response']"),n=o.val(),l=o.length;if(!a.valid()||l>0&&!n)return!1;$.ajax({type:"POST",url:a.attr("action")||t.form.action,dataType:"json",data:a.serialize()}).done((function(e){s(e.status,a)})).error((function(e){s(e.status,a)})).always((function(){r=!0,l<=0||!grecaptcha||grecaptcha.reset()}))})),e.on("modal:close",(function(){return!r||!1===r||(function(){l();var e=$(t.form.selector);(e||e.length>0)&&e.show()}(),r=!1,!0)}))}var o;function s(e,r){l(),e&&1==e&&n(t.success),e&&0!=e||n(t.error),r[0].reset()}function n(r){if(r){var t=e.find(r.selector);if(t&&0!=t.length){var a=r.message,o=$(r.property);o&&0!=o.length||t.text(a);var s=o.val();s&&s.length>0&&(a=jQuery.validator.format(r.message,s)),t.text(a),t.show()}}}function l(){var e=$(t.form.selector);(e||e.length>0)&&e.hide();var r=$(t.success.selector);(r||r.length>0)&&r.hide();var a=$(t.error.selector);(a||a.length>0)&&a.hide()}}()}));
"use strict";window.Syvo.Register=new SyvoModule("Register",(function(e){var r=$("form[name='sign-up']");r.submit((function(){var e=r.find("[name='g-recaptcha-response']"),a=e.val();if(!r.valid()||!e||0==a.length)return $("[data-recaptcha-error]").html("Recaptcha is required"),!1}))}));
"use strict";!function(){window.Syvo.Auto_Submiter=new SyvoModule("Auto_Submiter",(function(e){var t,o="[data-default-submit]",r="a[rel=popover]",s="[data-property='tip-block']",i="[data-property='response-msg']",a="[data-property='tip-block']",n="[data-property='response-msg']",c="",l=function(){};e.selectors&&(e.selectors.form&&(o=e.selectors.form),e.selectors.popover&&(r=e.selectors.popover),e.selectors.successfulBlock&&(s=e.selectors.successfulBlock),e.selectors.successfulText&&(i=e.selectors.successfulText),e.selectors.errorBlock&&(a=e.selectors.errorBlock),e.selectors.errorText&&(n=e.selectors.errorText));e.messages&&e.messages.success&&(c=e.messages.success);e.callback&&(l=e.callback);e.modules&&e.modules.combineFields&&(t={selectors:e.modules.combineFields.selectors,order:e.modules.combineFields.order});var u=e.removeStyler;$(s).hide(),$(a).hide(),$.fn.styler&&!u&&$(o).find("select").on("change",(function(){var e=$(this);setTimeout((function(){e.trigger("refresh"),e.valid()}),1)}));u&&$("select").styler("destroy");e.type===window.Syvo.Auto_Submiter.submiterType.FORM?function(e){$(e).submit((function(e){e.preventDefault();var o=$(this);if(o.valid()&&0===o.data("validator").pendingRequest){var r=e.currentTarget.action;t&&d();var p=function(e){var t=Object.assign({},e),o=[],r=function(){var e=$("[data-additional-field]"),t=[],o=[];return e.each((function(){var e=$(this).closest("div").find("[data-additional-title]").text(),r=$(this).attr("name");if(-1==o.indexOf(r)){o.push(r),r.endsWith("[]")&&(r=r.substring(0,r.length-2));var s={title:e,key:r};t.push(s)}})),t}();for(var s in t)t.hasOwnProperty(s)&&r.forEach((function(e,r){e.key==s&&(e.value=t[s],o.push(e),delete t[s])}));return t.additionalInfo=JSON.stringify(o),t}(Common.serializeFormToObject(o,!0));$.ajax({url:r,type:"post",data:p}).done((function(e){var t;!0===e.status?(c=c&&c.length>0?c:e.message,$(i).text(c),t=$(s),function(e){e.trigger("reset"),e.validate().resetForm(),$.fn.styler&&!u&&$("select").trigger("refresh")}(o),t.show(),$(window).scrollTop(t.position().top)):($(n).text(e.message),(t=$(a)).show(),$(window).scrollTop(t.position().top)),setTimeout((function(){t.hide()}),5e3)})).always((function(e){l(e)}))}}))}(o):e.type===window.Syvo.Auto_Submiter.submiterType.POPOVER_FORM&&function(e,o){var r=[];$(e).click((function(t){$(e).not($(this)).popover("hide"),$(this).popover("show")})).popover({html:"true",trigger:"manual"}).on("shown.bs.popover",(function(e){var t=$(this);$(this).parent().find(".close-popover").on("click",(function(e){t.popover("hide")}))})),$(e).on("shown.bs.popover",(function(e){var c=$(this);r[c.data("unique")]&&$(o).replaceWith(r[c.data("unique")]),$("body").data("validator",null),$.validator.unobtrusive.parse("body"),$(o).submit((function(e){e.preventDefault();var o=$(this);if(o.valid()&&0===o.data("validator").pendingRequest){var u=e.currentTarget.action;t&&d();var p=$(this).serialize();$.ajax({url:u,type:"post",data:p}).done((function(e){!0===e.status?(o.find("input, select").each((function(){var e=$(this);e.is("select")?e.find("option").each((function(t,o){var r=$(o);r.val()===e.val()?r.prop("selected",!0):r.prop("selected",!1)})):e.prop("value",e.val());var t=c.data("viewId");t&&$("[data-property='"+t+"']").text(e.val())})),r[c.data("unique")]=o.clone(),c.popover("hide"),$(i).text(e.message),$(s).show()):($(n).text(e.message),$(a).show(),c.popover("hide"))})).always((function(e){l(e,o)}))}}))}))}(r,o);function d(){t.selectors&&$.each(t.selectors,(function(e,o){var r=$(o).not(t.order);if(r&&r.length>0){var s=$(o+t.order);s&&s.length>0&&(s=s.sort((function(e,t){return $(e).data("order")-$(t).data("order")})),$.each(s,(function(e,t){r.val(r.val()+$(t).val())})))}}))}}));window.Syvo.Auto_Submiter.submiterType={FORM:0,POPOVER_FORM:1}}();
"use strict";window.Syvo.Cart=new SyvoModule("Cart",(function(t){function o(t,o,e){for(var a="<select "+r(t)+">",n=0;n<o.length;n++)e==o[n]?a+='<option value="'+o[n]+'" selected>'+o[n]+"</option>":a+='<option value="'+o[n]+'">'+o[n]+"</option>";return a+="</select>"}function e(t,o){return"<span "+r(t)+">"+o+"</span>"}function r(t){return t.replace("[","").replace("]","")}$("[data-property='remove-cart-item']").on("click",(function(o){if(!0===confirm("Do you really want to remove current product from cart?")){var e=$(o.target).data("stockId");$.ajax({url:t.urls.remove,type:"post",data:{stockId:e}}).always((function(){window.location.href=t.urls.main}))}})),$("[role=form]").submit((function(t){var o=$(t.target),e=o.find("[name=cProduct]").val();if(e){var r=$.parseJSON(e);if(r&&r.Components){var a=$("<input>").attr("type","hidden").attr("name","compoundProduct.Id").attr("value",r.Id);o.append(a);for(var n=0;n<r.Components.length;n++){var i=r.Components[n],c=$("<input>").attr("type","hidden").attr("name","compoundProduct.components["+n+"].ComponentType").attr("value",i.ComponentType),d=$("<input>").attr("type","hidden").attr("name","compoundProduct.components["+n+"].ColourId").attr("value",i.ColourId);o.append(d),o.append(c)}}}})),$("[data-property='confirm-delete']").on("show.bs.modal",(function(t){$("[data-property='remove-stock-id']").val($(t.relatedTarget).data("stockId")),$("[data-property='remove-stock-id']").focus(),$("[data-property='remove-product-id']").val($(this).data("productId")),$("[data-property='remove-product-id']").focus(),$("[data-property='remove-compound-product']").val(JSON.stringify($(this).data("compound-product")))})),$.modal&&$.modal.BEFORE_OPEN&&$("[data-property='remove-button']").on("click",(function(t){t.preventDefault(),$("[data-property='remove-stock-id']").val($(this).data("stockId")),$("[data-property='remove-stock-id']").focus(),$("[data-property='remove-product-id']").val($(this).data("productId")),$("[data-property='remove-product-id']").focus(),$("[data-property='remove-compound-product']").val(JSON.stringify($(this).data("compound-product"))),$("[data-property='confirm-delete']").modal()})),$("[data-property='checkout']").on("click",(function(o){window.location.href=t.urls.checkout})),$("[data-property='edit-wishlist']").on("click",(function(e){var r=$(this).closest("[data-stock-id]");$.get(t.urls.getSizesColors,{stockId:r.data("stockId")}).done((function(e){var a=r.find(t.controls.color);a.replaceWith(o(t.controls.color,e.colors,a.text()));var n=r.find(t.controls.size);n.replaceWith(o(t.controls.size,e.sizes,n.text()));var i=r.find(t.controls.quantity);i.replaceWith(o(t.controls.quantity,[1,2,3,4,5,6,7,8,9,10],i.text()))})),r.find("[data-property='edit-wishlist']").hide(),r.find("[data-property='cancel-edit-wishlist']").show(),r.find("[data-property='save-wishlist']").show()})),$("[data-property='cancel-edit-wishlist']").on("click",(function(o){var r=$(this).closest("[data-stock-id]");$.get(t.urls.get,{stockId:r.data("stockId")}).done((function(o){r.find(t.controls.color).replaceWith(e(t.controls.color,o.color)),r.find(t.controls.size).replaceWith(e(t.controls.size,o.size)),r.find(t.controls.quantity).replaceWith(e(t.controls.quantity,o.quantity))})),r.find("[data-property='edit-wishlist']").show(),r.find("[data-property='cancel-edit-wishlist']").hide(),r.find("[data-property='save-wishlist']").hide()})),$("[data-property='save-wishlist']").on("click",(function(o){var r=$(this).closest("[data-stock-id]"),a=r.find(t.controls.color),n=r.find(t.controls.size),i=r.find(t.controls.quantity),c=r.find("[data-property='price-control']"),d=r.find("[data-property='availability-control']"),l=r.find("[data-property='move-cart']"),s=r.data("productId"),p=r.data("stockId");$.post(t.urls.update,{productId:s,stockId:p,quantity:i.val(),color:a.val(),size:n.val()}).done((function(o){r.data("stockId",o.stockId),r.data("productId",o.productId),r.find("[data-property='stock-id']").val(o.stockId),r.find("[data-property='product-id']").val(o.productId),r.find("[data-property='remove-button']").data("stockId",o.stockId),a.replaceWith(e(t.controls.color,o.color)),n.replaceWith(e(t.controls.size,o.size)),i.replaceWith(e(t.controls.quantity,o.quantity)),c.text("$"+o.price),d.text(function(t,o,e){switch(e.removeClass("disabled").prop("disabled",!1),t){case 1:return"Available Online";case 2:return"Available in Stock";case 3:return"Available in Stock and Online";case 4:return"Available Date: "+o;default:return e.addClass("disabled").prop("disabled",!0),"Out of Stock"}}(o.availability,o.availableDate,l))})),r.find("[data-property='edit-wishlist']").show(),r.find("[data-property='cancel-edit-wishlist']").hide(),r.find("[data-property='save-wishlist']").hide()})),$("[data-action='remove-parent']").on("click",(function(t){t.preventDefault(),$(this).parent().remove()})),t.modules&&t.modules.useCartPromotions&&1==t.modules.useCartPromotions&&$("[data-action='update-promo-item']").on("click",(function(){var o=$(this).data("stockId");$.ajax({method:"GET",data:{stockId:o},success:function(t){!function(t,o){var e=(t=Common.toCamel(t)).stocks,r=t.currentStock,a=$("#update-cart-promo-item-modal"),n=a.find("[data-property='colors']"),i=a.find("[data-property='sizes']"),c=$("#update-cart-promo-item-form"),d=c.find("input[type='hidden'][name='currentStockId']"),l=c.find("input[type='hidden'][name='newStockId']"),s=v(e),p=h(e);function u(){d.val(r.id),i.closest("[data-property='select-holder']").show(),i.closest("[data-property='select-holder']").show(),0==p.length&&i.closest("[data-property='select-holder']").hide(),0==s.length&&n.closest("[data-property='select-holder']").hide(),m(!0),m(!1),n.off("change"),n.on("change",(function(){f(!1)})),i.off("change"),i.on("change",(function(){f(!0)})),n.val(r.colorName),n.trigger("change")}function f(t){t?r.size=i.val():r.colorName=n.val();var o={full:function(){return e.filter((function(t){return t.size==r.size&&t.colorName==r.colorName}))},size:e.filter((function(t){return t.size==r.size})),color:e.filter((function(t){return t.colorName==r.colorName}))},a=t?s:p;a.forEach((function(e){var a=o[t?"size":"color"].filter((function(o){return t&&o.colorName==e.name||!t&&o.size==e.name})).length>0;e.enable=a,e.name==r[t?"colorName":"size"]&&(e.enable||(r[t?"colorName":"size"]=null))})),(a=t?p:s).forEach((function(e){var r=o[t?"color":"size"].filter((function(o){return!t&&o.colorName==e.name||t&&o.size==e.name})).length>0;e.enable=r})),m(t),p.length>0&&(r.size=i.val()),s.length>0&&(r.colorName=n.val()),l.val(o.full()[0].id)}function m(t){var o=(t?s:p).map((function(t){return $("<option></option>").attr("value",t.name).attr("disabled",!t.enable).text(t.name)})),e=t?n:i;e.empty(),e.append(o),n.val(r.colorName),i.val(r.size),e.trigger("refresh")}function v(t){var o=t.filter((function(t){return null!=t.colorName})).map((function(t){return{name:t.colorName,colorHex:t.colorHex,enable:!0}})),e=[];o.forEach((function(t){e[t.name]=t}));var r=[];for(var a in e)e.hasOwnProperty(a)&&r.push(e[a]);return r}function h(t){var o=t.filter((function(t){return null!=t.size})).map((function(t){return{name:t.size,order:t.sizeOrder,enable:!0}})),e=[];o.forEach((function(t){e[t.name]=t}));var r=[];for(var a in e)e.hasOwnProperty(a)&&r.push(e[a]);return r=r.sort((function(t,o){return t.order-o.order}))}u(),a.modal("show")}(t)},url:t.urls.getStocksForUpdatePromoItem})}))}));
"use strict";window.Syvo.Checkout_Account=new SyvoModule("Checkout_Account",(function(e){$("form[name='sign-up']");var r=$("[data-property='register']");$("[data-property='submit']").on("click",(function(t){switch($(r.selector+":checked:eq(0)").data("value")){case!1:window.location.href=e.urls.guest;break;case!0:window.location.href=e.urls.register+"?redirectUrl="+e.urls.redirectUrl;break;default:alert("something wrong")}return!1})),$(window).trigger("afterpay:changePrice")}));
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.Syvo.Checkout_Payment=new SyvoModule("Checkout_Payment",(function(e){var t,a,n,o,r={card:0,amazon:1,payPal:2,openPay:3,afterPay:4,payPalPlus:5,applePay:6},i=$("[data-change='tax']"),d=$("[data-change='grandTotal']"),p=$("[data-property='promo']"),s=$("[data-change='promo']"),c=$("[data-change='shipping']"),l=$("[data-form='promocode']"),m=$("[data-property='billing-form']"),u=$("[data-property='billing-form-description']"),y=$("[data-trigger='edit-billing']"),f=$("[data-property='payment-form']"),h=$("[data-trigger='disclaimer']"),v=$("[data-property='disclaimer-error']"),P=e.availaiblePayMethods,g=$(".checkout-card-info"),C=$(".pay-methods-list"),w=$(".pay-error"),b=$("[data-block=checkout-paypalplus-info]"),x=$("[data-property=cardnumber]"),I=$("[data-property=cardmonth]"),S=$("[data-property=cardyear]"),L=$("[data-property=cardcode]"),k=$("[data-property=firstName]"),T=$("[data-property=lastName]"),M=$("[data-property=cardholder]"),O=e.currentPayMethods||P[0],A=null,_=e.order;$(window).trigger("afterpay:changePrice"),f.data("validator").settings.ignore="";var j={CurrentTaxPrice:0,CurrentShippingAmount:0,CurrentPromoSubTotal:0};!function(){if("undefined"!=typeof Stripe){t=Stripe(e.stripe.publicKey,{stripeAccount:e.stripe.clientId});var o=C.find(".pay-options li").filter(":has(.pay-applepay)"),r=$("#btn-pay-applepay");if(r.addClass("hide"),void 0!==window.ApplePaySession){a=t.paymentRequest({country:"US",currency:_.currency.toLowerCase(),total:{label:"Order #"+_.id,amount:parseInt(100*_.grandTotal)}});var i=t.elements().create("paymentRequestButton",{paymentRequest:a});i.on("click",(function(t){if(w.empty(),U())return e.useDisclaimer&&h&&!h.prop("checked")?(v.show(),void t.preventDefault()):void Common.showLoader();t.preventDefault()})),a.on("cancel",(function(){Common.hideLoader()})),a.canMakePayment().then((function(e){e?(i.mount("#btn-pay-applepay"),a.on("paymentmethod",(function(e){t.confirmCardPayment(n,{payment_method:e.paymentMethod.id},{handleActions:!1}).then((function(t){t.error?(e.complete("fail"),w.append($("<li/>",{text:t.error}))):(e.complete("success"),D(null,{"PaymentInfo.StripeIntent":t.paymentIntent.id}))}))}))):(o.remove(),r.remove())}))}}}();var N=!1;p.on("click",(function(){return!1})),l.find("input[name=promocode]").keyup((function(){$(this).closest("[data-form='promocode']").find("[data-msg='success'], [data-msg='fail']").hide()})),l.submit((function(){return!1})),l.find("[data-trigger='promocode']").click((function(){var t=$(this).closest("[data-form='promocode']"),n=t.find("input[name=promocode]"),r=t.find("[data-msg='success']"),p=t.find("[data-msg='fail']"),l=n.val().trim();return l?(Common.showLoader(),$.ajax({url:e.urls.setPromo,data:{code:l},dataType:"json",type:"post"}).done((function(t){var n=t.message;t.status?(j.CurrentPromoSubTotal=t.promoTotalAmount,j.CurrentTaxPrice=t.tax,j.CurrentShippingAmount=t.shippingAmount,s.text(formatMoneyByIndexOfCurrency(j.CurrentPromoSubTotal)),d.text(formatMoneyByIndexOfCurrency(t.grandTotal)),c.text(formatMoneyByIndexOfCurrency(j.CurrentShippingAmount)),i.text(formatMoneyByIndexOfCurrency(j.CurrentTaxPrice)),p.hide(),r.text(n).show(),$(window).trigger("afterpay:changePrice"),Common.hideLoader(),A=null,C.find("input:radio:checked").change(),N&&(a.update({total:{amount:parseInt(100*t.grandTotal),label:"Order #"+_.id}}),$.ajax({url:e.urls.stripeIntentUpdate,dataType:"json",type:"post",data:{intent:o}}).always((function(){Common.hideLoader()})))):(r.hide(),p.text(n).show(),Common.hideLoader())})).fail((function(){r.hide(),p.text("Something was wrong").show(),Common.hideLoader()})).always((function(e){n.val(null)}))):(r.hide(),p.text("Fill the field please").show()),!1})),0===u.length&&m.show(),f.find('input:not([type="submit"])').keydown((function(e){if(13===e.keyCode)return e.preventDefault(),!1})),y.click((function(e){e.preventDefault(),u.hide(),m.show()}));var E=!1;function U(){var e=$("[name='paymentType']:checked").val()-0;if(!f.valid()){if(f.find(".input-validation-error").not("[id=PaymentInfo_CardNumber], [id=PaymentInfo_Month], [id=PaymentInfo_Year], [id=PaymentInfo_SecurityCode]").length>0)return m.show(),u.hide(),!1;if(e===r.card||e===r.openPay)return!1}return!0}function z(e,t){t=t||{};var a=$("[name='paymentType']:checked").val()-0;if(U()&&!E)if(E=!0,Common.showLoader(),a===r.afterPay)D((function(e){AfterPay.initialize({countryCode:"US"}),AfterPay.redirect({token:e})}));else if(a===r.openPay){var n=x.val(),o=0===M.length?k.val()+" "+T.val():M.val();OpenPay.token.create({card_number:n,holder_name:o,expiration_year:S.val().substr(-2),expiration_month:I.find("option").index(I.find("option:selected")),cvv2:L.val()},(function(a){t["PaymentInfo.OpenPayToken"]=a.data.id,t["PaymentInfo.Last4Numbers"]=n.substr(n.length-4),D(e,t)}),(function(e){w.append($("<li/>",{text:e.data.description})),E=!1,Common.hideLoader()}))}else a===r.payPalPlus?A.doContinue():D(e,t)}function D(t,a){var n=Common.serializeFormToObject(f);if(window.deviceSessionId&&(delete n["PaymentInfo.CardNumber"],delete n["PaymentInfo.Month"],delete n["PaymentInfo.SecurityCode"],delete n["PaymentInfo.Year"],n["PaymentInfo.OpenPayDeviceSessionId"]=window.deviceSessionId),"object"===_typeof(a))for(var o in a)n[o]=a[o];$.ajax({dataType:"json",type:"post",url:e.urls.billing,data:n,success:function(e){"function"!=typeof t?e.redirectUrl&&(location.href=e.redirectUrl):t(e.additionalData)},error:function(e){try{var t=e.responseJSON;if(t.redirectUrl)return void(location.href=t.redirectUrl);t.errorMessages&&$.each(t.errorMessages,(function(e,t){t&&w.append($("<li/>",{text:t}))}))}catch(e){w.append($("<li/>",{text:"Internal Error"}))}E=!1,Common.hideLoader()}})}function B(e){try{"error"===JSON.parse(e.data).result&&(Common.hideLoader(),E=!1)}catch(e){}}f.submit((function(){return w.empty(),e.useDisclaimer&&h&&!h.prop("checked")?(v.show(),!1):(z(),!1)})),P.length>1&&C.removeClass("hide"),C.find("input:radio").change((function(){var t=parseInt($(this).val());$(".btn-pay").addClass("hide"),g.addClass("hide"),b.addClass("hide"),t!==r.card&&t!==r.openPay||g.removeClass("hide"),t===r.payPalPlus&&(b.removeClass("hide"),A||(Common.showLoader(),$.ajax({dataType:"json",type:"post",url:e.urls.payPalPlus,success:function(e){e.redirectUrl?location.href=e.redirectUrl:A=PAYPAL.apps.PPP({approvalUrl:e.approvalUrl,placeholder:"paypalplus-js",mode:e.sandbox?"sandbox":"live",country:e.country,language:e.language,payerFirstName:e.payer.firstName,payerLastName:e.payer.lastName,payerEmail:e.payer.email,payerTaxId:"",onContinue:function(e,t,a){var n={};n["PaymentInfo.PayPalPayerId"]=t,D(null,n)},onError:function(e){console.log(arguments),E=!1,w.append($("<li/>",{text:"Internal Error"})),Common.hideLoader()}}),Common.hideLoader()},error:function(e){try{var t=e.responseJSON;t.errorMessages&&$.each(t.errorMessages,(function(e,t){t&&w.append($("<li/>",{text:t}))}))}catch(e){w.append($("<li/>",{text:"Internal Error"}))}Common.hideLoader()}}))),t===r.applePay&&(N||(Common.showLoader(),N=!0,$.ajax({url:e.urls.stripeIntent,type:"post",dataType:"json",success:function(e){n=e.clientSecret,o=e.intent,Common.hideLoader()},error:function(e){try{var t=e.responseJSON;t.errorMessages&&$.each(t.errorMessages,(function(e,t){t&&w.append($("<li/>",{text:t}))}))}catch(e){w.append($("<li/>",{text:"Internal Error"}))}Common.hideLoader(),N=!1}})));var a=C.find("input:radio:checked").attr("id");$(".btn-"+a).removeClass("hide")})),C.find("input[value='"+O+"']").prop("checked",!0).change(),"undefined"!=typeof OffAmazonPayments&&OffAmazonPayments.Button("btn-pay-amazon",e.amazon.merchantId,{size:"medium",type:"hostedPayment",hostedParametersProvider:function(e){z(e)},onError:function(e){console.log(e.getErrorMessage())}}),window.addEventListener?window.addEventListener("message",B,!1):window.attachEvent&&window.attachEvent("onmessage",B)}));
"use strict";window.Syvo.Checkout_Country_States=new SyvoModule("Checkout_Country_States",(function(t){var e=t.stateTypes||{},a=t.zipTypes||{},d=$("[data-property-change='country']"),n=$("[data-property-change='state']"),o=($("[data-property-change='county']"),$("[data-property-change='zipcode']")),i=$("[data-property='eventmonth']"),r=$("[data-state='hidden']"),p=$("[data-county='hidden']");d.change((function(){var t=$(this),d=t.val(),l=t.find("option[value="+d+"]").attr("data-statefieldtype"),h=t.find("option[value="+d+"]").attr("data-zipcodefieldtype"),c=n.find("option").not("[value='']"),s=c.filter("[data-countryid="+d+"]"),u=n.val();p[3==l?"show":"hide"](),c.prop("disabled",!0),c.hide(),0===s.filter("[value="+u+"]").length&&n.val(null),s.prop("disabled",!1),s.show(),0===s.length?(r.hide(),r.find("select").prop("disabled",!0)):(r.show(),r.find("select").prop("disabled",!1)),n.find("option[value='']:eq(0)").text(e[l]),n.change(),n.trigger("refresh"),o.attr("placeholder",a[h]),i.length&&i.val()&&i.change()})),d.change()}));
"use strict";window.Syvo.Checkout_Shipping=new SyvoModule("Checkout_Shipping",(function(e){var t=e.selectedShippingMethod,n=$("[data-trigger='changeState']"),a=$("[data-property-change='country']"),i=$("[data-change='tax']"),r=$("[data-change='grandTotal']"),o="[data-trigger='changeShipping']",c=$(o),p=$("[data-change='shipping']"),d=$("[data-role='shipping-list']"),g=$("[data-property='eventtype']"),l=$("[data-property='highschool']"),u=$("[data-property='eventday']"),h=$("[data-property='eventmonth']"),s=$("[data-property='eventyear']"),f=$("[data-long-time='true']"),m=e.typesWithHighSchool||[],v=e.luxuryPrice||0,y=e.priceWithPromo||0,S=e.statesIdForSpecialLuxuryWay||[],x=e.taxes||[],C=$("[data-property='schoolForRegistration']"),N=e.statesForSchoolForRegistration||[],I={CurrentTaxPrice:0,CurrentShippingAmount:0,AdditionalShippingPrice:e.additionalShippingPrice},w=new Date($.cookie("eventDate"));function P(){-1!==m.indexOf(parseInt(g.val()))?l.show():l.hide()}function A(){var t=parseInt(u.val()),n=parseInt(h.val()),a=parseInt(s.val()),i=function(e,t){return new Date(t,e,0).getDate()}(n,isNaN(a)?(new Date).getFullYear():a);!isNaN(t)&&i<t&&u.val(null),$.each(u.find("option"),(function(e,t){var n=$(t);n.prop("disabled",n.val()>i)})),u.trigger("refresh"),function(t,n,a){var i=864e5,r=14,o=e.minAvailableDate;if(isNaN(t)||isNaN(n)||isNaN(a))D(!0);else{var c=new Date;o&&!isNaN(new Date(o).getTime())&&(c=new Date(o)),D(!((new Date(a,n-1,t).getTime()-c.getTime())/i<r))}}(t,n,a)}function D(e){var t=f.find("input"),n=c.closest("label").not("[data-long-time='true']");e||0==n.length?(f.show(),t.prop("disabled",!1)):(f.hide(),t.prop("selected",!1).prop("disabled",!0),$("[data-trigger='changeShipping']:enabled:eq(0)").click())}isNaN(w.getTime())||(w<=new Date?$.removeCookie("eventDate"):(h.val(w.getMonth()+1),u.val(w.getDate()),s.val(w.getFullYear()))),I.Amount=function(){return y+I.CurrentShippingAmount+I.CurrentTaxPrice+I.AdditionalShippingPrice},n.change((function(){var n=$(this),c=n.val();I.CurrentTaxPrice=Common.calculateTax(c,e.prices,x,v,S),i.text(formatMoneyByIndexOfCurrency(I.CurrentTaxPrice)),r.text(formatMoneyByIndexOfCurrency(I.Amount()));var p=n.find("option:selected").text().trim();-1!==N.indexOf(p)?C.removeClass("is-hidden"):(C.addClass("is-hidden"),C.find("input").val("")),function(n,a){var i=e.shippingMethods||[],r=e.subTotal,c=i.filter((function(e){return e.SpecialPricesForStates.find((function(e){return e.StateId==a}))}));c.length>0&&(i=c);var p=n!=e.countryId;i=(i=i.filter((function(e){return e.IsInternational==p}))).map((function(e){var n=e.Name,i=e.Name==t,o=!1;null!=e.FreeShippingLimit&&r>=e.FreeShippingLimit&&(o=!0);var c=e.SpecialPricesForStates.find((function(e){return e.StateId==a})),p=0;return c?c.Amount<=0?o=!0:(o=!1,p=c.Amount):o||(p=e.Amount),{Name:n,PriceText:o?"FREE":formatMoneyByIndexOfCurrency(p),Selected:i,Price:p,Id:e.Id}})),d.loadTemplate($("#shipping-template"),i,{bindingOptions:{ignoreUndefined:!0,ignoreNull:!0,ignoreEmptyString:!0}});var g=d.find("[data-selected=true]");1!=g.length&&(g=d.find(o).eq(0)),g.prop("checked",!0),g.change(),t=g.attr("data-id")}(a.val(),c),$(window).trigger("afterpay:changePrice")})),d.on("change",o,(function(){var e=$(this);e.prop("checked")&&(I.CurrentShippingAmount=parseFloat(e.attr("data-price")),p.text(formatMoneyByIndexOfCurrency(I.CurrentShippingAmount)),r.text(formatMoneyByIndexOfCurrency(I.Amount())))})),g.change(P),a.change((function(){c.change()})),A(),n.change(),c.change(),P(),u.change(A),h.change(A),s.change(A)}));
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.Syvo.Checkout_v2_Billing=new SyvoModule("Checkout_v2_Billing",(function(e){var t,a,n,o,r,i=$("ul.list-error"),p=$("[data-form='promocode']"),d=$("[data-property='promocode']"),l=p.find("[data-msg='success']"),s=p.find("[data-msg='fail']"),c=$("[data-form='paymentform']"),u=$("[data-property='grandtotal-price']"),m=$("[data-property='promo']"),y=$("[data-property='tax']"),f=$("[data-property='shipping-price']"),h=$("[data-trigger='disclaimer']"),v=$("[data-property='disclaimer-error']"),g=$(".pay-methods-list"),P=!1,w=e.availaiblePayMethods||[],b=e.currentPayMethods||w[0],C=$("[data-property='eventtype']"),x=$("[data-property='highschool']"),I=$("[data-property='eventday']"),k=$("[data-property='eventmonth']"),S=$("[data-property='eventyear']"),L=e.typesWithHighSchool||[],N="stc_",D=$(".stc"),O=$("[data-property=cardnumber]"),T=$("[data-property=cardmonth]"),M=$("[data-property=cardyear]"),_=$("[data-property=cardcode]"),j=$("[data-property=firstName]"),A=$("[data-property=lastName]"),E=$("[data-property=cardholder]"),U=$("[data-block=checkout-paypalplus-info]"),z={card:0,amazon:1,payPal:2,openPay:3,afterPay:4,paypalPlus:5,applePay:6},F=e.order,B=!1,J=null;p.submit((function(t){if(t.preventDefault(),d.val()&&!P){P=!0;var n=Common.serializeFormToObject(p);Common.showLoader(),$.ajax({dataType:"json",type:"post",url:e.urls.setPromo,data:n,success:function(t){var n=t.message;if(t.status){var r=t.promoTotalAmount,i=t.tax,p=t.shippingAmount,d=t.grandTotal,c=t.grandTotalAmount;m.text(r),y.text(i),f.text(p),u.text(d),s.hide(),l.text(n).show(),$(window).trigger("afterpay:changePrice"),J=null,g.find("input:radio:checked").change(),Y&&(a.update({total:{amount:parseInt(100*c),label:"Order #"+F.id}}),$.ajax({url:e.urls.stripeIntentUpdate,dataType:"json",type:"post",data:{intent:o}}).always((function(){Common.hideLoader()})))}else l.hide(),s.text(n).show()},error:function(e){l.hide(),s.text("Something was wrong").show()}}).always((function(e){Y||Common.hideLoader(),P=!1,d.val(null),d.change()}))}})),c.submit((function(t){return t.preventDefault(),i.empty(),e.useDisclaimer&&h&&!h.prop("checked")?(v.show(),!1):(q(),!1)})),c.find('input:not([type="submit"])').keydown((function(e){if(13===e.keyCode)return e.preventDefault(),!1})),function(e){"undefined"!=typeof OffAmazonPayments&&OffAmazonPayments.Button("btn-pay-amazon",e.amazon.merchantId,{size:"medium",type:"hostedPayment",hostedParametersProvider:function(e){q(e)},onError:function(e){console.log(e.getErrorMessage())}})}(e),function(){if("undefined"!=typeof Stripe){t=Stripe(e.stripe.publicKey,{stripeAccount:e.stripe.clientId});var o=g.find(".form-row").filter(":has(.method-applepay)"),r=o.next().filter("hr"),p=$("#btn-pay-applepay");if(p.addClass("hide"),void 0!==window.ApplePaySession){a=t.paymentRequest({country:"US",currency:F.currency.toLowerCase(),total:{label:"Order #"+F.id,amount:parseInt(100*F.grandTotal)}});var d=t.elements().create("paymentRequestButton",{paymentRequest:a});d.on("click",(function(t){if(i.empty(),c.valid())return e.useDisclaimer&&h&&!h.prop("checked")?(v.show(),void t.preventDefault()):void Common.showLoader();t.preventDefault()})),a.on("cancel",(function(){Common.hideLoader()})),a.canMakePayment().then((function(e){e?(d.mount("#btn-pay-applepay"),a.on("paymentmethod",(function(e){t.confirmCardPayment(n,{payment_method:e.paymentMethod.id},{handleActions:!1}).then((function(t){t.error?(e.complete("fail"),i.append($("<li/>",{text:t.error}))):(e.complete("success"),R(null,{"PaymentInfo.StripeIntent":t.paymentIntent.id}))}))}))):(o.remove(),r.remove(),p.remove())}))}}}(),g.find("input:radio").change((function(){$(".btn-pay").addClass("hide");var t=g.find("input:radio:checked"),a=t.attr("id"),r=parseInt(t.val());$(".btn-"+a).removeClass("hide"),r===z.paypalPlus&&(U.removeClass("hide"),J||(Common.showLoader(),$.ajax({dataType:"json",type:"post",url:e.urls.payPalPlus,success:function(e){e.redirectUrl?location.href=e.redirectUrl:J=PAYPAL.apps.PPP({approvalUrl:e.approvalUrl,placeholder:"paypalplus-form",mode:e.sandbox?"sandbox":"live",country:e.country,language:e.language,payerFirstName:e.payer.firstName,payerLastName:e.payer.lastName,payerEmail:e.payer.email,payerTaxId:"",onContinue:function(e,t,a){var n={};n["PaymentInfo.PayPalPayerId"]=t,R(null,n)},onError:function(e){console.log(arguments),B=!1,i.append($("<li/>",{text:"Internal Error"})),Common.hideLoader()}}),Common.hideLoader()},error:function(e){try{var t=e.responseJSON;t.errorMessages&&$.each(t.errorMessages,(function(e,t){t&&i.append($("<li/>",{text:t}))}))}catch(e){i.append($("<li/>",{text:"Internal Error"}))}Common.hideLoader()}}))),r===z.applePay&&(Y||(Common.showLoader(),Y=!0,$.ajax({url:e.urls.stripeIntent,type:"post",dataType:"json",success:function(e){n=e.clientSecret,o=e.intent,Common.hideLoader()},error:function(e){try{var t=e.responseJSON;t.errorMessages&&$.each(t.errorMessages,(function(e,t){t&&i.append($("<li/>",{text:t}))}))}catch(e){i.append($("<li/>",{text:"Internal Error"}))}Common.hideLoader(),Y=!1}})))})),g.find("input[value='"+b+"']").prop("checked",!0).change(),$(window).trigger("afterpay:changePrice"),r=new Date($.cookie("eventDate")),isNaN(r.getTime())||(r<=new Date?$.removeCookie("eventDate"):(k.val(r.getMonth()+1),I.val(r.getDate()),S.val(r.getFullYear()))),C.change(H),K(),H(),I.change(K),k.change(K),S.change(K),function(){function e(){var e=$(this),t=e.attr("name");$.cookie(N+t,e.val(),{expires:7,path:"/"})}D.filter("textarea, input").blur(e),D.filter("select").change(e)}(),$.each(D,(function(e,t){var a=$(t),n=a.attr("name"),o=$.cookie(N+n);o&&(a.val(o),a.change())})),function(){function e(e){try{"error"===JSON.parse(e.data).result&&(Common.hideLoader(),B=!1)}catch(e){}}window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent&&window.attachEvent("onmessage",e)}();var Y=!1;function q(e,t){t=t||{};var a=$("[name='paymentType']:checked").val()-0;if(c.valid()&&!B){if(B=!0,Common.showLoader(),a===z.afterPay)R((function(e){AfterPay.initialize({countryCode:"US"}),AfterPay.redirect({token:e})}));else if(a===z.openPay){var n=O.val(),o=0===E.length?j.val()+" "+A.val():E.val();OpenPay.token.create({card_number:n,holder_name:o,expiration_year:M.val().substr(-2),expiration_month:T.find("option").index(T.find("option:selected")),cvv2:_.val()},(function(a){t["PaymentInfo.OpenPayToken"]=a.data.id,t["PaymentInfo.Last4Numbers"]=n.substr(n.length-4),R(e,t)}),(function(e){i.append($("<li/>",{text:e.data.description})),B=!1,Common.hideLoader()}))}a===z.paypalPlus?J.doContinue():R(e,t)}}function R(t,a){var n=Common.serializeFormToObject(c);if(window.deviceSessionId&&(delete n["PaymentInfo.CardNumber"],delete n["PaymentInfo.Month"],delete n["PaymentInfo.SecurityCode"],delete n["PaymentInfo.Year"],n["PaymentInfo.OpenPayDeviceSessionId"]=window.deviceSessionId),"object"===_typeof(a))for(var o in a)a.hasOwnProperty(o)&&(n[o]=a[o]);$.ajax({dataType:"json",type:"post",url:e.urls.billing,data:n,success:function(e){!function(){try{$.each(D,(function(e,t){var a=$(t).attr("name");$.removeCookie(N+a,{path:"/"})})),$.removeCookie("_opck")}catch(e){}}(),"function"!=typeof t?e.redirectUrl&&(location.href=e.redirectUrl):t(e.additionalData)},error:function(e){try{var t=e.responseJSON;if(t.redirectUrl)return void(location.href=t.redirectUrl);t.errorMessages&&$.each(t.errorMessages,(function(e,t){t&&i.append($("<li/>",{text:t}))}))}catch(e){i.append($("<li/>",{text:"Internal Error"}))}B=!1,Common.hideLoader()}})}function H(){-1!==L.indexOf(parseInt(C.val()))?x.show():x.hide()}function K(){var e=parseInt(I.val()),t=parseInt(k.val()),a=parseInt(S.val()),n=function(e,t){return new Date(t,e,0).getDate()}(t,isNaN(a)?(new Date).getFullYear():a);!isNaN(e)&&n<e&&I.val(null);var o=I.find("option").not(":disabled").length;if(o>n)for(var r=n+1;;r++){var i=I.find("option[value='"+r+"']");if(0===i.length)break;i.remove()}else if(o<n)for(r=o+1;r<=n;r++)I.append("<option value='"+r+"'>"+r+"</option>")}}));
"use strict";window.Syvo.Checkout_v2_Country_States=new SyvoModule("Checkout_v2_Country_States",(function(t){var e=t.stateTypes||{},a=t.zipTypes||{},o=$("[data-property-change='country']"),r=$("[data-property-change='state']"),n=$("[data-property-block='state']"),d=$("[data-property-block='county']"),p=$("[data-property-change='zipcode']"),l=$("[data-property='eventmonth']"),h=($("[data-state='hidden']"),$());o.change((function(){var t=$(this),o=t.val(),i=t.find("option[value="+o+"]").attr("data-statefieldtype"),c=t.find("option[value="+o+"]").attr("data-zipcodefieldtype"),v=r.val();0==h.length&&(h=r.find("option")),r.empty();var y=h.filter("[value=''], [data-countryid="+o+"]");r.append(y),r.val(y.filter("[value="+v+"]").attr("value")),0==y.not("[value='']").length?n.hide():n.show(),d[3==i?"show":"hide"](),r.attr("placeholder",e[i]),r.refreshfv2(),r.change(),p.attr("placeholder",a[c]),p.refreshfv2(),l.length&&l.val()&&l.change()})),o.change()}));
"use strict";window.Syvo.Checkout_v2_PayPalExpress=new SyvoModule("Checkout_v2_PayPalExpress",(function(e){function r(e){return new Promise((function(r,o){$.ajax(e).done(r).fail(o)}))}paypal.Buttons({style:{layout:"horizontal",color:"gold",shape:"rect",label:"paypal",tagline:!1},createOrder:function(o,t){return r({method:"post",url:e.url.createOrder}).then((function(e){return e.orderId}))},onApprove:function(o,t){return r({method:"post",url:e.url.express,data:o}).then((function(e){Common.showLoader(),e.redirectUrl&&(location.href=e.redirectUrl)}),(function(e){}))}}).render("#paypal-express-button")}));
"use strict";window.Syvo.Checkout_v2_Shipping=new SyvoModule("Checkout_v2_Shipping",(function(r){var e=$("[data-property='shipping-form']"),o=$("ul.list-error"),i=!1;e.submit((function(e){e.preventDefault(),o.empty();var t=$(this);if(i=i||!1,t.valid()&&!i){i=!0,Common.showLoader();var a=Common.serializeFormToObject(t);$.ajax({dataType:"json",type:"post",url:r.urls.shipping,data:a,success:function(r){r.redirectUrl?location.href=r.redirectUrl:(Common.hideLoader(),i=!1,Array.isArray(r.errorMessages)&&$.each(r.errorMessages,(function(r,e){o.append($("<li/>",{text:e}))})))},error:function(r){o.append($("<li/>",{text:"Internal Error"})),Common.hideLoader(),i=!1}})}})),$(window).trigger("afterpay:changePrice")}));
"use strict";window.Syvo.Checkout_v2_ShippingMethod=new SyvoModule("Checkout_v2_ShippingMethod",(function(e){var t=e.shippingMethods||[],r=$("[data-property='subtotal']"),o=$("[data-property='tax']"),a=$("[data-property='shipping-price']"),i=$("[data-property='grandtotal-price']"),n=$("[data-property='shippingmethod']"),p=$("[data-property='shippingmethodform']"),d=$("ul.list-error"),s=!1;function c(){var e,p=n.filter(":checked");0===p.length&&(p=n.filter(":eq(0)")).prop("checked",!0),e=p.val();var d=t.find((function(t){return t.Name==e}));d&&(r.text(d.SubTotal),a.text(d.Amount),o.text(d.Tax),i.text(d.Total)),$(window).trigger("afterpay:changePrice")}n.change(c),p.submit((function(t){t.preventDefault(),d.empty();var r=$(this);if(s=s||!1,r.valid()&&!s){s=!0,Common.showLoader();var o=Common.serializeFormToObject(r);$.ajax({dataType:"json",type:"post",url:e.urls.shippingMethod,data:o,success:function(e){e.redirectUrl?location.href=e.redirectUrl:(Common.hideLoader(),s=!1,Array.isArray(e.errorMessages)&&$.each(e.errorMessages,(function(e,t){d.append($("<li/>",{text:t}))})))},error:function(e){d.append($("<li/>",{text:"Internal Error"})),Common.hideLoader(),s=!1}})}})),c()}));
"use strict";!function(){var t=window.Syvo.Cart_Popup=new SyvoModule("Cart_Popup",(function(n){if(t.settings=$.extend(!0,{},{parent:{selector:"[data-parent=common-cart-popup]"},control:{selector:"[data-control=common-cart-popup]",showAttr:"data-show-action",hideAttr:"data-hide-action",debounce:0},target:{selector:"[data-property=common-cart-popup]",showClass:"show",hideClass:"hide"}},n),!t.settings.control||!t.settings.target)return;function o(){!function(){t.controlShowEventHandler=i,t.controlHideEventHandler=u,"function"==typeof $.fn.dropdown&&(t.controlShowEventHandler=c,t.controlHideEventHandler=p);t.$controls=$(t.settings.control.selector),t.$parents=$(t.settings.parent.selector),t.$targets=$(t.settings.target.selector),t.cartPopups=[],$.each(t.$controls,(function(){var n,o=$(this);t.cartPopups.push({showEvent:o.attr(t.settings.control.showAttr),hideEvent:o.attr(t.settings.control.hideAttr),$control:o,$parent:r(o),$target:(n=o,s(r(n)))})}))}(),function(){if(!t.cartPopups||0===t.cartPopups.length)return;for(var n=0,o=t.cartPopups.length;n<o;n++)(t.cartPopups[n].showEvent||t.cartPopups[n].hideEvent)&&(t.cartPopups[n].showEvent&&t.cartPopups[n].$parent.on(t.cartPopups[n].showEvent,t.controlShowEventHandler),t.cartPopups[n].hideEvent&&t.cartPopups[n].$parent.on(t.cartPopups[n].hideEvent,t.controlHideEventHandler))}()}function e(){!function(){if(!t.cartPopups||0===t.cartPopups.length)return;for(var n=0,o=t.cartPopups.length;n<o;n++)(t.cartPopups[n].showEvent||t.cartPopups[n].hideEvent)&&(t.cartPopups[n].showEvent&&t.cartPopups[n].$parent.off(t.cartPopups[n].showEvent,t.controlShowEventHandler),t.cartPopups[n].hideEvent&&t.cartPopups[n].$parent.off(t.cartPopups[n].hideEvent,t.controlHideEventHandler))}(),t.$controls=$(),t.$targets=$(),t.$parents=$(),t.cartPopups=null,t.controlShowEventHandler=null,t.controlHideEventHandler=null}function r(n){return n.closest(t.settings.parent.selector)}function s(n){return n.find(t.settings.target.selector)}function a(n){return n.find(t.settings.control.selector)}function c(t){t.preventDefault(),l(d,$(this))}function p(t){t.preventDefault(),l(h,$(this))}function i(t){t.preventDefault(),l(f,$(this))}function u(t){t.preventDefault(),l(g,$(this))}function l(n,o){"function"==typeof n&&(t.settings.control.debounce?(clearTimeout(t.debounceTimeout),t.debounceTimeout=setTimeout((function(){n(o)}),t.settings.control.debounce)):n(o))}function d(t){var n=a(t);0!==n.length&&(t.hasClass("open")||n.dropdown("toggle"))}function h(t){var n=a(t);0!==n.length&&t.hasClass("open")&&n.dropdown("toggle")}function f(n){var o=s(n);0!==o.length&&o.removeClass(t.settings.target.hideClass).addClass(t.settings.target.showClass)}function g(n){var o=s(n);0!==o.length&&o.removeClass(t.settings.target.showClass).addClass(t.settings.target.hideClass)}t.init=o,t.destroy=e,t.reload=function(){e(),o()},o()}))}();
"use strict";window.Syvo.Choose_Location=new SyvoModule("Choose_Location",(function(t){var e={controls:{selector:"[data-property=location]",dataValueProperty:"data-value",activeClass:"active",action:function(t,e,o){return $.modal.close(),!1}},target:{selector:"#chooseLocation",destroyEvent:"modal:close",callback:function(t,e,o){},showOnce:!0,runOnce:function(t,e,o){o.modal({escapeClose:!1,clickClose:!1,showClose:!1})},cookieKey:"storeLocation"}},o=$(this);o.settings=$.extend(!0,{},e,t),o.currentControl=$();var n=!1;if(o.settings.controls&&o.settings.target){var r=$(o.settings.target.selector),s=$(o.settings.controls.selector);o.currentLocation=i(),o.settings.target.showOnce&&n||function(){var t,e=Common.getWindowLocationParameter(o.settings.target.cookieKey,!0);if(e)t=function(t){for(var e=decodeURIComponent(window.location.search.substring(1).trim("?")),o=e.split("&"),n=0;n<o.length;n++)if(o[n].split("=")[0]===t){e=(e=e.replace("&"+o[n],"")).replace(o[n],"");break}return e.length>0?"?"+e:""}(o.settings.target.cookieKey),window.history.replaceState({},document.title,window.location.pathname+t);else if(!(e=!!o.settings.target.cookieKey&&$.cookie(o.settings.target.cookieKey)))return!1;return o.currentLocation===e&&l(e),o.currentLocation===e}()||(o.settings.target.runOnce&&"function"==typeof o.settings.target.runOnce&&o.settings.target.runOnce(o.currentControl,s,r),n=!0),$.each(s,(function(){var t=$(this);t.hasClass(o.settings.controls.activeClass)||a(t)})),s.click((function(t){o.currentControl=$(this);var e=o.currentControl.attr(o.settings.controls.dataValueProperty);o.currentControl.hasClass(o.settings.controls.activeClass)&&!void(o.settings.controls.action&&"function"==typeof o.settings.controls.action&&o.settings.controls.action(o.currentControl,s,r))&&(t.preventDefault(),c(e))})),r.on(o.settings.target.destroyEvent,(function(){c(),o.settings.target.callback&&"function"==typeof o.settings.target.callback&&o.settings.target.callback(o.currentControl,s,r)}))}function a(t){t.attr("href",function(t,e,o){var n={};n[e]=o;var r=t.indexOf("?")>0?"&":"?";return t+r+$.param(n)}(t.attr("href"),o.settings.target.cookieKey,t.attr(o.settings.controls.dataValueProperty)))}function c(t){t||(t=i()),l(t)}function i(){return s.filter("."+o.settings.controls.activeClass).attr(o.settings.controls.dataValueProperty)}function l(t){o.settings.target.cookieKey&&$.cookie(o.settings.target.cookieKey,t,{expires:30,path:"/"})}}));
"use strict";!function(){var t=window.Syvo.Color_Circle=new SyvoModule("Color_Circle",(function(e){var r=e.letter?e.letter:"M",i=e.letterColor?e.letterColor:"#fff",n=e.letterContainer?e.letterContainer:"div",a=e.letterClass?e.letterClass:"color-letter",s=e.shape?e.shape:t.Shapes.CIRCLE,o=e.initialArray;o&&o.length>0&&$(o).each((function(e,o){$(o.selector).each((function(e,l){!function(e,o){var l=o||null;if(e.data("image"))return e.css("background-image","url("+e.data("image")+")"),void(l&&e.css({width:l+"px",height:l+"px","background-size":l+"px"}));var u=e.attr("data-color"),c=[];"string"==typeof u&&(u=(u=u.split(";").join("")).split(",")).forEach((function(t){c.push({hexFormat:t})}));!function(e,o,l){var u=(l=l||22)/2,c=l/2,h=l/2,d=!1;if($.each(o,(function(t,e){"multi"===e.hexFormat&&(d=!0)})),d&&(e.appendChild(v()),!(o=$.grep(o,(function(t){return"multi"!==t.hexFormat})))||0===o.length)){var p=m();e.appendChild(p),p.appendChild(s===t.Shapes.CIRCLE?E(i):x(i))}if(!o||!e||0===o.length)return;var f=o.length,w=360/o.length,C=0,g=1,b=m();function m(){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.setAttribute("viewbox","0 0 "+l+" "+l),t.setAttribute("width",l),t.setAttribute("height",l),t.setAttribute("class","color-circle"),t}function v(){var t=document.createElement(n);return $(t).css("width",l).css("height",l).css("font-size",.6*l).css("top",.22*l),$(t).addClass(a).html(r),t}function A(t){return t*Math.PI/180}function E(t){var e=document.createElementNS("http://www.w3.org/2000/svg","circle");return e.setAttribute("cx",u),e.setAttribute("cy",c),e.setAttribute("r",h),e.setAttribute("stroke","#ccc"),e.setAttribute("stroke-width",1),t?e.setAttribute("fill",t):e.setAttribute("fill",o[0].hexFormat),e}function x(t){var e=document.createElementNS("http://www.w3.org/2000/svg","rect");return e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("width",l),e.setAttribute("height",l),e.setAttribute("stroke","#ccc"),e.setAttribute("stroke-width",1),t?e.setAttribute("fill",t):e.setAttribute("fill",o[0].hexFormat),e}function S(){if(!(C>=f))if(C>0&&"multi"===o[C].hexFormat)e.appendChild(v());else{var r=document.createElementNS("http://www.w3.org/2000/svg","g");b.appendChild(r);var i=document.createElementNS("http://www.w3.org/2000/svg","path");r.appendChild(i);var n=s===t.Shapes.CIRCLE?L():M();i.setAttribute("d",n),i.setAttribute("fill",o[C].hexFormat),r.setAttribute("transform","rotate("+(w*C+90)+", "+u+","+c+")"),C++,S()}}function M(){var t=1.5*h,e=u+t*Math.cos(A(w)),r=c+t*Math.sin(A(w));return["M",u+t," ",c,"A",t,",",t," ",0," ",Math.abs(w)<180?0:1," ",g," ",e,",",r,"L",u,",",c,"z"].join("")}function L(){var t=u+h*Math.cos(A(w)),e=c+h*Math.sin(A(w));return["M",u+h," ",c,"A",h,",",h," ",0," ",Math.abs(w)<180?0:1," ",g," ",t,",",e,"L",u,",",c,"z"].join("")}e.appendChild(b),b.appendChild(s===t.Shapes.CIRCLE?E():x()),S()}(e[0],c,l)}($(l),o.size)}))}))}));t.Shapes={CIRCLE:0,RECTANGLE:1}}();
"use strict";window.Syvo.Color_Filter=new SyvoModule("Color_Filter",(function(t){var e={filter:{selector:"[data-color]",dataAttribute:"color"},target:{selector:"[data-img-color]",dataAttribute:"img-color",defaultChoice:"[data-img='default']",get:function(t,e,r){if(!t||0===t.length)return null;var l=t.closest(e);if(!l||0===l.lengh)return null;var i=$(l).find(r);return i&&0!==i.lengh?$(i):null}},parent:{selector:"[data-list=images]"}},r=$.extend(!0,{},e,t);r.filter&&r.target&&r.parent&&r.target.get&&"function"==typeof r.target.get&&$(r.filter.selector).click((function(){var t=$(this).data(r.filter.dataAttribute);if(!t)return!1;var e=r.target.get($(this),r.parent.selector,r.target.selector);return!(!e||0==e.lengh||!e.slick||"function"!=typeof e.slick||(e.slick("slickFilter",(function(l,i){var a=$(i).find(r.target.selector);return!(!a||0===a.length)&&$(a).data(e.dataAttribute)==t})),0===e.slick("getSlick").slideCount&&(e.slick("slickUnfilter"),e.slick("slickFilter",(function(t,e){var l=$(e).find(r.target.defaultChoice);return l&&0!==l.length}))),1))}))}));
"use strict";!function(){var e=window.Syvo.Color_List=new SyvoModule("Color_List",(function(n){if("function"!=typeof $.fn.slick)return;var t=$(window),i={selector:"[data-list=colors]",colorNumber:6,callbacks:{onLazyLoaded:f,onInit:f,onBeforeChange:f,onAfterChange:f,onBreakPoint:f,onSetPosition:f},plugin:{prevArrow:"<div class='list-item slick-arrow slick-prev'><div class='color'><i data-layout-font class='square arrow icon-syvo icon-chevron-left'></span></div></div>",nextArrow:"<div class='list-item slick-arrow slick-next'><div class='color'><i data-layout-font class='square arrow icon-syvo icon-chevron-right'></span></div></div>",infinite:!1,arrows:!0,focusOnSelect:!0}};if(e.settings=$.extend(!0,{},i,n),!e.settings.selector||!e.settings.plugin)return;function o(){e.$list=$(e.settings.selector),e.$slider=e.$list.filter((function(n,t){return $(t).children().length>e.settings.colorNumber})),e.$parentSlider=e.$slider.parent().closest("[data-list]"),e.$slider.on("init reInit",a),e.$slider.on("setPosition",l),e.$slider.on("beforeChange",c),e.$slider.on("afterChange",d),e.$slider.on("breakpoint",g),e.slickSlider=e.$slider.slick(e.settings.plugin)}function s(){e.slickSlider=e.$slider.slick("unslick"),e.$slider.off("init reInit",a),e.$slider.off("setPosition",l),e.$slider.off("beforeChange",c),e.$slider.off("afterChange",d),e.$slider.off("breakpoint",g),e.$slider=$()}function r(n){return $(n.target).is(e.$slider)}function l(n,i){r(n)&&(e.settings.callbacks&&"function"==typeof e.settings.callbacks.onSetPosition&&e.settings.callbacks.onSetPosition(),t.trigger(e.eventNames.onSliderSetPosition,[i]))}function a(n,i){r(n)&&($(window).trigger("slick:ready"),e.settings.callbacks&&"function"==typeof e.settings.callbacks.onInit&&e.settings.callbacks.onInit(i),t.trigger(e.eventNames.onSliderInit,[i]))}function c(n,i,o,s){r(n)&&(e.settings.callbacks&&"function"==typeof e.settings.callbacks.onBeforeChange&&e.settings.callbacks.onBeforeChange(i,o,s),t.trigger(e.eventNames.onSliderBeforeChange,[i,o,s]))}function d(n,i,o){r(n)&&(e.settings.callbacks&&"function"==typeof e.settings.callbacks.onAfterChange&&e.settings.callbacks.onAfterChange(i,o),t.trigger(e.eventNames.onSliderAfterChange,[i,o]))}function g(n,i,o){r(n)&&(e.settings.callbacks&&"function"==typeof e.settings.callbacks.onBreakPoint&&e.settings.callbacks.onBreakPoint(i,o),t.trigger(e.eventNames.onSliderBreakpoint,[i,o]))}function f(){}e.settings.plugin.slidesToShow=e.settings.colorNumber,e.init=o,e.destroy=s,e.reload=function(){s(),o()},o()}));e.eventNames.onSliderSetPosition=e.getModuleEventName("onSliderSetPosition"),e.eventNames.onSliderInit=e.getModuleEventName("onSliderInit"),e.eventNames.onSliderBeforeChange=e.getModuleEventName("onSliderBeforeChange"),e.eventNames.onSliderAfterChange=e.getModuleEventName("onSliderAfterChange"),e.eventNames.onSliderBreakpoint=e.getModuleEventName("onSliderBreakpoint")}();
"use strict";window.Syvo.Duty_Calculator=new SyvoModule("Duty_Calculator",(function(r){var e=$.extend({},{modal:{selector:"[data-property=duty-calculator]",action:"modal:open",statesControl:{selector:"[data-property=state]"},currencyFormat:"[data-currency={0}]"},prices:{pdp:"[data-property=price]",pure:"[data-property=pure-price]",exchange:"[data-property=exchange-price]",tax:"[data-property=tax-price]",duty:"[data-property=duty-price]",card:"[data-property=card-price]",total:"[data-property=total-price]"}},r);if(e.taxes&&0!=e.taxes.length&&$.isNumeric(e.luxuryPrice)&&e.luxuryPrice>=0&&$.isNumeric(e.exchangeRate)&&e.exchangeRate>0&&$.isNumeric(e.duty)&&e.duty>=0&&$.isNumeric(e.card)&&e.card>=0&&e.modal&&e.modal.action&&e.modal.statesControl&&e.prices){var t,a,c=$(e.modal.selector),i=$(e.modal.statesControl.selector),o=[];i.change((function(){var r=$(this).val();return i.val(r),i.trigger("refresh"),n()})),c.on(e.modal.action,(function(){return n()}))}function n(){var c=i.val();if(function(){var r=$(e.prices.pdp);if(!r||0==r.length)return!1;o=[],$.each(r,(function(r,e){var t;o.push((t=$(e).html(),{price:Number(t.replace(",","").replace(/[^\d\.-]+/g,"")),currency:t.replace(",","").replace(/[\d\.-]+/g,"{0}")}))})),t=o[0].currency}(),!c||0==c.length||!o||0==o.length||!t)return!1;var n=!1;return $.each(o,(function(i,o){var d=$.validator.format(e.modal.currencyFormat,i),l=$(d);if(l&&0!=l.length)if(u(l.find(e.prices.pure),o)){if(i>0&&(p(o,null,e.exchangeRate),o.currency=t,!u(l.find(e.prices.exchange),o)))return void(n=!0);a=o.price+" + ";var s=[{ProductId:r.productId,Price:o.price}],y=Common.calculateTax(c,s,e.taxes,e.luxuryPrice,e.statesIdForSpecialLuxuryWay);if(u(l.find(e.prices.tax),y,"+{0}")){if(p(o,y),i>0){var f=0;if(e.duty&&(f=e.duty*o.price/100,a+=e.duty+"% + "),!u(l.find(e.prices.duty),f,"+{0}"))return void(n=!0);p(o,f);var m=0;if(e.card&&(m=e.card*o.price/100,a+=e.card+"% + "),!u(l.find(e.prices.card),m,"+{0}"))return void(n=!0);p(o,m)}u(l.find(e.prices.total),o)?(a+=" = "+o.price,console.log(a)):n=!0}else n=!0}else n=!0;else n=!0})),(!n||!0!==n)&&void 0}function d(r){return $.isNumeric(r)?(r.toFixed(2)-0+"").replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"):"0.00"}function u(r,e,a){return!(!r||0==r.length||!$.isNumeric(e)&&!$.isNumeric(e.price)||(c=e.currency?$.validator.format(e.currency,d(e.price)):$.validator.format(t,d(e)),a&&(c=$.validator.format(a,c)),r.html(c),0));var c}function p(r,e,t){r&&r.price&&(e&&(r.price+=e),t&&(r.price*=t))}}));
"use strict";window.Syvo.Favorites=new SyvoModule("Favorites",(function(t){var r=$.extend(!0,{},{parent:{selector:"[data-wishlist-id]",dataAttribute:"[wishlist-id]"},controls:{cart:"[data-trigger=cart-add]"}},t);r.controls&&r.parent&&$(r.controls.cart)}));
"use strict";!function(){var t=window.Syvo.Forms_v2=new SyvoModule("Forms_v2",(function(s){if(t.settings=$.extend(!0,{},{selector:"[data-property='v2-style']",effectClass:"v2-effect",controls:{class:"v2-control",templateHtml:'<div class="v2-control"><label><span>{0}</span></label></div>'},inputs:{toInclude:"input[type=text], input[type=email], input[type=phone], input[type=password], select, textarea",toExclude:"",labelAttr:"placeholder",hasFocus:"has-focus",lostFocus:"lost-focus",isDirty:"dirty",hasContent:"has-content",noContent:"no-content",collapsed:"collapsed",in:"in"},error:{selector:".field-validation-error"}},s),!t.settings.selector)return;if(t.root=$(t.settings.selector),0===t.root.length)return;function n(s){if(s&&0!==s.length){var n=s.nextAll("."+t.settings.controls.class);if(n.length>0)i(n);else{var e=function(s){if(!s||0===s.length||s instanceof Array)return;var n=s.attr(t.settings.inputs.labelAttr);n||(n=s.attr("data-label"));return n}(s),o=Common.stringFormat(t.settings.controls.templateHtml,[e]);s.control=$(o);var l=s.next(t.settings.error.selector);l.length>0?l.after(s.control):s.after(s.control)}}}function e(s){!function(t){!function(t){t.css("background-color","transparent"),t.css("-webkit-transition","background-color 3600s ease-in-out 0s"),t.css("transition","background-color 3600s ease-in-out 0s")}(t)}(s);var n=s.val();s.addClass(t.settings.inputs.isDirty),o(s,n)}function o(s,n){n&&n.length>0?(s.removeClass(t.settings.inputs.noContent),s.addClass(t.settings.inputs.hasContent)):(s.removeClass(t.settings.inputs.hasContent),s.addClass(t.settings.inputs.noContent))}function i(s){!s||0===s.length||s instanceof Array||s.addClass(t.settings.controls.class)}function l(s){var o=t.inputs.filter(s);$.each(o,(function(){var s=$(this);!function(s){if(!s||0===s.length)return;var n=s.nextAll("."+t.settings.controls.class);if(n.length>0)return void n.remove()}(s),e(s),n(s)}))}function a(){t.inputs=t.root.find(t.settings.inputs.toInclude).not(t.settings.inputs.toExclude),t.selects=t.inputs.filter("select"),t.controls=t.root.find("."+t.settings.controls.class)}a(),t.root.addClass(t.settings.effectClass),t.inputs.addClass(t.settings.inputs.noContent),t.inputs.addClass(t.settings.inputs.lostFocus),t.selects.addClass(t.settings.inputs.collapsed),$.each(t.inputs,(function(){e($(this))})),$.each(t.inputs,(function(){n($(this))})),t.controls=t.root.find("."+t.settings.controls.class),i(t.controls),t.inputs.change((function(){e($(this))})),t.inputs.focus((function(){var s=$(this);s.removeClass(t.settings.inputs.lostFocus),s.addClass(t.settings.inputs.hasFocus)})),t.inputs.blur((function(){var s=$(this);s.removeClass(t.settings.inputs.hasFocus),s.addClass(t.settings.inputs.lostFocus)})),t.inputs.keyup((function(){$(this).addClass(t.settings.inputs.isDirty)})),t.selects.on("change",(function(){e($(this))})),t.selects.on("click",(function(){var s=$(this);s.hasClass(t.settings.inputs.collapsed)?(s.removeClass(t.settings.inputs.collapsed),s.addClass(t.settings.inputs.in)):(s.addClass(t.settings.inputs.collapsed),s.removeClass(t.settings.inputs.in))})),t.selects.on("blur",(function(){var s=$(this);s.addClass(t.settings.inputs.collapsed),s.removeClass(t.settings.inputs.in)})),t.refresh=function(s){s?(l(s),a()):l(t.inputs)},t.contentChanged=o,$.fn.extend({refreshfv2:function(){l($(this))}})}))}();
"use strict";!function(){var t=window.Syvo.Layout_Control=new SyvoModule("Layout_Control",(function(n){t.reload=function(){s(!0)};var e={controls:{selector:"[data-layout-col]",dataAttribute:"layout-col",activeClass:"active",storageName:"layout_breakpoints",callback:function(){}},items:{selector:"[data-layout-width]",dataAttribute:"layout-width",refresh:function(t){if(t&&0!==t.length){var n=t.find("[data-list]");n&&0!==n.length&&$.each(n,(function(t,n){var e=$(n);e&&0!==e.length&&e.hasClass("slick-initialized")&&e.slick("slickSetOption","","",!0)}))}}},columns:4,responsive:[{breakpoint:991,columns:2}],layout:[{columns:4,applyClass:"col-4"},{columns:3,applyClass:"col-3"},{columns:2,applyClass:"col-2"},{columns:1,applyClass:"col-1"}]};if(t.settings=$.extend(!0,{},e,n),!(t.settings.controls&&t.settings.items&&t.settings.layout&&0!==t.settings.layout.length&&t.settings.columns&&t.settings.controls.dataAttribute&&t.settings.items.dataAttribute))return;function s(n){t.$layoutControls=$(t.settings.controls.selector),t.$layoutItems=$(t.settings.items.selector);var e=o();e&&0!==e.length&&(r(e)&&(n||(t.$layoutControls.click((function(n){n.preventDefault();var e=i($(this)),s=t.$layoutControls.filter((function(t,n){return i($(n))===e}));return t.settings.controls.storageName&&function(t,n){if(t&&0!==t.length&&!(n<=0)){var e=a(t)||[],s=c();s&&(s.columns=n),e.push(s),localStorage.setItem(t,JSON.stringify(u(e)))}}(t.settings.controls.storageName,e),r(s),t.settings.controls.callback&&"function"==typeof t.settings.controls.callback&&t.settings.controls.callback(),!1})),function(){if(t.settings.responsive&&t.settings.responsive.length>0){var n=function(){var t=o();if(!t||0===t.length)return!1;var n=c();n&&n.breakpoint||(n=e),n.columns!==e.columns&&(r(t),e=n)},e=c(),s=null;$(window).on("resize gestureend syvo:pinchend orientationchange Layout_Control:onReload",(function(){clearTimeout(s),s=setTimeout((function(){n()}),500)})),n()}}(),t.settings.callback&&"function"==typeof t.settings.callback&&t.settings.callback())))}function o(){var n=l(function(){if(!t.settings)return null;if(t.settings.responsive&&t.settings.responsive.length>0){var n=c();if(n&&n.columns)return n.columns}return!t.settings.columns||t.settings.columns<=0?null:t.settings.columns}());return n&&0!==n.length||(n=l(t.settings.columns)),n}function l(n){if(n&&t.$layoutControls&&0!==t.$layoutControls.length){var e=t.$layoutControls.filter((function(e,s){return $(s).data(t.settings.controls.dataAttribute)===n}));return e&&0!==e.length?e:null}}function r(n){var e,s=i(n);return!(!s||s<=0)&&(function(n){!function(){if(!t.settings||!t.settings.layout||!t.$layoutItems||0===t.$layoutItems.length)return;$.each(t.settings.layout,(function(n,e){t.$layoutItems.removeClass(e.applyClass)}))}();var e=function(n){var e=function(n){if(!t.settings||!t.settings.layout)return null;if(!n||n<=0)return null;var e=t.settings.layout.filter((function(t,e){return t.columns===n}));return e&&0!==e.length?e[0]:null}(n);return e?e.applyClass:null}(n);if(e)return function(n){if(!n||!t.$layoutItems||0===t.$layoutItems.length)return;$.each(t.$layoutItems,(function(t,e){var s=$(e);s.addClass(n),g(s)}))}(e),!1;!function(n){if(!n||!t.$layoutItems||0===t.$layoutItems.length)return;$.each(t.$layoutItems,(function(t,e){var s=$(e);s.width(n),g(s)}))}(function(t){return!t||t<=0?null:100/t+"%"}(n))}(s),t.$layoutControls&&0!==t.$layoutControls.length&&t.$layoutControls.removeClass(t.settings.controls.activeClass),(e=n)&&0!==e.length&&e.addClass(t.settings.controls.activeClass),!0)}function i(n){return n&&0!==n.length?n.data(t.settings.controls.dataAttribute):null}function a(t){if(!t||0===t.length)return null;var n=localStorage.getItem(t);return n?JSON.parse(n):null}function u(t){var n=[];return t&&0!==t.length?(t.reverse().forEach((function(t){0===n.filter((function(n){return t.breakpoint===n.breakpoint})).length&&n.push(t)})),n.reverse()):n}function c(){if(!t.settings||!t.settings.responsive)return null;var n,e,s=t.settings.responsive,o=$.getCurrentViewport().width;if(t.settings.controls&&t.settings.controls.storageName){var l=a(t.settings.controls.storageName);l&&l.length>0&&(e=l,s=(n=s)&&0!==n.length?e&&0!==e.length?u(u(n).concat(u(e))):u(n):u(e))}return 0===(s=(s=s.sort((function(t,n){return t.breakpoint-n.breakpoint}))).filter((function(t,n){return t.breakpoint>o}))).length&&s.push({breakpoint:8e3,columns:t.settings.columns}),s[0]}function g(n){n&&0!==n.length&&t.settings.items.refresh&&"function"==typeof t.settings.items.refresh&&t.settings.items.refresh(n)}s()}))}();
"use strict";!function(){var t=window.Syvo.Lazy_Load=new SyvoModule("Lazy_Load",(function(n){if("function"!=typeof $.fn.lazy)return;var e=$(window),i={DEFAULT:"default",BG:"bg"},a={selector:"[data-lazy-load]",dataAttr:"data-lazy-load",callbacks:{beforeLoad:u,afterLoad:u,onLoad:u,onFinishedAll:u},plugin:{scrollDirection:"vertical",effect:"fadeIn",chainable:!1,visibleOnly:!0,removeAttribute:!1,threshold:360,beforeLoad:function(n){t.settings.callbacks&&"function"==typeof t.settings.callbacks.beforeLoad&&t.settings.callbacks.beforeLoad(n);e.trigger(t.eventNames.onBeforeLazyLoad,[n])},afterLoad:function(n){g(n),t.settings.callbacks&&"function"==typeof t.settings.callbacks.afterLoad&&t.settings.callbacks.afterLoad(n);e.trigger(t.eventNames.onAfterLazyLoad,[n])},onLoad:function(n){t.settings.callbacks&&"function"==typeof t.settings.callbacks.onLoad&&t.settings.callbacks.onLoad(n);e.trigger(t.eventNames.onLazyLoad,[n])},onFinishedAll:function(n){t.settings.callbacks&&"function"==typeof t.settings.callbacks.onFinishedAll&&t.settings.callbacks.onFinishedAll(n);e.trigger(t.eventNames.onFinishedAllLazyLoad,[n])}}};if(t.settings=$.extend(!0,{},a,n),!t.settings.selector||!t.settings.dataAttr||0===t.settings.dataAttr.length||!t.settings.plugin)return;function o(n){!0!==t.inited&&(t.settings=$.extend(!0,{},t.settings,n),t.$targets=$(t.settings.selector),0!==t.$targets.length&&(t.plugin=t.$targets.lazy(t.settings.plugin),!0===t.settings.plugin.chainable&&(t.plugin=t.plugin.data("plugin_lazy")),t.inited=!0))}function l(){!1!==t.inited&&(s(),t.$targets=$(),t.inited=!1)}function s(){t.plugin&&"function"==typeof t.plugin.destroy&&t.plugin.destroy()}function g(n){var e;0!==n.length&&(i.BG===n.attr(t.settings.dataAttr)&&(e=n)&&0!==e.length&&e.find("img").attr("src",e.attr("data-src")))}function u(t){}t.init=o,t.destroy=l,t.reload=function(t){l(),o(t)},t.pluginSetAttr=function(n,e){t.plugin&&"function"==typeof t.plugin.config&&t.plugin.config(n,e)},t.pluginGetAttr=function(n){t.plugin&&"function"==typeof t.plugin.config&&t.plugin.config(n)},t.pluginGetItems=function(){t.plugin&&"function"==typeof t.plugin.getItems&&t.plugin.getItems()},t.pluginUpdate=function(){t.plugin&&"function"==typeof t.plugin.update&&t.plugin.update()},t.pluginLoadAll=function(){t.plugin&&"function"==typeof t.plugin.loadAll&&t.plugin.loadAll()},t.pluginDestroy=s,t.pluginAfterLoaded=g,o()}));t.eventNames.onBeforeLazyLoad=t.getModuleEventName("onBeforeLazyLoad"),t.eventNames.onAfterLazyLoad=t.getModuleEventName("onAfterLazyLoad"),t.eventNames.onLazyLoad=t.getModuleEventName("onLazyLoad"),t.eventNames.onFinishedAllLazyLoad=t.getModuleEventName("onFinishedAllLazyLoad")}();
"use strict";window.Syvo.Live_Chats=new SyvoModule("Live_Chats",(function(e){var a,t,i,r,o,n,l,s=$.extend(!0,{},{olark:{nameAddon:"Mr./Mrs",shower:"[data-trigger=olark-show]",expander:"[data-trigger=olark-expand]",forGuest:!0,hidden:!1}},e);s.olark&&s.olark.siteId&&0!==s.olark.siteId.length&&(s.olark.forGuest&&!1!==s.olark.forGuest||!s.isGuest||!0!==s.isGuest)&&(t=window,i=document,r="static.olark.com/jsclient/loader.js",t.olark||(o="script",l=i.createElement(o),o=i.getElementsByTagName(o)[0],l.async=1,l.src="//"+r,o.parentNode.insertBefore(l,o),(l=t.olark=function(){n.s.push(arguments),n.t.push(+new Date)}).extend=function(e,a){l("extend",e,a)},l.identify=function(e){l("identify",n.i=e)},l.configure=function(e,a){l("configure",e,a),n.c[e]=a},n=l._={s:[],t:[+new Date],c:{},l:r}),olark.identify(s.olark.siteId),s.lastName&&(s.firstName||olark("api.visitor.updateFullName",{fullName:s.nameAddon+" "+s.lastName}),olark("api.visitor.updateFullName",{fullName:s.firstName+" "+s.lastName})),s.email&&olark("api.visitor.updateEmailAddress",{emailAddress:s.email}),s.ip&&olark("api.visitor.updateCustomFields",{ip:s.ip}),s.olark.hidden&&!0===s.olark.hidden&&olark("api.box.hide"),a=s.olark.shower,$(a).click((function(e){return e.preventDefault(),olark("api.box.show"),!1})),function(e){$(e).click((function(e){return e.preventDefault(),olark("api.box.expand"),!1}))}(s.olark.expander)),s.liveperson}));
"use strict";!function(){var t=window.Syvo.Login_Attempt=new SyvoModule("Login_Attempt",(function(e){var n={controls:{selector:"[data-trigger=add-wishlist], [data-trigger=login-attempt]",listenEvents:"touchstart click",returnValue:!1},target:{selector:"#loginModal",action:function(t,e,n){n.modal("modal:open")},destroyEvent:"modal:close",callback:function(t,e,n){},showOnce:!0,runDependency:function(t,e,n){var o,r;o="Wishlist_Heart",(r=function(){if(window.Syvo.hasOwnProperty(o))return window.Syvo[o]}())&&r.isLoaded()?r&&"function"==typeof r.reload&&r.reload():window.Syvo[o].load()},storageKey:"LoginPopupShown"}};if(t.settings=$.extend(!0,{},n,e),!t.settings.controls||!t.settings.target)return;function o(){t.showed=l(),t.controls=$(t.settings.controls.selector),t.currentControl=$(),t.target=$(t.settings.target.selector),t.controls.on(t.settings.controls.listenEvents,i),t.target.on(t.settings.target.destroyEvent,a),t.settings.target.showOnce&&t.showed&&g()}function r(){t.controls.off(t.settings.controls.listenEvents,i),t.target.off(t.settings.target.destroyEvent,a),t.dependencyFired=!1}function s(e){r(),e&&(t.settings=$.extend(!0,{},n,e)),o()}function i(e){var n;return"touchstart"!==e.type&&"click"!==e.type||("touchstart"===e.type&&e.stopImmediatePropagation(),e.preventDefault()),n=$(this),t.currentControl=n,t.settings.target.showOnce?(t.showed=l(),t.showed||(c(),g())):c(),t.settings.controls.returnValue}function a(e){t.settings.controls.returnValue&&t.settings.target.callback&&"function"==typeof t.settings.target.callback&&t.settings.target.callback(t.currentControl,t.controls,t.target),e.stopImmediatePropagation()}function c(){var e;t.settings.target.action&&"function"==typeof t.settings.target.action&&(t.settings.target.action(t.currentControl,t.controls,t.target),t.showed=!0,e=t.showed,function(e,n){if(t.settings.target.storageKey){var o=new Date,r={value:n,expires:o.setMinutes(o.getMinutes()+60)};localStorage.setItem(e,JSON.stringify(r))}}(t.settings.target.storageKey,e))}function g(){t.dependencyFired||(t.settings.target.runDependency&&"function"==typeof t.settings.target.runDependency&&t.settings.target.runDependency(t.currentControl,t.controls,t.target),t.dependencyFired=!0)}function l(){return function(e){if(t.settings.target.storageKey){var n=JSON.parse(localStorage.getItem(e));if(n&&n.expires)if(new Date(n.expires)>new Date)return n.value}return!1}(t.settings.target.storageKey)}t.init=o,t.reload=s,t.reinit=s,t.destroy=r,t.dependencyFired=!1,o()}))}();
"use strict";!function(){var n=window.Syvo.Map=new SyvoModule("Map",(function(e){n.maps=[],n.markers=[];var o={lat:0,lng:0},t={maps:[],config:{selector:"#map",position:o,centerOffset:o,zoom:15,zoomControl:!0,scrollwheel:!1,mapTypeControl:!1,opacity:.75,styles:[]}};t.config.center=s(t.config);var i=$.extend(!0,{},t,e);if(!i.maps||0===i.maps.length)return void f(i.config);function f(e){if(e){var o=$.extend(!0,{},i.config,e);o.selector=c(e),o.center=s(e);var t=$(o.selector);t&&0!==t.length&&(o.map=new google.maps.Map(t[0],o),n.maps.push(o.map),function(e){if(!e||!e.position)return;if(e.position instanceof Array)e.position.forEach((function(o){var t=$.extend(!0,{},e,{position:o}),i=new google.maps.Marker(t);n.markers.push(i)}));else{var o=new google.maps.Marker(e);n.markers.push(o)}}(o))}}function s(n){return n?n.center?n.center:n.position?n.centerOffset?{lat:n.position.lat+n.centerOffset.lat,lng:n.position.lng+n.centerOffset.lng}:i.config.centerOffset?{lat:n.position.lat+i.config.centerOffset.lat,lng:n.position.lng+i.config.centerOffset.lng}:n.position:n.centerOffset?{lat:i.config.position.lat+n.centerOffset.lat,lng:i.config.position.lng+n.centerOffset.lng}:i.config.centerOffset?{lat:i.config.position.lat+i.config.centerOffset.lat,lng:i.config.position.lng+i.config.centerOffset.lng}:i.config.position:s(i.config)}function c(n){return n?n.selector?n.selector:i.maps&&i.maps.length>0?i.config.selector+i.maps.indexOf(n):i.config.selector:c(i.config)}i.maps.forEach((function(n){f(n)}))}))}();
"use strict";!function(){var o=window.Syvo.Popup_Modal=new SyvoModule("Popup_Modal",(function(e){var t={urls:{post:"website/submitmodal"},modal:{id:0,name:"SyvoModal",selector:"[data-property=popup-modal]",email:{selector:"[data-property=popup-modal-email]"},size:{selector:"[data-property=popup-modal-size]"},compact:{selector:"[data-property=mobile-overlay]"},open:{selector:"[data-trigger=popup-modal-open]",value:null},close:{selector:"[data-trigger=popup-modal-close]",value:"shown"},show:{selector:"[data-trigger=popup-modal-show]",func:function(o){o.slideDown()}},hide:{selector:"[data-trigger=popup-modal-hide]",func:function(o){o.slideUp()}},success:{selector:"[data-property=popup-modal-success]"},expirationDate:v().toString(),showOnce:!0},promo:{selector:"[data-property=promo-code]"}},l=Common.getBaseHref().replace(/\/$/,"");if(o.settings=$.extend(!0,{},t,e),!o.settings.modal||!o.settings.modal.compact||!o.settings.modal.success)return;function a(){o.$promo=o.settings.promo?$(o.settings.promo.selector):$(),o.$modal=$(o.settings.modal.selector),o.$modalCompact=$(o.settings.modal.compact.selector),o.$modalSuccess=$(o.settings.modal.success.selector),o.$modalEmail=$(o.settings.modal.email.selector),o.$modalSize=$(o.settings.modal.size.selector),o.$modalShow=$(o.settings.modal.show.selector),o.$modalOpen=$(o.settings.modal.open.selector),o.$modalClose=$(o.settings.modal.close.selector),o.$modalHide=$(o.settings.modal.hide.selector),o.$modalForm=o.$modal.is("form")?o.$modal:o.$modal.find("form"),o.cookie={getName:function(){return o.settings.modal.name+o.settings.modal.id},getExpires:function(){var e,t=o.settings.modal.expirationDate?new Date(o.settings.modal.expirationDate):v();if(!0!==o.settings.modal.showOnce){var l=((e=new Date).setDate(e.getDate()+1),e);if(l<t)return l}return t},getValue:function(){return $.cookie(this.name)}},o.$modalOpen.on("click",i),o.$modalClose.on("click",d),o.$modalShow.on("click",s),o.$modalHide.on("click",m),o.$modal.on("submit",c),f()}function n(){o.$modalOpen.off("click",i),o.$modalClose.off("click",d),o.$modalShow.off("click",s),o.$modalHide.off("click",m),o.$promo=null,o.$modal=null,o.$modalCompact=null,o.$modalSuccess=null,o.$modalEmail=null,o.$modalSize=null,o.$modalShow=null,o.$modalOpen=null,o.$modalClose=null,o.$modalHide=null,o.$modalForm=null,o.cookie=null,u()}function i(o){return o.preventDefault(),f(),!1}function s(e){return e.preventDefault(),o.$modalCompact.hide(),g(o.$modal),!1}function d(o){return o.preventDefault(),p(),!1}function m(o){return o.preventDefault(),u(),!1}function c(t){if(t.preventDefault(),o.sending)return!1;if(o.$modalForm.validate(),!o.$modalForm.valid())return!1;var a=o.$modalForm.serialize(),n=o.$modalEmail.val(),i=o.$modalSize.val();return o.sending=!0,$.ajax({url:e.urls.post,dataType:"json",type:"post",data:a}).done((function(e){e.status?function(e,t,a){p(),function(e){e?o.$promo.html(e):o.$promo.hide();g(o.$modalSuccess)}(e);var n=v();$.cookie("email",t,{expires:n,path:l}),$.cookie("sizeId",a,{expires:n,path:l})}(e.promoCode,n,i):r(e)})).fail((function(o){r(o)})).always((function(){o.sending=!1})),!1}function r(o){u()}function u(){o.$modalCompact.hide(),h(o.$modal),h(o.$modalSuccess)}function p(){o.$modalCompact.hide(),h(o.$modal),h(o.$modalSuccess),$.cookie(o.cookie.getName(),o.settings.modal.close.value,{expires:o.cookie.getExpires(),path:l})}function f(){o.cookie.getValue()!==o.settings.modal.close.value&&(g(o.$modal),null==o.settings.modal.open.value?$.removeCookie(o.cookie.getName(),{path:l}):$.cookie(o.cookie.getName(),o.settings.modal.open.value,{expires:o.cookie.getExpires(),path:l}))}function g(e){e&&0!==e.length&&"function"==typeof o.settings.modal.show.func&&o.settings.modal.show.func(e)}function h(e){e&&0!==e.length&&"function"==typeof o.settings.modal.hide.func&&o.settings.modal.hide.func(e)}function v(){var o=new Date;return o.setFullYear(o.getFullYear()+1),o}o.init=a,o.destroy=n,o.reload=function(){n(),a()},o.openModal=function(){f()},o.closeModal=function(){p()},a()}))}();
"use strict";!function(){var e=window.Syvo.Popups=new SyvoModule("Popups",(function(t){var a=$.extend(!0,{},{dataAttrs:{popup:"data-popup",close:"data-popup-close",expires:"data-popup-expires",dependencies:"data-popup-dependencies"}},t);if(!a.dataAttrs)return;function n(t){if(!t)return!1;if(t instanceof Object&&t.expireDate)return new Date(t.expireDate).getTime()>e.timeNow.getTime();return!0}e.popups=$("["+a.dataAttrs.popup+"]"),e.timeNow=new Date,$.each(e.popups,(function(e,t){var p=$(t),r=p.find("["+a.dataAttrs.close+"]"),i={expires:p.attr(a.dataAttrs.expires),dependencies:p.attr(a.dataAttrs.dependencies)?p.attr(a.dataAttrs.dependencies).split(","):[],id:p.attr(a.dataAttrs.popup)};!function(e){if(e.dependencies&&e.dependencies instanceof Array&&e.dependencies.length>0){for(var t=!0,a=0;a<e.dependencies.length;a++){var p=e.dependencies[a];if(!(t=t&&n(JSON.parse(localStorage.getItem(p)))))break}if(t)return!0}return!!n(JSON.parse(localStorage.getItem(e.id)))}(i)?(p.fadeIn("fast"),r.click((function(){p.fadeOut("fast"),function(e){var t=new Date;t.setDate(t.getDate()+e.expires),localStorage.setItem(e.id,JSON.stringify({expireDate:t.getTime()}))}(i)}))):p.fadeOut("fast")}))}))}();
"use strict";!function(){var e=window.Syvo.Product_Views=new SyvoModule("Product_Views",(function(i){var o={previews:{selector:"[data-list='previews']",listItemSelector:".preview",infinite:!1,vertical:!0,verticalSwiping:!0,slidesToScroll:1,slidesToShow:4,focusOnSelect:!0,dots:!1,arrows:!0,prevArrow:"<div class='slick-arrow slick-prev vertical-arrow previews-arrow'><i class='arrow icon-syvo icon-chevron-up'></i></div>",nextArrow:"<div class='slick-arrow slick-next vertical-arrow previews-arrow'><i class='arrow icon-syvo icon-chevron-down'></i></div>",responsive:[{breakpoint:992,settings:"unslick"}]},overviews:{selector:"[data-list='overviews']",callbacks:{onInit:u,onBreakpoint:u,onLazyLoaded:u,onBeforeChange:u,onAfterChange:u},infinite:!1,slidesToShow:1,slidesToScroll:1,focusOnSelect:!1,arrows:!1,dots:!1,fade:!0,rightClick:!0,responsive:[{breakpoint:992,settings:{infinite:!0,arrows:!0,prevArrow:"<div class='slick-arrow slick-prev overviews-arrow'><i class='arrow icon-syvo icon-chevron-left'></i></div>",nextArrow:"<div class='slick-arrow slick-next overviews-arrow'><i class='arrow icon-syvo icon-chevron-right'></i></div>"}}],lazyBackground:"[data-lazy-background]",magicZoom:{refreshOnSlideChange:!0,variableZoom:!0,zoomOn:"click",zoomPosition:"inner",lazyZoom:!0,onZoomReady:function(e){$(window).trigger("mz:ready",[e])}},video:{selector:"[data-video-type='video-js']",init:window.Syvo.Video.load,get:function(){return window.Syvo.Video}}},viewControls:{selector:"[data-property='view-control'], [data-property='color']",viewClass:"overview",dataAttr:"data-value-id",activeClass:"active-view",useScrollToColorImage:!0},callback:function(){}};o.previews.asNavFor=o.overviews.selector,o.overviews.asNavFor=o.previews.selector;var s=e;if(s.settings=$.extend(!0,{},o,i),!s.settings.previews||!s.settings.overviews)return;s.previews=$(s.settings.previews.selector),s.previewItems=s.previews.find(s.settings.previews.listItemSelector),s.overviews=$(s.settings.overviews.selector);var t=$("[data-property='fixed-header']"),n=0,r=$().add(s.overviews),a=$().add(s.previews);if(s.settings.previewVideos){s.previewVideos=$(s.settings.previewVideos.selector),a=a.add(s.previewVideos);var v=s.previews.children().length;v<s.settings.previews.slidesToShow&&(s.settings.previews.slidesToShow=v)}s.settings.overviewVideos&&(s.overviewVideos=$(s.settings.overviewVideos.selector),r=r.add(s.overviewVideos));var l=$().add(r).add(a);s.settings.overviews.magicZoom&&(window.mzOptions=$.extend(!0,{},window.mzOptions,s.settings.overviews.magicZoom));s.settings.overviews.video&&"function"==typeof s.settings.overviews.video.init&&s.settings.overviews.video.init();function c(e,i,o){n=o}function d(e,i,o){$(e.closest(o)).css("background-image",'url("'+i+'")')}function w(e){!function(){if(!MagicZoom||!s.settings.overviews.magicZoom||!s.settings.overviews.magicZoom.refreshOnSlideChange)return;MagicZoom.refresh()}(),function(e){e&&"function"==typeof e.setPosition&&(clearTimeout(s.slickSetPositionTimeout),s.slickSetPositionTimeout=setTimeout((function(){e.setPosition()}),250))}(e)}function g(){var e=s.settings.overviews.video.get();function i(e){if(e&&e.playerItems&&0!==e.playerItems.length){for(var i=function(e){var i=[];if(e&&e.playerItems&&$.isArray(e.playerItems))for(var o=0,t=e.playerItems.length;o<t;o++){var n=e.playerItems[o];$.checkContains(s.overviewVideos,$(n.el_))&&i.push(n)}return i}(e),o=0,t=i.length;o<t;o++){var n=i[o];n.on("play",r),n.on("pause",a)}s.previews&&s.previews.length>0&&v(),s.overviewVideos&&(s.overviewVideos.on("Product_Views:overviewVideosShown",(function(){var e=$(this).find(".slick-current").find("[data-video-type='video-js'][autoplay]:not(video)");e.length>0&&function(e){for(var o=0,s=i.length;o<s;o++){var t=i[o];if(e&&e.length>0&&$(t.el_).is(e)){t.play(),$(document).trigger("google-analytics:product-video-played",t.id_);break}}}(e)})),s.overviewVideos.on("Product_Views:overviewVideosHidden",(function(){v()})))}function r(){l(!0,this)}function a(){l(!1,this)}function v(e){for(var o=0,s=i.length;o<s;o++){var t=i[o];if(e&&e.length>0&&$(t.el_).is(e)){t.pause();break}t.pause()}}function l(e,o){if(o){var s=$(o.el_).closest("[data-parent='video-js']"),t=s.closest(".slick-slide");if(e)t.hasClass("slick-current")||s.addClass("is-playing");else if(s.removeClass("is-playing"),t.hasClass("slick-current"))!function(e){var o=function(e){for(var o=0,s=i.length;o<s;o++)if($(i[o].el_).is(e))return i[o]}(e);o&&(o.play(),o.trigger("play"))}(t.find("[data-parent='video-js']").not(s).find("[data-video-type='video-js']:not(video)"))}}}e&&(e.isLoaded()?i(e):$window.on(e.eventNames.onAfterLoad,(function(){i(s.settings.overviews.video.get())})))}function f(){var e=this,o=$(s.settings.viewControls.selector);e.viewControlChanged=r,e.viewChoosed=v,e.viewControls=o;var t=window.Syvo.Product_Details;function r(e){var i=e.attr(s.settings.viewControls.dataAttr);e.trigger("syvo_viewControls:beforeChange",[i]),a(e);var o=v(i);e.trigger("syvo_viewControls:afterChange",[i,o])}function a(e,i){o.removeClass(s.settings.viewControls.activeClass);var t=i||e.attr(s.settings.viewControls.dataAttr);o.filter("["+s.settings.viewControls.dataAttr+"='"+t+"']").addClass(s.settings.viewControls.activeClass)}function v(e){var i=!1;if(!e)return l(0),i;e=e.split(",");for(var o=s.overviews.find("."+s.settings.viewControls.viewClass),t=0,n=o.length;t<n;t++){var r=$(o[t]).attr(s.settings.viewControls.dataAttr);if(r){for(var a=0,v=(r=r.split(",")).length;a<v;a++){var c=r[a];if($.inArray(c,e)>-1){i=!0;break}}if(i)break}}return l(i?t:0),i}function l(i){e.currentSlide=i,s.overviews.slick("slickGoTo",i)}o.click((function(e){var i=$(this);i.hasClass(s.settings.viewControls.activeClass)||r(i)})),s.previews.on("afterChange",(function(i,o,n,r){if(e.currentSlide!==n){var v=$(o.$slides[n]).find(".preview").attr(s.settings.viewControls.dataAttr);v&&0!==v.length&&(v.length>0&&(v=v.split(",")[0]),t.colorFilter.colorFilterChoosed(t.colorFilter.allFilter),t.colorFilter.showFilteredColors(),a(null,v))}})),i.useScrollToColorImage&&o.on("syvo_viewControls:afterChange",(function(e,i,o){var t=s.settings.overviews.keepViewsVisible;e.stopPropagation(),i&&i.length>0&&o&&!t&&$("html, body").animate({scrollTop:s.overviews.offset().top-n},"slow")}))}function u(){}$(document).ready((function(){if($.fn.slick&&"function"==typeof $.fn.slick){var e=$(window);r.on("init",(function(){$(a).siblings(".slick-dots").on("click",(function(){$(document).trigger("google-analytics:product-image-dot-clicked")})),$(r).children(".products-arrow").on("click",(function(){$(document).trigger("google-analytics:product-image-arrow-clicked")}))})),l.on("init",(function(i,o){e.trigger("slick:ready")}));var i=null;e.on("gestureend syvo:pinchend orientationchange",(function(){clearTimeout(i),i=setTimeout((function(){l.slick("slickSetOption","","",!0)}),500)})),t.on("syvo_fixedHeader:onCalculate",c),s.previews=s.previews.filter((function(e,i){return $(i).children().length>0})),s.previews.slick(s.settings.previews),s.settings.previews.lazyBackground&&s.previews.on("lazyLoaded",(function(e,i,o,t){d(o,t,s.settings.previews.lazyBackground)})),a.on("afterChange",(function(e,i,o,s){!function(e,i){if($.fn.slick&&"function"==typeof $.fn.slick&&e&&!(i<0)){var o=e.$slider;if(o&&0!==o.length){i>0?o.addClass("slick-started"):o.removeClass("slick-started");var s=e.$slides;s&&0!==s.length&&(i===s.length-1||$(s[s.length-1]).hasClass("slick-active")?o.addClass("slick-ended"):o.removeClass("slick-ended"))}}}(i,o)})),s.overviews=s.overviews.filter((function(e,i){return $(i).children().length>0})),s.overviews.on("init reinit",(function(e,i){s.settings.overviews.callbacks&&"function"==typeof s.settings.overviews.callbacks.onInit&&s.settings.overviews.callbacks.onInit(i)})),s.overviews.on("breakpoint",(function(e,i,o){s.settings.overviews.callbacks&&"function"==typeof s.settings.overviews.callbacks.onBreakpoint&&s.settings.overviews.callbacks.onBreakpoint(i,o)})),s.overviews.on("lazyLoaded",(function(e,i,o,t){s.settings.overviews.lazyBackground&&d(o,t,s.settings.overviews.lazyBackground),s.settings.overviews.callbacks&&"function"==typeof s.settings.overviews.callbacks.onLazyLoaded&&s.settings.overviews.callbacks.onLazyLoaded(i,o,t)})),s.overviews.on("beforeChange",(function(e,i,o,t){s.settings.overviews.callbacks&&"function"==typeof s.settings.overviews.callbacks.onBeforeChange&&s.settings.overviews.callbacks.onBeforeChange(i,o,t)})),s.overviews.on("afterChange",(function(e,i,o){s.settings.overviews.callbacks&&"function"==typeof s.settings.overviews.callbacks.onAfterChange&&s.settings.overviews.callbacks.onAfterChange(i,o)})),s.overviews.slick(s.settings.overviews),r.on("swipe",(function(){$(document).trigger("google-analytics:product-image-swiped")})),r.on("afterChange",(function(e,i,o,s){w(i)})),s.settings.previewVideos&&s.settings.overviewVideos&&(s.previewVideos.on("click",(function(){s.previewVideos.addClass("is-shown"),s.overviewVideos.addClass("is-shown"),"function"==typeof $.fn.slick&&s.overviewVideos.slick("setPosition"),s.overviewVideos.trigger("Product_Views:overviewVideosShown")})),$().add(s.previews).add(s.overviews).on("beforeChange",(function(){s.previewVideos.removeClass("is-shown"),s.overviewVideos.removeClass("is-shown"),s.overviewVideos.trigger("Product_Views:overviewVideosHidden")})),s.previewItems.on("click",(function(){s.overviewVideos.removeClass("is-shown"),s.overviewVideos.trigger("Product_Views:overviewVideosHidden")})),s.settings.previewVideos.slidesToShow=s.previewVideos.children().length,s.previewVideos.slick(s.settings.previewVideos),s.overviewVideos.slick(s.settings.overviewVideos)),s.settings.viewControls&&(s.viewControls=new f),g(),s.settings.callback()}}))}))}();
"use strict";!function(){var e=window.Syvo.Product=new SyvoModule("Product",(function(i){var s={slider:{selector:"[data-list=images]",infinite:!1,slidesToShow:1,slidesToScroll:1,focusOnSelect:!0,arrows:!0,dots:!1,prevArrow:"<div class='slick-arrow slick-prev'><span class='arrow arrow-product-image'></span></div>",nextArrow:"<div class='slick-arrow slick-next'><span class='arrow arrow-product-image'></span></div>"},backface:{selector:"[data-img=backface]",parent:"[data-link=product-images]",activeClass:"active",swipedClass:"swiped",timeout:250,swipe:{allowPageScroll:"vertical",threshold:0,swipe:function(i,s,t,c,a,n){if(s===$.fn.swipe.directions.LEFT||s===$.fn.swipe.directions.RIGHT){var r=$(this);!function(i,s){if(!0===s)return void i.addClass(e.settings.backface.swipedClass);i.removeClass(e.settings.backface.swipedClass)}(r,(l=r,!l.hasClass(e.settings.backface.swipedClass)))}var l;!function(i,s,t,c,a,n){"function"==typeof e.settings.backface.swipe.onAfterSwipe&&e.settings.backface.swipe.onAfterSwipe(i,s,t,c,a,n)}(i,s,t,c,a,n)},excludedElements:".noSwipe"},onAfterSwipe:function(e,i,s,t,c,a){}}};if(e.settings=$.extend(!0,{},s,i),!e.settings.slider&&!e.settings.backface)return;var t=$(window);function c(){n(),l()}function a(){r(),o()}function n(){e.settings.slider&&"function"==typeof $.fn.slick&&(e.slider={$_el:$(e.settings.slider.selector).filter((function(e,i){return $(i).children().length>1}))},function(){if(!e.slider||!e.slider.$_el||0===e.slider.$_el.length)return;e.slider.slick=e.slider.$_el.slick(e.settings.slider),e.slider.inited=!0}())}function r(){e.settings.slider&&"function"==typeof $.fn.slick&&(function(){if(!e.slider||!e.slider.$_el||0===e.slider.$_el.length||!e.slider.slick)return;e.slider.slick=e.slider.$_el.slick("unslick")}(),function(){if(!e.slider)return;e.slider.inited=!1}())}function l(){e.settings.backface&&"function"==typeof $.fn.swipe&&(e.backface={$_el:$(e.settings.backface.selector)},e.backface.$parent=e.backface.$_el.closest(e.settings.backface.parent),d(),t.on("scroll",f),e.backface.inited=!0)}function o(){e.backface&&e.backface.inited&&(k(e.backface.$parent),t.off("scroll",f),e.backface={$_el:$(),$parent:$(),inited:!1})}function f(){clearTimeout(e.backface.windowScrollTimeout),e.backface.windowScrollTimeout=setTimeout((function(){d()}),e.settings.backface.timeout)}function d(){var i,s;e.backface.$visible=e.backface.$parent.filter((function(){var e=$(this),i=e.offset().top,s=t.scrollTop();return i+e.height()>=s&&i<=s+$.getCurrentViewport().height})),e.backface.$invisible=e.backface.$parent.not(e.backface.$visible),k(e.backface.$invisible),(i=e.backface.$visible,s=!1,i.filter((function(){var i=$(this).hasClass(e.settings.backface.activeClass);return!0===s&&i||!i}))).swipe(e.settings.backface.swipe),u(e.backface.$visible,!0)}function u(i,s){!0!==s?i.removeClass(e.settings.backface.activeClass):i.addClass(e.settings.backface.activeClass)}function k(i){clearTimeout(e.backface.windowScrollTimeout),u(i,!1),i.swipe("destroy")}e.init=c,e.initSlider=n,e.initBackface=l,e.destroy=a,e.destroySlider=r,e.destroyBackface=o,e.reload=function(){a(),c()},c()}))}();
"use strict";!function(){var t=window.Syvo.Related_Images=new SyvoModule("Related_Images",(function(e){if(t.settings=$.extend(!0,{},{resizeRatio:.8,containerSelectors:["[data-lazy-background]",".product-image"],parentClasses:["has-background","[data-lazy-background]"],applyClass:"related-image"},e),!(t.settings.resizeRatio&&t.settings.containerSelectors&&t.settings.containerSelectors instanceof Array&&t.settings.parentClasses&&t.settings.parentClasses instanceof Array&&t.settings.applyClass))return;function n(){window.mzOptions?function(){if(!0===t.inited)return;window.mzOptions.onZoomReady=function(t,e){i()}}():a()}function a(){!0!==t.inited&&(i(),t.inited=!0)}function i(){$.each(t.settings.containerSelectors,(function(e,n){var a=function(e){var n={};n.images=$(e+" img"),0===n.images.length?(n.images=$(e),n.getImgLink=a,n.getParent=s):(n.getImgLink=i,n.getParent=r);return n;function a(t){var e=t.css("background-image").trim();return e.substring(5,e.length-2)}function i(t){var e=t.attr("src");return e&&0!==e.length||(e=t.attr("data-lazy")),e}function s(t){return t}function r(e){var n;return $.each(t.settings.parentClasses,(function(t,a){if((n=e.closest(a))&&n.length>0)return!1})),n&&0!==n.length||(n=e.parent()),n}}(n);a.images.each((function(e,n){var i=$(n),s=new Image;s.onload=function(e,n,a,i){if(!(e&&n&&0!==n.length&&a&&i))return;e.src=a(n);var s=i(n);t.images.push({image:n,parent:s});var r=e.width*s.outerHeight()/(e.height*s.outerWidth());r>1&&(r=1/r);r>=t.settings.resizeRatio?s.removeClass(t.settings.applyClass):s.addClass(t.settings.applyClass)}(s,i,a.getImgLink,a.getParent)}))}))}t.init=n,t.reload=function(){!1!==t.inited&&(t.images.forEach((function(e){e.parent.removeClass(t.settings.applyClass)})),t.images=[],t.inited=!1),a()},t.images=[],$(document).ready(n)}))}();
"use strict";!function(){var e=window.Syvo.Search=new SyvoModule("Search",(function(t){function a(){e.$searchInput=$("[data-property=search]"),e.$searchButton=$("[data-trigger=search]"),e.$searchPanel=$("[data-trigger=search-panel]"),e.$searchForm=e.$searchInput.closest("form"),e.$searchForm.on("submit",o),e.$searchInput.on("keyup",r),e.$searchButton.on("click",c),e.$searchPanel.on("click",u),function(){var t={},a={classes:{"ui-autocomplete":"ui-autocomplete-search"},minLength:2,delay:500,source:function(e,a){var n=$.trim(e.term);n in t?a(o(t[n])):$.ajax({url:"products/suggest",data:{name:n},type:"get",success:function(e){t[n]=e,a(o(t[n]))}})},focus:function(){return!1},select:function(t,a){return e.autocompleteTriggered=!0,e.$searchInput.val(a.item.label),i(a.item.label),location.assign(a.item.value),!1}};function n(){e.$searchInput.map((function(){$(this).data("ui-autocomplete").menu.element.position({my:"left top",at:"left bottom",of:this})}))}function o(e){return $.map(e,(function(e){return{value:e.url,label:e.title}}))}a.appendTo=e.$searchInput.parents("[data-property=fixed-header]"),e.$searchInput.autocomplete(a),$(window).on("syvo_fixedHeader:onApply syvo_fixedHeader:onReset",n)}()}function n(){e.$searchForm.off("submit",o),e.$searchInput.off("keyup",r),e.$searchButton.off("click",c),e.$searchPanel.off("click",u),e.$searchInput.data("autocomplete")&&(e.$searchInput.autocomplete("destroy"),e.$searchInput.removeData("autocomplete"))}function o(e){return!1}function r(t){e.$searchInput.val($(this).val()),13===t.keyCode&&s()}function c(e){return s(),!1}function u(t){e.$searchInput.focus()}function s(){var t=$.trim(e.$searchInput.val());if(""!==t&&!e.autocompleteTriggered){var a=new URI(location.href);a.pathname(Common.getBaseHref()+"search").query(""),a.setQuery("searchterm",t),i(t),location.assign(a)}}function i(e){$(document).trigger("google-analytics:search-product-triggered",e)}e.autocompleteTriggered=!1,e.init=a,e.destroy=n,e.reload=function(){n(),a()},a()}))}();
"use strict";!function(){var t=window.Syvo.Social_Networks=new SyvoModule("Social_Networks",(function(e){var i=$(window);t.selectors={};new function(){var t=this;function e(t){var e=this;function i(){return e.obj.attr("content")}function r(t){e.obj.attr("content",t)}e.key="meta[property='"+t+"']",e.obj=$(e.key),e.value=i(),e.clearContent=function(){r("")},e.restoreContent=function(){r(e.value)}}t.metaList=[new e("og:url"),new e("og:title"),new e("og:image"),new e("og:description")],t.clearMeta=function(){t.metaList&&$.each(t.metaList,(function(){this.clearContent()}))},t.showMeta=function(){t.metaList&&$.each(t.metaList,(function(){this.restoreContent()}))}};e.single&&(t.selectors.facebookButtonSelector="[data-property='facebook-share']",t.selectors.googleplusButtonSelector="[data-property='googleplus-share']",t.selectors.instagramButtonSelector="[data-property='instagram-share']",t.selectors.linkedinButtonSelector="[data-property='linkedin-share']",t.selectors.pinterestButtonSelector="[data-property='pinterest-share']",t.selectors.twitterButtonSelector="[data-property='twitter-share']",t.selectors.whatsAppButtonSelector="[data-property='whatsapp-share']",t.selectors.youtubeButtonSelector="[data-property='youtube-share']",t.selectors.emailButtonSelector="[data-property='email-share']",function(){o(),e.single.fb&&(r(t.selectors.facebookButtonSelector),function(){n(e.single.fb.appId);var i=$('meta[property="og:url"]').attr("content"),r=$('meta[property="og:title"]').attr("content"),o=$('meta[property="og:image"]').attr("content"),a=$('meta[property="og:description"]').attr("content"),l=i||e.single.url,c=r||e.single.title,p=o||e.single.image,u=a||e.single.description,g={u:e.single.fb.url?e.single.fb.url:l,title:e.single.fb.title?e.single.fb.title:c,picture:encodeURI(e.single.fb.picture?e.single.fb.picture:p),description:e.single.fb.description?e.single.fb.description:u};$(t.selectors.facebookButtonSelector).on("click",(function(){return s(g),!1}))}());e.single.tw&&(r(t.selectors.twitterButtonSelector),p={url:e.single.tw.url?e.single.tw.url:e.single.url,text:e.single.tw.message?e.single.tw.message:e.single.title,via:e.single.tw.via?e.single.tw.via:null},$(t.selectors.twitterButtonSelector).on("click",(function(){return u("twitter",a(p)),!1})));var p;e.single.pinterest&&(r(t.selectors.pinterestButtonSelector),function(){if(e.single.pinterest.pinAny&&e.single.pinterest.pinAny.images){var i=!1;$("img").attr("data-pin-nopin",!0),$("body").append('<div class="pin-me-only" style="display:none"></div>');var r=$();return e.single.pinterest.pinAny.images.forEach((function(t){r=r.add($("<img/>",{src:t}))})),void $(t.selectors.pinterestButtonSelector).on("click",(function(t){t.preventDefault(),PinUtils&&(i||($(".pin-me-only").append(r),$(".pin-me-only img").removeAttr("data-pin-nopin"),$(".pin-me-only img").attr("data-pin-me-only",!0),$(".pin-me-only img").attr("data-pin-description",e.single.pinterest.description),i=!0),PinUtils.pinAny())}))}var o={url:e.single.pinterest.url?e.single.pinterest.url:e.single.url,media:e.single.pinterest.image?e.single.pinterest.image:e.single.image,description:e.single.pinterest.description?e.single.pinterest.description:description};$(t.selectors.pinterestButtonSelector).on("click",(function(){return u("pinterest",l(o)),!1}))}());e.single.whatsApp&&(r(t.selectors.whatsAppButtonSelector),g={url:e.single.whatsApp.url?e.single.whatsApp.url:e.single.url,text:e.single.whatsApp.message?e.single.whatsApp.message:e.single.title},d={text:g.text+" "+g.url},$(t.selectors.whatsAppButtonSelector).on("click",(function(){return u("whatsApp",c(d)),!1})));var g,d;e.single.email&&(r(t.selectors.emailButtonSelector),$(t.selectors.emailButtonSelector).on("click",(function(){return u("email",e.single.email.url+"?"+$.param(e.single.email.data,!0)),!1})));i.trigger("syvo:social_networks:single_inited",t)}());e.multi&&(t.selectors.facebookButtonSelector="[data-property='facebook-share-multi']",t.selectors.googleplusButtonSelector="[data-property='googleplus-share-multi']",t.selectors.instagramButtonSelector="[data-property='instagram-share-multi']",t.selectors.linkedinButtonSelector="[data-property='linkedin-share-multi']",t.selectors.pinterestButtonSelector="[data-property='pinterest-share-multi']",t.selectors.twitterButtonSelector="[data-property='twitter-share-multi']",t.selectors.whatsAppButtonSelector="[data-property='whatsapp-share-multi']",t.selectors.youtubeButtonSelector="[data-property='youtube-share-multi']",t.selectors.emailButtonSelector="[data-property='email-share-multi']",function(){o(),e.multi.fb&&(r(t.selectors.facebookButtonSelector),n(e.multi.fb.appId),$(t.selectors.facebookButtonSelector).on("click",(function(){var t=$(this),e=t.attr("data-social-url"),i=t.attr("data-social-title"),r=t.attr("data-social-picture"),o=t.attr("data-social-description");return o||(o=p(t)),s({u:e,title:i,picture:encodeURI(r),description:o}),!1})));e.multi.tw&&(r(t.selectors.twitterButtonSelector),$(t.selectors.twitterButtonSelector).on("click",(function(){var t=$(this),i=t.attr("data-social-url"),r=t.attr("data-social-message-postfix")||"",o=t.attr("data-social-title")||"";return u("twitter",a({url:i,text:(e.multi.tw.messagePrefix||"")+o+r})),!1})));e.multi.pinterest&&(r(t.selectors.pinterestButtonSelector),$(t.selectors.pinterestButtonSelector).on("click",(function(){var t=$(this),e=t.attr("data-social-url"),i=t.attr("data-social-picture"),r=t.attr("data-social-title");r=r||p(t);var o=t.attr("data-social-description");return u("pinterest",l({url:e,media:i,description:r+". "+(o=o||p(t))})),!1})));e.multi.whatsApp&&(r(t.selectors.whatsAppButtonSelector),$(t.selectors.whatsAppButtonSelector).on("click",(function(){var t=$(this),i=t.attr("data-social-url"),r=t.attr("data-social-message-postfix");return u("whatsApp",c({text:(e.multi.whatsApp.messagePrefix||""+r)+" "+i})),!1})));e.multi.email&&(r(t.selectors.emailButtonSelector),$(t.selectors.emailButtonSelector).on("click",(function(){return u("email",e.multi.email.url+"?"+$.param(e.multi.email.getData($(this)),!0)),!1})));i.trigger("syvo:social_networks:multi_inited",t)}());function r(t){var e=$(t);e.closest(".social-networks").length>0?e.parent().show():e.show()}function o(){$.each(t.selectors,(function(t,e){var i;(i=$(e)).closest(".social-networks").length>0?i.parent().hide():i.hide()}))}function n(e){var i,r,o,n,s;e?(i=document,r="script",o="facebook-jssdk",s=i.getElementsByTagName(r)[0],i.getElementById(o)||((n=i.createElement(r)).id=o,n.src="//connect.facebook.net/en_US/sdk.js",s.parentNode.insertBefore(n,s)),window.fbAsyncInit=function(){FB.init({appId:e,xfbml:!0,version:"v2.9"})}):$(t.selectors.facebookButtonSelector).parent().hide()}function s(t){FB.ui({method:"share_open_graph",action_type:"og.shares",action_properties:JSON.stringify({object:{"og:url":t.u,"og:title":t.title,"og:description":t.description,"og:image":t.picture}})},(function(t){}))}function a(t){return"http://twitter.com/share?"+$.param(t,!0)}function l(t){return"https://www.pinterest.com/pin/create/button/?"+$.param(t,!0)}function c(t){return"https://wa.me/?text="+t.text}function p(t){var i=t.closest(e.multi.parentSelector),r=e.multi.descriptionSelector?e.multi.descriptionSelector:"[data-property='description']",o=i.find(r).text();return o||""}function u(t,i){var r=$.getCurrentViewport(),o={width:r.width>767?767:r.width,height:function(){return 9*this.width/16}()};"function"==typeof e.customPopupWindowSize&&(o=e.customPopupWindowSize());var n=r.width/2-o.width/2,s=r.height/2-o.height/2,a=i,l="status=1,width="+o.width+",height="+o.height+",top="+s+",left="+n+",menubar=no,toolbar=no,resizable=yes,scrollbars=yes";return window.open(a,t,l)}}))}();
"use strict";!function(){var e=window.Syvo.Text_Expander=new SyvoModule("Text_Expander",(function(t){if(e.settings=$.extend(!0,{},{parent:{selector:"[data-property='parent']"},target:{selector:"[data-text-expanded]",attr:"data-text-expanded",childEl:"p"},action:{selector:"[data-text-expander]",attr:"data-text-expander",label:{compendious:"Learn More",expanded:"Hide"}},classes:{compendious:"compendious",expanded:"expanded"}},t),!(e.settings.parent&&e.settings.target&&e.settings.action&&e.settings.classes))return;if(e.action=$(e.settings.action.selector),e.targetTexts=[],0===e.action.length)return;e.populateTarget=function(t,s,a){var n=a.attr(e.settings.target.attr),i=a.html();if(n.length<=i.length)return void s.hide();t.hasClass(e.settings.classes.compendious)?(s.html(e.settings.action.label.compendious),e.targetTexts.push({key:a,compendiousText:i,expandedText:n})):t.hasClass(e.settings.classes.expanded)&&(s.html(e.settings.action.label.expanded),e.targetTexts.push({key:a,compendiousText:n,expandedText:i}))},e.toggleState=function(t,s,a){t.hasClass(e.settings.classes.compendious)?(t.removeClass(e.settings.classes.compendious),a.html(d(a,"expandedText")),s.html(e.settings.action.label.expanded),t.addClass(e.settings.classes.expanded)):t.hasClass(e.settings.classes.expanded)&&(t.removeClass(e.settings.classes.expanded),a.html(d(a,"compendiousText")),s.html(e.settings.action.label.compendious),t.addClass(e.settings.classes.compendious))};for(var s=0,a=e.action.length;s<a;s++){var n=$(e.action[s]),i=n.closest(e.settings.parent.selector),o=i.find(e.settings.target.selector);e.populateTarget(i,n,o)}function d(t,s){if(t){for(var a=-1,n=0,i=e.targetTexts.length;n<i;n++){if(e.targetTexts[n].key.is(t)){a=n;break}}if(!(a<0)&&e.targetTexts[a].hasOwnProperty(s))return e.targetTexts[a][s]}}e.action.on("click",(function(t){t.preventDefault();var s=$(this),a=s.closest(e.settings.parent.selector),n=a.find(e.settings.target.selector);e.toggleState(a,s,n)}))}))}();
"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){var t=window.Syvo.Video=new SyvoModule("Video",(function(e){var i,o={muteOnAutoplay:!0,pauseOnAutoplay:!1,isMobile:common_settings.isMobile,responsive:[]},n=$.extend(!0,{},o,e);function s(t){if(!n.responsive||0===n.responsive.length)return{breakpoint:8e3,settings:n};n.isMobile&&!0===n.isMobile&&(t=991);var e=n.responsive.sort((function(t,e){return t.breakpoint<e.breakpoint?-1:t.breakpoint>e.breakpoint?1:0}));return 0===(e=e.filter((function(e,i){return e.breakpoint>=t}))).length&&e.push({breakpoint:8e3,settings:n}),e[0]}t.playerItems=[],t.pauseAll=C,t.playAll=function(){for(var e=0,i=t.playerItems.length;e<i;e++)t.playerItems[e].play()},t.initVideoJsSingleItem=c,t.bindVideoHandlers=h,t.handleCarouselVideos=y;var a=n.responsive&&n.responsive.length>0;if(a){var r=null;$(window).on("resize gestureend syvo:pinchend orientationchange",(function(){clearTimeout(r),r=setTimeout((function(){t.playerItems&&t.playerItems.length>0&&t.playerItems.forEach((function(t){f($(t.el_),t)}))}),500)}))}function l(){var t=this;this.source={type:"",src:""},this.techOrder=["html5"],this.sources=[this.source],this.poster="",this.controls=!0,this.controlBar=!1,this.class="vjs-styles-defaults",this.setPoster=function(e){t.poster=e},this.setSrc=function(e){t.source.src=e},this.setMuted=function(e){t.muted=e},this.setAutoplay=function(e){t.autoplay=e}}function u(){l.apply(this),this.techOrder=["youtube"],this.source.type="video/youtube",this.muted=!1,this.fluid=!0,this.loop=!0,this.youtube={iv_load_policy:3},this.controls=!0,this.controlBar=!1,this.preload="auto",this.language="en",this.aspectRatio="16:9"}function d(){l.apply(this),this.techOrder=["vimeo"],this.source.type="video/vimeo",this.muted=!1,this.fluid=!0,this.loop=!0,this.controls=!1,this.controlBar=!1,this.preload="auto",this.language="en",this.aspectRatio="16:9"}function c(e){var o=$(e),r=o.attr("data-video-url");if(r&&r.length>0){var c=function(t){if(t.indexOf("youtube")>=0||t.indexOf("youtu.be")>=0)return"youtube";if(t.indexOf("vimeo")>=0)return"vimeo";return null}(r),v=o.attr("data-video-poster"),p=function(t){if("youtube"===t)return new u;if("vimeo"===t)return new d;return new l}(c);if(p.setPoster(v),p.setSrc(r),o.addClass("video-js"),o.addClass("is-paused"),o.attr("webkit-playsinline",!0),o.attr("playsinline",!0),function(t){return function(t){if("function"!=typeof $.fn.slick)return!0;var e=t.closest(".slick-cloned");if(0===e.length)return!0;return t.remove(),e.find("[data-video-button]").removeAttr("data-video-button"),e.find("[data-video-mute]").removeAttr("data-video-mute"),!1}(t)}(o)){!function(t,e){var o=s($.getCurrentViewport().width);if(!a||!i||o.breakpoint!==i.breakpoint){var r=$.extend(!0,{},n,o.settings);t.attr("autoplay")&&(r.muteOnAutoplay?e.setMuted(!0):e.setMuted(!1),r.pauseOnAutoplay?e.setAutoplay(!1):e.setAutoplay(!0))}}(o,p);var h=videojs(e,p);return function(e){function i(){function i(){n(!0,this)}function o(){n(!1,this)}function n(t,e){if(e){var i=$(e.el_);if(t){if("product-video-description"===i.data("property")&&$(document).trigger("google-analytics:product-description-video-played"),m(i))return void s(e);e.pause(),function(t){var e=t.closest(".common-videolist .carousel");if(e.length>0)return void g(e,".item.active");if("function"!=typeof $.fn.slick)return;var i=t.closest(".common-videolist [data-slick]");i.hasClass("slick-initialized")?g((e=i.slick("getSlick")).$slider,".slick-active"):i.on("init",(function(t,e){g(e.$slider,".slick-active")}))}(i)}}}function s(t){if(t){var e=a(t);if(e&&0!==e.length)for(var i=0,o=e.length;i<o;i++)e[i].pause()}}function a(e){if(e){var i=$(e.el_),o=i.closest(".item");if(o&&0!==o.length||(o=i.closest(".slick-slide")),o&&0!==o.length){for(var n=o.find("[data-video-type='video-js']:not(video)").not(i),s=[],a=0,r=t.playerItems.length;a<r;a++)$(t.playerItems[a].el_).is(n)&&s.push(t.playerItems[a]);return s}}}"function"==typeof $.fn.slick&&(e.on("play",i),e.on("pause",o))}i()}(h),f($(h.el_),h),h}o.remove()}}function f(t,e){var o=s($.getCurrentViewport().width);if(!a||!i||o.breakpoint!==i.breakpoint){var r=$.extend(!0,{},n,o.settings);if(t.attr("autoplay"))r.muteOnAutoplay?v(t,e):function(t,e){e&&e.muted(!1);var i=t.find("[data-video-mute]");i.addClass("is-hidden"),i.removeClass("is-muted"),t.removeClass("is-muted")}(t,e),r.pauseOnAutoplay?p(t,e,!0):p(t,e,!1);else t.attr("muted")&&v(t,e);!function(t,e,i){i?t.addClass("is-mobile"):t.removeClass("is-mobile")}(t,0,n.isMobile)}i=o}function v(t,e){e&&e.muted(!0);var i=function(t,e){t&&0===t.length&&(t=$("<div class='btn-mute is-hidden is-muted' data-video-mute='#".concat(e.attr("id"),"'>\n                              <i class='fa fa-volume-up fa-o'></i>\n                              <i class='fa fa-volume-off'></i>\n                          </div>")),e.append(t));return t}(t.find("[data-video-mute]"),t);i.removeClass("is-hidden"),i.addClass("is-muted"),t.addClass("is-muted")}function p(t,e,i){var o,n;e&&(i&&!0===i?(e.pause(),t.addClass("is-paused")):m(t)?(e.play(),t.removeClass("is-paused")):p(t,e,!0),o=e.id_,n=i&&!0===i,$("[data-video-button=#".concat(o,"]")).attr("data-video-paused",n))}function m(t){return 0===t.closest(".common-videolist .carousel").length&&0===t.closest(".common-videolist [data-slick]").length||(t.closest(".common-videolist .carousel .item.active").length>0||("function"!=typeof $.fn.slick||t.closest(".slick-active").length>0))}function h(){$("[data-video-button]").on("click",(function(t){var e=$(this),i=e.attr("data-video-button"),o=e.attr("href");if("undefined"===_typeof(o)||o===i||-1!==o.indexOf("javascript:void(0);")){if(t.preventDefault(),i){var n=k($(i)),s=$(n.el_),a=n.paused();p(s,n,!a),e.attr("data-video-paused",!a),a?e.removeClass("is-paused"):e.addClass("is-paused"),s.addClass("is-dirty")}return!1}})),$("[data-video-mute]").click((function(t){t.preventDefault();var e=$(this),i=e.data("video-mute");if(i){var o=k($(i)),n=$(o.el_),s=o.muted();o.muted(!s),e.attr("data-video-muted",!s),s?e.removeClass("is-muted"):e.addClass("is-muted"),n.addClass("is-dirty")}return!1})),$(document).on("visibilitychange",(function(){"hidden"===document.visibilityState&&C()}))}function y(){"function"==typeof $.fn.slick&&$.each($(".common-videolist [data-slick]"),(function(){var t=$(this);t.hasClass("slick-initialized")?e(t.slick("getSlick")):t.on("init",(function(t,i){e(i)}));function e(t){t&&t.$slider&&(b(t.$slider,".slick-slide:not(.slick-active)"),g(t.$slider,".slick-slide.slick-active"),t.$slider.on("afterChange",(function(t,e,i,o){b(e.$slider,".slick-slide:not(.slick-active)"),g(e.$slider,".slick-slide.slick-active")})))}})),$.each($(".common-videolist .carousel"),(function(){var t=$(this);b(t,".item:not(.active)"),g(t,".item.active"),t.on("slide.bs.carousel",(function(){b($(this),".item:not(.active)")})),t.on("slid.bs.carousel",(function(){g($(this),".item.active")}))}))}function b(t,e){var i=t.find(e).find($("[data-video-type='video-js']:not(video)"));$.each(i,(function(){var t=k($(this));t&&p($(t.el_),t,!0)}))}function g(t,e){var i=t.find(e).find($("[data-video-type='video-js'][autoplay]:not(video)"));$.each(i,(function(){var t=k($(this));t&&f($(t.el_),t)}))}function k(e){for(var i=0,o=t.playerItems.length;i<o;i++)if($(t.playerItems[i].el_).is(e))return t.playerItems[i]}function C(){for(var e=0,i=t.playerItems.length;e<i;e++)t.playerItems[e].pause()}_=$("[data-video-type='video-js']"),0!==_.length&&($.each(_,(function(){var e=c(this);e&&t.playerItems.push(e)})),h(),y()),u.prototype=Object.create(l.prototype),d.prototype=Object.create(l.prototype);var _}))}();
"use strict";!function(){var t=window.Syvo.Wishlist_Heart=new SyvoModule("Wishlist_Heart",(function(n){var o={controls:{selector:"[data-trigger=add-wishlist]",activeClass:"active",hoverClass:"hover"},counter:{selector:"[data-change=wishlist]",initialCount:0,maxCount:null,maxCountCallback:function(t){}},parent:{selector:"[data-property=parent]",dataAttribute:"data-product-id",collectionIdAttribute:"data-collection-id"},refreshOnModify:!1};if(t.settings=$.extend(!0,{},o,n),!t.settings.controls||!t.settings.parent)return;function s(){t.$controls=$(t.settings.controls.selector),t.$counter=$(t.settings.counter.selector),t.count=t.settings.counter.initialCount,t.$controls.on("touchstart click",i),t.$controls.on("mouseenter",c),t.$controls.on("mouseleave",a),d()}function e(){t.$controls.trigger("mouseleave"),t.$controls.off("touchstart click",i),t.$controls.off("mouseenter",c),t.$controls.off("mouseleave",a)}function r(n){e(),n&&(t.settings=$.extend(!0,{},o,n)),s()}function i(n){return"touchstart"!==n.type&&"click"!==n.type||("touchstart"===n.type&&n.stopImmediatePropagation(),n.preventDefault()),function(n){var o=n.closest(t.settings.parent.selector);if(!o||0===o.length)return!1;var s=o.attr(t.settings.parent.dataAttribute);(!s||s<=0)&&(s=n.attr(t.settings.parent.dataAttribute));var e=o.attr(t.settings.parent.collectionIdAttribute);(!e||e<=0)&&(e=n.attr(t.settings.parent.collectionIdAttribute));r=n,r&&0!==r.length&&r.hasClass(t.settings.controls.activeClass)?function(t,n){return new Promise((function(o,s){!t||t<=0?s():(g(n),$.ajax({type:"POST",url:"wishlist/removeproduct",data:{productId:t},success:function(t){!0!==t.status&&f(n),o(t)},error:function(t){!1===t.status&&f(n),s(t)}}))}))}(s,n).then((function(){t.settings.refreshOnModify&&window.location.reload(),d()})):function(t,n,o){return new Promise((function(s,e){!t||t<=0?e():(f(n),$.ajax({type:"POST",url:"wishlist/addproduct",data:{productId:t,collectionId:o},success:function(t){!0!==t.status&&g(n),s(t)},error:function(t){!1===t.status&&g(n),e(t)}}))}))}(s,n,e).then((function(n){n&&n.value&&"function"==typeof fbq&&fbq("track","AddToWishlist",JSON.parse(n.value)),t.settings.refreshOnModify&&window.location.reload(),d()}));var r}($(this)),!1}function c(n){$(this).addClass(t.settings.controls.hoverClass)}function a(n){$(this).removeClass(t.settings.controls.hoverClass)}function u(n){t.count=l()||t.count,!$.isNumeric(t.count)||t.count<0||(n?t.count++:t.count>0&&t.count--,t.$counter.text(t.count))}function l(){var n=parseInt(t.$counter.text());if(!isNaN(n))return n}function d(){t.settings.counter.maxCount&&(t.count=l()||t.count,$.isNumeric(t.count)&&t.count>=t.settings.counter.maxCount&&"function"==typeof t.settings.counter.maxCountCallback&&t.settings.counter.maxCountCallback(t))}function f(n){n&&0!==n.length&&(n.hasClass(t.settings.controls.activeClass)||n.addClass(t.settings.controls.activeClass),u(!0))}function g(n){n&&0!==n.length&&(n.hasClass(t.settings.controls.activeClass)&&n.removeClass(t.settings.controls.activeClass),u(!1))}t.init=s,t.reload=r,t.reinit=r,t.destroy=e,s()}))}();
"use strict";window.Syvo.Facebook_Pixel=new SyvoModule("Facebook_Pixel",(function(e){if(e.trackingCode&&(n=window,a=document,o="script",n.fbq||(c=n.fbq=function(){c.callMethod?c.callMethod.apply(c,arguments):c.queue.push(arguments)},n._fbq||(n._fbq=c),c.push=c,c.loaded=!0,c.version="2.0",c.queue=[],(r=a.createElement(o)).async=!0,r.src="https://connect.facebook.net/en_US/fbevents.js",(i=a.getElementsByTagName(o)[0]).parentNode.insertBefore(r,i)),fbq("init",e.trackingCode),fbq("track","PageView"),e.event)){var t=e.isStandardEvent?"track":"trackCustom";fbq(t,e.event,e.parameters)}var n,a,o,c,r,i}));
"use strict";window.Syvo.Google_Analytics=new SyvoModule("Google_Analytics",(function(e){var t,n,a,o,c,i,r,s,d,u,l={ProductsList:1,ProductView:2,CartAddItem:3,CartRemoveItem:4,CheckoutAccount:5,CheckoutShipping:6,CheckoutPayment:7,CheckoutError:8,Purchase:9,Error:10};if(e.TrackingCode){if(c=window,i=document,r="script",s="ga",c.GoogleAnalyticsObject=s,c.ga=c.ga||function(){(c.ga.q=c.ga.q||[]).push(arguments)},c.ga.l=1*new Date,d=i.createElement(r),u=i.getElementsByTagName(r)[0],d.async=1,d.src="https://www.google-analytics.com/analytics.js",u.parentNode.insertBefore(d,u),ga("create",e.TrackingCode,"auto"),e.Event)switch(e.Event){case l.ProductsList:!function(e){if(e){e.length>0&&(ga("require","ec"),e.forEach((function(e){ga("ec:addImpression",{id:e.Style,name:e.Name,brand:e.Brand,position:e.Position,list:e.List})})),$("[data-property=product-list] a").click((function(t){t.preventDefault();var n=$(this).prop("href"),a=$(this).closest("[data-product-id]").data("product-id"),o=$.grep(e,(function(e){return e.Id===a}));if(1===o.length){var c=o[0];p(c),ga("ec:setAction","click",{list:c.List}),ga("send","event","Product","Click",c.Style,{hitCallback:h((function(){location.assign(n)}))})}else location.assign(n)})));var t=0===e.length?"Not found":"Found";ga("send","event","Product",t,location.pathname+location.search,e.length,{nonInteraction:!0})}}(e.Parameters);break;case l.ProductView:!function(e){if(e){var t=function(e){ga("send","social",e,"share",location.href)};ga("require","ec"),p(e),ga("ec:setAction","detail"),$("[data-property=facebook-share]").click((function(){t("Facebook")})),$("[data-property=twitter-share]").click((function(){t("Twitter")})),$("[data-property=pinterest-share]").click((function(){t("Pinterest")}))}}(e.Parameters);break;case l.CartAddItem:(o=e.Parameters)&&(ga("require","ec"),p(o),ga("ec:setAction","add"),ga("send","event","Cart","Add",o.Style));break;case l.CheckoutAccount:g(e.Parameters,1);break;case l.CheckoutShipping:g(e.Parameters,2);break;case l.CheckoutPayment:g(e.Parameters,3);break;case l.CheckoutError:(a=e.Parameters)&&ga("send","event","Checkout","ModelError",a);break;case l.Purchase:(n=e.Parameters)&&n.TransactionId&&(ga("require","ec"),n.Products.forEach((function(e){p(e)})),ga("ec:setAction","purchase",{id:n.TransactionId,affiliation:n.Store,revenue:n.Revenue,tax:n.Tax,shipping:n.Shipping}));break;case l.Error:(t=e.Parameters)&&(404===t.StatusCode?ga("send","event","Error","Page not found",location.pathname+location.search,{nonInteraction:!0}):ga("send","event","Error","Error "+t.StatusCode,t.Path,{nonInteraction:!0}))}!function(){var e=[],t=[],n=!1,a=[];function o(e,t){$(e).click((function(e){var n="_blank"===$(this).prop("target"),a=$(this).prop("href");n||e.preventDefault(),ga("send","event","Link","Click",t,{hitCallback:h((function(){n||location.assign(a)}))})}))}$(document).on("google-analytics:home-page-video-played",(function(t,n){e.includes(n)||(ga("send","event","Video","Play","Homepage slider"),e.push(n))})),$(document).on("google-analytics:product-video-played",(function(e,n){t.includes(n)||(ga("send","event","Video","Play","Product"),t.push(n))})),$(document).on("google-analytics:search-product-triggered",(function(e,t){ga("send","event","Search product","Trigger",t)})),$(document).on("google-analytics:search-store-triggered",(function(e,t){ga("send","event","Search store","Trigger",t)})),$(document).on("google-analytics:filter-products-clicked",(function(){ga("send","event","Product filter","Apply")})),$(document).on("google-analytics:find-in-store-clicked",(function(e,t){ga("send","event","Link","Click","Find in store ("+t+")")})),$(document).on("google-analytics:product-image-swiped",(function(){ga("send","event","Product image","Swipe","PDP")})),$(document).on("google-analytics:product-image-dot-clicked",(function(){ga("send","event","Product image","Dot click","PDP")})),$(document).on("google-analytics:product-image-arrow-clicked",(function(){ga("send","event","Product image","Arrow click","PDP")})),$(document).on("google-analytics:store-phone-clicked",(function(e,t){ga("send","event","Store phone","Click",t)})),$(document).on("google-analytics:store-directions-clicked",(function(e,t){ga("send","event","Store directions","Click",t)})),$(document).on("google-analytics:store-site-clicked",(function(e,t){ga("send","event","Store site","Click",t)})),o("[data-property=slider-top-link]",("Homepage. "+$("[data-property=slider-top-link]").text().replace(/\s/g," ")).replace(/ {2,}/g," ")),o("[data-property=find-store]","Find a store"),o("[data-property=all-dresses]","All dresses"),o("[data-property=trunk-shows]","Trunk shows"),o("[href*=keepcake\\.com]","Keep cake"),$("[data-target=#main-navbar]").click((function(){n||(ga("send","event","Link","Click","Menu hamburger"),n=!0)})),$(document).on("google-analytics:product-description-video-played",(function(e,n){t.includes(n)||(ga("send","event","Video","Play","Product description"),t.push(n))})),$("[data-property=color]").click((function(){var e=$(this).data("value");a.includes(e)||(ga("send","event","Product color","Click",e),a.push(e))}))}(),ga("send","pageview"),$(window).on("history:pushstate",(function(){ga("set","page",location.href),ga("send","pageview")}))}function g(e,t){e&&e.length>0&&(ga("require","ec"),e.forEach((function(e){p(e)})),ga("ec:setAction","checkout",{step:t}),$("#shipping [type=submit]").click((function(e){var n=$(this).closest("form");if(n.valid()){e.preventDefault();var a=$("[data-trigger=changeShipping]:checked");ga("ec:setAction","checkout_option",{step:t,option:a.prop("id"),shipping:a.data("value")}),ga("send","event","Checkout","Option",a.prop("id"),{hitCallback:h((function(){n.submit()}))})}})))}function p(e){ga("ec:addProduct",{id:e.Style,name:e.Name,brand:e.Brand,price:e.Price,variant:e.Variant,quantity:e.Quantity,position:e.Position})}function h(e,t){var n=!1;function a(){n||(n=!0,e())}return setTimeout(a,t||1e3),a}}));
"use strict";window.Syvo.Home_Page=new SyvoModule("Home_Page",(function(o){o=o||{};var e={};if($(window).resize((function(){$("[data-role=slide]").each((function(o,e){var s=$(e).data("slide-image-mobile"),i=$(e).data("slide-image-desktop");$(window).width()>993?$(e).css("background-image",i.length?"url("+i+")":""):$(e).css("background-image",s.length?"url("+s+")":"")}))})),o.featuredLookBooks){var s={autoplay:!!o.featuredLookBooks.autoplay&&o.featuredLookBooks.autoplay,slidesToShow:o.featuredLookBooks.slidesToShow?o.featuredLookBooks.slidesToShow:4,slidesToScroll:o.featuredLookBooks.slidesToScroll?o.featuredLookBooks.slidesToScroll:1,arrows:!o.featuredLookBooks.arrows||o.featuredLookBooks.arrows,nextArrow:'<div class="slick-next slick-arrow"><span></span></div>',prevArrow:'<div class="slick-prev slick-arrow"><span></span></div>',infinite:!o.featuredLookBooks.infinite||o.featuredLookBooks.infinite,responsive:o.featuredLookBooks.responsive?o.featuredLookBooks.responsive:[{breakpoint:1200,settings:{slidesToShow:3}},{breakpoint:993,settings:{centerMode:!1,slidesToShow:2,centerPadding:"0",autoplay:!1}}],beforeChange:o.featuredLookBooks.beforeChange||null,afterChange:o.featuredLookBooks.afterChange||null};$(".slider-featured-lookbooks").slick(s)}if(o.slick&&"function"==typeof $.fn.slick){e.slider={},e.slider.options=$.extend({},{selector:".main-carousel > .list",slidesToShow:1,slidesToScroll:1,arrows:!0,prevArrow:"<div class='left carousel-control'><span class='carousel-arrow'></span></div>",nextArrow:"<div class='right carousel-control'><span class='carousel-arrow'></span></div>",dots:!0,autoplay:!0,infinite:!0},o.slick);var i=$(e.slider.options.selector);if(i.length>0){var a=i.attr("data-property-autoplaySpeed");a?e.slider.options.autoplaySpeed=a:e.slider.options.autoplay=!1,i.slick(e.slider.options),i.find("a").click((function(o){o.stopPropagation()}))}var t=window.Syvo.Video;t.isLoaded()?r(t):$(window).on(t.eventNames.onAfterLoad,(function(){r(t=window.Syvo.Video)}))}function r(o){e.slider.videos={};var s=function(o){var e=[];if(o&&o.playerItems&&$.isArray(o.playerItems))for(var s=0,a=o.playerItems.length;s<a;s++){var t=o.playerItems[s];i.has(t.el_)&&e.push(t)}return e}(o);$(document).on("visibilitychange",(function(){var s;"hidden"===document.visibilityState?(e.slider.videos.blockPlay=!0,o.pauseAll()):(e.slider.videos.blockPlay=!1,(s=i.find(".slick-current [data-video-type='video-js'][autoplay='true']:not(video)")).length>0&&d(s))}));for(var a=0,t=s.length;a<t;a++)s[a].on("play",r),s[a].on("pause",l);function r(){$(document).trigger("google-analytics:home-page-video-played",this.id),n(!0,this)}function l(){n(!1,this)}function n(o,e){if(e){var s=$(e.el_),i=s.closest("[data-parent='video-js']"),a=i.closest(".slick-slide"),t=a.find("[data-video-button]");o?(i.addClass("is-playing"),t.filter("[data-video-button=#"+s.attr("id")+"]").addClass("video-playing")):(i.removeClass("is-playing"),t.filter("[data-video-button=#"+s.attr("id")+"]").removeClass("video-playing"),a.hasClass("slick-current")&&d(a.find("[data-parent='video-js']").not(i).find("[data-video-type='video-js']:not(video)")))}}function d(o){var i=function(o){for(var e=0,i=s.length;e<i;e++)if($(s[e].el_).is(o))return s[e]}(o);i&&!e.slider.videos.blockPlay&&i.play()}}}));
"use strict";window.Syvo.Subscribe=new SyvoModule("Subscribe",(function(s){var t=!1;$("[data-form='subscribe']").submit((function(){var e=$(this),r=e.validate(),i=e.find("[data-input='subscribe']"),a=e.find("[data-msg='subscribe']");return a.hide(),$(e).valid()&&!t&&i.val()&&(t=!0,$.ajax({url:s.url,dataType:"json",type:"post",data:e.serialize()}).done((function(s){s.status?(r.resetForm(),i.val(null),localStorage.setItem("subscribe",JSON.stringify(!0)),a.show(),e.trigger("syvo_subscribe:success")):e.trigger("syvo_subscribe:error")})).always((function(){t=!1}))),!1})),$("[data-trigger='subscribe']").click((function(s){return s.preventDefault(),$(this).closest("form").submit(),!1}))}));
"use strict";window.Syvo.Appointment_Form=new SyvoModule("Appointment_Form",(function(e){var t=e.callback||function(){},r={form:$("[data-property='form']"),primaryPhone:$("[data-property='primary-phone']"),overflow:$("[data-property='overflow']"),locations:$("[data-property='locations']"),activeClass:"is-enabled",resultSection:$("[data-property='appointment-result-section']"),result:$("[data-property='form-result']"),successClass:"has-success",errorClass:"has-error",destinationButtons:{buttons:$("[data-location]"),wrapper:$(".destinations"),activeClass:"active",receiverLocation:$("[data-property='receiver-location']")},prettyPhones:{selector:"[data-property='pretty-phone']"},instagramInput:{selector:"[data-property='instagram-input']"},validationGroups:[],datePicker:{startDate:$("[data-property='start-date']"),endDate:$("[data-property='end-date']"),dateFormat:"mm/dd/yy",startDateTrigger:$("[data-trigger='start-date']"),endDateTrigger:$("[data-trigger='end-date']"),months:[],changeYear:!1,maxDate:"+2y",beforeShowDay:null,minDate:0},disclaimers:{},multiSelect:{target:$("[data-property='interests'],[data-property='time-slot']")},singleSelect:{target:{}},interestsSelect:{target:$("[data-property='interests']"),maximumSelectionLength:5},timeSlotSelect:{items:[],targetSelector:"[data-property='time-slot']",containerSelector:"[data-property='time-slot-block']",holderSelector:"[data-property='time-slot-holder']",inputType:"select",noOptionsMessage:'<span class="error">There are no appointments available for this date.</span>',radioTemplate:'                    <label class="btn btn-default"                           for="{0}"                           data-property="time-slot">                         <input id="{0}"                                type="radio"                                name="time-slot"                                value="{1}"                                data-rule-required="true"                                data-error-msg-container="[data-property=time-slot-block]"                                data-msg-required="Appointment Time is required">                         <span>{2}</span>                    </label>                '},moneyInput:{selector:"[data-property='money-input']"},desiredDayTime:{rowHolderSelector:"[data-property='row-holder']"},desiredAppointmentTime:{externalTrigger:"[data-trigger='appointment-time']",container:".time-picker-container",disableTimePicker:!1,picker:"[data-property='appointment-time']",timeDisplayContainer:".appointment-display-time",datePickerTrigger:"[data-property='start-date']",duration:60,interval:60,intervalMatchesAppointmentDuration:!1,defaultSchedule:null,defaultScheduleSpecialDates:null,interestsScheduleMap:null,interestsScheduleSpecialDatesMap:null,showAppointmentDuration:!0,customInterestsDuration:{},multipleTimesEnabled:!1},retailerSelect:{target:$("[data-property='retailers']")},wordCounter:{max:400},whereDidYouHearAboutUs:{dropdownSelector:"[data-property='where-did-you-hear-about-us-dropdown']",additionalInfoSelector:"[data-property='where-did-you-hear-about-us-additional-info']",additionalInfoLabelSelector:"[data-property='where-did-you-hear-about-us-additional-info-label']",parent:"#additional-info",target:"[data-property='where-did-you-hear-about-us']",showAdditionalInfoIfDropDownValueIsOneOf:[]},payment:{form:$("[data-property='payment-form']"),url:"externalrequest/sendappointmentpayment",callback:function(){},valueProperty:{key:"AppointmentId",value:null}},additionalInfo:{inputSelector:"[data-property='additionalInfoInput']",fieldsSelector:"[data-property='additionalInfoField']",titleAttribute:"data-additional-info-title"},pageId:$("[name=pageId]").val()};function a(){var t=r.interestsSelect.target.val(),a=Array.isArray(t)?t[0]:null;if(e.appointmentTypesUrl&&a){var n="hidden",i="[data-property='bridal-control']",o="[data-property='homecoming-control']",s="[data-property='prom-control']",l="[data-property='prom-colours']";$(i).add(o).add(s).addClass(n),$(l).removeClass(n),a.startsWith("Bridal")?$(i).removeClass(n):a.startsWith("Homecoming")||a.startsWith("Prom")?$(s).add(o).removeClass(n):($(s).removeClass(n),a.startsWith("Tuxedo")&&$(l).addClass(n))}}function n(e){e.find("input[type='checkbox']").on("change",(function(e){var t=$(e.currentTarget);t.is(":checked")?t.attr("value","true"):t.attr("value","false")})),setTimeout((function(){return e.find("input[type='checkbox']").trigger("change")}),0)}function i(e){var t;try{t=$.datepicker.parseDate(r.datePicker.dateFormat,e)}catch(e){t=null}return t}function o(t){t.trigger("reset"),t.validate().resetForm(),e.modules.multiSelect&&r.multiSelect.target.val(null).trigger("change"),jQuery().styler&&$("select").trigger("refresh")}function s(e){return Array.isArray(r.disclaimers.items)?[!r.disclaimers.items.filter((function(e){return e.isDateRangeInactive})).some((function(t){return l(e,t)}))]:[!0]}function l(e,t){return!(t.startDate>e||t.startDate<e)||!(t.endDate>e||t.endDate<e)||t.startDate<e&&t.endDate>e}function d(e,t){return c(e,t,r.successText)}function u(e,t){return c(e,t,r.payment.successText)}function c(e,t,a){r.result.hide(),r.result.removeClass(r.successClass),r.result.removeClass(r.errorClass),t&&(r.result.text(t),e?(a&&r.result.html(a),r.result.addClass(r.successClass),r.result.fadeIn(),m(r.result,-1e3)):(r.result.addClass(r.errorClass),r.result.fadeIn(),m(r.result,-350)),r.resultSection&&r.resultSection.removeClass("section--appointment-result--hidden"))}function m(e,t){t=t||0,$(window).scrollTop(e.offset().top+t)}function p(e,t,r){try{e(t,r)}catch(e){console.error(e.message+"\n"+e.stack)}}!function(){if(e.form&&(e.form.selector&&(r.form=$(e.form.selector)),e.form.primaryPhone&&(r.primaryPhone=$(e.form.primaryPhone)),e.form.overflow&&(r.overflow=$(e.form.overflow)),e.form.locations&&(r.locations=$(e.form.locations)),e.form.activeClass&&(r.activeClass=e.form.activeClass),e.form.result&&(e.form.result.selector&&(r.result=$(e.form.result.selector)),e.form.result.successClass&&(r.successClass=e.form.result.successClass),e.form.result.successText&&(r.successText=e.form.result.successText),e.form.result.errorClass&&(r.errorClass=e.form.result.errorClass)),r.overflow.click((function(){return d(!1,"Please select your desired location first"),!1}))),e.isAppointmentFormCombined&&a(),e.modules){if(e.modules.prettyPhone){if(e.modules.prettyPhone.selector&&(r.prettyPhones.selector=e.modules.prettyPhone.selector),r.validationGroups||(r.validationGroups=[]),r.validationGroups.pop({phones:"phone1 phone2 phone3"}),r.validationErrorPlacement){var t=r.validationErrorPlacement;r.validationErrorPlacement=function(e,r){"phone1"!==r.attr("name")&&"phone2"!==r.attr("name")&&"phone3"!==r.attr("name")||e.insertBefore("#phone1"),r.attr("multiple")&&"text"!==r.attr("type")&&e.insertAfter(r.next()),t(e,r)}}else r.validationErrorPlacement=function(e,t){"phone1"===t.attr("name")||"phone2"===t.attr("name")||"phone3"===t.attr("name")?e.insertBefore("#phone1"):t.attr("multiple")&&"text"!==t.attr("type")?e.insertAfter(t.next()):e.insertAfter(t)};!function(e){var t=$(e.selector);function r(e){var r=$(e.target),n=t.index(r);if(n<t.length-1){var i=r.val(),o=r.attr("maxlength");if(i.length===o){var s=t.filter((function(e){return e===n+1}));if(s&&0!==s.length){var l=s.val(),d=s.attr("maxlength");l.length===d?(s.focus(),s.focusEnd()):(s.focus(),s.focusStart())}}}a(e)}function a(e){8===e.which&&n($(e.target))}function n(e){var r=t.index(e);if(r>0){var a=e.val();if(!a||0===a.length){var i=t.filter((function(e){return e===r-1}));if(i&&0!==i.length){var o=i.val();o&&0!==o.length?(i.focusEnd(),i.val(o.substring(0,o.length-1))):n(i)}}}}t.keyup(r)}(r.prettyPhones)}e.modules.interestsSelect&&(r.interestsSelect.target=$(e.modules.interestsSelect.selector),r.interestsSelect.maximumSelectionLength=e.modules.interestsSelect.maximumSelectionLength),e.modules.timeSlotSelect&&(r.timeSlotSelect=$.extend(!0,{},r.timeSlotSelect,e.modules.timeSlotSelect)),e.modules.desiredDayTime&&(e.modules.desiredDayTime.model?(r.desiredDayTime.model=e.modules.desiredDayTime.model,r.desiredDayTime.target=$(e.modules.desiredDayTime.selector),r.datePicker.desiredDayTimeCallback=h,r.desiredDayTime.target.select2({data:[]})):e.modules.desiredDayTime.timeSlotsUrl&&(r.datePicker.desiredDayTimeCallback=y,function(e){var t=$(r.desiredDayTime.rowHolderSelector);t.hide();var n=null;e.target.on("change",(function(){a(),S(),clearTimeout(n),interests&&interests.length>0?(n=setTimeout((function(){var e=r.datePicker.startDate.val();e&&y(e)}),1500),t.show()):t.hide()}))}(r.interestsSelect),r.timeSlotSelect.target=$(r.timeSlotSelect.targetSelector),r.timeSlotSelect.holder=$(r.timeSlotSelect.holderSelector),r.timeSlotSelect.container=$(r.timeSlotSelect.containerSelector))),e.modules.datePicker&&(e.modules.datePicker.startDate&&(r.datePicker.startDate=$(e.modules.datePicker.startDate)),e.modules.datePicker.endDate&&(r.datePicker.endDate=$(e.modules.datePicker.endDate)),e.modules.datePicker.dateFormat&&(r.datePicker.dateFormat=e.modules.datePicker.dateFormat),e.modules.datePicker.startDateTrigger&&(r.datePicker.startDateTrigger=$(e.modules.datePicker.startDateTrigger)),e.modules.datePicker.endDateTrigger&&(r.datePicker.endDateTrigger=$(e.modules.datePicker.endDateTrigger)),e.modules.datePicker.months&&(r.datePicker.months=e.modules.datePicker.months),e.modules.datePicker.changeYear&&(r.datePicker.changeYear=e.modules.datePicker.changeYear),e.modules.datePicker.maxDate&&(r.datePicker.maxDate=e.modules.datePicker.maxDate),e.modules.datePicker.beforeShowDay?r.datePicker.beforeShowDay=e.modules.datePicker.beforeShowDay:e.modules.disclaimers&&e.modules.disclaimers.isEnabled&&(r.datePicker.beforeShowDay=s),e.modules.datePicker.minDate&&(r.datePicker.minDate=e.modules.datePicker.minDate),function(e){var t=e.startDate,a=e.endDate,n=e.desiredDayTimeCallback,o=e.startDateTrigger,s=e.endDateTrigger,d=t.datepicker({defaultDate:"+1w",changeMonth:!0,changeYear:e.changeYear,beforeShowDay:e.beforeShowDay,numberOfMonths:2,minDate:e.minDate,maxDate:e.maxDate,dateFormat:r.datePicker.dateFormat,onSelect:c}),u=a.datepicker({defaultDate:"+1w",changeMonth:!0,changeYear:e.changeYear,numberOfMonths:2,minDate:e.minDate,maxDate:e.maxDate,dateFormat:r.datePicker.dateFormat,onSelect:m});function c(e){var t=i(e);u.datepicker("option","minDate",t),d.valid(),n&&t&&n(e),r.disclaimers.isEnabled&&Array.isArray(r.disclaimers.items)&&function(e){var t=$(r.disclaimers.selector),a=r.disclaimers.items.filter((function(e){return!e.isDateRangeInactive})).find((function(t){return l(e,t)}));a&&a.description?(t.css("color",a.colorHex||""),t.text(a.description)):(t.css("color",""),t.text(""))}(t)}function m(e){d.datepicker("option","maxDate",i(e)),u.valid()}function p(){$("#ui-datepicker-div").addClass("appointment-datepicker"),$.getCurrentViewport().width<=767?(t.datepicker("option",{numberOfMonths:1}),u.datepicker("option",{numberOfMonths:1})):(t.datepicker("option",{numberOfMonths:2}),u.datepicker("option",{numberOfMonths:2}))}r.datePicker.months&&r.datePicker.months.length>0&&(d.datepicker("option","monthNamesShort",r.datePicker.months),u.datepicker("option","monthNamesShort",r.datePicker.months)),o.click((function(){return d.datepicker("show")})),s.click((function(){return u.datepicker("show")})),Common.checkBreakPoint(767,$.getCurrentViewport().width>=767?766:768,p,p)}(r.datePicker)),e.modules.desiredAppointmentTime&&(r.desiredAppointmentTime=$.extend(!0,{},r.desiredAppointmentTime,e.modules.desiredAppointmentTime),function(){var e=$(r.desiredAppointmentTime.datePickerTrigger),t=$(r.desiredAppointmentTime.container),a=$(r.desiredAppointmentTime.picker),n=$(r.desiredAppointmentTime.timeDisplayContainer),i=$(r.desiredAppointmentTime.externalTrigger),o=null,s=null,l=null,d=null,u=null,c={scrollbar:!0,dropdown:!0,step:r.desiredAppointmentTime.interval},m=e.datepicker("option","beforeShowDay"),p=e.datepicker("option","onSelect"),f=n.text();if(S(),r.interestsSelect&&r.interestsSelect.target&&r.interestsSelect.target.on("change",T),i.click((function(){return a.timepicker("show")})),a.change(A),t.hide(),e.datepicker("option","onSelect",w),e.on("change",D),e.datepicker("option","beforeShowDay",k),r.desiredAppointmentTime.multipleTimesEnabled){var h=function(e){e?-1!==v.indexOf(e)?v.splice(v.indexOf(e),1):v.push(e):v=[],a.val(v.join("; "))},y=function(){var e=this;$(".ui-timepicker-list > li").each((function(t,r){-1!==v.indexOf($(e).text(r))?$(e).addClass("ui-timepicker-selected"):$(e).removeClass("ui-timepicker-selected")}))},v=[];a.off("change"),a.change((function(e){var t=$(e.currentTarget).val();h(t),y(),A()})),i.on("click",(function(){return y()})),e.on("desiredAppointmentTime:dateSelected",(function(){return v=[]})),r.form.submit((function(){return a.val(v.join("; "))}))}function g(){o=r.desiredAppointmentTime.defaultSchedule,s=r.desiredAppointmentTime.defaultScheduleSpecialDates,l=null,d=r.desiredAppointmentTime.duration,u=null}function S(){var t=e.datepicker("getDate"),a=r.interestsSelect.target.val(),n=P();if(g(),n){var i=C(n);i&&(o=i);var c=x(n);c&&(s=c)}if(t){var m=I(t);m&&(l=m.schedule,u=m.duration)}a&&r.desiredAppointmentTime.customInterestsDuration?(Array.isArray(a)||(a=[a]),d=0,a.map((function(e){d+=r.desiredAppointmentTime.customInterestsDuration[e]?r.desiredAppointmentTime.customInterestsDuration[e]:r.desiredAppointmentTime.duration})),d=d||r.desiredAppointmentTime.duration):d=r.desiredAppointmentTime.duration}function D(){var e=$(this).val();S(),b(e),A()}function T(){e.val("").trigger("change")}function w(e){if(S(),b(e),p)return p(e)}function k(e,t){var r=[!0];if(!o&&!s)return r;if(m&&(r=m(e,t)),s){var a=I(e);if(a)return[!a.schedule.current.disabled]}if(null==r||0===r.length||!0===r[0])for(var n in window.days)if(window.days.hasOwnProperty(n)&&window.days[n]===e.getDay()){day=o[n.toLowerCase()],r=[!day.disabled];break}return r}function A(){var e=a.val(),t=u||d;if(t){var i="Selected time: ".concat(e,".");r.desiredAppointmentTime.showAppointmentDuration&&(i+="<span class='appointment-duration'> Appointment duration: ".concat(t," minutes </span>")),n.html(i)}else n.html("Choose Time")}function b(i){if(t.hide(),i&&!r.desiredAppointmentTime.disableTimePicker&&(o||l)){var s=null;if(l)s=l.current;else if(o){var c=$.datepicker.parseDate(r.datePicker.dateFormat,i);for(var m in window.days)window.days.hasOwnProperty(m)&&window.days[m]===c.getDay()&&(s=o[m.toLowerCase()])}var p=s.start.time+(s.start.period>0?"pm":"am"),h=s.end.time+(s.end.period>0?"pm":"am");if(a.timepicker("option","minTime",p),a.timepicker("option","maxTime",h),r.desiredAppointmentTime.intervalMatchesAppointmentDuration){var y=u||d;a.timepicker("option","step",y)}n.text(f),a.val(""),$(r.desiredAppointmentTime.container).show(),e.trigger("desiredAppointmentTime:dateSelected")}}function P(){var e=r.interestsSelect.target.val();return e&&Array.isArray(e)?e.join(", "):e}function C(e){if(!r.desiredAppointmentTime.interestsScheduleMap)return null;var t=r.desiredAppointmentTime.interestsScheduleMap.find((function(t){return t.interest===e}));return t?t.schedule:null}function x(e){if(!r.desiredAppointmentTime.interestsScheduleSpecialDatesMap)return null;var t=r.desiredAppointmentTime.interestsScheduleSpecialDatesMap.find((function(t){return t.interest===e}));return t?t.specialDates:null}function I(e){return s?s.find((function(t){var r=new Date(t.date);return r.setHours(0,0,0,0),r.getTime()===e.getTime()})):null}a.timepicker(c)}()),e.modules.whereDidYouHearAboutUs&&(r.whereDidYouHearAboutUs=$.extend(!0,{},r.whereDidYouHearAboutUs,e.modules.whereDidYouHearAboutUs),function(){var e=$(r.whereDidYouHearAboutUs.dropdownSelector),t=$(r.whereDidYouHearAboutUs.additionalInfoSelector),a=$(r.whereDidYouHearAboutUs.additionalInfoLabelSelector),n=$(r.whereDidYouHearAboutUs.target),i=$(r.whereDidYouHearAboutUs.parent);function o(){var r=e.val(),a=t.val();n.val(r+(a?":"+a:""))}e.change((function(){t.val("");var n=r.whereDidYouHearAboutUs.showAdditionalInfoIfDropDownValueIsOneOf.map((function(e){return e.value})).indexOf(e.val());-1!==n?(a.text(r.whereDidYouHearAboutUs.showAdditionalInfoIfDropDownValueIsOneOf[n].label),i.fadeIn()):i.fadeOut(),o()})),t.change((function(){return o()}))}()),e.modules.additionalInfo&&(r.additionalInfo=$.extend(!0,{},r.additionalInfo,e.modules.additionalInfo)),e.modules.multiSelect&&(e.modules.multiSelect.selector&&(r.multiSelect.target=$(e.modules.multiSelect.selector)),(A=r.multiSelect.target).select2({maximumSelectionLength:5,minimumResultsForSearch:1/0}),A.next().find(".select2-search__field").attr("aria-label",A.attr("aria-label")),(e.appointmentTypesUrl||r.interestsSelect.maximumSelectionLength)&&r.interestsSelect.target.select2({maximumSelectionLength:r.interestsSelect.maximumSelectionLength||1})),e.modules.singleSelect&&(e.modules.singleSelect.selector&&(r.singleSelect.target=$(e.modules.singleSelect.selector)),function(e){var t=e.target;t.select2(),t.next().find(".select2-search__field").attr("aria-label",t.attr("aria-label"))}(r.singleSelect)),e.modules.destinationButtons&&(e.modules.destinationButtons.selector&&(r.destinationButtons.buttons=$(e.modules.destinationButtons.selector)),e.modules.destinationButtons.wrapper&&(r.destinationButtons.wrapper=$(e.modules.destinationButtons.wrapper)),e.modules.destinationButtons.receiverLocation&&(r.destinationButtons.receiverLocation=$(e.modules.destinationButtons.receiverLocation)),e.modules.destinationButtons.activeClass&&(r.destinationButtons.activeClass=e.modules.destinationButtons.activeClass),f=r.destinationButtons,g=f.buttons,T=f.receiverLocation,w=$("[data-hours]"),k=f.activeClass,g.click((function(e){e.preventDefault();var t=$(e.currentTarget);if(g.removeClass(k),t.addClass(k),r.form.addClass(r.activeClass),r.overflow.hide(),r.location=t.data("location"),T.val(r.location).change(),w&&w.length>0){w.hide();var a=$.grep(w,(function(e){return $(e).data("hours").toLowerCase()===r.location.toLowerCase()}));a&&a.length>0&&$(a).fadeIn()}return d(!1),!1}))),e.modules.moneyInput&&(e.modules.moneyInput.selector&&(r.moneyInput.selector=e.modules.moneyInput.selector),m=r.moneyInput,$(m.selector).keyup((function(e){var t=$(e.currentTarget);t.val()?t.parent().addClass("is-dirty"):t.parent().removeClass("is-dirty")}))),e.modules.instagramInput&&(r.instagramInput=e.modules.instagramInput,c=r.instagramInput.selector,$(c).each((function(e,t){var r=$(t);r.keyup((function(e){var t=r.val();t.length>0&&"@"!==t[0]&&r.val("@"+r.val()),1===t.length&&"@"===t[0]&&8===e.keyCode&&r.val("")}))}))),e.modules.wordCounter&&(r.wordCounter=e.modules.wordCounter,function(e){if(e){var t=function(e,t){var r=e.split(" ");return(r=(r=r.filter((function(e){return e.length>0}))).filter((function(e,r){return r<t}))).join(" ")},r=function(e){var t=e.split(" ");return t.filter((function(e){return e.length>0})).length};jQuery.validator&&"function"==typeof jQuery.validator&&(jQuery.validator.addMethod("wordMaxCount",(function(a,n,i){var o=r(a),s=i;return e.max&&(s=e.max),o<=s||($(n).val(t(a,s+1)),!1)}),jQuery.validator.format("Maximum {0} words allowed.")),jQuery.validator.addMethod("wordMinCount",(function(t,a,n){var i=r(t),o=n;return e.min&&(o=e.min),i>=o}),jQuery.validator.format("Minimum {0} words allowed.")))}}(r.wordCounter)),e.modules.payment&&(e.modules.payment.selector&&(r.payment.form=$(e.modules.payment.selector)),e.modules.payment.url&&(r.payment.url=e.modules.payment.url),e.modules.payment.successText&&(r.payment.successText=e.modules.payment.successText),e.modules.payment.callback&&(r.payment.callback=e.modules.payment.callback||function(){}),e.modules.payment.valuePropertyKey&&(r.payment.valueProperty.key=e.modules.payment.valuePropertyKey),function(){var e=!1;r.payment.form.validate(D()),n(r.payment.form),r.payment.form.submit((function(t){if(t.preventDefault(),e)return!1;if(r.payment.form.valid()){e=!0;var a=r.payment.form.serializeObject();window.deviceSessionId&&(a.openPayDeviceSessionId=window.deviceSessionId),null!=r.payment.valueProperty.value?(a[r.payment.valueProperty.key]=r.payment.valueProperty.value,$.ajax({url:r.payment.url,type:"POST",dataType:"json",data:a}).done((function(e){e.status&&(o(r.payment.form),r.payment.form.fadeOut(),p(r.payment.callback,e,$.serializeArrayToDictionary(a)))})).always((function(t){u(t.status,t.message),e=!1}))):u(!1,"Send Appointment First")}return!1}))}()),e.modules.disclaimers&&(r.disclaimers=e.modules.disclaimers)}var c,m,f,g,T,w,k,A;e.appointmentTypesUrl&&v(),r.retailerSelect.target.on("change",v),r.disclaimers.isEnabled&&r.disclaimers.url&&$.get(r.disclaimers.url).done((function(e){Array.isArray(e)&&(e.forEach((function(e){var t=new Date(e.startDate),r=new Date(e.endDate),a=6e4*t.getTimezoneOffset(),n=6e4*r.getTimezoneOffset();e.startDate=new Date(t.getTime()+a),e.endDate=new Date(r.getTime()+n)})),r.disclaimers.items=e)})),jQuery().styler&&r.form&&r.form.find("select").on("change",(function(e){var t=$(e.currentTarget);setTimeout((function(){t.trigger("refresh"),t.valid()}),1)}));var b=D();r.validationGroups&&(b.groups=r.validationGroups),r.validationErrorPlacement&&(b.errorPlacement=r.validationErrorPlacement),r.form.validate(b),n(r.form)}();var f=!1;function h(e){var t,a=$.datepicker.parseDate(r.datePicker.dateFormat,e).getUTCDay(),n=[];Object.keys({monday:0,tuesday:1,wednesday:2,thursday:3,friday:4,saturday:5,sunday:6}).forEach((function(e,n){n===a&&(t=r.desiredDayTime.model[e])})),t&&(t.hasMorning&&n.push({id:"Morning",text:"Morning"}),t.hasAfternoon&&n.push({id:"Afternoon",text:"Afternoon"}),t.hasEvening&&n.push({id:"Evening",text:"Evening"})),r.desiredDayTime.target.select2("destroy").empty().select2({data:n})}function y(t){var a=r.interestsSelect.target.val();if(S(),g()){var n=r.retailerSelect.target.val(),i=new URI;i.setSearch({date:t,interests:a,retailer:n,useInStoreAppointmentTypesOnly:e.useInStoreAppointmentTypesOnly,useOnlineAppointmentTypesOnly:e.useOnlineAppointmentTypesOnly,pageId:r.pageId}),Common.showLoader(),$.get(e.modules.desiredDayTime.timeSlotsUrl+i.search()).done((function(e){return function(e){if(Array.isArray(e))switch(r.timeSlotSelect.items=e,r.timeSlotSelect.inputType){case"select":r.timeSlotSelect.target.empty(),e.map((function(e,t){return r.timeSlotSelect.target.append($("<option />").val(e.startDateTime).text(e.startDateTimeForView))}));break;case"radio":0===e.length?r.timeSlotSelect.container.html(r.timeSlotSelect.noOptionsMessage):r.timeSlotSelect.container.html(""),e.map((function(e,t){return r.timeSlotSelect.container.append(Common.stringFormat(r.timeSlotSelect.radioTemplate,["time-slot-"+t,e.startDateTime,e.startDateTimeForView]))}))}}(e)})).error((function(){return d(!1,"Cannot get time slots!")})).always((function(){return Common.hideLoader()}))}}function v(){var t=r.retailerSelect.target.val();r.interestsSelect.target.find("option").remove(),$.get(e.appointmentTypesUrl,{retailer:t,useInStoreAppointmentTypesOnly:e.useInStoreAppointmentTypesOnly,useOnlineAppointmentTypesOnly:e.useOnlineAppointmentTypesOnly,pageId:r.pageId}).done((function(e){for(var t=0;t<e.length;t++)r.interestsSelect.target.append($("<option />").val(e[t].name).text(e[t].name))}))}function g(){return!e.useInStoreAppointmentTypesOnly}function S(){g()?r.timeSlotSelect.holder.show():(r.timeSlotSelect.holder.hide(),r.timeSlotSelect.target.empty())}function D(){return{errorElement:"span",onkeyup:function(e){return $(e).valid()},success:function(e){return e.addClass("valid")},errorPlacement:function(e,t){var r=t.attr("data-error-msg-container");if(r){var a=$(r);a&&a.append(e)}else e.insertAfter(t)}}}r.form.submit((function(a){if(a.preventDefault(),r.destinationButtons.buttons&&r.destinationButtons.buttons.length>0&&!r.location)return d(!1,"Please select your desired location first."),m(r.destinationButtons.buttons,-100),!1;if(f)return!1;if(r.form.valid()){f=!0,Common.showLoader();var n=function(){if(e.modules.prettyPhone){var t=$(r.prettyPhones.selector),a="";return $.each(t,(function(e,t){return a+=$(t).val()})),a}return r.primaryPhone.val()}();r.primaryPhone.val(n);var i=$(r.additionalInfo.inputSelector);0!==i.length&&i.val((c=[],$(r.additionalInfo.fieldsSelector).map((function(e,t){var a=$(t),n=a.attr(r.additionalInfo.titleAttribute);if(!c.some((function(e){return e.title===n}))&&n){var i=null,o=a.attr("type");if(o)switch(o){case"radio":i=$("[name='"+a.attr("name")+"']:checked");break;case"checkbox":i=a.is(":checked");break;default:i=a.val()}else i=a.val();Array.isArray(i)&&(i=i.join(", ")),c.push({title:n,value:i})}})),c.length>0?JSON.stringify(c):null));var s=r.form.serializeArray();if(s=$.grep(s,(function(e,t){return"phone1"!==e.name&&"phone2"!==e.name&&"phone3"!==e.name&&e})),e.modules.timeSlotSelect){var l=function(){switch(r.timeSlotSelect.inputType){case"select":return r.timeSlotSelect.target?parseInt(r.timeSlotSelect.target.val()):null;case"radio":return parseInt($("input[name='time-slot']:checked").val())}return null}(),u=r.timeSlotSelect.items.find((function(e){return e.startDateTime===l}));u&&(s.push({name:"timeSlot.fittingRoomId",value:u.fittingRoomId}),s.push({name:"timeSlot.startDateTime",value:u.startDateTime}),s.push({name:"timeSlot.startDateTimeForView",value:u.startDateTimeForView}),s.push({name:"timeSlot.endDateTime",value:u.endDateTime}))}r.payment&&r.payment.form.length>0&&s.push({name:"isWithPayment",value:!0}),$.ajax({url:e.url,type:"post",dataType:"json",data:s}).done((function(e){e.status&&(r.form.fadeOut("fast"),r.locations.fadeOut("fast"),r.destinationButtons.wrapper&&r.destinationButtons.wrapper.hide(),o(r.form),p(t,e,$.serializeArrayToDictionary(s)),r.payment&&(r.payment.form.fadeIn(),r.payment.valueProperty.value=e.value))})).always((function(e){window.grecaptcha&&window.grecaptcha.reset(),0!==r.payment.form.length&&e.status||d(e.status,e.message),Common.hideLoader(),f=!1}))}var c;return!1}))}));
"use strict";window.Syvo.Appointment_Payment=new SyvoModule("Appointment_Payment",(function(e){var t={appointment:{form:$("[data-property='appointment-form']"),skipPayment:!1,info:"[data-property='info']",primaryPhone:$("[data-property='primary-phone']"),result:$("[data-property='form-result']"),successClass:"has-success",errorClass:"has-error",redirectUrl:"http://services.bblsystems.com/ProspectPost.aspx",url:"externalrequest/sendappointmentwithpayment",callback:function(){},overflow:$("[data-property='overflow']"),activeClass:"is-enabled"},payment:{form:$("[data-property='payment-form']"),url:"externalrequest/sendappointmentpayment",callback:function(){}},result:{successClass:"has-success",successText:"Appointment Successful",errorClass:"has-error",selector:"[data-property='form-result']"},prettyPhones:{selector:"[data-property='pretty-phone']"},validationGroups:[],datePicker:{startDate:$("[data-property='start-date']"),endDate:$("[data-property='end-date']"),dateFormat:"mm/dd/yy",startDateTrigger:$("[data-trigger='start-date']"),endDateTrigger:$("[data-trigger='end-date']"),startDateMinDate:2,startDateMaxDate:"+1y",endDateMinDate:0,endDateMaxDate:"+1y"},multiSelect:{target:$("[data-property='interests']")},destinationButtons:{buttons:$("[data-location]"),wrapper:$(".destinations"),activeClass:"active",receiverLocation:$("[data-property='receiver-location']")}};function a(a){a.trigger("reset"),a.validate().resetForm(),e.modules.multiSelect&&t.multiSelect.target.val(null).trigger("change"),jQuery().styler&&$("select").trigger("refresh")}function n(e,a){t.result.hide(),t.result.removeClass(t.successClass),t.result.removeClass(t.errorClass),a&&(t.result.text(a),e?(t.appointment.form.fadeOut("fast"),t.successText&&t.result.text(t.successText),t.result.addClass(t.successClass),t.result.fadeIn(),r(t.result,-1e3)):(t.result.addClass(t.errorClass),t.result.fadeIn(),r(t.result,-350)))}function r(e,t){t=t||0,$(window).scrollTop(e.offset().top+t)}function o(e){1==e?Common.showLoader():Common.hideLoader()}function i(e){try{e()}catch(e){console.error(e.message+"\n"+e.stack)}}(function(){if(e.appointment&&(e.appointment.selector&&(t.appointment.form=$(e.appointment.selector)),e.appointment.info&&(t.appointment.info=$(e.appointment.info)),e.appointment.skipPayment&&(t.appointment.skipPayment=e.appointment.skipPayment),e.appointment.url&&(t.appointment.url=e.appointment.url),e.appointment.redirectUrl&&(t.appointment.redirectUrl=e.appointment.redirectUrl),e.appointment.overflow&&(t.appointment.overflow=$(e.appointment.overflow)),e.appointment.primaryPhone&&(t.appointment.primaryPhone=$(e.appointment.primaryPhone)),e.appointment.locations&&(t.appointment.locations=$(e.appointment.locations)),e.appointment.activeClass&&(t.appointment.activeClass=e.appointment.activeClass),e.appointment.callback&&(t.appointment.callback=e.appointment.callback||function(){}),e.appointment.spinnerClass&&(t.appointment.spinnerClass=e.appointment.spinnerClass)),e.payment&&(e.payment.selector&&(t.payment.form=$(e.payment.selector)),e.payment.url&&(t.payment.url=e.payment.url),e.payment.callback&&(t.payment.callback=e.payment.callback||function(){})),e.result&&(e.result.selector&&(t.result=$(e.result.selector)),e.result.successClass&&(t.successClass=e.result.successClass),e.result.successText&&e.result.successText.length>0&&(t.successText=e.result.successText),e.result.errorClass&&(t.errorClass=e.result.errorClass)),e.modules){if(e.modules.prettyPhone){if(e.modules.prettyPhone.selector&&(t.prettyPhones.selector=e.modules.prettyPhone.selector),t.validationGroups||(t.validationGroups=[]),t.validationGroups.pop({phones:"phone1 phone2 phone3"}),t.validationErrorPlacement){var a=t.validationErrorPlacement;t.validationErrorPlacement=function(e,t){"phone1"!=t.attr("name")&&"phone2"!=t.attr("name")&&"phone3"!=t.attr("name")||e.insertBefore("#phone1"),a(e,t)}}else t.validationErrorPlacement=function(e,t){"phone1"==t.attr("name")||"phone2"==t.attr("name")||"phone3"==t.attr("name")?e.insertBefore("#phone1"):e.insertAfter(t)};!function(e){var t=$(e.selector);function a(e){var a=$(e.target),n=t.index(a);if(n<t.length-1){var r=a.val(),o=a.attr("maxlength");if(r.length==o){var i=t.filter((function(e){return e===n+1}));if(i&&0!==i.length){var s=i.val(),l=i.attr("maxlength");s.length==l?(i.focus(),i.focusEnd()):(i.focus(),i.focusStart())}}}}function n(e){8===e.which&&r($(e.target))}function r(e){var a=t.index(e);if(a>0){var n=e.val();if(!n||0===n.length){var o=t.filter((function(e){return e===a-1}));if(o&&0!==o.length){var i=o.val();i&&0!==i.length?o.focusEnd():r(o)}}}}t.keyup(a),t.keydown(n)}(t.prettyPhones)}e.modules.datePicker&&(e.modules.datePicker.startDate&&(t.datePicker.startDate=$(e.modules.datePicker.startDate)),e.modules.datePicker.startDate&&(t.datePicker.endDate=$(e.modules.datePicker.endDate)),e.modules.datePicker.dateFormat&&(t.datePicker.dateFormat=e.modules.datePicker.dateFormat),e.modules.datePicker.startDateTrigger&&(t.datePicker.startDateTrigger=$(e.modules.datePicker.startDateTrigger)),e.modules.datePicker.endDateTrigger&&(t.datePicker.endDateTrigger=$(e.modules.datePicker.endDateTrigger)),e.modules.datePicker.excludeDays&&(t.datePicker.excludeDays=$(e.modules.datePicker.excludeDays)),e.modules.datePicker.excludeDates&&(t.datePicker.excludeDates=e.modules.datePicker.excludeDates),e.modules.datePicker.startDateMinDate&&(t.datePicker.startDateMinDate=e.modules.datePicker.startDateMinDate),e.modules.datePicker.startDateMaxDate&&(t.datePicker.startDateMaxDate=e.modules.datePicker.startDateMaxDate),e.modules.datePicker.endDateMinDate&&(t.datePicker.endDateMinDate=e.modules.datePicker.endDateMinDate),e.modules.datePicker.endDateMaxDate&&(t.datePicker.endDateMaxDate=e.modules.datePicker.endDateMaxDate),function(e){var t=e.startDate,a=e.endDate,n=e.dateFormat,r=e.excludeDays,o=e.excludeDates,i=g(e.startDateMinDate,n),s=g(e.startDateMaxDate,n),l=g(e.endDateMinDate,n),p=g(e.endDateMaxDate,n),c=e.startDateTrigger,d=e.endDateTrigger,m=function(e,t){$("#ui-datepicker-div").addClass("appointment-datepicker"),$(window).width()<=993&&(t.settings.numberOfMonths=1)},u=function(e){var t=[!0];if(r&&r.length>0){var a=e.getDay();t=[-1==$.inArray(a,r)]}if(o&&o.length>0)for(var n in o){var i=o[n],s=new Date(i.value).toDateWithoutOffset();s.getDate()==e.getDate()&&s.getMonth()==e.getMonth()&&s.getFullYear()==e.getFullYear()&&(t=[!1,"",i.name])}return t},f=t.datepicker({beforeShow:m,beforeShowDay:u,defaultDate:"+1w",changeMonth:!0,numberOfMonths:2,minDate:i,maxDate:s}),v=a.datepicker({beforeShow:m,defaultDate:"+1w",changeMonth:!0,numberOfMonths:2,minDate:l,maxDate:p});function D(e,t,a){var n=a.getYear()-t.getYear()>0;e.rules("add",{minDate:t,messages:{minDate:"Provide date in range of "+y(t,n)+" to "+y(a,n)}}),e.rules("add",{maxDate:a,messages:{maxDate:"Provide date in range of "+y(t,n)+" to "+y(a,n)}})}function g(e,t){return e instanceof Date?e:(e instanceof String||"string"==typeof e)&&isNaN(new Date(e).getTime())||e instanceof Number||"number"==typeof e?$.datepicker._determineDate("",e):$.datepicker.parseDate(t,e)}function y(e,t){var a={month:"short",day:"numeric"};return t&&(a.year="2-digit"),new Date(e).toLocaleDateString("en-US",a)}$(this).on("appointment-payment:validationInit",(function(){D(t,i,s),D(a,l,p)})),f.on("change",(function(){if(f.valid()){var e=f.datepicker("getDate");l=e,v.datepicker("option","minDate",l),D(v,l,p)}})),v.on("change",(function(){if(v.valid()){var e=v.datepicker("getDate");s=e,f.datepicker("option","maxDate",s),D(f,i,s)}})),c.click((function(){f.datepicker("show")})),d.click((function(){v.datepicker("show")}))}(t.datePicker)),e.modules.multiSelect&&(e.modules.multiSelect.selector&&(t.multiSelect.target=$(e.modules.multiSelect.selector)),t.multiSelect.target.select2({maximumSelectionLength:5,minimumResultsForSearch:1/0})),e.modules.destinationButtons&&(e.modules.destinationButtons.selector&&(t.destinationButtons.buttons=$(e.modules.destinationButtons.selector)),e.modules.destinationButtons.wrapper&&(t.destinationButtons.wrapper=$(e.modules.destinationButtons.wrapper)),e.modules.destinationButtons.receiverLocation&&(t.destinationButtons.receiverLocation=$(e.modules.destinationButtons.receiverLocation)),e.modules.destinationButtons.activeClass&&(t.destinationButtons.activeClass=e.modules.destinationButtons.activeClass),r=t.destinationButtons,o=r.buttons,i=r.receiverLocation,s=$("[data-hours]"),l=r.activeClass,o.click((function(e){e.preventDefault();var a=$(e.currentTarget);if(o.removeClass(l),a.addClass(l),t.appointment.form.addClass(t.appointment.activeClass),t.appointment.overflow.hide(),t.location=a.data("location"),i.val(t.location),s&&s.length>0){s.hide();var r=$.grep(s,(function(e){return $(e).data("hours").toLowerCase()===t.location.toLowerCase()}));r&&r.length>0&&$(r).fadeIn()}return n(!1),!1})))}var r,o,i,s,l;jQuery().styler&&$("select").on("change",(function(){var e=$(this);setTimeout((function(){e.trigger("refresh"),e.valid()}),1)}));var p={errorElement:"span",onkeyup:function(e){$(e).valid()},success:function(e){e.addClass("valid")}};t.payment.form.validate(p),t.validationGroups&&(p.groups=t.validationGroups),t.validationErrorPlacement&&(p.errorPlacement=t.validationErrorPlacement),t.appointment.form.validate(p),$(this).trigger("appointment-payment:validationInit")})(),t.appointment.form.submit((function(e){if(e.preventDefault(),t.appointment.form.valid()){var s=(d=$(t.prettyPhones.selector),m="",$.each(d,(function(e,t){m+=$(t).val()})),m);t.appointment.primaryPhone.val(s);var l=t.appointment.redirectUrl,p=t.appointment.url,c=t.appointment.form.serializeArray();c=$.grep(c,(function(e){return"phone1"!==e.name&&"phone2"!==e.name&&"phone3"!==e.name})),$.each(c,(function(e,t){"shopid"!==t.name&&"storenumber"!==t.name&&"confirmpage"!==t.name&&"confirm"!==t.name&&(t.value=t.value.toString().toUpperCase())})),c=$.serializeArrayToDictionary(c),o(!0),$.ajax({url:p,type:"POST",dataType:"json",data:{url:l,data:c}}).done((function(e){e.status&&(a(t.appointment.form),t.appointment.form.fadeOut("fast"),i(t.appointment.callback),t.appointment.skipPayment?(t.appointment.info.hide(),n(e.status,e.message)):(t.appointment.id=e.value,t.payment.form.fadeIn(),r(t.payment.form)))})).always((function(e){o(!1),e.status||n(!1,e.message?e.message:"Something goes wrong")}))}var d,m;return!1})),t.payment.form.submit((function(e){if(e.preventDefault(),t.payment.form.valid()){var r=t.payment.form.serializeObject();window.deviceSessionId&&(r.openPayDeviceSessionId=window.deviceSessionId),t.appointment.id?(r.AppointmentId=t.appointment.id,$.ajax({url:t.payment.url,type:"POST",dataType:"json",data:r}).done((function(e){e.status&&(a(t.payment.form),t.payment.form.fadeOut(),t.appointment.info.hide(),i(t.payment.callback))})).always((function(e){n(e.status,e.message)}))):n(!1,"Send Appointment First")}return!1}))}));
"use strict";!function(){var e=window.Syvo.BridalLive_IFrame=new SyvoModule("BridalLive_IFrame",(function(r){var a=Array.isArray(r.urlParameters)?r.urlParameters:[],o=r.iFrameSelector||void 0,t=$(o);1===t.length&&i(t.data("src")||t.prop("src"));function i(e){if(e&&e.indexOf("bridallive.com")>-1){for(var r=new URI(e),o=Object.keys(sessionStorage),i=0;i<o.length;i++)a.includes(o[i])&&r.setQuery(o[i],sessionStorage.getItem(o[i]));t.prop("src",r.toString())}}$(document).on(e.eventNames.iFrameReload,(function(e,r){i(r)}))}));e.eventNames.iFrameReload=e.getModuleEventName("iFrameReload")}();
"use strict";
"use strict";!function(){var e=window.Syvo.Contact_Form=new SyvoModule("Contact_Form",(function(t){var a=!1;e.settings=$.extend(!0,{},{plugins:{datepicker:{minDate:0}},callback:function(){}},t),e.$form=$("[data-trigger=send-contact-form]"),e.$eventDate=$("[name=eventDate]"),e.$eventDate.datepicker(e.settings.plugins.datepicker);var n=$("<input />",{type:"hidden",name:"productStyle",value:sessionStorage.getItem("productStyle")});e.$form.append(n),e.$form.validate(),e.$form.submit((function(){var t=e.$form.find("[data-block=contact-success]"),o=e.$form.find("[data-block=contact-unsuccess]");if(a)return!1;var r=e.$form.find("[name='g-recaptcha-response']"),c=r.val();if(t.hide(),o.hide(),e.$form.valid()&&(0===r.length||c)){a=!0,o.hide(),t.hide();var i=Common.serializeFormToObject(e.$form);i.eventDate&&(i.eventDate=e.$eventDate.datepicker("getDate").toLocaleDateString()),$.ajax({url:e.settings.url,type:"post",data:i}).done((function(){sessionStorage.removeItem("productStyle"),n.remove(),e.$form[0].reset(),t.show(),function(e){try{e()}catch(e){console.error(e.message+"\n"+e.stack)}}(e.settings.callback)})).fail((function(e){o.show()})).always((function(){a=!1,!grecaptcha||grecaptcha.reset()}))}else o.show();return!1}))}))}();
"use strict";window.Syvo.Custom_Form=new SyvoModule("Custom_Form",(function(e){e=e||{};var t=$("[data-custom-form]");t.find("select").each((function(){$(this).styler("destroy")})),t.find("input").datepicker("destroy"),t.find("[data-custom-submit-messages]").hide();var a={errorElement:"span",onkeyup:function(e){$(e).valid()},success:function(e){e.addClass("valid")}};t.validate(a);var n,s,r,o="[data-custom-submit-success]",i="Success! Form has been sent! Thanks!",c="[data-custom-submit-always]",d="",u="[data-custom-submit-error]",l="Error! Something was wrong! Try again later!";function m(e,t){$("#ui-datepicker-div").addClass("appointment-datepicker"),$(window).width()<=993&&(t.settings.numberOfMonths=1)}function f(e){var t=$(u);t.text(e||l),t.show(),$(o).hide(),function(e){if(e){var t=$.getCurrentViewport().height;$("html, body").animate({scrollTop:e.offset().top-t/4},"slow")}}(t)}function p(e,t,a,n){var s=a||new FormData,r=t||{};for(var o in e){var i=o;n&&(i=n+"."+o);var c=e[o];c&&c.constructor==={}.constructor?p(c,r,s,i):c&&Array.isArray(c)?c.forEach((function(t,a){t&&t.constructor==={}.constructor?p(t,r,s,i+"["+a+"]"):s.append(i,e[o])})):(s.append(i,e[o]),r[i]=e[o])}return s}e.success&&(e.success.selector&&(o=e.success.selector),e.success.message&&(i=e.success.message)),e.always&&(e.always.selector&&(c=e.always.selector),e.always.message&&(d=e.always.message)),e.error&&(e.error.selector&&(u=e.error.selector),e.error.message&&(l=e.error.message)),s=$("[data-depend-from-title]"),r=[],s.each((function(){r.push({title:$(this).attr("data-depend-from-title"),values:$(this).attr("data-depend-from-value").split(";"),element:$(this)}),$(this).closest("[data-input-holder]").hide()})),r.forEach((function(e,t){var a;$("[data-title-holder]").each((function(){$(this).text()==e.title&&(a=$(this).closest("[data-input-holder]").find("input, select"))})),a&&a.change((function(){var t=this.value;e.values.some((function(e){return t==e}))?e.element.closest("[data-input-holder]").show():e.element.closest("[data-input-holder]").hide()}))})),t.find("input").each((function(){var e=$(this);e.attr("data-rule-date")&&function(e){var t=e.attr("data-msg-date"),a=e.attr("data-input-min-date"),n=e.attr("data-input-max-date"),s=e.attr("data-input-default-date"),r=e.attr("data-input-range-date"),o=e.attr("data-input-date-format"),i={beforeShow:m,defaultDate:s||"+1w",changeMonth:!0,changeYear:!!r,numberOfMonths:2,minDate:a||1,maxDate:n||"+1y",yearRange:r||"",infinite:!0};e.datepicker(i),o&&(e.datepicker("option","dateFormat",o),$.validator.addMethod("validateDateWithFormat",(function(e,t){try{return this.optional(t)||null!==$.datepicker.parseDate(o,e)}catch(e){return!1}}),$.validator.messages.date),e.rules("add",{date:!1,validateDateWithFormat:!0})),a&&e.rules("add",{minDate:e.datepicker("option","minDate"),messages:{minDate:t}}),n&&e.rules("add",{maxDate:e.datepicker("option","maxDate"),messages:{maxDate:t}})}(e),e.attr("data-phone-mask")&&function(e){if(e){var t=e.attr("data-phone-mask")||"+1-999-999-9999";e.inputmask("remove"),e.inputmask({mask:t,autoUnmask:!0})}}(e),e.is("[type='file']")&&function(e){e.attr("uploaded-name"),e.change((function(){var t=e.prop("files");console.log(t)}))}(e),e.is("[type='radio']")&&e.trigger("change"),e.is("input[type=checkbox]")&&e.change((function(){e.val(e.prop("checked")?"Yes":"No")}))})),n=t.find("select[no-styler]"),e.useSelect2&&(n.select2({minimumResultsForSearch:-1}).addClass("custom-form-select2"),n.trigger("change")),t.submit((function(a){if(a.preventDefault(),t.valid()){Common.showLoader(),t.find("button").prop("disabled",!0);var n=$("#g-recaptcha-response"),s={__requestVerificationToken:t.find("[name='__RequestVerificationToken']").val(),formId:t.find("[name='formId']").val(),templateId:e.templateId||null,fields:[],recaptchaResponse:n?n.val():null},r=[];if(t.find("input:not([type='radio']):not([name='formId']):not([name='__RequestVerificationToken']),select,input[type=radio]:checked,textarea:not(#g-recaptcha-response)").each((function(){var e=$(this),t=e.val();if(t){if(e.is("select[multiple]")&&(t=t.join(" | ")),e.is("input[type='file']")){t=[];for(var a=e.prop("files"),n=0;n<a.length;n++){var o=a[n];t.push(o.name),r.push(o)}t=t.join(";")}s.fields.push({fieldId:$(this).attr("data-field-id"),value:t})}})),r.map((function(e){return e.name})).filter((function(e,t,a){return a.indexOf(e)===t})).length!==r.length)return f("Files should have unique name/extension pair!"),t.find("button").prop("disabled",!1),void Common.hideLoader();window.deviceSessionId&&(s.openPayDeviceSessionId=window.deviceSessionId);var l=p(s);r.forEach((function(e,t){l.append("file"+t,e)})),$.ajax({url:e.url||"externalRequest/SendCustomForm",type:"post",data:l,contentType:!1,processData:!1}).done((function(t){var a;(a=$(o)).text(i),a.show(),$(u).hide(),e.success&&e.success.callback&&e.success.callback(t,s),e.formContainer&&e.formContainer.selector&&$(e.formContainer.selector).fadeOut("fast")})).always((function(a){t.find("button").prop("disabled",!1),window.grecaptcha&&window.grecaptcha.reset(),Common.hideLoader(),e.always&&e.always.callback?e.always.callback(a,s):($(c).text(d),$(c).show())})).error((function(t){e.error&&e.error.callback?e.error.callback(t,s):f(t&&500!==t.status?t.responseText||t.statusText:null)}))}})),e.customHandlers&&e.customHandlers.forEach((function(e){t.find(e.selector).each((function(){e.init($(this))}))}))}));
"use strict";!function(){var e=window.Syvo.Dictionary_Form=new SyvoModule("Dictionary_Form",(function(t){var n=e;if(n.settings=$.extend(!0,{},{form:{selector:"[data-property='dictionary-form']",callback:function(){}},summary:{success:"[data-property='form-success']",error:"[data-property='form-error']",info:"[data-property='form-info']"}},t),n.callback=function(){"function"==typeof n.settings.form.callback&&n.settings.form.callback()},n.formRefresh=function(e){o.hide(),i.hide(),r.hide(),a.hide(),e?r.show():a.show(),$(window).scrollTop(0),setTimeout((function(){location.reload()}),8e3)},!n.settings.form||!n.settings.summary)return;var o=$(n.settings.form.selector),r=$(n.settings.summary.success),a=$(n.settings.summary.error),i=$(n.settings.summary.info);o.submit((function(e){e.preventDefault();var t,r=o.find("[name='g-recaptcha-response']"),a=r.val();if(o.valid()&&(0==r.length||a)){Common.showLoader(),n.controls=(t=[],o.find("input, textarea, select").each((function(e,n){var r={};if(r.Key=n.name,r.Value=n.value,"SELECT"===n.tagName)r.TextValue=$(this).find("option:selected").text();else if("radio"===n.type)r.Value=o.find(":radio[name="+r.Key+"]:checked").val();else if("checkbox"===n.type){var a=o.find(":checkbox[name="+r.Key+"]:checked"),i=[];a.each((function(e,t){i.push($(t).val())})),r.Value=i.join(",")}0==t.filter((function(e){return e.Key==r.Key})).length&&t.push(r)})),t);var i=o.find('input[name="__RequestVerificationToken"]').val();i&&(n.controls=n.controls.filter((function(e){return"__RequestVerificationToken"!=e.Key}))),$.ajax({type:"POST",url:o.attr("action"),data:{__RequestVerificationToken:i,url:n.settings.url?n.settings.url:"externalrequest/sendform",data:n.controls}}).done((function(e){n.callback()})).error((function(e){})).always((function(e){Common.hideLoader(),n.formRefresh(e.status)}))}}))}))}();
"use strict";!function(){var e=window.Syvo.Product_Details=new SyvoModule("Product_Details",(function(t){var a={purchasable:!0,updateColorTextEnabled:!1,chooseFirstActiveColor:!0,chooseFirstActiveSize:!1,showMinPriceForIncompleteStock:!1,magicZoom:{},cartTooltip:{availabilityHeaderText:"Ship date:",hideAvailabilityTooltip:!1,chooseHeaderText:"Please select your",componentsHeaderText:"Please select colors of "},quantityTooltip:{availableItemsCountHeaderText:" item(s) available"},availabilities:{available:"Available",notAvailable:"Not Available",inStore:"in store",online:"online",separator:" and ",onlineOnly:"online only",fullOnline:"",date:"Available date: {0}",showDateTooltip:!0},localizedMessages:{separator:" and ",color:"color",size:"size",more:"More",less:"Less"},availabilityMode:void 0},o="eventDate",r={CLICKABLE:0,SELECT:1},i={AVAILABILITY:1,CHOOSE:2,COMPONENTS:3},n=$.extend(!0,{},a,t),l=e;l.firstActiveStock=null;var s,d,c,u,f=window.Syvo.Forms_v2,v=window.Syvo.Product_Views,p=n.ecommerceEnable,h=n.activeControlClass,m=(n.disableColorClass,n.unavailableColorClass),C=(n.disableSizeClass,n.unavailableSizeClass),g=n.disableCartClass,y=n.magicZoom,b=n.productStockModel,w=n.productId,A=n.purchasable,S=n.updateColorTextEnabled,I=n.availabilities,k=n.localizedMessages,T=n.quantityTooltip.availableItemsCountHeaderText,x=n.cartTooltip.availabilityHeaderText,L=n.cartTooltip.chooseHeaderText,D=n.cartTooltip.componentsHeaderText,P=n.price,z=n.prices,M=n.style,O=$("[data-product-id=".concat(n.productId,"], .dress-preview")),E=O.find("[data-trigger='color-filter']"),F=(O.find("[data-trigger='color-filter-all']"),O.find("[data-property='color']")),N=O.find("[data-trigger='color-select']"),q=N.find("option:not(:empty)"),B=$().add(F).add(q),H=O.find("[data-property='size']"),U=O.find("[data-trigger='size-select']"),_=U.find("option:not(:empty)"),Z=$().add(H).add(_),K=O.find("[data-property='price']"),V=O.find("[data-property='availability']"),W=O.find("[data-property='add']"),Y=O.find("[data-property='cart-call']"),j=O.find("[data-property='email-store']"),R=O.find("[data-property='quantity-wrapper'], [data-property='quantity']"),G=O.find("[data-property='quantity']"),J=O.find("[data-property=component]"),Q=O.find("[data-property='add-wishlist']"),X=O.find("[data-property='find-in-store']"),ee=O.find("[data-property='selected-color']"),te=O.find("[data-property='selected-color-icon']"),ae=O.find("[data-property='selected-color-placeholder']"),oe=O.find("[data-property='selected-size']"),re=O.find("[data-property='cart-tooltip']"),ie=O.find("[data-change='cart-tooltip-header']"),ne=O.find("[data-change='cart-tooltip-text']"),le=O.find("[data-trigger='cart-tooltip-close']"),se=O.find("[data-property='quantity-tooltip']"),de=O.find("[data-change='quantity-tooltip-header']"),ce=O.find("[data-trigger='quantity-tooltip-close']"),ue=O.find("[data-property='price-old']"),fe=$("[data-block='pdp-event-text']"),ve=$("[data-action='pdp-event-get-delivery-date'] "),pe=$("[data-block='pdp-event-datepicker']"),he=$("[data-property='pdp-event-date']"),me=$("[data-block='pdp-event-date-text']"),Ce=$("[data-block='pdp-event-message-great']"),ge=$("[data-block='pdp-event-message-not-great']"),ye=$("[data-block='pdp-event-message-not-great-expedited']"),be=O.find("[data-property='description']"),we=O.find("[data-property='more']"),Ae=n.more&&n.more.description?n.more.description:be.html(),Se=n.more?n.more.lettersAllowed?n.more.lettersAllowed:200:"",Ie=n.more&&n.more.overlayColor?n.more.overlayColor:"transparent",ke=!0,$e=rt(ue.eq(0).text());"function"==typeof $.prototype.swipe&&$("#promoCarousel").swipe({swipe:function(e,t,a,o,r,i){"left"===t&&$(this).carousel("next"),"right"===t&&$(this).carousel("prev")},allowPageScroll:"vertical"}),function(){if(we.length>0)if(Se<Ae.length){for(var e=Se;e<Ae.length;e++)if(" "===Ae[e]){u=Ae.slice(0,e)+"...",ke=!0,be.html(u),we.html(k.more);break}we.on("click",(function(){return ke?be.animate({opacity:.6},"slow",(function(){var e=be.height(),t=$(document.createElement("div"));t.css("position","absolute").css("bottom",0).css("left",0).css("right",0).css("background-color",Ie),be.css("position","relative"),be.html(Ae);var a=be.height();t.height(a-e),be.append(t),t.animate({height:(a-e)/2},"normal"),be.animate({opacity:1},"slow"),t.animate({height:0},"easeOutExpo"),ke=!1,we.html(k.less),we.addClass("expanded")})):(be.html(u),ke=!0,we.html(k.more),we.removeClass("expanded")),!1}))}else n.more&&be.html(Ae),we.hide(),be.addClass("full-description")}(),ve.click((function(e){e.preventDefault(),fe.hide(),pe.removeClass("hide"),he.datepicker({beforeShow:function(e,t){$("#ui-datepicker-div").addClass("appointment-datepicker"),$(window).width()<=993&&(t.settings.numberOfMonths=1)},defaultDate:"+1w",changeMonth:!0,numberOfMonths:1,minDate:1,maxDate:"+1y",onSelect:function(e){$.cookie(o,e,{expires:7,path:"/"}),Le(e),Be()}})})),pe.find("i").click((function(e){e.preventDefault(),he.datepicker("show")})),Q.on("click",(function(e){var t=$(e.currentTarget);if(b&&b.length>0&&Ze()){var a=ot();if(!a){He(!1),re.addClass("from-wishlist"),re.width(t.width());var o=t.offset().left-W.offset().left;return o>0&&re.css("left",o+"px"),He(!0,i.CHOOSE),!1}De(Ke(),a)}else De(Ke());return!1})),Y.click((function(e){e.preventDefault();var t=$(e.currentTarget).attr("href");if("function"==typeof ga){var a=n.hideSizesIfUnavailable?"Hide sizes":"Show sizes";ga("send","event","Call button","click",a,{transport:"beacon",hitCallback:function(){location.href=t}})}else location.href=t})),le.on("click",(function(){return He(!1),!1})),ce.on("click",(function(){return Ue(!1),!1})),void X.on("click",(function(e){e.preventDefault();var t=$(e.currentTarget).attr("href");return sessionStorage.setItem("productStyle",M),$(document).trigger("google-analytics:find-in-store-clicked",M),"_blank"===$(e.currentTarget).attr("target")?window.open(t,"_blank"):location.assign(t),!1})),function(){for(var e=b.sort((function(e,t){return e.ColorId>t.ColorId?1:e.ColorId<t.ColorId?-1:e.SizeId>t.SizeId?1:e.SizeId<t.SizeId?-1:0})),t=0;t<e.length;t++){var a=e[t];if(0!==a.UnitsAvailableInStore||0!==a.UnitsAvailableInWarehouse){l.firstActiveStock=a;break}}l.items=e}(),_e(!0),We()||(Z.not(at(null)).addClass(C),_.not(at(null)).attr("disabled","")),void(Ye()||(B.not(tt(null)).addClass(m),q.not(tt(null)).attr("disabled",""))),void function(){var e=$(".video-description-list [data-slick]");function t(e,t){Common.setRelatedArrowsPosition(t,".video-js")}e.length>0&&(e.slick({prevArrow:"<div class='slick-arrow slick-prev products-arrow'><span class='arrow'></span></div>",nextArrow:"<div class='slick-arrow slick-next products-arrow'><span class='arrow'></span></div>",responsive:[{breakpoint:768,settings:{arrows:!1}}]}),e.on("setPosition",t))}(),n.availabilityMode&&(n.availabilityMode.textStatus||n.availabilityMode.swatchesStatus)||(n.isCompoundProduct||null!==l.firstActiveStock)&&p&&A?(Y.hide(),j.hide(),W.removeClass("hide"),!n.availabilityMode||!n.availabilityMode.textStatus&&!n.availabilityMode.swatchesStatus||p&&A||W.hide(),l.items&&l.items.length>0&&Q.removeClass("hide"),R.removeClass("hide"),F.on("click",(function(e){lt($(e.currentTarget),r.CLICKABLE)})),H.on("click",(function(e){return ct($(e.currentTarget),r.CLICKABLE)})),N.on("change",(function(e){var t=$(e.currentTarget).val();lt(q.filter("[data-value-id='"+t+"']"),r.SELECT)})),U.on("change",(function(e){var t=$(e.currentTarget).val();ct(_.filter("[data-value='"+t+"']"),r.SELECT)})),W.on("click",(function(e){var t=$(e.currentTarget);if(b&&b.length>0){Ue(!1);var a=ot();if(!a)return He(!1),re.addClass("from-cart"),re.width(t.width()),He(!0,i.CHOOSE),!1;if(!vt(a))return!1;Te(Ze())}if(n.isCompoundProduct){var o=Qe(),r=o.some((function(e){return!e.colourId}));o.length>0&&!r?Te(Ze()):(He(!1),re.addClass("from-cart"),re.width(t.width()),He(!0,i.COMPONENTS))}return!1})),G.on("keyup",(function(){vt(ot())&&Ue(!1)})),J.on("change",(function(){He(!1)})),n.chooseFirstActiveSize?l.firstActiveStock&&null!=l.firstActiveStock.SizeName&&ct(H.filter("[data-value='"+l.firstActiveStock.SizeName+"']"),r.CLICKABLE):n.chooseFirstActiveColor&&function(){if(l.firstActiveStock&&null!=l.firstActiveStock.ColorName){lt(F.filter("[data-value-id='"+l.firstActiveStock.ColorId+"']"),r.CLICKABLE)}}()):(je(),Re(),Ge(),Je(),p&&(Z.addClass(C),_.attr("disabled",""),n.hideSizesIfUnavailable||(B.addClass(m),q.attr("disabled",""))),H.off("click"),S&&(F.on("click",(function(e){var t=$(e.currentTarget);t.addClass("dirty");var a=t.attr("data-value");nt(t.attr("data-title")||a,t.find(".color"))})),N.on("change",(function(e){var t=$(e.currentTarget);t.addClass("dirty"),nt(t.val(),t.find(".color"))}))),W.hide(),Y.removeClass("hide"),j.removeClass("hide"),R.hide());function Te(e){if(e){var t=Fe(),a=ot(),o=Qe();if(null!=a||o.length>0){He(!1);var r={stockId:a?a.Id:null,quantity:t};if(o.length>0){r["compoundProduct.Id"]=w;for(var i=0;i<o.length;i++)r["compoundProduct.Components["+i+"].ComponentType"]=o[i].type,r["compoundProduct.Components["+i+"].ColourId"]=o[i].colourId}Common.createAndSubmitForm(n.urls.add,r)}}}l.colorFilter=new function(){var e=this;function t(e){var t=e.attr("data-value-id");E.trigger("syvo_PDPcolorFilter:onBeforeChange",[t]),a(e),o(t),E.trigger("syvo_PDPcolorFilter:onAfterChange",[t])}function a(e){E.removeClass(h),e.addClass(h),n(B)}function o(t){if(t){t=t.split(",").sort((function(t,a){return $.inArray(t,e.colorsOrder)>$.inArray(a,e.colorsOrder)?-1:$.inArray(t,e.colorsOrder)<$.inArray(a,e.colorsOrder)?1:0}));for(var a=0,o=0,i=B.length;o<i;o++){var l=$(B[o]),d=l.attr("data-value-id");d||n(l);for(var c=0,u=(d=d.split(",")).length;c<u;c++){var f=d[c];$.inArray(f,t)>-1&&(s(l),0===a&&(E.trigger("syvo_PDPcolorFilter:onBeforeColorChoosed",[t]),l.hasClass(m)||lt(l,r.CLICKABLE),v.viewControls.viewControlChanged(l),E.trigger("syvo_PDPcolorFilter:onAfterColorChoosed",[t])),a++)}}}else s(B)}function i(){for(var e=[],t=l.items.length,a=0;a<t;a++){var o=l.items[a];-1===$.inArray(o.ColorId,e)&&e.push(o.ColorId)}return e}function n(e){e.addClass("hidden-important")}function s(e){e.removeClass("hidden-important")}e.colorFilterChanged=t,e.colorFilterChoosed=a,e.showFilteredColors=o,e.colorsOrder=i(),e.allFilter=$(E[0]),E.click((function(e){t($(this))}))};var xe=$.cookie(o);xe&&(new Date(xe)>new Date?(ve.click(),he.datepicker("setDate",xe),Le(xe)):$.removeCookie(o));function Le(e){me.text(e)}function De(e,t){if(e){var a,o=$("[data-property='quantity']:eq(0)").val();null==t?(o=null,a=null):(o=o&&o>0?o:1,a=t.Id);var r={productId:n.productId,stockId:a,quantity:o};window.location.href=n.urls.addToWishList+"?"+$.param(r)}}function Pe(e){var t;if(e){t=Oe(e),s=e.UnitsAvailableInStore,d=e.UnitsAvailableInWarehouse,c=e.AvailableDate,V.empty();var a=[];if(n.customAvailabilityMessagesEnabled&&e.AvailabilityMessage&&!n.multiStoring)Ve(e.AvailabilityMessage,e.AvailabilityColour);else{if(0===s&&0===d)Ve(I.notAvaialble),(Ze()||Ke())&&_e(!1);else{var o=e.ShowAvailableOnlineOnlyText,r=e.ShowOnline;if(s>0&&!o&&a.push(I.inStore),(d>0||s>0&&o)&&(o?a.push(I.onlineOnly):a.push(I.online)),0===s&&d>0&&c){I.showDateTooltip&&He(!0,i.AVAILABILITY);var l=I.dateFormat?new Date(c).toLocaleDateString(I.dateFormat.locales,I.dateFormat.options):new Date(c).toLocaleDateString();Ve($.validator.format(I.date,l))}else Ve(I.available+" "+a.join(k.separator))}if(r&&I.fullOnline)Ve(I.fullOnline);else if(s>0&&0==d&&n.multiStoring&&!n.customAvailabilityMessagesEnabled&&e.AvailabilityMessage)Ve(e.AvailabilityMessage,e.AvailabilityColour);else if(0===s&&d>0&&c){I.showDateTooltip&&He(!0,i.AVAILABILITY);l=I.dateFormat?new Date(c).toLocaleDateString(I.dateFormat.locales,I.dateFormat.options):new Date(c).toLocaleDateString();Ve($.validator.format(I.date,l))}else Ve(I.available+" "+a.join(k.separator));_e(!0)}}else t=function(){var e=z||P;if(!n.showMinPriceForIncompleteStock||!b||0===b.length)return e;var t=a();t||(t=o());if(!t)return e;return t;function a(){var e=ut(et());if(e)return r(t());function t(){for(var t=[],a=0,o=b.length;a<o;a++){var r=b[a];ze(r)==e&&t.push(r)}return t}}function o(){var e=st(Xe());if(e)return r(t());function t(){for(var t=[],a=0,o=b.length;a<o;a++){var r=b[a];Me(r)==e&&t.push(r)}return t}}function r(e){for(var t=Oe(e[0]),a=Ee(t),o=0,r=e.length;o<r;o++){var i=Oe(e[o]),n=Ee(i);n<a&&(a=n,t=i)}return t}}(),Ve(null),_e(!1);n.availabilityMode&&!n.availabilityMode.textStatus&&Ve(null),Be(),function(e){var t=e;ue.show(),$.isArray(e)&&e.length>0&&(t=rt(e[0].MinPrice||e[0].Price));(function(e){if(Array.isArray(e)&&e.length>0){!function(e){for(var t=0,a=e.length;t<a;t++)K.filter(":eq("+t+")").text(e[t])}(function(e){for(var t=[],a=0,o=e.length;a<o;a++){var r=e[a],i=Ne(r,qe(r));t.push(i)}return t}(e))}else K.text(e)})(e),$(window).trigger("afterpay:changePrice",[Ee(e),".product-info [data-property='price']"]),t-$e>=0?(ue.hide(),K.css("color","inherit")):K.css("color","")}(t)}function ze(e){return e.SizeName}function Me(e){return e.ColorId}function Oe(e){var t=[];return e.Prices.forEach((function(e){t.push(e)})),t}function Ee(e){if(Array.isArray(e)&&e.length>0)for(var t=0,a=e.length;t<a;t++)if(t===window.common_settings.checkoutCurrencyIndex)return e[t].Price;return e}function Fe(){var e=G.eq(0).val();return(isNaN(e)||e<=0)&&G.eq(0).val(1),e&&e>0?e:1}function Ne(e,t){var a=e.MinPrice||e.Price;if(a)return t.Format.replace("0.00",a.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,"))}function qe(e){for(var t=0,a=window.common_settings.currencies.length;t<a;t++){var o=window.common_settings.currencies[t];if(e.Currency===o.Currency)return o}}function Be(){var e=864e5;Ce.add(ge).add(ye).addClass("hide");var t=ot();if(t){var a=t.AvailableDate,o=he.datepicker("getDate");if(o instanceof Date){var r=o.getTime(),i=new Date(a).getTime(),n=0;isNaN(i)||(n=Math.round((r-i)/e)),a?n>14?Ce.removeClass("hide"):n>0?ye.removeClass("hide"):ge.removeClass("hide"):(r-(new Date).getTime())/e<14?ye.removeClass("hide"):Ce.removeClass("hide")}}}function He(e,t){if(ie.empty(),ne.empty(),!0===e){if((t=t||i.AVAILABILITY)===i.AVAILABILITY)n.hideAvailabilityTooltip||(ie.text(x),ne.text(new Date(c).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"})),re.show("fast"));else if(t===i.CHOOSE){ie.text(L);var a="",o=0;F.hasClass(h)||(o++,a+=k.color),H.hasClass(h)||(o>0&&(a+=k.separator),a+=k.size),a+=".",ne.text(a),re.show("fast")}else if(t===i.COMPONENTS){ie.text(D);a=Qe().filter((function(e){return!e.colourId})).map((function(e){return e.type})).join(", ")+".";ne.text(a),re.show("fast")}}else re.hide("fast"),re.removeClass("from-cart"),re.removeClass("from-wishlist"),re.css("left",""),re.css("bottom","")}function Ue(e,t){!0===e?(de.text(t+T),se.width(G.width()),se.show("fast")):(de.empty(),se.hide("fast"))}function _e(e){!0===e&&(W.removeClass(g),Q.removeClass(g))}function Ze(){return W.length>0&&"none"!==W.css("display")&&!W.hasClass(g)}function Ke(){return!Q.hasClass(g)}function Ve(e,t){null==e?V.empty().removeClass("available").css("color",null):V.text(e).addClass("available").css("color",t||"")}function We(){return B.length>0}function Ye(){return Z.length>0}function je(){B.removeClass(C),q.removeAttr("disabled")}function Re(){B.removeClass(h),nt("")}function Ge(){Z.removeClass(C),_.removeAttr("disabled")}function Je(){Z.removeClass(h),oe.empty()}function Qe(){var e=[];return J&&J.length>1&&$.each(J,(function(t,a){var o=$(a).data("component-type"),r=$(a).val();e.push({type:o,colourId:r})})),e}function Xe(){return B.filter("."+h)}function et(){return Z.filter("."+h)}function tt(e){var t=$();return $.each(b,(function(a,o){o.SizeName==e&&(o.UnitsAvailableInStore>0||o.UnitsAvailableInWarehouse>0)&&B.filter("[data-value-id='"+o.ColorId+"']").each((function(e,a){t=t.add(a)}))})),t}function at(e){var t=$();return $.each(b,(function(a,o){o.ColorId&&o.ColorId==e&&(o.UnitsAvailableInStore>0||o.UnitsAvailableInWarehouse>0)&&Z.filter("[data-value='"+o.SizeName+"']").each((function(e,a){t=t.add(a)}))})),t}function ot(){for(var e=st(Xe()),t=ut(et()),a=0,o=b.length;a<o;a++){var r=b[a];if(Me(r)==e&&ze(r)==t)return r}}function rt(e){if(e&&isNaN(e)){var t=new RegExp(/(\d+(?:\.\d+)*)/),a=(e=e.replace(",","")).match(t);if(a)return parseFloat(a[1])}return e}var it=$("[data-property='carousel']");it&&it[0]&&(it.on("slid.bs.carousel",(function(){MagicZoom&&MagicZoom.refresh()})),it.on("slide.bs.carousel",(function(){$.each($(".product-video-big iframe"),(function(e,t){t.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}))})),window.mzOptions||(window.mzOptions={onZoomReady:function(){$(window).trigger("mz:ready")},zoomOn:y.zoomOn||"click",zoomPosition:y.zoomPosition||"inner",lazyZoom:y.zoomPosition||!0,variableZoom:y.variableZoom||!0,onZoomIn:function(){it.carousel("pause")},onZoomOut:function(){it.carousel("cycle")}}));function nt(e,t){ae.hide(),te.removeClass("has-icon"),te.html(""),ee.text(e),t&&0!==t.length?(te.addClass("has-icon"),te.html(t.clone())):e||ae.show()}function lt(e,t){if(e.hasClass(h)||e.hasClass(m)&&!Ye())return!1;_e(!1),He(!1),Ue(!1),Re(),e.hasClass(m)&&(je(),Ge(),Je());var a,o,i=e.attr("data-value"),n=e.attr("data-title"),l=e.find(".color"),s=st(e);B.filter("[data-value='"+i+"']").addClass(h),t===r.CLICKABLE&&dt(s),t===r.SELECT&&(a=i,(o=F.filter("[data-value='"+a+"']")).addClass(h),o.find("input").click()),nt(n||i,l);var d=et();Ge(),Z.not(at(s)).addClass(C),_.not(at(s)).attr("disabled",""),ft(d.attr("data-value")),d.hasClass(C)&&Je(),Pe(ot())}function st(e){return e.attr("data-value-id")||null}function dt(e){N.val(e),f&&"function"==typeof f.contentChanged&&f.contentChanged(N,e)}function ct(e,t){if(e.hasClass(h)||e.hasClass(C)&&!We())return!1;_e(!1),He(!1),Ue(!1),Je(),e.hasClass(C)&&(je(),Re(),Ge());var a,o,i=ut(e);Z.filter("[data-value='"+i+"']").addClass(h),t===r.CLICKABLE&&ft(i),t===r.SELECT&&(a=i,(o=H.filter("[data-value='"+a+"']")).addClass(h),o.find("input").click()),oe.text(i);var n=Xe();return je(),B.not(tt(i)).addClass(C),q.not(tt(i)).attr("disabled",""),dt(n.attr("data-value-id")),n.length>0&&n.hasClass(C)&&Re(),Pe(ot()),!1}function ut(e){return e.attr("data-value")||null}function ft(e){U.val(e),f&&"function"==typeof f.contentChanged&&f.contentChanged(U,e)}function vt(e){if(e){var t=Fe(),a=e.UnitsAvailableInWarehouse+e.UnitsAvailableInStore;return t>a?(G.val(a),Ue(!0,a),!1):(Ue(!1),!0)}return!1}$("#sizeModal").hide()}))}();
"use strict";window.Syvo.Product_List_Ajax=new SyvoModule("Product_List_Ajax",(function(a){var t=$.extend(!0,{},{},a),e=Common.getBaseHref().replace(/\/$/,""),r=$("html, body"),i=$("[data-property='fixed-header']"),n=$(".plp-ajax-listing"),o=$(".plp-ajax-filters"),l=$("[data-trigger='filter-reset']"),p=($(".filter-sortby-list"),$("[data-pagination-list]")),d=$("[data-pagination-action='prev']"),c=$("[data-pagination-action='next']"),s=$("[data-property='filter-price-from']"),f=$("[data-property='filter-price-to']"),u=$("[data-plp-filter='price']"),v=$("[data-plp-filter='sortby']"),h=($("[plp-filter-hidden]"),$(".filter-breadcrumbs .list"),$("[data-block='filter-breadcrumbs']")),m=h.find("[data-property='filter-breadcrumb-clear']"),g=$("input[data-plp-filter][type=checkbox]"),y=$("input[data-filter-hidden]"),C=$("[data-plp-filter-toggle]"),x=!1,w=null,b="price",k="is-hidden",_="[data-trigger='filter-breadcrumb-item']",L=Common.getCheckoutCurrencyPrefix()||"",P=Common.getCheckoutCurrencyPostfix()||"",F=0,S="attrs";function A(a){var t=parseFloat(s.val()),e=parseFloat(s.attr("data-min")),r=parseFloat(f.val()),i=parseFloat(f.attr("data-max")),n=u.attr("data-signular-title"),o=l.filter("[data-property=price]");t&&t>e||r&&r<i?(o.removeClass(k),I(n+": "+L+t.formatMoney("",".",",").replace(".00","")+P+"-"+L+r.formatMoney("",".",",").replace(".00","")+P,b,b,a,!0)):(o.addClass(k),j(b,null,a))}function O(a,t){var e=l.filter("[data-property="+a+"]");t?e.removeClass(k):$("[data-plp-filter='"+a+"']:checked").length>0||e.addClass(k)}function R(a){var t=e();function e(){if(window.Syvo.hasOwnProperty(a))return window.Syvo[a]}function r(){t&&"function"==typeof t.reload&&t.reload()}t&&t.isLoaded()?r():$(window).on(a+":onAfterLoad",(function(){t=e(),r()}))}function I(a,t,e,r,i){i=i||!1,r=void 0===r||r;var n=h.find(_).filter("[data-property='"+t+"']"),o=$("<div/>",{class:"list-item","data-trigger":"filter-breadcrumb-item","data-property":t,"data-value":e}).append($("<label class='filter-breadcrumb'/>").append($("<span></span>",{text:a})).append($("<i class='icon-syvo icon-close-x'></i>")));if(r&&z(),i)n.remove();else if(n.length>0)return void n.filter(":last").after(o);m.before(o),h.removeClass("hide")}function j(a,t,e){e=void 0===e||e;var r=h.find(_).filter("[data-property='"+a+"']"),i=o.find("input[data-plp-filter='"+a+"']:checked");if(void 0!==t&&null!=t&&(r=r.filter("[data-value='"+t+"']"),i=i.filter("[value='"+t+"']")),a!==b){if(i.is("input")&&i.length>0){if(!i.prop("checked"))return;i.prop("checked",!1)}}else{var n=s.attr("data-min"),l=f.attr("data-max");if(s.val()===n&&f.val()===l)return;s.val(s.attr("data-min")),f.val(f.attr("data-max")),M()}r.remove(),O(a,!1),0===h.find(_).length?h.addClass("hide"):h.removeClass("hide"),e&&z()}function M(){var a=u.data("ionRangeSlider");a&&a.updateRange()}function U(a){a=void 0===a||a;var t=h.find(_).map((function(a,t){return $(t).attr("data-property")})).toArray().filter((function(a,t,e){return e.indexOf(a)===t}));$.each(t,(function(a,t){j(t,null,!1)})),a&&z()}function z(a,t){var r,i=t||{},n={};if(t){for(var l in o.find("input[data-plp-filter]").prop("checked",!1),o.find("[data-trigger='filter-reset']").addClass(k),C.prop("checked",!1),U(!1),i)if(i.hasOwnProperty(l)){var p=Array.isArray(i[l])?i[l]:[i[l]];for(var d in p)if(p.hasOwnProperty(d)){var c=p[d],u=o.find("input[data-plp-filter"+(l===S?"^":"")+"='"+l+"'][value='"+c+"']");if(0!==u.length)u.prop("checked",!0),I(u.attr("aria-label"),l,c,!1),o.find("[data-trigger='filter-reset'][data-property='"+l+"']").removeClass(k);else{var h=C.filter("[name='"+l+"']");0!==h.length&&h.prop("checked",!0)}}}var m=o.find("[data-trigger='filter-reset'][data-property='price']");void 0!==i.minprice&&parseFloat(s.val())!==parseFloat(i.minprice)?(s.val(i.minprice),m.removeClass(k)):s.val(s.attr("data-min")),void 0!==i.maxprice&&parseFloat(f.val())!==parseFloat(i.maxprice)?(f.val(i.maxprice),m.removeClass(k)):f.val(s.attr("data-max")),m.hasClass(k)||A(!t),M(),n=N(i)}else{a&&!isNaN(a)&&a>0&&(i.page=a),function(a){$.each(y,(function(t,e){var r=$(e),i=r.attr("name");a[i]=r.val()}))}(i),function(a){var t="searchTerm",e=Common.getWindowLocationParameter(t);void 0!==e&&(a[t]=e)}(i),function(a){var t=o.find("input[data-plp-filter]:checked");$.each(t,(function(t,e){var r=$(e),i=r.attr("data-plp-filter"),n=r.val();0===i.indexOf(S)&&(i=S),Q(a,i,n)}))}(i),function(a){s.val()&&parseFloat(s.val())!==parseFloat(s.attr("data-min"))&&(a.minprice=s.val()),f.val()&&parseFloat(f.val())!==parseFloat(f.attr("data-max"))&&(a.maxprice=f.val())}(i),function(a){$.each(C.filter(":checked"),(function(t,e){var r=$(e).attr("name");r&&(a[r]=null)}))}(i),function(a){var t=v.filter(":checked").val();t&&"bestmatch"!==t.toLowerCase()&&(a.sortby=t)}(i),n=N(i);var g=new URI(location.pathname);for(var b in n)n.hasOwnProperty(b)&&g.addQuery(b,n[b]);var _=decodeURI(location.pathname.toLowerCase().replace(new RegExp("^"+e,"i"),"")).trim();i.requestpath=n.requestpath=_,r=decodeURIComponent(g.toString()).replace(/(=&)/gi,"&").replace(/(=$)/,"")}history.pushState?(t||(history.pushState(i,document.title,r),$(window).trigger("history:pushstate")),x?w=n:T(n)):location.href=r}function q(a,t,e){return $("<li/>").append($("<a/>",{"data-pagination-page":a,class:"pagination-link pagination-action",href:e}).append($("<span/>",{text:t})))}function H(a){var t=new URI(location.href);return t.removeQuery("page"),1!==a&&t.addQuery("page",a),decodeURIComponent(t.toString()).replace(/(=&)/gi,"&").replace(/(=$)/,"")}function Q(a,t,e){$.isArray(a[t])?a[t].push(e):a[t]=[e]}function N(a){var t={};for(var e in a)a.hasOwnProperty(e)&&(t[e]=$.isArray(a[e])?a[e].join(","):a[e]);return t}function T(a){W(!0),$.ajax({type:"get",url:t.urls.products,data:a}).done((function(t){(function(a,t){return new Promise((function(e,i){try{a.hasOwnProperty("page")&&r.animate({scrollTop:n.offset().top-F},"fast"),n.html(t.content),e()}catch(a){i()}}))})(a,t).then((function(){R("Product"),R("Color_List"),R("Lazy_Load"),common_settings&&common_settings.relatedImagesRatio&&R("Related_Images"),common_settings&&common_settings.isAuthenticated?R("Wishlist_Heart"):R("Login_Attempt"),R("Layout_Control"),R("Search")})),function(a,t,e){var r="invisible",i="data-pagination-page",n=Math.ceil(e/t);d.addClass(r),c.addClass(r),a>1&&(d.removeClass(r),d.attr(i,a-1),d.attr("href",H(a-1))),a<n&&(c.removeClass(r),c.attr(i,a+1),d.attr("href",H(a+1)));var o=1,l=n;if(n>4){var s=Math.ceil(2)-1,f=a-s,u=a+s;f<2?(u=4,f=1):u>n-2&&(u=n,f=n-4+1),o=f,l=u}var v=[];o>1&&(v.push(q(1,"1",H(1))),o>2&&v.push(q(o-1,"...",H(o-1))));for(var h=o;h<=l;h++)if(h!==a)v.push(q(h,h,H(h)));else{var m=$("<li/>").append($("<span/>",{class:"pagination-link pagination-link-current","data-pagination-page":h,"aria-label":"Current page"}).append($("<span/>",{text:h})));v.push(m)}l<n&&(l<n-1&&v.push(q(l+1,"...",H(l+1))),v.push(q(n,n,H(n)))),p.find("li").filter((function(a,t){return 0===$(t).find(".pagination-arrow").length})).remove(),p.find("li:eq(0)").after(v)}(t.page,t.pageSize,t.total),w&&w!==a?T(w):(w=null,W(!1))})).fail((function(){w=null,x=!1}))}function W(a){x=a,a?n.LoadingOverlay("show",{image:"",fontawesome:"fa fa-circle-o-notch fa-spin fa-3x fa-fw",zIndex:90,maxSize:30}):n.LoadingOverlay("hide",!0)}l.click((function(){var a=$(this),t=a.attr("data-property");a.addClass(k),j(t)})),g.change((function(){var a=$(this),t=a.prop("checked"),e=a.attr("data-plp-filter"),r=a.val(),i=a.attr("aria-label");O(e,t),t?I(i,e,r):j(e,r)})),s.change(A),f.change(A),C.change((function(){z()})),v.change((function(){z()})),h.on("click","[data-trigger='filter-breadcrumb-item']",(function(){var a=$(this);j(a.attr("data-property"),a.attr("data-value"),!0)})),m.click(U),p.on("click","a[data-pagination-page]",(function(a){a.preventDefault(),z($(this).attr("data-pagination-page"))})),i.on("syvo_fixedHeader:onCalculate",(function(a,t,e){F=e})),window.onpopstate=function(a){a.state?z(null,a.state):location.href=document.location}}));
"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}window.Syvo.Product_List=new SyvoModule("Product_List",(function(t){var r,e=$.extend(!0,{},{},t),a=$();if(e.nonStaticRangePrice){e.nonStaticRange={selector:"[data-property=prices][data-controller='slider']",slider:"ionRangeSlider"};var o={min:0,max:0,type:"double",prefix:Common.getCheckoutCurrencyPrefix(),postfix:Common.getCheckoutCurrencyPostfix(),grid:!1,prettify_separator:".",input_values_separator:"-",max_postfix:"",change_triggered:!1};(r=$.extend(!0,{},o,e.nonStaticRangePrice)).from=r.from?r.from:r.min,r.to=r.to?r.to:r.max,a=$(e.nonStaticRange.selector)}var n,i=new URI(location.href);(n=$("[data-property=inStore]")).attr("data-selected","True"===n.attr("data-value")),null!=r&&a.ionRangeSlider(r),Common.initTogglePopupSidebar();var s,c,d,l=(s=new v,c=i.search(!0),$.each(c,(function(t,r){s.hasOwnProperty(t)&&($.isArray(r)?$.merge(s[t],r):s[t].push(r))})),s);function p(t,e){t=t||new v({sortBy:g("sortBy"),sizes:y("sizes"),colors:y("colors"),prices:null!=r?f():y("prices"),inStore:$("[data-property=inStore]").is("[data-selected=true]"),attrs:y("attrs"),stores:y("stores"),brands:y("brands")}),e=e||[],$.each(l,(function(r,a){if(t.hasOwnProperty(r))for(var o=0,n=a.length;o<n;o++)if(t[r].indexOf(a[o])<0){e.push(r);break}})),h(function(t,r){if(t)for(var e in t)t.hasOwnProperty(e)&&((r&&r.indexOf(e)>=0||!t[e]||Array.isArray(t[e])&&0===t[e].length)&&i.removeQuery(e),t[e]&&("object"===_typeof(t[e])&&t[e].length>0||"string"==typeof t[e]||!0===t[e])&&i.addQuery(e,t[e]));return i}(t,e))}function u(t){if(t.indexOf("inStore")>-1&&$("[data-property=inStore]").attr("data-selected",!1),t.indexOf("prices")>-1&&null!=r){var o=a.data(e.nonStaticRange.slider);r.to=r.max,r.change_triggered=!1,o.update(r)}}function f(){var t=$("[data-property=prices]").val();return r.change_triggered?(null!=r&&r.overLimit&&(t+="plus"),[t]):[]}function y(t){var r=$("[data-property="+t+"][data-selected=true]");return $.map(r,(function(t){return $(t).attr("data-value")}))}function g(t){var r=$("[data-property="+t+"]");return $.map(r,(function(t){return $(t).attr("data-value")}))}function h(t){var r=t||i;r.removeQuery("page"),location.assign(r)}function v(t){for(var r=this,e=["sizes","colors","prices","attrs","stores","brands","sortBy","inStore","page"],a=0,o=e.length;a<o;a++)r[e[a]]=[];t&&"object"===_typeof(t)&&$.each(t,(function(t,e){r.hasOwnProperty(t)&&(r[t]=e)}))}(function(t){if(t){var e=$("[data-filter-block], [plp-filter]");$.each(t,(function(t,r){if(r&&0!==r.length)for(var a=0,o=r.length;a<o;a++){var n=e.find('[data-value="'+r[a]+'"][data-property="'+t+'"]');n.is("input")?n.prop("checked",!0).attr("data-selected","true").closest("label").addClass("active"):n.attr("data-selected","true").addClass("active")}})),null!=r&&t.prices&&(r.min===r.from&&r.max===r.to||(r.change_triggered=!0))}})(l),$("[data-sort-item]").click((function(){$("[data-property=sortBy]").attr("data-value",$(this).attr("data-sort-item"))})),$("[data-trigger=filters-apply]").click((function(){var t;return $(this).is("[data-filter-done='sizes']")&&(t=$("[data-property=sizes][data-selected=true]:eq(0)").attr("data-size-id"))&&$.cookie("sizeId",t,{path:"/"}),$(document).trigger("google-analytics:filter-products-clicked"),p(),!1})),$((d="[data-property=sizes], [data-property=colors], [data-property=inStore], [data-property='attrs'], [data-property='stores'], [data-property='brands']",r||(d+=",[data-property=prices]"),d)).click((function(){var t="true"===$(this).attr("data-selected");$(this).attr("data-selected",!t)})),$("[data-trigger=filters-reset]").click((function(){var t=$(this).attr("data-property"),r=t.split(",");return r.constructor===Array&&1===r.length&&$("[data-property="+t+"]").attr("data-selected",!1),u(r),p(new v,r),!1})),$("[data-trigger='filter-breadcrumb-item'], [data-trigger='filter-reset']").click((function(t){t.preventDefault();var r=$(this),e=r.attr("data-property"),a=r.attr("data-value");if(e&&a&&(e=e.split(","),a=a.split(","),e.length===a.length)){u(e);for(var o=i.search(!0),n=0;n<e.length;n++){var s=e[n],c=a[n];if(o.hasOwnProperty(s)){var d,l=o[s];i.removeQuery(s),(d=l.constructor===Array?l.filter((function(t){return t!==c})):l.replace(l,""))&&0!==d.length?i.setQuery(s,d):i.removeQuery(s)}}h(i)}})),null!=r&&a.on("change",(function(){r.change_triggered=!0})),$("[data-trigger='inStore']").click((function(){return i.addQuery("sortBy","BestMatch"),i.addQuery("inStore","true"),h(i),!1}))}));
"use strict";!function(){var e=window.Syvo.Recommended_Products=new SyvoModule("Recommended_Products",(function(n){if("function"!=typeof $.fn.slick)return;var i=$(window),t={selector:"[data-list='products']",callbacks:{onSliderInit:g,onSliderBeforeChange:g,onSliderAfterChange:g,onSliderBreakPoint:g,onSliderSetPosition:g},slider:{infinite:!1,slidesToShow:5,slidesToScroll:1,focusOnSelect:!1,arrows:!0,dots:!1,prevArrow:"<div class='slick-arrow slick-prev products-arrow'><span class='arrow'></span></div>",nextArrow:"<div class='slick-arrow slick-next products-arrow'><span class='arrow'></span></div>",responsive:[{breakpoint:992,settings:{slidesToShow:2,autoplay:!0}}]}};if(e.settings=$.extend(!0,{},t,n),!e.settings.selector||!e.settings.slider)return;function s(){e.$list=$(e.settings.selector),e.$slider=e.$list.filter((function(e,n){return $(n).children().length>1})),e.$slider.on("init reInit",a),e.$slider.on("setPosition",l),e.$slider.on("beforeChange",c),e.$slider.on("afterChange",d),e.$slider.on("breakpoint",f),e.slickSlider=e.$slider.slick(e.settings.slider)}function o(){e.slickSlider=e.$slider.slick("unslick"),e.$slider.off("init reInit",a),e.$slider.off("setPosition",l),e.$slider.off("beforeChange",c),e.$slider.off("afterChange",d),e.$slider.off("breakpoint",f),e.$slider=$()}function r(n){return $(n.target).is(e.$slider)}function l(n,t){r(n)&&(!function(e){Common.setRelatedArrowsPosition(e,".product-image")}(t),e.settings.callbacks&&"function"==typeof e.settings.callbacks.onSliderSetPosition&&e.settings.callbacks.onSliderSetPosition(t),i.trigger(e.eventNames.onSliderSetPosition,[t]))}function a(n,t){r(n)&&(i.trigger("slick:ready",[e]),e.settings.callbacks&&"function"==typeof e.settings.callbacks.onSliderInit&&e.settings.callbacks.onSliderInit(t),i.trigger(e.eventNames.onSliderInit,[t]))}function c(n,t,s,o){r(n)&&(!function(e,n,i){e.options.infinite&&t();function t(){var n=e.$slideTrack.children(".slick-cloned");function i(n){var i=$(o(n)),t=r(n),s=r(i);function o(n){var i=parseInt(n.attr("data-slick-index"));if(!isNaN(i)){if(i>=e.$slides.length)for(;i>=e.$slides.length;)i-=e.$slides.length;else for(;i<0;)i+=e.$slides.length;return e.$slides[i]}}function r(e){return e.find(".slick-initialized")}t.length===s.length&&$.each(t,(function(e,n){var i=$(this),t=$(s[e]);i.parent().append(t.clone(!0)),i.remove()}))}$.each(n,(function(){i($(this))}))}}(t),e.settings.callbacks&&"function"==typeof e.settings.callbacks.onSliderBeforeChange&&e.settings.callbacks.onSliderBeforeChange(t,s,o),i.trigger(e.eventNames.onSliderBeforeChange,[t,s,o]))}function d(n,t,s){r(n)&&(e.settings.callbacks&&"function"==typeof e.settings.callbacks.onSliderAfterChange&&e.settings.callbacks.onSliderAfterChange(t,s),i.trigger(e.eventNames.onSliderAfterChange,[t,s]))}function f(n,t,s){r(n)&&(e.settings.callbacks&&"function"==typeof e.settings.callbacks.onSliderBreakPoint&&e.settings.callbacks.onSliderBreakPoint(t,s),i.trigger(e.eventNames.onSliderBreakPoint,[t,s]))}function g(){}e.init=s,e.destroy=o,e.reload=function(){o(),s()},s()}));e.eventNames.onSliderInit=e.getModuleEventName("onSliderInit"),e.eventNames.onSliderBeforeChange=e.getModuleEventName("onSliderBeforeChange"),e.eventNames.onSliderAfterChange=e.getModuleEventName("onSliderAfterChange"),e.eventNames.onSliderBreakPoint=e.getModuleEventName("onSliderBreakPoint"),e.eventNames.onSliderSetPosition=e.getModuleEventName("onSliderSetPosition")}();
"use strict";window.Syvo.Feedback=new SyvoModule("Feedback",(function(e){var t=$(e.formSelector);t.submit((function(r){r.preventDefault();var a=t.find("[name='g-recaptcha-response']"),o=a.val();if(t.valid()&&(0==a.length||o)){$(e.submitSelector).prop("disabled",!0);var l=t.serializeArray();$.ajax({url:e.url,type:"post",data:l,beforeSend:function(){$(e.progressElementSelector).fadeIn("slow")}}).done((function(t){t.status?($(e.emailSelector).val(""),$(e.messageSelector).val(""),$(e.errorElementSelector).fadeOut("slow"),$(e.statusElementSelector).fadeIn("slow"),setTimeout((function(){location.assign(e.rootUrl)}),3e3)):$(e.errorElementSelector).fadeIn("slow").text(t.message),$(e.progressElementSelector).fadeOut("fast"),$(e.submitSelector).prop("disabled",!1)})).always((function(){!grecaptcha||grecaptcha.reset()}))}}))}));
"use strict";window.Syvo.Testimonial=new SyvoModule("Testimonial",(function(e){$.validator.setDefaults({ignore:null});var t=$(e.formSelector),o=$(e.submitSelector).text();$(e.ratingRadioSelector).on("click",(function(){$(e.ratingSelector).val($(this).val())})),t.submit((function(l){if(l.preventDefault(),t.valid()){$(e.submitSelector).prop("disabled",!0).text("Sending");var r=t.serializeArray();$(e.errorElementSelector).hide().text(""),$.ajax({url:e.url,type:"post",data:r}).done((function(t){t.status?($(e.nameSelector).val(""),$(e.emailSelector).val(""),$(e.phoneSelector).val(""),$(e.contentSelector).val(""),$(e.errorElementSelector).fadeOut("slow"),$(e.statusElementSelector).fadeIn("slow"),setTimeout((function(){location.assign(e.rootUrl)}),3e3)):$(e.errorElementSelector).fadeIn("slow").text(t.message),$(e.submitSelector).prop("disabled",!1).text(o)}))}}))}));
"use strict";window.Syvo.Save_Result_Form=new SyvoModule("Save_Result_Form",(function(e){var t=$("[data-form=save-result-form]");if(t){var o=$(e.formSuccessSelector),a=$(e.formErrorSelector),n=$(e.formInfoSelector),i=function(e){t.hide(),n.hide(),e?(o.show(),$(window).scrollTop(o.position().top),setTimeout((function(){o.hide()}),5e3)):(a.show(),$(window).scrollTop(a.position().top),setTimeout((function(){a.hide()}),5e3)),setTimeout((function(){location.reload()}),8e3)};t.validate({errorElement:"span"}),t.submit((function(e){if(e.preventDefault(),t.valid()){var o=t.attr("action"),a=t.serialize(),n=function(e){var t=[];return e.find("input, textarea, select").each((function(o,a){var n={};n.Name=a.name,n.Value=a.value,n.LabelText=e.find("[data-label="+n.Name+"]").text(),"SELECT"===a.tagName?n.TextValue=$(this).find("option:selected").text():"radio"===a.type?(n.TextValue=e.find(":radio[name="+n.Name+"]:checked").val(),n.Value=n.TextValue):n.TextValue=a.value,t.push(n)})),t}(t);console.log(n),$.ajax({type:"POST",url:"/externalrequest/sendform",data:{url:o,data:a,controls:n},success:function(e){i(e.status)},error:function(e){i(e.status)}})}}))}}));
"use strict";window.Syvo.Store_Locator_v1=new SyvoModule("Store_Locator_v1",(function(e){var o=$("[data-property=country]"),t=$("[data-property=locationKeyword]"),n=$("[data-property=storeKeyword]"),a=$("[data-property=store-modal]"),r=$("[data-role=results]"),l=$("[data-role=no-results]"),i=$("[data-property=map]")[0],s=null;function d(o){e.stores&&e.stores.length>0?($.each(e.stores,(function(e,o){o.dresses=new Array(o.rate),o.location=o.latitude+","+o.longitude})),o&&r.loadTemplate($("#item-template"),e.stores),r.find("[data-property=info-popup-trigger]").on("click",(function(){var o=$(this).data("id"),t=e.stores.find((function(e){return e.Id==o}));t.Direction="http://maps.google.com/maps?daddr="+encodeURIComponent(t.Address),a.loadTemplate($("#popup-template"),t,{bindingOptions:{ignoreUndefined:!0,ignoreNull:!0,ignoreEmptyString:!0}}),a.modal()})),r.show(),l.hide()):(r.hide(),l.show())}function p(){var a=$.trim(n.val());a&&(s=null,t.val(""));var r={brandId:e.brandId,countryId:o.val(),storeName:a};s&&(r["location.latitude"]=s.latitude,r["location.longitude"]=s.longitude,r["location.region"]=s.region,r["location.city"]=s.city,r["location.postCode"]=s.postCode),$.get(e.searchUrl,r,(function(o){e.stores=o,d(!0),u()}))}function u(){for(var o=new google.maps.LatLngBounds,t=new google.maps.InfoWindow,n=new google.maps.Map(i,{}),a=0;a<e.stores.length;a++){var r=e.stores[a],l=new google.maps.Marker({position:new google.maps.LatLng(r.latitude,r.longitude),map:n,optimized:!1});o.extend(l.position),google.maps.event.addListener(l,"mousedown",function(o,a){return function(){var r=e.stores[a],l="<b>"+r.name+"</b><br>"+r.address;r.url&&(l+='<br /><a target="_blank" href='+r.url+">"+r.url+"</a>"),r.phone&&(l+="<br />"+r.phone),t.setContent(l),t.open(n,o)}}(l,a))}n.fitBounds(o),e.stores.length>0&&n.getZoom()>14?n.setZoom(14):0==e.stores.length&&n.setZoom(1)}$.getScript("//maps.googleapis.com/maps/api/js?libraries=places&language=en&key="+e.googleKey).done((function(e,o){google.maps.event.addDomListener(window,"load",u),function(){var e={},o=new google.maps.places.AutocompleteService,a=new google.maps.places.PlacesService(i);function r(e){return e&&e.length>0?$.map(e,(function(e){return{value:e.place_id,label:e.description}})):[]}function l(e){a.getDetails({placeId:e},(function(e){e&&(function(e){if(e&&e.address_components){s={latitude:e.geometry.location.lat(),longitude:e.geometry.location.lng(),region:null,city:null,postCode:null};for(var o=0;o<e.address_components.length;o++)for(var t=e.address_components[o],n=0;n<t.types.length;n++){var a=t.types[n];"postal_code"===a?s.postCode=t.short_name:"administrative_area_level_1"===a?s.region=t.long_name:("locality"===a||"postal_town"===a)&&(s.city=t.long_name)}}}(e),p())}))}t.autocomplete({minLength:2,delay:500,source:function(n,a){var l=$.trim(n.term);return l in e?(a(r(e[l])),!1):(o.getPlacePredictions({input:$.trim(t.val()),types:["(regions)"]},(function(o){e[l]=o,a(r(e[l]))})),!1)},focus:function(){return!1},select:function(e,o){return t.val(o.item.label),l(o.item.value),n.val(""),!1}})}()})),o.on("change",(function(){s=null,t.val(""),p()})),n.keyup((function(e){13===e.keyCode&&p()})),t.keyup((function(e){""===$.trim(t.val())&&s&&(s=null,p())})),$.addTemplateFormatter({telephone:function(e){return e?"tel:"+e:""}}),d(!1)}));
"use strict";window.Syvo.Store_Locator_v2=new SyvoModule("Store_Locator_v2",(function(e){var o,t,n=e.formSelector?$(e.formSelector):$("#store-locator-form"),a=e.showAllStoresButtonSelector?$(e.showAllStoresButtonSelector):$("#store-locator-show-all-stores-btn"),r=e.hideAllStoresButtonSelector?$(e.hideAllStoresButtonSelector):$("#store-locator-hide-all-stores-btn"),i=e.breakpoint||992,s=e.searchTermFormInputSelector?$(e.searchTermFormInputSelector):$("#store-locator-search-term"),l={onBeforeSetResult:e.callbacks?e.callbacks.onBeforeSetResult:function(){},onAfterSetResult:e.callbacks?e.callbacks.onAfterSetResult:function(){},onSuccessSearch:e.callbacks?e.callbacks.onSuccessSearch:function(){}},c=$("[data-property=map]")[0],u=null,d=[],f={OK:200,NOT_FOUND:404,ERROR:500},p={LOCATION:1,DEFAULT_LOCATION:2,BY_USER_COORDINATES:3},g={defaultLocation:e.defaultLocation,location:null,userGeolocation:null,stores:[],locationSelected:!0,showAllStores:!1,sessionToken:null};function m(){return new Promise((function(o,t){g.location?o({status:f.ERROR,searchType:p.DEFAULT_LOCATION,location:g.location}):new Promise((function(e,o){null!=g.defaultLocation?(g.location=Object.assign({},g.defaultLocation),s.val()||s.val(g.location.formattedAddress).trigger("change"),e()):o()})).then((function(){var t=b(!1,!0);$.ajax({url:e.searchByLocationUrl+t,type:"GET"}).done((function(e){o({status:f.OK,content:e,searchType:p.DEFAULT_LOCATION,location:g.location})})).error((function(e,t,n){404!=e.status?o({status:f.ERROR,searchType:p.DEFAULT_LOCATION,location:g.location}):o({status:f.NOT_FOUND,searchType:p.DEFAULT_LOCATION,location:g.location})}))}),(function(){o({status:f.ERROR,searchType:p.DEFAULT_LOCATION,location:g.location})}))}))}function h(){if(null!=g.location)return new Promise((function(o,t){var n=b(!1,!0);$.ajax({url:e.searchByLocationUrl+n,type:"GET"}).done((function(e){o({status:f.OK,content:e,searchType:p.LOCATION,location:g.location})})).error((function(e,t,n){404!=e.status?o({status:f.ERROR,searchType:p.LOCATION,location:g.location}):o({status:f.NOT_FOUND,searchType:p.LOCATION,location:g.location})}))}));console.error("Couldn't search by location: location has not been provided")}function v(){return new Promise((function(o,t){var n=b(!0);$.ajax({url:e.searchByUserCoordinatesUrl+n,type:"GET"}).done((function(e){o({searchType:p.BY_USER_COORDINATES,status:f.OK,content:e,location:g.location})})).error((function(e,t,n){404!=e.status?o({searchType:p.BY_USER_COORDINATES,status:f.ERROR,location:g.location}):o({searchType:p.BY_USER_COORDINATES,status:f.NOT_FOUND,location:g.location})}))}))}function y(){n.submit()}function C(){var e=new google.maps.LatLngBounds,o=new google.maps.InfoWindow;d.forEach((function(e){e.setMap(null)})),d=[];for(var t=g.stores.filter((function(e){return e.isVisible})),n=0;n<t.length;n++){var a=g.stores[n],r=new google.maps.Marker({position:new google.maps.LatLng(a.coordinates.latitude,a.coordinates.longitude),map:u,optimized:!1});d.push(r),e.extend(r.position),google.maps.event.addListener(r,"mousedown",function(e,t){return function(){var n=g.stores[t],a="<span><b>"+n.name+"</b><br>"+n.address+"</span>";n.url&&(a+='<br /><a target="_blank" href='+n.url+">"+n.userFriendlyUrl+"</a>"),n.phone&&(a+="<br /><span>"+n.phone+"</span>"),n.businessUrl&&(a+='<br /><a target="_blank" href='+n.businessUrl+"> Get Directions </a>"),o.setContent(a),o.open(u,e),$(document).trigger("store-locator-v2:store-selected",n)}}(r,n))}u.fitBounds(e),g.stores.length>0&&u.getZoom()>14?u.setZoom(14):0==g.stores.length&&u.setZoom(1)}function w(){g.stores=[],$(e.contentId).find("[data-store-info]").each((function(e,o){var t=$(o),n={id:$(o).attr("data-store-info-id"),coordinates:{latitude:parseFloat(t.attr("data-store-info-latitude")),longitude:parseFloat(t.attr("data-store-info-longitude"))},name:t.attr("data-store-info-name"),address:t.attr("data-store-info-address"),phone:t.attr("data-store-info-phone"),url:t.attr("data-store-info-url"),userFriendlyUrl:t.attr("data-store-info-user-friendly-url"),googlePlaceId:t.attr("data-store-info-google-place-id"),businessUrl:t.attr("data-store-info-business-url")};n.target=$(o),n.isVisible=!0,n.target.show(),g.stores.push(n)}))}function S(){function e(e){g.stores.forEach((function(o){var t=google.maps.geometry.spherical.computeDistanceBetween(new google.maps.LatLng(o.coordinates.latitude,o.coordinates.longitude),new google.maps.LatLng(e.latitude,e.longitude)),n=.000621371192*t;o.target.find("[data-property='distance']").text(n.toFixed()+" miles")}))}null!=g.location?g.location.postCodeOrCity&&e(g.location.coordinates):null!=g.userGeolocation&&e(g.userGeolocation)}function _(e,o){if(g.showAllStores=e,o&&g.stores.length>49){if(g.stores.forEach((function(e,o){e.isVisible=!0,e.target.parent().show();var t=e.target.parent().prev();t.hasClass("item-message")&&t.show(),!g.showAllStores&&o>49&&(e.isVisible=!1,e.target.parent().hide(),t.hasClass("item-message")&&t.hide())})),C(),g.showAllStores)return r.show(),void a.hide();r.hide(),a.show()}else g.stores.forEach((function(e,o){e.isVisible=!0,e.target.parent().show()})),C(),r.hide(),a.hide()}function O(o){var t,n;"function"==typeof l.onBeforeSetResult&&l.onBeforeSetResult(),$(e.contentId).hide(),g.searchResult=o,o.status==f.OK?(null!=o.content&&(t=o.content,n=$("<output>").append($.parseHTML(t)),$(e.contentId).replaceWith($(n).find(e.contentId)),T()),w(),_(!1),S(),C(),function(e){"function"==typeof l.onSuccessSearch&&l.onSuccessSearch(e)}(o)):o.status==f.NOT_FOUND&&(g.stores=[],C()),"function"==typeof l.onAfterSetResult&&l.onAfterSetResult()}function T(){function e(e,o){$(e).on("click",(function(){var e=$(this).closest("[data-store-info]").data("store-info-name");$(document).trigger(o,e)}))}e("[data-property=store-phone]","google-analytics:store-phone-clicked"),e("[data-property=store-directions]","google-analytics:store-directions-clicked"),e("[data-property=store-site]","google-analytics:store-site-clicked")}function b(e,o){var t=n.serializeArray();t=t.filter((function(e){return!["searchTerms","country"].includes(e.name)}));var a="";return e&&null!=g.userGeolocation&&(t.push({name:"userCoordinates.latitude",value:g.userGeolocation.latitude}),t.push({name:"userCoordinates.longitude",value:g.userGeolocation.longitude})),o&&null!=g.location&&(t.push({name:"location.countryCode",value:null!=g.location.countryCode?L(g.location.countryCode):null}),t.push({name:"location.regionCode",value:null!=g.location.regionCode?L(g.location.regionCode):null}),t.push({name:"location.postCodeOrCity",value:null!=g.location.postCodeOrCity?L(g.location.postCodeOrCity):null}),g.location.geolocation&&t.push({name:"geolocationJSON",value:JSON.stringify(g.location.geolocation)})),$.each(t,(function(e,o){$.trim(o.value)&&(a+=""==a?"?"+o.name+"="+o.value:"&"+o.name+"="+o.value)})),a}function L(e){return e.replace(/\-/g,"_").replace(/\s/g,"-").replace(/\_/g,"--")}e.location&&(g.location={formattedAddress:e.location.formattedAddress,countryCode:e.location.countryCode,regionCode:e.location.regionCode,postCodeOrCity:e.location.postCodeOrCity,coordinates:e.location.coordinates}),function(){function o(e){g.locationSelected=!1,""===$.trim(s.val())&&(g.locationSelected=!0,g.location&&(g.location=null)),s.valid()}n.submit((function(o){if(o.preventDefault(),$(this).valid()){s.blur();var t=null==g.location?null==g.userGeolocation?[m]:[v]:[h],a=t[0],r=t[1];Common.showLoader(),a().then((function(o){!function(o){if(history.pushState){var t=window.location.protocol+"//"+window.location.host+e.baseLocatorUrl+o;window.history.pushState({path:t},"",t)}}(function(){var e=n.serializeArray();e=e.filter((function(e){return!["searchTerms","country"].includes(e.name)}));var o="";if(g.location){var t=[];t.push({name:"location.countryCode",value:g.location.countryCode}),t.push({name:"location.regionCode",value:g.location.regionCode}),t.push({name:"location.postCodeOrCity",value:g.location.postCodeOrCity}),$.each(t,(function(e,t){if($.trim(t.value)){var n=L(t.value);o+="/"+n}}))}var a="";return $.each(e,(function(e,o){$.trim(o.value)&&(a+=""==a?"?"+o.name+"="+o.value:"&"+o.name+"="+o.value)})),o+a}()),o.status==f.OK||null==r?(O(o),Common.hideLoader()):r().then((function(e){O(e),Common.hideLoader()}))}))}return!1})),s.keyup((function(e){if("13"==(e.keyCode?e.keyCode:e.which))return e.preventDefault(),!1;o(e)})),s.focus((function(e){if(e.isTrigger)return!1;s.val("").trigger("change"),o(e)})),g.location&&g.location.formattedAddress&&s.val(g.location.formattedAddress).trigger("change"),n.find("input[type='checkbox'], [data-trigger='store-locator-search']").change(y),jQuery.validator&&"function"==typeof jQuery.validator&&jQuery.validator.addMethod("sllocationselected",(function(e,o,t){return g.locationSelected}),"Please select location from the list*")}(),w(),T(),new Promise((function(o,t){$.getScript("//maps.googleapis.com/maps/api/js?libraries=places,geometry&language=en&key="+e.googleKey).done((function(e,t){o()}))})).then((function(){var n;o=new google.maps.places.AutocompleteService,t=new google.maps.places.PlacesService(document.createElement("div")),n={mapTypeControl:!1},e.mapStyles&&(n.styles=e.mapStyles),u=new google.maps.Map(c,n),C(),$(window).resize((function(){_(g.showAllStores,$(window).width()<i)})),_(!1,$(window).width()<i),a.click((function(){_(!0,$(window).width()<i)})),r.click((function(){_(!1,$(window).width()<i)})),function(){var e={};function n(e){return e&&e.length>0?$.map(e,(function(e){return{value:e.place_id,label:e.description}})):[]}s.autocomplete({minLength:2,delay:500,source:function(t,a){var r=$.trim(t.term);return r in e?(a(n(e[r])),!1):(null==g.sessionToken&&(g.sessionToken=new google.maps.places.AutocompleteSessionToken),o.getPlacePredictions({input:$.trim(s.val()),types:["(regions)"],sessionToken:g.sessionToken},(function(o){e[r]=o,a(n(e[r]))})),!1)},focus:function(){return!1},select:function(e,o){var n;return s.val(o.item.label).trigger("change"),(n=o.item.value,new Promise((function(e,o){t.getDetails({placeId:n,fields:["address_component","formatted_address","geometry","place_id"],sessionToken:g.sessionToken},(function(o){g.sessionToken=null,e(o)}))}))).then((function(e){e&&(function(e){if(e&&e.address_components){g.location={countryCode:null,regionCode:null,postCodeOrCity:null,geolocation:e},g.location.coordinates={latitude:e.geometry.location.lat(),longitude:e.geometry.location.lng()},g.location.formattedAddress=e.formatted_address,s.val()||s.val(g.location.formattedAddress).trigger("change");for(var o=0;o<e.address_components.length;o++)for(var t=e.address_components[o],n=0;n<t.types.length;n++){var a=t.types[n];"administrative_area_level_1"===a?g.location.regionCode=t.short_name:"country"===a&&(g.location.countryCode=t.short_name),g.location.postCodeOrCity||("postal_code"===a||"postal_town"===a||"locality"===a)&&(g.location.postCodeOrCity=t.short_name)}}}(e),y())})),g.locationSelected=!0,s.valid(),!1}}).focus((function(){$(this).data("uiAutocomplete").search($(this).val())}))}(),Promise.all([new Promise((function(o,t){navigator.geolocation&&e.enableUserGeolocationServicesByDefault?setTimeout((function(){navigator.geolocation.getCurrentPosition((function(e){e.coords.latitude&&e.coords.longitude&&(g.userGeolocation={latitude:e.coords.latitude,longitude:e.coords.longitude}),o()}),(function(){o()}))})):o()}))]).then((function(){S(),g.location||y()}))}))})),window.Syvo.Store_Locator_Search_Input_v2=new SyvoModule("Store_Locator_Search_Input_v2",(function(e){var o,t,n=e.formSelector?$(e.formSelector):$("#store-locator-form"),a=e.searchTermFormInputSelector?$(e.searchTermFormInputSelector):$("#store-locator-search-term"),r=null,i=!0,s=null;function l(){n.submit((function(o){return o.preventDefault(),$(this).valid()&&(window.location.href=window.location.origin+e.storeLocatorUrl+function(){var e=n.serializeArray();e=e.filter((function(e){return!["searchTerms"].includes(e.name)}));var o="";if(r){var t=[];t.push({name:"location.countryCode",value:null!=r.countryCode?u(r.countryCode):null}),t.push({name:"location.regionCode",value:null!=r.regionCode?u(r.regionCode):null}),t.push({name:"location.postCodeOrCity",value:null!=r.postCodeOrCity?u(r.postCodeOrCity):null}),$.each(t,(function(e,t){$.trim(t.value)&&(o+="/"+t.value)}))}var a="";return $.each(e,(function(e,o){$.trim(o.value)&&(a+=""==a?"?"+o.name+"="+o.value:"&"+o.name+"="+o.value)})),o+a}()),!1})),a.keyup((function(e){if("13"==(e.keyCode?e.keyCode:e.which))return e.preventDefault(),!1;i=!1,""===$.trim(a.val())&&(i=!0,r&&(r=null))})),jQuery.validator&&"function"==typeof jQuery.validator&&jQuery.validator.addMethod("sllocationselected",(function(e,o,t){return i}),"Please select location from the list*")}function c(){var e={};function l(e){return e&&e.length>0?$.map(e,(function(e){return{value:e.place_id,label:e.description}})):[]}a.autocomplete({minLength:2,delay:500,classes:{"ui-autocomplete":"ui-store-finder"},source:function(t,n){var r=$.trim(t.term);return r in e?(n(l(e[r])),!1):(null==s&&(s=new google.maps.places.AutocompleteSessionToken),o.getPlacePredictions({input:$.trim(a.val()),types:["(regions)"],sessionToken:s},(function(o){e[r]=o,n(l(e[r]))})),!1)},focus:function(){return!1},select:function(e,o){var l;return a.val(o.item.label).trigger("change"),(l=o.item.value,new Promise((function(e,o){t.getDetails({placeId:l,fields:["address_component","formatted_address","geometry","place_id"],language:"en",sessionToken:s},(function(o){s=null,e(o)}))}))).then((function(e){var o;e&&(function(e){if(e&&e.address_components){r={countryCode:null,regionCode:null,postCodeOrCity:null};for(var o=0;o<e.address_components.length;o++)for(var t=e.address_components[o],n=0;n<t.types.length;n++){var a=t.types[n];"administrative_area_level_1"===a?r.regionCode=t.short_name:"country"===a&&(r.countryCode=t.short_name),r.postCodeOrCity||("postal_code"===a||"postal_town"===a||"locality"===a)&&(r.postCodeOrCity=t.short_name)}}}(e),o=e.formatted_address,$(document).trigger("google-analytics:search-store-triggered",o),n.submit())})),i=!0,a.valid(),!1}}).focus((function(){$(this).data("uiAutocomplete").search($(this).val())}))}function u(e){return e.replace(/\-/g,"_").replace(/\s/g,"-").replace(/\_/g,"--")}new Promise((function(o,t){$.getScript("//maps.googleapis.com/maps/api/js?libraries=places,geometry&language=en&key="+e.googleKey).done((function(e,t){o()}))})).then((function(){o=new google.maps.places.AutocompleteService,t=new google.maps.places.PlacesService(document.createElement("div")),c(),l()}))})),window.Syvo.Store_Locator_Landing_v2=new SyvoModule("Store_Locator_Landing_v2",(function(e){var o=$("[data-property=map]")[0],t=null,n=[],a=[];a=[],$(e.contentId).find("[data-store-info]").each((function(e,o){var t=$(o),n={id:$(o).attr("data-store-info-id"),coordinates:{latitude:parseFloat(t.attr("data-store-info-latitude")),longitude:parseFloat(t.attr("data-store-info-longitude"))},name:t.attr("data-store-info-name"),address:t.attr("data-store-info-address"),phone:t.attr("data-store-info-phone"),url:t.attr("data-store-info-url"),userFriendlyUrl:t.attr("data-store-info-user-friendly-url"),googlePlaceId:t.attr("data-store-info-google-place-id"),businessUrl:t.attr("data-store-info-business-url")};n.target=$(o),a.push(n)})),new Promise((function(o,t){$.getScript("//maps.googleapis.com/maps/api/js?libraries=places,geometry&language=en&key="+e.googleKey).done((function(e,t){o()}))})).then((function(){var r={mapTypeControl:!1};e.mapStyles&&(r.styles=e.mapStyles),t=new google.maps.Map(o,r),function(){var e=new google.maps.LatLngBounds,o=new google.maps.InfoWindow;n.forEach((function(e){e.setMap(null)})),n=[];for(var r=0;r<a.length;r++){var i=a[r],s=new google.maps.Marker({position:new google.maps.LatLng(i.coordinates.latitude,i.coordinates.longitude),map:t,optimized:!1});n.push(s),e.extend(s.position),google.maps.event.addListener(s,"mousedown",function(e,n){return function(){var r=a[n],i="<span><b>"+r.name+"</b><br>"+r.address+"</span>";r.url&&(i+='<br /><a target="_blank" href='+r.url+">"+r.userFriendlyUrl+"</a>"),r.phone&&(i+="<br /><span>"+r.phone+"</span>"),r.businessUrl&&(i+='<br /><a target="_blank" href='+r.businessUrl+"> Get Directions </a>"),o.setContent(i),o.open(t,e),$(document).trigger("store-locator-v2:store-selected",r)}}(s,r))}t.fitBounds(e),a.length>0&&t.getZoom()>14?t.setZoom(14):0==a.length&&t.setZoom(1)}()}))}));
"use strict";window.Syvo.Trunk_Shows=new SyvoModule("Trunk_Shows",(function(o){var e,t,n=o.formSelector?$(o.formSelector):$("#trunk-shows-form"),a=o.searchTermFormInputSelector?$(o.searchTermFormInputSelector):$("#trunk-shows-search-term"),i={onSuccessSearch:o.callbacks?o.callbacks.onSuccessSearch:function(){}},c={OK:200,NOT_FOUND:404,ERROR:500},r={LOCATION:1,NEAR_BY_LOCATION:2,NEAR_BY_USER:3,DEFAULT:4},l={location:null,userGeolocation:null,locationSelected:!0};function u(){return new Promise((function(e,t){var n=h();$.ajax({url:o.searchByDefaultUrl+n,type:"GET"}).done((function(o){e({status:c.OK,content:o,searchType:r.DEFAULT,location:l.location})})).error((function(o,t,n){404!=o.status?e({status:c.ERROR,searchType:r.DEFAULT,location:l.location}):e({status:c.NOT_FOUND,searchType:r.DEFAULT,location:l.location})}))}))}function s(){if(null!=l.location)return new Promise((function(e,t){var n=h(l.location.coordinates,!0);$.ajax({url:o.searchByLocationUrl+n,type:"GET"}).done((function(o){e({status:c.OK,content:o,searchType:r.LOCATION,location:l.location})})).error((function(o,t,n){404!=o.status?e({status:c.ERROR,searchType:r.LOCATION,location:l.location}):e({status:c.NOT_FOUND,searchType:r.LOCATION,location:l.location})}))}));console.error("Couldn't search by location: location has not been provided")}function d(){return new Promise((function(e,t){var n=h(l.userGeolocation);$.ajax({url:o.nearbySearchUrl+n,type:"GET"}).done((function(o){e({searchType:r.NEAR_BY_USER,status:c.OK,content:o,location:l.location})})).error((function(o,t,n){404!=o.status?e({searchType:r.NEAR_BY_USER,status:c.ERROR,location:l.location}):e({searchType:r.NEAR_BY_USER,status:c.NOT_FOUND,location:l.location})}))}))}function f(){n.submit()}function m(o){if(o&&o.address_components){l.location={countryCode:null,regionCode:null,postCodeOrCity:null},l.location.coordinates={latitude:o.geometry.location.lat(),longitude:o.geometry.location.lng()},l.location.formattedAddress=o.formatted_address,a.val()||(a.val(l.location.formattedAddress),a.trigger("change"));for(var e=0;e<o.address_components.length;e++)for(var t=o.address_components[e],n=0;n<t.types.length;n++){var i=t.types[n];"postal_code"===i?l.location.postCodeOrCity=t.short_name:"administrative_area_level_1"===i?l.location.regionCode=t.short_name:"locality"===i||"postal_town"===i?l.location.postCodeOrCity=t.short_name:"country"===i&&(l.location.countryCode=t.short_name)}}}function p(e){var t,n;$(o.contentId).hide(),l.searchResult=e,e.status==c.OK&&(null!=e.content&&(t=e.content,n=$("<output>").append($.parseHTML(t)),$(o.contentId).replaceWith($(n).find(o.contentId))),"function"==typeof i.onSuccessSearch&&i.onSuccessSearch())}function h(o,e){var t=n.serializeArray();t=t.filter((function(o){return!["searchTerms","country"].includes(o.name)}));var a="";return null!=o&&(t.push({name:"nearby.latitude",value:o.latitude}),t.push({name:"nearby.longitude",value:o.longitude})),e&&null!=l.location&&(t.push({name:"location.countryCode",value:l.location.countryCode}),t.push({name:"location.regionCode",value:l.location.regionCode}),t.push({name:"location.postCodeOrCity",value:l.location.postCodeOrCity})),$.each(t,(function(o,e){$.trim(e.value)&&(a+=""==a?"?"+e.name+"="+e.value:"&"+e.name+"="+e.value)})),a}o.location&&(l.location={formattedAddress:o.location.formattedAddress,countryCode:o.location.countryCode,regionCode:o.location.regionCode,postCodeOrCity:o.location.postCodeOrCity,coordinates:null}),function(){var e="mm/dd/yy",t=$("#date-range-start").datepicker({defaultDate:"+1w",changeMonth:!0,changeYear:!0,numberOfMonths:1}),i=$("#date-range-end").datepicker({defaultDate:"+1w",changeMonth:!0,changeYear:!0,numberOfMonths:1});function r(o){var t=$(o).val();try{t=$.datepicker.parseDate(e,t)}catch(o){t=null}return t}t.on("change",(function(){var o=r(this);i.datepicker("option","minDate",o),t.valid(),i.valid()})),i.on("change",(function(){var o=r(this);t.datepicker("option","maxDate",o),i.valid(),t.valid()})),n.submit((function(e){if(e.preventDefault(),$(this).valid()){a.blur();var t=null==l.location?null==l.userGeolocation?[u]:[d]:[s],i=t[0],r=t[1];Common.showLoader(),i().then((function(e){!function(e){if(history.pushState){var t=window.location.protocol+"//"+window.location.host+o.baseUrl+e;window.history.pushState({path:t},"",t)}}(function(){var o=n.serializeArray();o=o.filter((function(o){return!["searchTerms","country"].includes(o.name)}));var e="";if(l.location){var t=[];t.push({name:"location.countryCode",value:l.location.countryCode}),t.push({name:"location.regionCode",value:l.location.regionCode}),t.push({name:"location.postCodeOrCity",value:l.location.postCodeOrCity}),$.each(t,(function(o,t){if($.trim(t.value)){var n=t.value.replace(/\-/g,"_").replace(/\s/g,"-").replace(/\_/g,"--");e+="/"+n}}))}var a="";return $.each(o,(function(o,e){$.trim(e.value)&&(a+=""==a?"?"+e.name+"="+e.value:"&"+e.name+"="+e.value)})),e+a}()),e.status==c.OK||null==r?(p(e),Common.hideLoader()):r().then((function(o){p(o),Common.hideLoader()}))}))}return!1})),a.keyup((function(o){"13"!=(o.keyCode?o.keyCode:o.which)&&(l.locationSelected=!1,""===$.trim(a.val())&&(l.locationSelected=!0,l.location&&(l.location=null)))})),jQuery.validator&&"function"==typeof jQuery.validator&&jQuery.validator.addMethod("tslocationselected",(function(o,e,t){return l.locationSelected}),"Please select location from the list*")}(),new Promise((function(e,t){$.getScript("//maps.googleapis.com/maps/api/js?libraries=places,geometry&language=en&key="+o.googleKey).done((function(o,t){e()}))})).then((function(){e=new google.maps.places.AutocompleteService,t=new google.maps.places.PlacesService(document.createElement("div")),function(){var o={};function n(o){return o&&o.length>0?$.map(o,(function(o){return{value:o.place_id,label:o.description}})):[]}a.autocomplete({minLength:2,delay:500,source:function(t,i){var c=$.trim(t.term);return c in o?(i(n(o[c])),!1):(e.getPlacePredictions({input:$.trim(a.val()),types:["(regions)"]},(function(e){o[c]=e,i(n(o[c]))})),!1)},focus:function(){return!1},select:function(o,e){var n;return a.val(e.item.label),(n=e.item.value,new Promise((function(o,e){t.getDetails({placeId:n},(function(e){o(e)}))}))).then((function(o){o&&(m(o),f())})),l.locationSelected=!0,a.valid(),!1}}).focus((function(){$(this).data("uiAutocomplete").search($(this).val())}))}(),Promise.all([new Promise((function(o,n){if(null!=l.location&&null!=l.location.formattedAddress){var a={input:l.location.formattedAddress};l.location.countryCode&&(a.componentRestrictions={country:l.location.countryCode}),e.getPlacePredictions(a,(function(e){e&&e[0]?t.getDetails({placeId:e[0].place_id},(function(e){e?(m(e),o()):n()})):n()}))}else o()})),new Promise((function(o,e){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){l.userGeolocation={latitude:e.coords.latitude,longitude:e.coords.longitude},o()}),(function(){o()})):o()}))]).then((function(){null==l.location&&f()}))}))}));
"use strict";window.Syvo.Value_Dependency=new SyvoModule("Value_Dependency",(function(e){var t,i;$.extend(!0,{},{},e),t=$("[data-depend-from-id]"),i=[],t.each((function(){i.push({id:$(this).attr("data-depend-from-id"),values:$(this).attr("data-depend-from-value").split(";"),element:$(this)}),$(this).hide()})),i.forEach((function(e,t){$("#"+e.id).change((function(){var t=$(this).val();$(this).is("[type='checkbox']")&&(t=$(this).is(":checked").toString()),e.values.some((function(e){return t==e}))?(e.element.find("input, select").each((function(){$(this).attr("data-rule-required")&&$(this).attr("data-rule-required",!0)})),e.element.show()):(e.element.find("input, select").each((function(){$(this).attr("data-rule-required")&&($(this).val(""),$(this).attr("data-rule-required",!1))})),e.element.hide())}))}))}));
/*! Stellar.js v0.6.2 | Copyright 2014, Mark Dalgleish | http://markdalgleish.com/projects/stellar.js | http://markdalgleish.mit-license.org */
!function(a,b,c,d){function e(b,c){this.element=b,this.options=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="stellar",g={scrollProperty:"scroll",positionProperty:"position",horizontalScrolling:!0,verticalScrolling:!0,horizontalOffset:0,verticalOffset:0,responsive:!1,parallaxBackgrounds:!0,parallaxElements:!0,hideDistantElements:!0,hideElement:function(a){a.hide()},showElement:function(a){a.show()}},h={scroll:{getLeft:function(a){return a.scrollLeft()},setLeft:function(a,b){a.scrollLeft(b)},getTop:function(a){return a.scrollTop()},setTop:function(a,b){a.scrollTop(b)}},position:{getLeft:function(a){return-1*parseInt(a.css("left"),10)},getTop:function(a){return-1*parseInt(a.css("top"),10)}},margin:{getLeft:function(a){return-1*parseInt(a.css("margin-left"),10)},getTop:function(a){return-1*parseInt(a.css("margin-top"),10)}},transform:{getLeft:function(a){var b=getComputedStyle(a[0])[k];return"none"!==b?-1*parseInt(b.match(/(-?[0-9]+)/g)[4],10):0},getTop:function(a){var b=getComputedStyle(a[0])[k];return"none"!==b?-1*parseInt(b.match(/(-?[0-9]+)/g)[5],10):0}}},i={position:{setLeft:function(a,b){a.css("left",b)},setTop:function(a,b){a.css("top",b)}},transform:{setPosition:function(a,b,c,d,e){a[0].style[k]="translate3d("+(b-c)+"px, "+(d-e)+"px, 0)"}}},j=function(){var b,c=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,d=a("script")[0].style,e="";for(b in d)if(c.test(b)){e=b.match(c)[0];break}return"WebkitOpacity"in d&&(e="Webkit"),"KhtmlOpacity"in d&&(e="Khtml"),function(a){return e+(e.length>0?a.charAt(0).toUpperCase()+a.slice(1):a)}}(),k=j("transform"),l=a("<div />",{style:"background:#fff"}).css("background-position-x")!==d,m=l?function(a,b,c){a.css({"background-position-x":b,"background-position-y":c})}:function(a,b,c){a.css("background-position",b+" "+c)},n=l?function(a){return[a.css("background-position-x"),a.css("background-position-y")]}:function(a){return a.css("background-position").split(" ")},o=b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||b.msRequestAnimationFrame||function(a){setTimeout(a,1e3/60)};e.prototype={init:function(){this.options.name=f+"_"+Math.floor(1e9*Math.random()),this._defineElements(),this._defineGetters(),this._defineSetters(),this._handleWindowLoadAndResize(),this._detectViewport(),this.refresh({firstLoad:!0}),"scroll"===this.options.scrollProperty?this._handleScrollEvent():this._startAnimationLoop()},_defineElements:function(){this.element===c.body&&(this.element=b),this.$scrollElement=a(this.element),this.$element=this.element===b?a("body"):this.$scrollElement,this.$viewportElement=this.options.viewportElement!==d?a(this.options.viewportElement):this.$scrollElement[0]===b||"scroll"===this.options.scrollProperty?this.$scrollElement:this.$scrollElement.parent()},_defineGetters:function(){var a=this,b=h[a.options.scrollProperty];this._getScrollLeft=function(){return b.getLeft(a.$scrollElement)},this._getScrollTop=function(){return b.getTop(a.$scrollElement)}},_defineSetters:function(){var b=this,c=h[b.options.scrollProperty],d=i[b.options.positionProperty],e=c.setLeft,f=c.setTop;this._setScrollLeft="function"==typeof e?function(a){e(b.$scrollElement,a)}:a.noop,this._setScrollTop="function"==typeof f?function(a){f(b.$scrollElement,a)}:a.noop,this._setPosition=d.setPosition||function(a,c,e,f,g){b.options.horizontalScrolling&&d.setLeft(a,c,e),b.options.verticalScrolling&&d.setTop(a,f,g)}},_handleWindowLoadAndResize:function(){var c=this,d=a(b);c.options.responsive&&d.bind("load."+this.name,function(){c.refresh()}),d.bind("resize."+this.name,function(){c._detectViewport(),c.options.responsive&&c.refresh()})},refresh:function(c){var d=this,e=d._getScrollLeft(),f=d._getScrollTop();c&&c.firstLoad||this._reset(),this._setScrollLeft(0),this._setScrollTop(0),this._setOffsets(),this._findParticles(),this._findBackgrounds(),c&&c.firstLoad&&/WebKit/.test(navigator.userAgent)&&a(b).load(function(){var a=d._getScrollLeft(),b=d._getScrollTop();d._setScrollLeft(a+1),d._setScrollTop(b+1),d._setScrollLeft(a),d._setScrollTop(b)}),this._setScrollLeft(e),this._setScrollTop(f)},_detectViewport:function(){var a=this.$viewportElement.offset(),b=null!==a&&a!==d;this.viewportWidth=this.$viewportElement.width(),this.viewportHeight=this.$viewportElement.height(),this.viewportOffsetTop=b?a.top:0,this.viewportOffsetLeft=b?a.left:0},_findParticles:function(){{var b=this;this._getScrollLeft(),this._getScrollTop()}if(this.particles!==d)for(var c=this.particles.length-1;c>=0;c--)this.particles[c].$element.data("stellar-elementIsActive",d);this.particles=[],this.options.parallaxElements&&this.$element.find("[data-stellar-ratio]").each(function(){var c,e,f,g,h,i,j,k,l,m=a(this),n=0,o=0,p=0,q=0;if(m.data("stellar-elementIsActive")){if(m.data("stellar-elementIsActive")!==this)return}else m.data("stellar-elementIsActive",this);b.options.showElement(m),m.data("stellar-startingLeft")?(m.css("left",m.data("stellar-startingLeft")),m.css("top",m.data("stellar-startingTop"))):(m.data("stellar-startingLeft",m.css("left")),m.data("stellar-startingTop",m.css("top"))),f=m.position().left,g=m.position().top,h="auto"===m.css("margin-left")?0:parseInt(m.css("margin-left"),10),i="auto"===m.css("margin-top")?0:parseInt(m.css("margin-top"),10),k=m.offset().left-h,l=m.offset().top-i,m.parents().each(function(){var b=a(this);return b.data("stellar-offset-parent")===!0?(n=p,o=q,j=b,!1):(p+=b.position().left,void(q+=b.position().top))}),c=m.data("stellar-horizontal-offset")!==d?m.data("stellar-horizontal-offset"):j!==d&&j.data("stellar-horizontal-offset")!==d?j.data("stellar-horizontal-offset"):b.horizontalOffset,e=m.data("stellar-vertical-offset")!==d?m.data("stellar-vertical-offset"):j!==d&&j.data("stellar-vertical-offset")!==d?j.data("stellar-vertical-offset"):b.verticalOffset,b.particles.push({$element:m,$offsetParent:j,isFixed:"fixed"===m.css("position"),horizontalOffset:c,verticalOffset:e,startingPositionLeft:f,startingPositionTop:g,startingOffsetLeft:k,startingOffsetTop:l,parentOffsetLeft:n,parentOffsetTop:o,stellarRatio:m.data("stellar-ratio")!==d?m.data("stellar-ratio"):1,width:m.outerWidth(!0),height:m.outerHeight(!0),isHidden:!1})})},_findBackgrounds:function(){var b,c=this,e=this._getScrollLeft(),f=this._getScrollTop();this.backgrounds=[],this.options.parallaxBackgrounds&&(b=this.$element.find("[data-stellar-background-ratio]"),this.$element.data("stellar-background-ratio")&&(b=b.add(this.$element)),b.each(function(){var b,g,h,i,j,k,l,o=a(this),p=n(o),q=0,r=0,s=0,t=0;if(o.data("stellar-backgroundIsActive")){if(o.data("stellar-backgroundIsActive")!==this)return}else o.data("stellar-backgroundIsActive",this);o.data("stellar-backgroundStartingLeft")?m(o,o.data("stellar-backgroundStartingLeft"),o.data("stellar-backgroundStartingTop")):(o.data("stellar-backgroundStartingLeft",p[0]),o.data("stellar-backgroundStartingTop",p[1])),h="auto"===o.css("margin-left")?0:parseInt(o.css("margin-left"),10),i="auto"===o.css("margin-top")?0:parseInt(o.css("margin-top"),10),j=o.offset().left-h-e,k=o.offset().top-i-f,o.parents().each(function(){var b=a(this);return b.data("stellar-offset-parent")===!0?(q=s,r=t,l=b,!1):(s+=b.position().left,void(t+=b.position().top))}),b=o.data("stellar-horizontal-offset")!==d?o.data("stellar-horizontal-offset"):l!==d&&l.data("stellar-horizontal-offset")!==d?l.data("stellar-horizontal-offset"):c.horizontalOffset,g=o.data("stellar-vertical-offset")!==d?o.data("stellar-vertical-offset"):l!==d&&l.data("stellar-vertical-offset")!==d?l.data("stellar-vertical-offset"):c.verticalOffset,c.backgrounds.push({$element:o,$offsetParent:l,isFixed:"fixed"===o.css("background-attachment"),horizontalOffset:b,verticalOffset:g,startingValueLeft:p[0],startingValueTop:p[1],startingBackgroundPositionLeft:isNaN(parseInt(p[0],10))?0:parseInt(p[0],10),startingBackgroundPositionTop:isNaN(parseInt(p[1],10))?0:parseInt(p[1],10),startingPositionLeft:o.position().left,startingPositionTop:o.position().top,startingOffsetLeft:j,startingOffsetTop:k,parentOffsetLeft:q,parentOffsetTop:r,stellarRatio:o.data("stellar-background-ratio")===d?1:o.data("stellar-background-ratio")})}))},_reset:function(){var a,b,c,d,e;for(e=this.particles.length-1;e>=0;e--)a=this.particles[e],b=a.$element.data("stellar-startingLeft"),c=a.$element.data("stellar-startingTop"),this._setPosition(a.$element,b,b,c,c),this.options.showElement(a.$element),a.$element.data("stellar-startingLeft",null).data("stellar-elementIsActive",null).data("stellar-backgroundIsActive",null);for(e=this.backgrounds.length-1;e>=0;e--)d=this.backgrounds[e],d.$element.data("stellar-backgroundStartingLeft",null).data("stellar-backgroundStartingTop",null),m(d.$element,d.startingValueLeft,d.startingValueTop)},destroy:function(){this._reset(),this.$scrollElement.unbind("resize."+this.name).unbind("scroll."+this.name),this._animationLoop=a.noop,a(b).unbind("load."+this.name).unbind("resize."+this.name)},_setOffsets:function(){var c=this,d=a(b);d.unbind("resize.horizontal-"+this.name).unbind("resize.vertical-"+this.name),"function"==typeof this.options.horizontalOffset?(this.horizontalOffset=this.options.horizontalOffset(),d.bind("resize.horizontal-"+this.name,function(){c.horizontalOffset=c.options.horizontalOffset()})):this.horizontalOffset=this.options.horizontalOffset,"function"==typeof this.options.verticalOffset?(this.verticalOffset=this.options.verticalOffset(),d.bind("resize.vertical-"+this.name,function(){c.verticalOffset=c.options.verticalOffset()})):this.verticalOffset=this.options.verticalOffset},_repositionElements:function(){var a,b,c,d,e,f,g,h,i,j,k=this._getScrollLeft(),l=this._getScrollTop(),n=!0,o=!0;if(this.currentScrollLeft!==k||this.currentScrollTop!==l||this.currentWidth!==this.viewportWidth||this.currentHeight!==this.viewportHeight){for(this.currentScrollLeft=k,this.currentScrollTop=l,this.currentWidth=this.viewportWidth,this.currentHeight=this.viewportHeight,j=this.particles.length-1;j>=0;j--)a=this.particles[j],b=a.isFixed?1:0,this.options.horizontalScrolling?(f=(k+a.horizontalOffset+this.viewportOffsetLeft+a.startingPositionLeft-a.startingOffsetLeft+a.parentOffsetLeft)*-(a.stellarRatio+b-1)+a.startingPositionLeft,h=f-a.startingPositionLeft+a.startingOffsetLeft):(f=a.startingPositionLeft,h=a.startingOffsetLeft),this.options.verticalScrolling?(g=(l+a.verticalOffset+this.viewportOffsetTop+a.startingPositionTop-a.startingOffsetTop+a.parentOffsetTop)*-(a.stellarRatio+b-1)+a.startingPositionTop,i=g-a.startingPositionTop+a.startingOffsetTop):(g=a.startingPositionTop,i=a.startingOffsetTop),this.options.hideDistantElements&&(o=!this.options.horizontalScrolling||h+a.width>(a.isFixed?0:k)&&h<(a.isFixed?0:k)+this.viewportWidth+this.viewportOffsetLeft,n=!this.options.verticalScrolling||i+a.height>(a.isFixed?0:l)&&i<(a.isFixed?0:l)+this.viewportHeight+this.viewportOffsetTop),o&&n?(a.isHidden&&(this.options.showElement(a.$element),a.isHidden=!1),this._setPosition(a.$element,f,a.startingPositionLeft,g,a.startingPositionTop)):a.isHidden||(this.options.hideElement(a.$element),a.isHidden=!0);for(j=this.backgrounds.length-1;j>=0;j--)c=this.backgrounds[j],b=c.isFixed?0:1,d=this.options.horizontalScrolling?(k+c.horizontalOffset-this.viewportOffsetLeft-c.startingOffsetLeft+c.parentOffsetLeft-c.startingBackgroundPositionLeft)*(b-c.stellarRatio)+"px":c.startingValueLeft,e=this.options.verticalScrolling?(l+c.verticalOffset-this.viewportOffsetTop-c.startingOffsetTop+c.parentOffsetTop-c.startingBackgroundPositionTop)*(b-c.stellarRatio)+"px":c.startingValueTop,m(c.$element,d,e)}},_handleScrollEvent:function(){var a=this,b=!1,c=function(){a._repositionElements(),b=!1},d=function(){b||(o(c),b=!0)};this.$scrollElement.bind("scroll."+this.name,d),d()},_startAnimationLoop:function(){var a=this;this._animationLoop=function(){o(a._animationLoop),a._repositionElements()},this._animationLoop()}},a.fn[f]=function(b){var c=arguments;return b===d||"object"==typeof b?this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))}):"string"==typeof b&&"_"!==b[0]&&"init"!==b?this.each(function(){var d=a.data(this,"plugin_"+f);d instanceof e&&"function"==typeof d[b]&&d[b].apply(d,Array.prototype.slice.call(c,1)),"destroy"===b&&a.data(this,"plugin_"+f,null)}):void 0},a[f]=function(){var c=a(b);return c.stellar.apply(c,Array.prototype.slice.call(arguments,0))},a[f].scrollProperty=h,a[f].positionProperty=i,b.Stellar=e}(jQuery,this,document);
eval(function(a,e,i,f,c,t){if(c=function(a){return(a<62?"":c(parseInt(a/62)))+((a%=62)>35?String.fromCharCode(a+29):a.toString(36))},!"".replace(/^/,String)){for(;i--;)t[c(i)]=f[i]||c(i);f=[function(a){return t[a]}],c=function(){return"\\w+"},i=1}for(;i--;)f[i]&&(a=a.replace(new RegExp("\\b"+c(i)+"\\b","g"),f[i]));return a}('1j.9L=(17(){1a y,z;y=z=(17(){1a V={4c:"fq.3.4",dF:0,8c:{},$9I:17(Z){1b(Z.$5C||(Z.$5C=++P.dF))},8T:17(Z){1b(P.8c[Z]||(P.8c[Z]={}))},$F:17(){},$1i:17(){1b 1i},$1u:17(){1b 1u},dv:"bO-"+1o.4T(1o.6v()*1y bj().dS()),3a:17(Z){1b(2w!=Z)},a0:17(aa,Z){1b(2w!=aa)?aa:Z},8i:17(Z){1b!!(Z)},1R:17(Z){if(!P.3a(Z)){1b 1i}if(Z.$4t){1b Z.$4t}if(!!Z.5D){if(1==Z.5D){1b"6f"}if(3==Z.5D){1b"d7"}}if(Z.1G&&Z.e5){1b"f9"}if(Z.1G&&Z.8S){1b"26"}if((Z 3v 1j.67||Z 3v 1j.9U)&&Z.4U===P.3x){1b"4r"}if(Z 3v 1j.4n){1b"3Q"}if(Z 3v 1j.9U){1b"17"}if(Z 3v 1j.9f){1b"1V"}if(P.1g.4C){if(P.3a(Z.cj)){1b"1r"}}1l{if(Z===1j.1r||Z.4U==1j.1t||Z.4U==1j.eX||Z.4U==1j.fa||Z.4U==1j.f7||Z.4U==1j.fm){1b"1r"}}if(Z 3v 1j.bj){1b"d0"}if(Z 3v 1j.dL){1b"fF"}if(Z===1j){1b"1j"}if(Z===1m){1b"1m"}1b 7l(Z)},1Z:17(ae,ad){if(!(ae 3v 1j.4n)){ae=[ae]}if(!ad){1b ae[0]}1O(1a ac=0,aa=ae.1G;ac<aa;ac++){if(!P.3a(ae)){7Y}1O(1a ab in ad){if(!67.2p.3K.27(ad,ab)){7Y}2X{ae[ac][ab]=ad[ab]}3f(Z){}}}1b ae[0]},8R:17(ad,ac){if(!(ad 3v 1j.4n)){ad=[ad]}1O(1a ab=0,Z=ad.1G;ab<Z;ab++){if(!P.3a(ad[ab])){7Y}if(!ad[ab].2p){7Y}1O(1a aa in(ac||{})){if(!ad[ab].2p[aa]){ad[ab].2p[aa]=ac[aa]}}}1b ad[0]},dw:17(ab,aa){if(!P.3a(ab)){1b ab}1O(1a Z in(aa||{})){if(!ab[Z]){ab[Z]=aa[Z]}}1b ab},$2X:17(){1O(1a aa=0,Z=26.1G;aa<Z;aa++){2X{1b 26[aa]()}3f(ab){}}1b 1h},$A:17(ab){if(!P.3a(ab)){1b P.$([])}if(ab.e0){1b P.$(ab.e0())}if(ab.e5){1a aa=ab.1G||0,Z=1y 4n(aa);5U(aa--){Z[aa]=ab[aa]}1b P.$(Z)}1b P.$(4n.2p.7b.27(ab))},5A:17(){1b 1y bj().dS()},3n:17(ad){1a ab;3Z(P.1R(ad)){1A"7O":ab={};1O(1a ac in ad){ab[ac]=P.3n(ad[ac])}1B;1A"3Q":ab=[];1O(1a aa=0,Z=ad.1G;aa<Z;aa++){ab[aa]=P.3n(ad[aa])}1B;1Y:1b ad}1b P.$(ab)},$:17(ab){1a Z=1u;if(!P.3a(ab)){1b 1h}if(ab.$9x){1b ab}3Z(P.1R(ab)){1A"3Q":ab=P.dw(ab,P.1Z(P.4n,{$9x:P.$F}));ab.3h=ab.8s;ab.3P=P.4n.3P;1b ab;1B;1A"1V":1a aa=1m.c3(ab);if(P.3a(aa)){1b P.$(aa)}1b 1h;1B;1A"1j":1A"1m":P.$9I(ab);ab=P.1Z(ab,P.3s);1B;1A"6f":P.$9I(ab);ab=P.1Z(ab,P.3E);1B;1A"1r":ab=P.1Z(ab,P.1t);1B;1A"d7":1A"17":1A"3Q":1A"d0":1Y:Z=1i;1B}if(Z){1b P.1Z(ab,{$9x:P.$F})}1l{1b ab}},$1y:17(Z,ab,aa){1b P.$(P.7g.8a(Z)).8F(ab||{}).1H(aa||{})},5o:17(ac,ad,aa){1a Z,af,ab,ah=[],ag=-1;aa||(aa=P.dv);Z=P.$(aa)||P.$1y("2g",{id:aa,1z:"9k/4s"}).2O((1m.fp||1m.3A),"1F");af=Z.eb||Z.en;if("1V"!=P.1R(ad)){1O(1a ab in ad){ah.2W(ab+":"+ad[ab])}ad=ah.6m(";")}if(af.eQ){ag=af.eQ(ac+" {"+ad+"}",af.fo.1G)}1l{2X{ag=af.fJ(ac,ad,af.fe.1G)}3f(ae){}}1b ag},fi:17(ac,Z){1a ab,aa;ab=P.$(ac);if("6f"!==P.1R(ab)){1b}aa=ab.eb||ab.en;if(aa.er){aa.er(Z)}1l{if(aa.cY){aa.cY(Z)}}},fh:17(){1b"fH-fg-fE-fB-fy".4d(/[fx]/g,17(ab){1a aa=1o.6v()*16|0,Z=ab=="x"?aa:(aa&3|8);1b Z.7s(16)}).6O()},62:(17(){1a Z;1b 17(aa){if(!Z){Z=1m.8a("a")}Z.4a("7x",aa);1b("!!"+Z.7x).4d("!!","")}})(),ft:17(ab){1a ac=0,Z=ab.1G;1O(1a aa=0;aa<Z;++aa){ac=31*ac+ab.ep(aa);ac%=f3}1b ac}};1a P=V;1a Q=V.$;if(!1j.bJ){1j.bJ=V;1j.$bO=V.$}P.4n={$4t:"3Q",3W:17(ac,ad){1a Z=13.1G;1O(1a aa=13.1G,ab=(ad<0)?1o.2e(0,aa+ad):ad||0;ab<aa;ab++){if(13[ab]===ac){1b ab}}1b-1},3P:17(Z,aa){1b 13.3W(Z,aa)!=-1},8s:17(Z,ac){1O(1a ab=0,aa=13.1G;ab<aa;ab++){if(ab in 13){Z.27(ac,13[ab],ab,13)}}},2Z:17(Z,ae){1a ad=[];1O(1a ac=0,aa=13.1G;ac<aa;ac++){if(ac in 13){1a ab=13[ac];if(Z.27(ae,13[ac],ac,13)){ad.2W(ab)}}}1b ad},f6:17(Z,ad){1a ac=[];1O(1a ab=0,aa=13.1G;ab<aa;ab++){if(ab in 13){ac[ab]=Z.27(ad,13[ab],ab,13)}}1b ac}};P.8R(9f,{$4t:"1V",4I:17(){1b 13.4d(/^\\s+|\\s+$/g,"")},eq:17(Z,aa){1b(aa||1i)?(13.7s()===Z.7s()):(13.4z().7s()===Z.4z().7s())},5f:17(){1b 13.4d(/-\\D/g,17(Z){1b Z.8Y(1).6O()})},8m:17(){1b 13.4d(/[A-Z]/g,17(Z){1b("-"+Z.8Y(0).4z())})},fI:17(Z){1b 6n(13,Z||10)},fD:17(){1b 2l(13)},bB:17(){1b!13.4d(/1u/i,"").4I()},3N:17(aa,Z){Z=Z||"";1b(Z+13+Z).3W(Z+aa+Z)>-1}});V.8R(9U,{$4t:"17",1I:17(){1a aa=P.$A(26),Z=13,ab=aa.65();1b 17(){1b Z.5Q(ab||1h,aa.5v(P.$A(26)))}},2M:17(){1a aa=P.$A(26),Z=13,ab=aa.65();1b 17(ac){1b Z.5Q(ab||1h,P.$([ac||(P.1g.2U?1j.1r:1h)]).5v(aa))}},2G:17(){1a aa=P.$A(26),Z=13,ab=aa.65();1b 1j.4N(17(){1b Z.5Q(Z,aa)},ab||0)},es:17(){1a aa=P.$A(26),Z=13;1b 17(){1b Z.2G.5Q(Z,aa)}},cy:17(){1a aa=P.$A(26),Z=13,ab=aa.65();1b 1j.eP(17(){1b Z.5Q(Z,aa)},ab||0)}});1a W={};1a O=3m.f2.4z();1a N=O.3p(/(3O|6M|4C|9R)\\/(\\d+\\.?\\d*)/i);1a S=O.3p(/(fv|9H)\\/(\\d+\\.?\\d*)/i)||O.3p(/(ee|6a|ef|dl|7i|9H)\\/(\\d+\\.?\\d*)/i);1a U=O.3p(/4c\\/(\\d+\\.?\\d*)/i);1a J=1m.4m.2g;17 K(aa){1a Z=aa.8Y(0).6O()+aa.7b(1);1b aa in J||("eF"+Z)in J||("eg"+Z)in J||("6U"+Z)in J||("O"+Z)in J}P.1g={2R:{fC:!!(1m.fj),f5:!!(1j.8g),dB:!!(1m.9K),6d:!!(1m.f8||1m.fb||1m.8p||1m.cZ||1m.fc||1m.hd||1m.hl||1m.hm||1m.h7),bS:!!(1j.h0)&&!!(1j.hK)&&(1j.8A&&"hN"in 1y 8A),2v:K("2v"),2L:K("2L"),8t:K("8t"),cJ:K("cJ"),4D:1i,eK:1i,92:1i,a5:1i,8V:(17(){1b 1m.hO.hP("hQ://hR.hL.hS/hU/hV/hW#hY","1.1")}())},8r:(17(){1b"hT"in 1j||(1j.bU&&1m 3v bU)||(3m.fL>0)||(3m.hJ>0)}()),2F:!!O.3p(/(7M|bb\\d+|hu).+|hH|hE\\/|hD|hC|hB|hA|hy|hx|fU|ip(e1|e2|ad)|fS|fP|g3 |gk|gG|gH|2F.+dl|gM|7i m(gN|in)i|gO( gP)?|bN|p(gL|gx)\\/|gw|gt|gs|gq(4|6)0|gp|go|gn\\.(1g|4w)|fR|hj|fd (ce|bN)|fK|gr/),56:(N&&N[1])?N[1].4z():(1j.7i)?"9R":!!(1j.gu)?"4C":(1m.gv!==2w||1j.gy!==1h)?"6M":(1j.gz!==1h||!3m.gA)?"3O":"gm",4c:(N&&N[2])?2l(N[2]):0,5s:(S&&S[1])?S[1].4z():"",7R:(S&&S[2])?2l(S[2]):0,ej:"",ay:"",4H:"",2U:0,51:O.3p(/ip(?:ad|e2|e1)/)?"9o":(O.3p(/(?:gB|7M)/)||3m.51.3p(/87|8l|gR/i)||["gQ"])[0].4z(),em:1m.8J&&1m.8J.4z()==="dc",e7:0,4u:17(){1b(1m.8J&&1m.8J.4z()==="dc")?1m.3A:1m.4m},4D:1j.4D||1j.gK||1j.gD||1j.gJ||1j.gI||2w,8H:1j.8H||1j.dj||1j.dj||1j.gF||1j.gE||1j.gC||2w,2u:1i,6T:17(){if(P.1g.2u){1b}1a ac;1a ab;P.1g.2u=1u;P.3A=P.$(1m.3A);P.8l=P.$(1j);2X{1a aa=P.$1y("3k").1H({1e:2z,1f:2z,6B:"9d",2h:"5w",1F:-gj}).2O(1m.3A);P.1g.e7=aa.cS-aa.cb;aa.38()}3f(Z){}2X{ac=P.$1y("3k");ab=ac.2g;ab.eU="eL:21(a4://),21(a4://),fO 21(a4://)";P.1g.2R.eK=(/(21\\s*\\(.*?){3}/).36(ab.eL);ab=1h;ac=1h}3f(Z){}if(!P.1g.eN){P.1g.eN=P.8k("2L").8m()}2X{ac=P.$1y("3k");ac.2g.eU=P.8k("2Z").8m()+":cm(fQ);";P.1g.2R.92=!!ac.2g.1G&&(!P.1g.2U||P.1g.2U>9);ac=1h}3f(Z){}if(!P.1g.2R.92){P.$(1m.4m).1M("6h-fT-2K")}2X{P.1g.2R.a5=(17(){1a ad=P.$1y("a5");1b!!(ad.f0&&ad.f0("2d"))}())}3f(Z){}if(1j.fV===2w&&1j.fW!==2w){W.3i="fX"}P.3s.2I.27(P.$(1m),"9n")}};(17(){1a aa=[],ad,ac,ae;17 Z(){1b!!(26.8S.a3)}3Z(P.1g.56){1A"4C":if(!P.1g.4c){P.1g.4c=!!(1j.8A)?3:2}1B;1A"6M":P.1g.4c=(S&&S[2])?2l(S[2]):0;1B}P.1g[P.1g.56]=1u;if(S&&S[1]==="ee"){P.1g.5s="6a"}if(!!1j.6a){P.1g.6a=1u}if(S&&S[1]==="9H"){P.1g.5s="7i";P.1g.7i=1u}if(P.1g.5s==="ef"&&(U&&U[1])){P.1g.7R=2l(U[1])}if(P.1g.51==="7M"&&P.1g.3O&&(U&&U[1])){P.1g.80=1u}ad=({6M:["-eh-","eg","eh"],3O:["-3O-","eF","3O"],4C:["-6U-","6U","6U"],9R:["-o-","O","o"]})[P.1g.56]||["","",""];P.1g.ej=ad[0];P.1g.ay=ad[1];P.1g.4H=ad[2];P.1g.2U=!P.1g.4C?2w:(1m.ek)?1m.ek:(17(){1a af=0;if(P.1g.em){1b 5}3Z(P.1g.4c){1A 2:af=6;1B;1A 3:af=7;1B}1b af}());if(!P.1g.2F&&P.1g.51==="87"&&P.1g.8r){P.1g.2F=1u;P.1g.51="9o"}aa.2W(P.1g.51+"-2K");if(P.1g.2F){aa.2W("2F-2K")}if(P.1g.80){aa.2W("7M-1g-2K")}if(P.1g.2U){P.1g.5s="ie";P.1g.7R=P.1g.2U;aa.2W("ie"+P.1g.2U+"-2K");1O(ac=11;ac>P.1g.2U;ac--){aa.2W("fY-ie"+ac+"-2K")}}if(P.1g.3O&&P.1g.4c<fZ){P.1g.2R.6d=1i}if(P.1g.4D){P.1g.4D.27(1j,17(){P.1g.2R.4D=1u})}if(P.1g.2R.8V){aa.2W("8V-2K")}1l{aa.2W("6h-8V-2K")}ae=(1m.4m.5G||"").3p(/\\S+/g)||[];1m.4m.5G=P.$(ae).5v(aa).6m(" ");2X{1m.4m.4a("3w-2K-ea",P.1g.5s);1m.4m.4a("3w-2K-ea-eo",P.1g.7R);1m.4m.4a("3w-2K-56",P.1g.56);1m.4m.4a("3w-2K-56-eo",P.1g.4c)}3f(ab){}if(P.1g.2U&&P.1g.2U<9){1m.8a("5t");1m.8a("g0")}if(!1j.3m.64){P.$(["g1","fN","g2","g4","g5"]).3h(17(af){W["g6"+af.4z()]=1j.3m.7U?"g7"+af:-1})}}());(17(){P.1g.6d={aV:P.1g.2R.6d,4V:17(){1b!!(1m.g8||1m[P.1g.4H+"g9"]||1m.6d||1m.gb||1m[P.1g.4H+"gc"])},ch:17(Z,aa){if(!aa){aa={}}if(13.aV){P.$(1m).1C(13.b3,13.eB=17(ab){if(13.4V()){if(aa.ez){aa.ez()}}1l{P.$(1m).1P(13.b3,13.eB);if(aa.eC){aa.eC()}}}.2M(13));P.$(1m).1C(13.aS,13.5M=17(ab){if(aa.8u){aa.8u()}P.$(1m).1P(13.aS,13.5M)}.2M(13));(Z.gd||Z[P.1g.4H+"ge"]||Z[P.1g.4H+"gf"]||17(){}).27(Z)}1l{if(aa.8u){aa.8u()}}},gg:(1m.8p||1m.cZ||1m[P.1g.4H+"gh"]||1m[P.1g.4H+"gi"]||17(){}).1I(1m),b3:1m.bM?"gS":(1m.8p?"":P.1g.4H)+"gl",aS:1m.bM?"gT":(1m.8p?"":P.1g.4H)+"ht",hv:P.1g.4H,hw:1h}}());1a Y=/\\S+/g,M=/^(3B(bu|bP|bA|bI)hz)|((6F|e3)(bu|bP|bA|bI))$/,R={"hF":("2w"===7l(J.bK))?"hG":"bK"},T={dZ:1u,e4:1u,2C:1u,e6:1u,1k:1u},L=(1j.bC)?17(ab,Z){1a aa=1j.bC(ab,1h);1b aa?aa.hI(Z)||aa[Z]:1h}:17(ac,aa){1a ab=ac.i0,Z=1h;Z=ab?ab[aa]:1h;if(1h==Z&&ac.2g&&ac.2g[aa]){Z=ac.2g[aa]}1b Z};17 X(ab){1a Z,aa;aa=(P.1g.3O&&"2Z"==ab)?1i:(ab in J);if(!aa){Z=P.1g.ay+ab.8Y(0).6O()+ab.7b(1);if(Z in J){1b Z}}1b ab}P.8k=X;P.3E={cw:17(Z){1b!(Z||"").3N(" ")&&(13.5G||"").3N(Z," ")},1M:17(ad){1a aa=(13.5G||"").3p(Y)||[],ac=(ad||"").3p(Y)||[],Z=ac.1G,ab=0;1O(;ab<Z;ab++){if(!P.$(aa).3P(ac[ab])){aa.2W(ac[ab])}}13.5G=aa.6m(" ");1b 13},29:17(ae){1a aa=(13.5G||"").3p(Y)||[],ad=(ae||"").3p(Y)||[],Z=ad.1G,ac=0,ab;1O(;ac<Z;ac++){if((ab=P.$(aa).3W(ad[ac]))>-1){aa.7J(ab,1)}}13.5G=ae?aa.6m(" "):"";1b 13},hZ:17(Z){1b 13.cw(Z)?13.29(Z):13.1M(Z)},3g:17(aa){1a ab=aa.5f(),Z=1h;aa=R[ab]||(R[ab]=X(ab));Z=L(13,aa);if("2r"===Z){Z=1h}if(1h!==Z){if("2C"==aa){1b P.3a(Z)?2l(Z):1}if(M.36(aa)){Z=6n(Z,10)?Z:"6W"}}1b Z},6y:17(aa,Z){1a ac=aa.5f();2X{if("2C"==aa){13.cz(Z);1b 13}aa=R[ac]||(R[ac]=X(ac));13.2g[aa]=Z+(("5I"==P.1R(Z)&&!T[ac])?"2Q":"")}3f(ab){}1b 13},1H:17(aa){1O(1a Z in aa){13.6y(Z,aa[Z])}1b 13},hX:17(){1a Z={};P.$A(26).3h(17(aa){Z[aa]=13.3g(aa)},13);1b Z},cz:17(ab,Z){1a aa;Z=Z||1i;13.2g.2C=ab;ab=6n(2l(ab)*2z);if(Z){if(0===ab){if("4e"!=13.2g.4K){13.2g.4K="4e"}}1l{if("7z"!=13.2g.4K){13.2g.4K="7z"}}}if(P.1g.2U&&P.1g.2U<9){if(!8B(ab)){if(!~13.2g.2Z.3W("9C")){13.2g.2Z+=" cE:cM.cN.9C(8G="+ab+")"}1l{13.2g.2Z=13.2g.2Z.4d(/8G=\\d*/i,"8G="+ab)}}1l{13.2g.2Z=13.2g.2Z.4d(/cE:cM.cN.9C\\(8G=\\d*\\)/i,"").4I();if(""===13.2g.2Z){13.2g.4P("2Z")}}}1b 13},8F:17(Z){1O(1a aa in Z){if("4r"===aa){13.1M(""+Z[aa])}1l{13.4a(aa,""+Z[aa])}}1b 13},hM:17(){1a aa=0,Z=0;aa=13.3g("2v-5p");Z=13.3g("2v-9J");aa=aa.3W("6U")>-1?2l(aa):aa.3W("s")>-1?2l(aa)*a7:0;Z=Z.3W("6U")>-1?2l(Z):Z.3W("s")>-1?2l(Z)*a7:0;1b aa+Z},3R:17(){1b 13.1H({5H:"2T",4K:"4e"})},63:17(){1b 13.1H({5H:"",4K:"7z"})},1Q:17(){1b{1e:13.cS,1f:13.hs}},aA:17(aa){1a Z=13.1Q();Z.1e-=(2l(13.3g("3B-1N-1e")||0)+2l(13.3g("3B-2D-1e")||0));Z.1f-=(2l(13.3g("3B-1F-1e")||0)+2l(13.3g("3B-2N-1e")||0));if(!aa){Z.1e-=(2l(13.3g("6F-1N")||0)+2l(13.3g("6F-2D")||0));Z.1f-=(2l(13.3g("6F-1F")||0)+2l(13.3g("6F-2N")||0))}1b Z},6u:17(){1b{1F:13.7T,1N:13.89}},hb:17(){1a Z=13,aa={1F:0,1N:0};do{aa.1N+=Z.89||0;aa.1F+=Z.7T||0;Z=Z.4A}5U(Z);1b aa},c0:17(){1a ad=13,aa=0,ac=0;if(P.3a(1m.4m.6K)){1a Z=13.6K(),ab=P.$(1m).6u(),ae=P.1g.4u();1b{1F:Z.1F+ab.y-ae.hr,1N:Z.1N+ab.x-ae.gW}}do{aa+=ad.gX||0;ac+=ad.gY||0;ad=ad.gZ}5U(ad&&!(/^(?:3A|aK)$/i).36(ad.8D));1b{1F:ac,1N:aa}},81:17(){1a aa=13.c0();1a Z=13.1Q();1b{1F:aa.1F,2N:aa.1F+Z.1f,1N:aa.1N,2D:aa.1N+Z.1e}},6i:17(aa){2X{13.h1=aa}3f(Z){13.h2=aa}1b 13},38:17(){1b(13.4A)?13.4A.9N(13):13},5F:17(){P.$A(13.h3).3h(17(Z){if(3==Z.5D||8==Z.5D){1b}P.$(Z).5F()});13.38();13.bc();if(13.$5C){P.8c[13.$5C]=1h;4Q P.8c[13.$5C]}1b 1h},3l:17(ab,aa){aa=aa||"2N";1a Z=13.4p;("1F"==aa&&Z)?13.h4(ab,Z):13.c1(ab);1b 13},2O:17(ab,aa){1a Z=P.$(ab).3l(13,aa);1b 13},d2:17(Z){13.3l(Z.4A.d5(13,Z));1b 13},9Y:17(Z){if("6f"!==P.1R("1V"==P.1R(Z)?Z=1m.c3(Z):Z)){1b 1i}1b(13==Z)?1i:(13.3P&&!(P.1g.c9))?(13.3P(Z)):(13.c4)?!!(13.c4(Z)&16):P.$A(13.7t(Z.8D)).3P(Z)}};P.3E.h5=P.3E.3g;P.3E.h6=P.3E.1H;if(!1j.3E){1j.3E=P.$F;if(P.1g.56.3O){1j.1m.8a("h8")}1j.3E.2p=(P.1g.56.3O)?1j["[[h9.2p]]"]:{}}P.8R(1j.3E,{$4t:"6f"});P.3s={1Q:17(){if(P.1g.8r||P.1g.gV||P.1g.c9){1b{1e:1j.4W,1f:1j.4i}}1b{1e:P.1g.4u().cb,1f:P.1g.4u().ha}},6u:17(){1b{x:1j.hk||P.1g.4u().89,y:1j.hq||P.1g.4u().7T}},hp:17(){1a Z=13.1Q();1b{1e:1o.2e(P.1g.4u().ho,Z.1e),1f:1o.2e(P.1g.4u().hn,Z.1f)}}};P.1Z(1m,{$4t:"1m"});P.1Z(1j,{$4t:"1j"});P.1Z([P.3E,P.3s],{1L:17(ac,aa){1a Z=P.8T(13.$5C),ab=Z[ac];if(2w!==aa&&2w===ab){ab=Z[ac]=aa}1b(P.3a(ab)?ab:1h)},2y:17(ab,aa){1a Z=P.8T(13.$5C);Z[ab]=aa;1b 13},2m:17(aa){1a Z=P.8T(13.$5C);4Q Z[aa];1b 13}});if(!(1j.aT&&1j.aT.2p&&1j.aT.2p.aU)){P.1Z([P.3E,P.3s],{aU:17(Z){1b P.$A(13.9V("*")).2Z(17(ab){2X{1b(1==ab.5D&&ab.5G.3N(Z," "))}3f(aa){}})}})}P.1Z([P.3E,P.3s],{9P:17(){1b 13.aU(26[0])},7t:17(){1b 13.9V(26[0])}});if(P.1g.6d.aV&&!1m.cg){P.3E.cg=17(){P.1g.6d.ch(13)}}P.1t={$4t:"1r",5X:P.$1i,2t:17(){1b 13.5u().4l()},5u:17(){if(13.ci){13.ci()}1l{13.cj=1u}1b 13},4l:17(){if(13.ck){13.ck()}1l{13.hc=1i}1b 13},5c:17(){13.5X=P.$1u;1b 13},76:17(){1a Z=(/33/i).36(13.1z)?13.4j[0]:13;1b!P.3a(Z)?{x:0,y:0}:{x:Z.3d,y:Z.3c}},5P:17(){1a Z=(/33/i).36(13.1z)?13.4j[0]:13;1b!P.3a(Z)?{x:0,y:0}:{x:Z.3t||Z.3d+P.1g.4u().89,y:Z.3q||Z.3c+P.1g.4u().7T}},b2:17(){1a Z=13.3u||13.hi;5U(Z&&Z.5D===3){Z=Z.4A}1b Z},7S:17(){1a aa=1h;3Z(13.1z){1A"8w":1A"hh":1A"hg":aa=13.8N||13.hf;1B;1A"9a":1A"aX":1A"e9":aa=13.8N||13.he;1B;1Y:1b aa}2X{5U(aa&&aa.5D===3){aa=aa.4A}}3f(Z){aa=1h}1b aa},6g:17(){if(!13.cn&&13.3z!==2w){1b(13.3z&1?1:(13.3z&2?3:(13.3z&4?2:0)))}1b 13.cn},5N:17(){1b(13.2j&&(13.2j==="33"||13.2j===13.5K))||(/33/i).36(13.1z)},4x:17(){if(13.2j){1b(13.2j==="33"||13.5K===13.2j)&&13.71}1l{if(13 3v 1j.6R){1b 13.4j.1G===1&&(13.5Z.1G?13.5Z.1G===1&&13.5Z[0].5q===13.4j[0].5q:1u)}}1b 1i},5R:17(){if(13.2j){1b 13.71&&(13.2j==="33"||13.5K===13.2j)?13:1h}1l{if(13 3v 1j.6R){1b 13.4j[0]}}1b 1h},7k:17(){if(13.2j){1b 13.71&&(13.2j==="33"||13.5K===13.2j)?13.3I:1h}1l{if(13 3v 1j.6R){1b 13.4j[0].5q}}1b 1h}};P.aR="bT";P.ba="gU";P.8n="";if(!1m.bT){P.aR="fM";P.ba="f4";P.8n="7v"}P.1t.1v={1z:"",x:1h,y:1h,2A:1h,3z:1h,3u:1h,8N:1h,$4t:"1r.3X",5X:P.$1i,75:P.$([]),40:17(Z){1a aa=Z;13.75.2W(aa)},2t:17(){1b 13.5u().4l()},5u:17(){13.75.3h(17(aa){2X{aa.5u()}3f(Z){}});1b 13},4l:17(){13.75.3h(17(aa){2X{aa.4l()}3f(Z){}});1b 13},5c:17(){13.5X=P.$1u;1b 13},76:17(){1b{x:13.3d,y:13.3c}},5P:17(){1b{x:13.x,y:13.y}},b2:17(){1b 13.3u},7S:17(){1b 13.8N},6g:17(){1b 13.3z},ff:17(){1b 13.75.1G>0?13.75[0].b2():2w},5N:17(){1b(13.2j&&(13.2j==="33"||13.2j===13.5K))||(/33/i).36(13.1z)},4x:17(){if(13.2j){1b(13.2j==="33"||13.5K===13.2j)&&13.71}1l{if(13 3v 1j.6R){1b 13.4j.1G===1&&(13.5Z.1G?13.5Z[0].5q===13.4j[0].5q:1u)}}1b 1i},5R:17(){if(13.2j){1b 13.71&&(13.2j==="33"||13.5K===13.2j)?13:1h}1l{if(13 3v 1j.6R){1b 13.4j[0]}}1b 1h},7k:17(){if(13.2j){1b 13.71&&(13.2j==="33"||13.5K===13.2j)?13.3I:1h}1l{if(13 3v 1j.6R){1b 13.4j[0].5q}}1b 1h}};P.1Z([P.3E,P.3s],{1C:17(ab,ad,ae,ah){1a ag,Z,ac,af,aa;if(P.1R(ab)==="1V"){aa=ab.7Z(" ");if(aa.1G>1){ab=aa}}if(P.1R(ab)==="3Q"){P.$(ab).3h(13.1C.2M(13,ad,ae,ah));1b 13}ab=W[ab]||ab;if(!ab||!ad||P.1R(ab)!=="1V"||P.1R(ad)!=="17"){1b 13}if(ab==="9n"&&P.1g.2u){ad.27(13);1b 13}ae=6n(ae||50,10);if(!ad.$8f){ad.$8f=1o.4T(1o.6v()*P.5A())}ag=P.3s.1L.27(13,"7q",{});Z=ag[ab];if(!Z){ag[ab]=Z=P.$([]);ac=13;if(P.1t.1v[ab]){P.1t.1v[ab].1E.5k.27(13,ah)}1l{Z.34=17(ai){ai=P.1Z(ai||1j.e,{$4t:"1r"});P.3s.2I.27(ac,ab,P.$(ai))};13[P.aR](P.8n+ab,Z.34,1i)}}af={1z:ab,fn:ad,aO:ae,cc:ad.$8f};Z.2W(af);Z.fl(17(aj,ai){1b aj.aO-ai.aO});1b 13},1P:17(af){1a ad=P.3s.1L.27(13,"7q",{});1a ab;1a Z;1a aa;1a ag;1a ae;1a ac;ae=26.1G>1?26[1]:-2z;if(P.1R(af)==="1V"){ac=af.7Z(" ");if(ac.1G>1){af=ac}}if(P.1R(af)==="3Q"){P.$(af).3h(13.1P.2M(13,ae));1b 13}af=W[af]||af;if(!af||P.1R(af)!=="1V"||!ad||!ad[af]){1b 13}ab=ad[af]||[];1O(aa=0;aa<ab.1G;aa++){Z=ab[aa];if(ae===-2z||!!ae&&ae.$8f===Z.cc){ag=ab.7J(aa--,1)}}if(ab.1G===0){if(P.1t.1v[af]){P.1t.1v[af].1E.38.27(13)}1l{13[P.ba](P.8n+af,ab.34,1i)}4Q ad[af]}1b 13},2I:17(ac,ae){1a ab=P.3s.1L.27(13,"7q",{});1a aa;1a Z;ac=W[ac]||ac;if(!ac||P.1R(ac)!=="1V"||!ab||!ab[ac]){1b 13}2X{ae=P.1Z(ae||{},{1z:ac})}3f(ad){}if(ae.2A===2w){ae.2A=P.5A()}aa=ab[ac]||[];1O(Z=0;Z<aa.1G&&!(ae.5X&&ae.5X());Z++){aa[Z].fn.27(13,ae)}},eV:17(aa,Z){1a ad=(aa!=="9n");1a ac=13;1a ab;aa=W[aa]||aa;if(!ad){P.3s.2I.27(13,aa);1b 13}if(ac===1m&&1m.8j&&!ac.9X){ac=1m.4m}if(1m.8j){ab=1m.8j(aa);ab.5i(Z,1u,1u)}1l{ab=1m.fA();ab.8q=aa}if(1m.8j){ac.9X(ab)}1l{ac.fw("7v"+Z,ab)}1b ab},bc:17(){1a aa=P.3s.1L.27(13,"7q");if(!aa){1b 13}1O(1a Z in aa){P.3s.1P.27(13,Z)}P.3s.2m.27(13,"7q");1b 13}});(17(Z){if(1m.7F==="7E"){1b Z.1g.6T.2G(1)}if(Z.1g.3O&&Z.1g.4c<fu){(17(){if(Z.$(["2a","7E"]).3P(1m.7F)){Z.1g.6T()}1l{26.8S.2G(50)}}())}1l{if(Z.1g.4C&&Z.1g.2U<9&&1j===1F){(17(){if(Z.$2X(17(){Z.1g.4u().fr("1N");1b 1u})){Z.1g.6T()}1l{26.8S.2G(50)}}())}1l{Z.3s.1C.27(Z.$(1m),"fz",Z.1g.6T);Z.3s.1C.27(Z.$(1j),"5d",Z.1g.6T)}}}(V));P.3x=17(){1a ad=1h,aa=P.$A(26);if("4r"==P.1R(aa[0])){ad=aa.65()}1a Z=17(){1O(1a ag in 13){13[ag]=P.3n(13[ag])}if(13.4U.$4k){13.$4k={};1a ai=13.4U.$4k;1O(1a ah in ai){1a af=ai[ah];3Z(P.1R(af)){1A"17":13.$4k[ah]=P.3x.cu(13,af);1B;1A"7O":13.$4k[ah]=P.3n(af);1B;1A"3Q":13.$4k[ah]=P.3n(af);1B}}}1a ae=(13.3y)?13.3y.5Q(13,26):13;4Q 13.a3;1b ae};if(!Z.2p.3y){Z.2p.3y=P.$F}if(ad){1a ac=17(){};ac.2p=ad.2p;Z.2p=1y ac;Z.$4k={};1O(1a ab in ad.2p){Z.$4k[ab]=ad.2p[ab]}}1l{Z.$4k=1h}Z.4U=P.3x;Z.2p.4U=Z;P.1Z(Z.2p,aa[0]);P.1Z(Z,{$4t:"4r"});1b Z};V.3x.cu=17(Z,aa){1b 17(){1a ac=13.a3;1a ab=aa.5Q(Z,26);1b ab}};(17(ac){1a ab=ac.$;1a Z=5,aa=eu;ac.1t.1v.1X=1y ac.3x(ac.1Z(ac.1t.1v,{1z:"1X",3y:17(af,ae){1a ad=ae.5P();13.x=ad.x;13.y=ad.y;13.3d=ae.3d;13.3c=ae.3c;13.2A=ae.2A;13.3z=ae.6g();13.3u=af;13.40(ae)}}));ac.1t.1v.1X.1E={1w:{79:aa,3z:1},5k:17(ad){13.2y("1r:1X:1w",ac.1Z(ac.3n(ac.1t.1v.1X.1E.1w),ad||{}));13.1C("69",ac.1t.1v.1X.1E.34,1);13.1C("5O",ac.1t.1v.1X.1E.34,1);13.1C("2V",ac.1t.1v.1X.1E.aE,1);if(ac.1g.4C&&ac.1g.2U<9){13.1C("8I",ac.1t.1v.1X.1E.34,1)}},38:17(){13.1P("69",ac.1t.1v.1X.1E.34);13.1P("5O",ac.1t.1v.1X.1E.34);13.1P("2V",ac.1t.1v.1X.1E.aE);if(ac.1g.4C&&ac.1g.2U<9){13.1P("8I",ac.1t.1v.1X.1E.34)}},aE:17(ad){ad.4l()},34:17(ag){1a af,ad,ae;ad=13.1L("1r:1X:1w");if(ag.1z!="8I"&&ag.6g()!=ad.3z){1b}if(13.1L("1r:1X:b4")){13.2m("1r:1X:b4");1b}if("69"==ag.1z){af=1y ac.1t.1v.1X(13,ag);13.2y("1r:1X:8C",af)}1l{if("5O"==ag.1z){af=13.1L("1r:1X:8C");if(!af){1b}ae=ag.5P();13.2m("1r:1X:8C");af.40(ag);if(ag.2A-af.2A<=ad.79&&1o.91(1o.4R(ae.x-af.x,2)+1o.4R(ae.y-af.y,2))<=Z){13.2I("1X",af)}1m.2I("5O",ag)}1l{if(ag.1z=="8I"){af=1y ac.1t.1v.1X(13,ag);13.2I("1X",af)}}}}}})(V);(17(aa){1a Z=aa.$;aa.1t.1v.2E=1y aa.3x(aa.1Z(aa.1t.1v,{1z:"2E",2c:"3M",4S:1i,3y:17(ae,ad,ac){1a ab=ad.5P();13.x=ab.x;13.y=ab.y;13.3d=ad.3d;13.3c=ad.3c;13.2A=ad.2A;13.3z=ad.6g();13.3u=ae;13.40(ad);13.2c=ac}}));aa.1t.1v.2E.1E={5k:17(){1a ac=aa.1t.1v.2E.1E.cX.2M(13);1a ab=aa.1t.1v.2E.1E.8W.2M(13);13.1C("69",aa.1t.1v.2E.1E.b0,1);13.1C("5O",aa.1t.1v.2E.1E.8W,1);1m.1C("6s",ac,1);1m.1C("5O",ab,1);13.2y("1r:2E:2Y:1m:5j",ac);13.2y("1r:2E:2Y:1m:7j",ab)},38:17(){13.1P("69",aa.1t.1v.2E.1E.b0);13.1P("5O",aa.1t.1v.2E.1E.8W);Z(1m).1P("6s",13.1L("1r:2E:2Y:1m:5j")||aa.$F);Z(1m).1P("5O",13.1L("1r:2E:2Y:1m:7j")||aa.$F);13.2m("1r:2E:2Y:1m:5j");13.2m("1r:2E:2Y:1m:7j")},b0:17(ac){1a ab;if(ac.6g()!==1){1b}ab=1y aa.1t.1v.2E(13,ac,"3M");13.2y("1r:2E:3M",ab)},8W:17(ac){1a ab;ab=13.1L("1r:2E:3M");if(!ab){1b}if(ab.4S){ac.4l()}ab=1y aa.1t.1v.2E(13,ac,"a1");13.2m("1r:2E:3M");13.2I("2E",ab)},cX:17(ac){1a ab;ab=13.1L("1r:2E:3M");if(!ab){1b}ac.4l();if(!ab.4S){ab.4S=1u;13.2I("2E",ab)}ab=1y aa.1t.1v.2E(13,ac,"df");13.2I("2E",ab)}}})(V);(17(aa){1a Z=aa.$;aa.1t.1v.3V=1y aa.3x(aa.1Z(aa.1t.1v,{1z:"3V",7e:1i,7a:1h,3y:17(ad,ac){1a ab=ac.5P();13.x=ab.x;13.y=ab.y;13.3d=ac.3d;13.3c=ac.3c;13.2A=ac.2A;13.3z=ac.6g();13.3u=ad;13.40(ac)}}));aa.1t.1v.3V.1E={1w:{79:6S},5k:17(ab){13.2y("1r:3V:1w",aa.1Z(aa.3n(aa.1t.1v.3V.1E.1w),ab||{}));13.1C("1X",aa.1t.1v.3V.1E.34,1)},38:17(){13.1P("1X",aa.1t.1v.3V.1E.34)},34:17(ad){1a ac,ab;ac=13.1L("1r:3V:1r");ab=13.1L("1r:3V:1w");if(!ac){ac=1y aa.1t.1v.3V(13,ad);ac.7a=4N(17(){ac.7e=1u;ad.5X=aa.$1i;13.2I("1X",ad);13.2m("1r:3V:1r")}.1I(13),ab.79+10);13.2y("1r:3V:1r",ac);ad.5c()}1l{3e(ac.7a);13.2m("1r:3V:1r");if(!ac.7e){ac.40(ad);ad.5c().2t();13.2I("3V",ac)}1l{}}}}})(V);(17(ac){1a ab=ac.$;1a Z=10;1a aa=6S;ac.1t.1v.2f=1y ac.3x(ac.1Z(ac.1t.1v,{1z:"2f",id:1h,3y:17(ae,ad){1a af=ad.5R();13.id=af.3I||af.5q;13.x=af.3t;13.y=af.3q;13.3t=af.3t;13.3q=af.3q;13.3d=af.3d;13.3c=af.3c;13.2A=ad.2A;13.3z=0;13.3u=ae;13.40(ad)}}));ac.1t.1v.2f.1E={5k:17(ad){13.1C(["5h","5g"],ac.1t.1v.2f.1E.5n,1);13.1C(["3J","3F"],ac.1t.1v.2f.1E.4G,1);13.1C("2V",ac.1t.1v.2f.1E.7h,1)},38:17(){13.1P(["5h","5g"],ac.1t.1v.2f.1E.5n);13.1P(["3J","3F"],ac.1t.1v.2f.1E.4G);13.1P("2V",ac.1t.1v.2f.1E.7h)},7h:17(ad){ad.4l()},5n:17(ad){if(!ad.4x()){13.2m("1r:2f:1r");1b}13.2y("1r:2f:1r",1y ac.1t.1v.2f(13,ad));13.2y("1r:1X:b4",1u)},4G:17(ag){1a ae=ac.5A();1a af=13.1L("1r:2f:1r");1a ad=13.1L("1r:2f:1w");if(!af||!ag.4x()){1b}13.2m("1r:2f:1r");if(af.id===ag.7k()&&ag.2A-af.2A<=aa&&1o.91(1o.4R(ag.5R().3t-af.x,2)+1o.4R(ag.5R().3q-af.y,2))<=Z){13.2m("1r:1X:8C");ag.2t();af.40(ag);13.2I("2f",af)}}}}(V));P.1t.1v.3r=1y P.3x(P.1Z(P.1t.1v,{1z:"3r",7e:1i,7a:1h,3y:17(aa,Z){13.x=Z.x;13.y=Z.y;13.3d=Z.3d;13.3c=Z.3c;13.2A=Z.2A;13.3z=0;13.3u=aa;13.40(Z)}}));P.1t.1v.3r.1E={1w:{79:eu},5k:17(Z){13.2y("1r:3r:1w",P.1Z(P.3n(P.1t.1v.3r.1E.1w),Z||{}));13.1C("2f",P.1t.1v.3r.1E.34,1)},38:17(){13.1P("2f",P.1t.1v.3r.1E.34)},34:17(ab){1a aa,Z;aa=13.1L("1r:3r:1r");Z=13.1L("1r:3r:1w");if(!aa){aa=1y P.1t.1v.3r(13,ab);aa.7a=4N(17(){aa.7e=1u;ab.5X=P.$1i;13.2I("2f",ab)}.1I(13),Z.79+10);13.2y("1r:3r:1r",aa);ab.5c()}1l{3e(aa.7a);13.2m("1r:3r:1r");if(!aa.7e){aa.40(ab);ab.5c().2t();13.2I("3r",aa)}1l{}}}};(17(ab){1a aa=ab.$;1a Z=10;ab.1t.1v.2q=1y ab.3x(ab.1Z(ab.1t.1v,{1z:"2q",2c:"3M",id:1h,4S:1i,3y:17(ae,ad,ac){1a af=ad.5R();13.id=af.3I||af.5q;13.3d=af.3d;13.3c=af.3c;13.3t=af.3t;13.3q=af.3q;13.x=af.3t;13.y=af.3q;13.2A=ad.2A;13.3z=0;13.3u=ae;13.40(ad);13.2c=ac}}));ab.1t.1v.2q.1E={5k:17(){1a ad=ab.1t.1v.2q.1E.5S.1I(13);1a ac=ab.1t.1v.2q.1E.4G.1I(13);13.1C(["5h","5g"],ab.1t.1v.2q.1E.5n,1);13.1C(["3J","3F"],ab.1t.1v.2q.1E.4G,1);13.1C(["5V","4b"],ab.1t.1v.2q.1E.5S,1);13.2y("1r:2q:2Y:1m:5j",ad);13.2y("1r:2q:2Y:1m:7j",ac);aa(1m).1C("4b",ad,1);aa(1m).1C("3F",ac,1)},38:17(){13.1P(["5h","5g"],ab.1t.1v.2q.1E.5n);13.1P(["3J","3F"],ab.1t.1v.2q.1E.4G);13.1P(["5V","4b"],ab.1t.1v.2q.1E.5S);aa(1m).1P("4b",13.1L("1r:2q:2Y:1m:5j")||ab.$F,1);aa(1m).1P("3F",13.1L("1r:2q:2Y:1m:7j")||ab.$F,1);13.2m("1r:2q:2Y:1m:5j");13.2m("1r:2q:2Y:1m:7j")},5n:17(ad){1a ac;if(!ad.4x()){1b}ac=1y ab.1t.1v.2q(13,ad,"3M");13.2y("1r:2q:3M",ac)},4G:17(ad){1a ac;ac=13.1L("1r:2q:3M");if(!ac||!ac.4S||ac.id!==ad.7k()){1b}ac=1y ab.1t.1v.2q(13,ad,"a1");13.2m("1r:2q:3M");13.2I("2q",ac)},5S:17(ad){1a ac;ac=13.1L("1r:2q:3M");if(!ac||!ad.4x()){1b}if(ac.id!==ad.7k()){13.2m("1r:2q:3M");1b}if(!ac.4S&&1o.91(1o.4R(ad.5R().3t-ac.x,2)+1o.4R(ad.5R().3q-ac.y,2))>Z){ac.4S=1u;13.2I("2q",ac)}if(!ac.4S){1b}ac=1y ab.1t.1v.2q(13,ad,"df");13.2I("2q",ac)}}}(V));(17(ac){1a ag=ac.$;1a ad=1h;17 Z(ap,ao){1a an=ao.x-ap.x;1a aq=ao.y-ap.y;1b 1o.91(an*an+aq*aq)}17 ai(au,av){1a at=4n.2p.7b.27(au);1a ar=1o.3C(at[1].3t-at[0].3t);1a ap=1o.3C(at[1].3q-at[0].3q);1a aq=1o.2k(at[1].3t,at[0].3t)+ar/2;1a ao=1o.2k(at[1].3q,at[0].3q)+ap/2;1a an=0;av.5z=[at[0],at[1]];an=1o.4R(Z({x:at[0].3t,y:at[0].3q},{x:at[1].3t,y:at[1].3q}),2);av.5L={x:aq,y:ao};av.x=av.5L.x;av.y=av.5L.y;1b an}17 al(an){1b an/ad}17 aa(ap,ao){1a an;if(ap.5Z&&ap.4j){if(ap.5Z){an=ap.5Z}1l{an=ap.4j}an=4n.2p.7b.27(an)}1l{an=[];if(ao){ao.8s(17(aq){an.2W(aq)})}}1b an}17 ab(aq,ap,ao){1a an=1i;if(aq.3I&&aq.2j==="33"&&(!ao||ap.3N(aq.3I))){ap.6o(aq.3I,aq);an=1u}1b an}17 ah(ao,an){if(ao.3I&&ao.2j==="33"&&an&&an.3N(ao.3I)){an["4Q"](ao.3I)}}17 ak(ao){1a an;if(ao.3I&&ao.2j==="33"){an=ao.3I}1l{an=ao.5q}1b an}17 af(aq,ao){1a ap;1a ar;1a an=1i;1O(ap=0;ap<aq.1G;ap++){if(ao.1G===2){1B}1l{ar=ak(aq[ap]);if(!ao.3P(ar)){ao.2W(ar);an=1u}}}1b an}17 aj(ao){1a an=ag([]);ao.8s(17(ap){an.2W(ak(ap))});1b an}17 am(ar,ao){1a ap;1a aq;1a an=1i;if(ao){aq=aj(ar);1O(ap=0;ap<ao.1G;ap++){if(!aq.3P(ao[ap])){ao.7J(ap,1);an=1u;1B}}}1b an}17 ae(aq,ao){1a ap;1a an=ag([]);1O(ap=0;ap<aq.1G;ap++){if(ao.3P(ak(aq[ap]))){an.2W(aq[ap]);if(an.1G===2){1B}}}1b an}ac.1t.1v.1J=1y ac.3x(ac.1Z(ac.1t.1v,{1z:"1J",2c:"57",3y:17(ap,ao,an,aq){13.3u=ap;13.2c=an;13.x=aq.x;13.y=aq.y;13.2A=ao.2A;13.3T=aq.3T;13.4J=aq.4J;13.1k=aq.1k;13.2c=an;13.5L=aq.5L;13.5z=aq.5z;13.40(ao)}}));ac.1t.1v.1J.1E={5b:{x:0,y:0,4J:0,3T:1,1k:0,bm:0,fs:1,9q:1i,4S:1i,5z:[],5L:{x:0,y:0}},5k:17(ap){if(!ad){ad=(17(){1a aq=ag(1j).1Q();aq.1e=1o.2k(aq.1e,aq.1f);aq.1f=aq.1e;1b 1o.4R(Z({x:0,y:0},{x:aq.1e,y:aq.1f}),2)})()}1a ao=ac.1t.1v.1J.1E.5S.1I(13);1a an=ac.1t.1v.1J.1E.4G.1I(13);13.1C(["2V","2f"],ac.1t.1v.1J.1E.7h,1);13.1C(["5h","5g"],ac.1t.1v.1J.1E.5n,1);13.1C(["3J","3F"],ac.1t.1v.1J.1E.4G,1);13.1C(["5V","4b"],ac.1t.1v.1J.1E.5S,1);13.2y("1r:1J:2Y:5V",ao);13.2y("1r:1J:2Y:3J",an);ac.7g.1C("4b",ao,1);ac.7g.1C("3F",an,1)},38:17(){13.1P(["2V","2f"],ac.1t.1v.1J.1E.7h);13.1P(["5h","5g"],ac.1t.1v.1J.1E.5n);13.1P(["3J","3F"],ac.1t.1v.1J.1E.4G);13.1P(["5V","4b"],ac.1t.1v.1J.1E.5S);ac.7g.1P("4b",13.1L("1r:1J:2Y:5V"));ac.7g.1P("3F",13.1L("1r:1J:2Y:3J"));13.2m("1r:1J:2Y:5V");13.2m("1r:1J:2Y:3J");13.2m("1r:1J:57");13.2m("1r:1J:5b");13.2m("1r:1J:78");1a an=13.1L("1r:1J:6e");if(an){an.dG()}13.2m("1r:1J:6e")},7h:17(an){an.2t()},8v:17(ao,ap){1a an=ap.4J;if(ao.1G>1){ap.4J=ai(ao,ap);if(!ap.bm){ap.bm=ap.4J}if(an>ap.4J){ap.1k=-1}1l{if(an<ap.4J){ap.1k=1}1l{ap.1k=0}}ap.3T=al(ap.4J)}1l{ap.5z=4n.2p.7b.27(ao,0,2)}},5S:17(ap){1a ao;1a an=13.1L("1r:1J:6e");1a ar=13.1L("1r:1J:5b")||ac.1Z({},ac.1t.1v.1J.1E.5b);1a aq=13.1L("1r:1J:78");if(ar.9q){if(ap.3I&&!ab(ap,an,1u)){1b}ap.2t();ac.1t.1v.1J.1E.8v(ae(aa(ap,an),aq),ar);ao=1y ac.1t.1v.1J(13,ap,"cf",ar);13.2I("1J",ao)}},5n:17(aq){1a ao;1a at;1a ap;1a an=13.1L("1r:1J:6e");1a ar=13.1L("1r:1J:78");if(aq.2j==="dD"){1b}if(!ar){ar=ag([]);13.2y("1r:1J:78",ar)}if(!ar.1G){ag(aq.3u).1C(["3J","3F"],13.1L("1r:1J:2Y:3J"),1)}if(!an){an=1y fG();13.2y("1r:1J:6e",an)}ab(aq,an);ap=aa(aq,an);af(ap,ar);if(ap.1G===2){ao=13.1L("1r:1J:57");at=13.1L("1r:1J:5b")||ac.1Z({},ac.1t.1v.1J.1E.5b);ac.1t.1v.1J.1E.8v(ae(ap,ar),at);if(!ao){ao=1y ac.1t.1v.1J(13,aq,"57",at);13.2y("1r:1J:57",ao);13.2y("1r:1J:5b",at);ad=at.4J;13.2I("1J",ao);at.9q=1u}}},4G:17(at){1a ar;1a aq;1a av;1a ao;1a ap=13.1L("1r:1J:6e");1a au;1a an;if(at.2j==="dD"||at.3I&&(!ap||!ap.3N(at.3I))){1b}aq=13.1L("1r:1J:57");av=13.1L("1r:1J:5b");au=13.1L("1r:1J:78");ar=aa(at,ap);ah(at,ap);an=am(ar,au);if(!aq||!av||!av.9q||!an||!au){1b}if(an){af(ar,au)}ao="c7";if(ar.1G>1){ao="c8"}1l{at.3u.1P(["3J","3F"],13.1L("1r:1J:2Y:3J"));if(ap){ap.dG()}13.2m("1r:1J:57");13.2m("1r:1J:5b");13.2m("1r:1J:6e");13.2m("1r:1J:78")}ac.1t.1v.1J.1E.8v(ae(ar,au),av);aq=1y ac.1t.1v.1J(13,at,ao,av);13.2I("1J",aq)}}}(V));(17(ae){1a ac=ae.$;ae.1t.1v.4F=1y ae.3x(ae.1Z(ae.1t.1v,{1z:"4F",3y:17(ak,aj,am,ag,af,al,ah){1a ai=aj.5P();13.x=ai.x;13.y=ai.y;13.2A=aj.2A;13.3u=ak;13.kr=am||0;13.az=ag||0;13.88=af||0;13.ks=al||0;13.kt=ah||0;13.bd=aj.bd||0;13.9G=1i;13.40(aj)}}));1a ad,aa;17 Z(){ad=1h}17 ab(af,ag){1b(af>50)||(1===ag&&!("8l"==ae.1g.51&&af<1))||(0===af%12)||(0==af%4.ku)}ae.1t.1v.4F.1E={8q:"kv"in 1m||ae.1g.2U>8?"kw":"kx",5k:17(){13.1C(ae.1t.1v.4F.1E.8q,ae.1t.1v.4F.1E.34,1)},38:17(){13.1P(ae.1t.1v.4F.1E.8q,ae.1t.1v.4F.1E.34,1)},34:17(ak){1a al=0,ai=0,ag=0,af=0,aj,ah;if(ak.dp){ag=ak.dp*-1}if(ak.dr!==2w){ag=ak.dr}if(ak.ds!==2w){ag=ak.ds}if(ak.dt!==2w){ai=ak.dt*-1}if(ak.88){ag=-1*ak.88}if(ak.az){ai=ak.az}if(0===ag&&0===ai){1b}al=0===ag?ai:ag;af=1o.2e(1o.3C(ag),1o.3C(ai));if(!ad||af<ad){ad=af}aj=al>0?"4T":"3H";al=1o[aj](al/ad);ai=1o[aj](ai/ad);ag=1o[aj](ag/ad);if(aa){3e(aa)}aa=4N(Z,6S);ah=1y ae.1t.1v.4F(13,ak,al,ai,ag,0,ad);ah.9G=ab(ad,ak.bd||0);13.2I("4F",ah)}}})(V);P.8l=P.$(1j);P.7g=P.$(1m);1b V})();(17(L){if(!L){5E"74 5J 6P"}1a K=L.$;1a J=1j.kq||1j.kA||1h;y.dq=1y L.3x({1W:1h,2u:1i,1w:{8h:L.$F,5B:L.$F,bn:L.$F,5M:L.$F,7N:L.$F,ew:L.$F,8U:1i,ed:1u},1x:1h,7A:1h,be:0,73:{8h:17(M){if(M.3u&&(6S===M.3u.8X||ex===M.3u.8X)&&M.kC){13.1w.8h.1I(1h,(M.2a-(13.1w.ed?13.be:0))/M.kD).2G(1);13.be=M.2a}},5B:17(M){if(M){K(M).2t()}13.7u();if(13.2u){1b}13.2u=1u;13.7D();!13.1w.8U&&13.1w.8h.1I(1h,1).2G(1);13.1w.5B.1I(1h,13).2G(1);13.1w.7N.1I(1h,13).2G(1)},bn:17(M){if(M){K(M).2t()}13.7u();13.2u=1i;13.7D();13.1w.bn.1I(1h,13).2G(1);13.1w.7N.1I(1h,13).2G(1)},5M:17(M){if(M){K(M).2t()}13.7u();13.2u=1i;13.7D();13.1w.5M.1I(1h,13).2G(1);13.1w.7N.1I(1h,13).2G(1)}},8P:17(){K(["5d","bp","et"]).3h(17(M){13.1W.1C(M,13.73["7v"+M].2M(13).es(1))},13)},7u:17(){if(13.7A){2X{3e(13.7A)}3f(M){}13.7A=1h}K(["5d","bp","et"]).3h(17(N){13.1W.1P(N)},13)},7D:17(){13.1Q();if(13.1W.1L("1y")){1a M=13.1W.4A;13.1W.38().2m("1y").1H({2h:"kE",1F:"2r"});M.5F()}},bF:17(N){1a O=1y 8A(),M;K(["bp","kF"]).3h(17(P){O["7v"+P]=K(17(Q){13.73["7v"+P].27(13,Q)}).1I(13)},13);O.5M=K(17(){13.1w.ew.1I(1h,13).2G(1);13.1w.8U=1i;13.8P();13.1W.24=N}).1I(13);O.5B=K(17(){if(6S!==O.8X&&ex!==O.8X){13.73.5M.27(13);1b}M=O.kG;13.8P();if(J&&!L.1g.4C&&!("9o"===L.1g.51&&L.1g.4c<kH)){13.1W.4a("24",J.kI(M))}1l{13.1W.24=N}}).1I(13);O.9D("kJ",N);O.kK="kL";O.kB()},3y:17(N,M){13.1w=L.1Z(13.1w,M);13.1W=K(N)||L.$1y("1W",{},{"2e-1e":"2T","2e-1f":"2T"}).2O(L.$1y("3k").1M("2K-6k-1W").1H({2h:"5w",1F:-dg,1e:10,1f:10,6B:"4e"}).2O(1m.3A)).2y("1y",1u);if(L.1g.2R.bS&&13.1w.8U&&"1V"==L.1R(N)){13.bF(N);1b}1a O=17(){if(13.bz()){13.73.5B.27(13)}1l{13.73.5M.27(13)}O=1h}.1I(13);13.8P();if("1V"==L.1R(N)){13.1W.24=N}1l{if(L.1g.4C&&5==L.1g.4c&&L.1g.2U<9){13.1W.bs=17(){if(/2a|7E/.36(13.1W.7F)){13.1W.bs=1h;O&&O()}}.1I(13)}13.1W.24=N.2n("24")}13.1W&&13.1W.7E&&O&&(13.7A=O.2G(2z))},ko:17(){13.7u();13.7D();13.2u=1i;1b 13},bz:17(){1a M=13.1W;1b(M.9v)?(M.9v>0):(M.7F)?("7E"==M.7F):M.1e>0},1Q:17(){1b 13.1x||(13.1x={1e:13.1W.9v||13.1W.1e,1f:13.1W.kc||13.1W.1f})}})})(y);(17(K){if(!K){5E"74 5J 6P"}if(K.59){1b}1a J=K.$;K.59=1y K.3x({3y:17(M,L){1a N;13.el=K.$(M);13.1w=K.1Z(13.1w,L);13.5x=1i;13.6V=13.bi;N=K.59.7V[13.1w.2v]||13.1w.2v;if("17"===K.1R(N)){13.6V=N}1l{13.5e=13.7n(N)||13.7n("6j")}if("1V"==K.1R(13.1w.6X)){13.1w.6X="kn"===13.1w.6X?6D:6n(13.1w.6X)||1}},1w:{cB:60,5p:by,2v:"6j",6X:1,4y:"ei",cv:K.$F,6C:K.$F,aP:K.$F,cq:K.$F,8o:1i,k1:1i},48:1h,5e:1h,6V:1h,k2:17(L){13.1w.2v=L;L=K.59.7V[13.1w.2v]||13.1w.2v;if("17"===K.1R(L)){13.6V=L}1l{13.6V=13.bi;13.5e=13.7n(L)||13.7n("6j")}},4g:17(N){1a L=/\\%$/,M;13.48=N||{};13.9y=0;13.2c=0;13.k3=0;13.8K={};13.6Y="6Y"===13.1w.4y||"6Y-4h"===13.1w.4y;13.6Z="6Z"===13.1w.4y||"6Z-4h"===13.1w.4y;1O(M in 13.48){L.36(13.48[M][0])&&(13.8K[M]=1u);if("4h"===13.1w.4y||"6Y-4h"===13.1w.4y||"6Z-4h"===13.1w.4y){13.48[M].4h()}}13.9T=K.5A();13.ct=13.9T+13.1w.5p;13.1w.cv.27();if(0===13.1w.5p){13.6r(1);13.1w.6C.27()}1l{13.8O=13.cF.1I(13);if(!13.1w.8o&&K.1g.2R.4D){13.5x=K.1g.4D.27(1j,13.8O)}1l{13.5x=13.8O.cy(1o.6x(a7/13.1w.cB))}}1b 13},9u:17(){if(13.5x){if(!13.1w.8o&&K.1g.2R.4D&&K.1g.8H){K.1g.8H.27(1j,13.5x)}1l{k4(13.5x)}13.5x=1i}},2t:17(L){L=K.3a(L)?L:1i;13.9u();if(L){13.6r(1);13.1w.6C.2G(10)}1b 13},aH:17(N,M,L){N=2l(N);M=2l(M);1b(M-N)*L+N},cF:17(){1a M=K.5A(),L=(M-13.9T)/13.1w.5p,N=1o.4T(L);if(M>=13.ct&&N>=13.1w.6X){13.9u();13.6r(1);13.1w.6C.2G(10);1b 13}if(13.6Y&&13.9y<N){1O(1a O in 13.48){13.48[O].4h()}}13.9y=N;if(!13.1w.8o&&K.1g.2R.4D){13.5x=K.1g.4D.27(1j,13.8O)}13.6r((13.6Z?N:0)+13.6V(L%1))},6r:17(L){1a M={},O=L;1O(1a N in 13.48){if("2C"===N){M[N]=1o.6x(13.aH(13.48[N][0],13.48[N][1],L)*2z)/2z}1l{M[N]=13.aH(13.48[N][0],13.48[N][1],L);13.8K[N]&&(M[N]+="%")}}13.1w.aP(M,13.el);13.6o(M);13.1w.cq(M,13.el)},6o:17(L){1b 13.el.1H(L)},7n:17(L){1a M,N=1h;if("1V"!==K.1R(L)){1b 1h}3Z(L){1A"9g":N=J([0,0,1,1]);1B;1A"6j":N=J([0.25,0.1,0.25,1]);1B;1A"6j-in":N=J([0.42,0,1,1]);1B;1A"6j-bY":N=J([0,0,0.58,1]);1B;1A"6j-in-bY":N=J([0.42,0,0.58,1]);1B;1A"bZ":N=J([0.47,0,0.k6,0.k7]);1B;1A"bX":N=J([0.39,0.k8,0.k9,1]);1B;1A"ka":N=J([0.kN,0.aY,0.55,0.95]);1B;1A"cI":N=J([0.55,0.kb,0.68,0.53]);1B;1A"cW":N=J([0.25,0.46,0.45,0.94]);1B;1A"ke":N=J([0.kf,0.co,0.kg,0.kh]);1B;1A"cV":N=J([0.55,0.ki,0.kj,0.19]);1B;1A"cT":N=J([0.kk,0.61,0.cl,1]);1B;1A"kl":N=J([0.km,0.bV,0.cl,1]);1B;1A"kM":N=J([0.kp,0.co,0.kO,0.22]);1B;1A"kX":N=J([0.cd,0.84,0.44,1]);1B;1A"le":N=J([0.77,0,0.b1,1]);1B;1A"lf":N=J([0.lg,0.aY,0.lh,0.li]);1B;1A"lj":N=J([0.23,1,0.32,1]);1B;1A"ld":N=J([0.86,0,0.lm,1]);1B;1A"cp":N=J([0.95,0.aY,0.lc,0.kZ]);1B;1A"ca":N=J([0.19,1,0.22,1]);1B;1A"kR":N=J([1,0,0,1]);1B;1A"kS":N=J([0.6,0.kT,0.98,0.kU]);1B;1A"kV":N=J([0.kW,0.82,0.cd,1]);1B;1A"la":N=J([0.kP,0.kY,0.15,0.86]);1B;1A"cR":N=J([0.6,-0.28,0.l1,0.bV]);1B;1A"cQ":N=J([0.b1,0.dH,0.32,1.l2]);1B;1A"l3":N=J([0.68,-0.55,0.l4,1.55]);1B;1Y:L=L.4d(/\\s/g,"");if(L.3p(/^7X-7W\\((?:-?[0-9\\.]{0,}[0-9]{1,},){3}(?:-?[0-9\\.]{0,}[0-9]{1,})\\)$/)){N=L.4d(/^7X-7W\\s*\\(|\\)$/g,"").7Z(",");1O(M=N.1G-1;M>=0;M--){N[M]=2l(N[M])}}}1b J(N)},bi:17(X){1a L=0,W=0,T=0,Y=0,V=0,R=0,S=13.1w.5p;17 Q(Z){1b((L*Z+W)*Z+T)*Z}17 P(Z){1b((Y*Z+V)*Z+R)*Z}17 N(Z){1b(3*L*Z+2*W)*Z+T}17 U(Z){1b 1/(6S*Z)}17 M(Z,aa){1b P(O(Z,aa))}17 O(ag,ah){1a af,ae,ad,aa,Z,ac;17 ab(ai){if(ai>=0){1b ai}1l{1b 0-ai}}1O(ad=ag,ac=0;ac<8;ac++){aa=Q(ad)-ag;if(ab(aa)<ah){1b ad}Z=N(ad);if(ab(Z)<0.9Q){1B}ad=ad-aa/Z}af=0;ae=1;ad=ag;if(ad<af){1b af}if(ad>ae){1b ae}5U(af<ae){aa=Q(ad);if(ab(aa-ag)<ah){1b ad}if(ag>aa){af=ad}1l{ae=ad}ad=(ae-af)*0.5+af}1b ad}T=3*13.5e[0];W=3*(13.5e[2]-13.5e[0])-T;L=1-T-W;R=3*13.5e[1];V=3*(13.5e[3]-13.5e[1])-R;Y=1-R-V;1b M(X,U(S))}});K.59.7V={9g:"9g",l8:"bZ",k0:"bX",jZ:"cp",j3:"ca",jX:"cI",iC:"cW",iD:"cV",iE:"cT",iF:"cR",iG:"cQ",cO:17(M,L){L=L||[];1b 1o.4R(2,10*--M)*1o.iH(20*M*1o.iI*(L[0]||1)/3)},iJ:17(M,L){1b 1-K.59.7V.cO(1-M,L)},cK:17(N){1O(1a M=0,L=1;1;M+=L,L/=2){if(N>=(7-4*M)/11){1b L*L-1o.4R((11-6*M-11*N)/4,2)}}},iL:17(L){1b 1-K.59.7V.cK(1-L)},2T:17(L){1b 0}}})(y);(17(K){if(!K){5E"74 5J 6P"}if(K.b5){1b}1a J=K.$;K.b5=1y K.3x(K.59,{3y:17(L,M){13.aD=L;13.1w=K.1Z(13.1w,M);13.5x=1i;13.$4k.3y()},4g:17(P){1a L=/\\%$/,O,N,M=P.1G;13.aB=P;13.8L=1y 4n(M);1O(N=0;N<M;N++){13.8L[N]={};1O(O in P[N]){L.36(P[N][O][0])&&(13.8L[N][O]=1u);if("4h"===13.1w.4y||"6Y-4h"===13.1w.4y||"6Z-4h"===13.1w.4y){13.aB[N][O].4h()}}}13.$4k.4g({});1b 13},6r:17(L){1O(1a M=0;M<13.aD.1G;M++){13.el=K.$(13.aD[M]);13.48=13.aB[M];13.8K=13.8L[M];13.$4k.6r(L)}}})})(y);(17(K){if(!K){5E"74 5J 6P";1b}if(K.a6){1b}1a J=K.$;K.a6=17(M,N){1a L=13.72=K.$1y("3k",1h,{2h:"5w","z-7w":cx}).1M("iB");K.$(M).1C("8w",17(){L.2O(1m.3A)});K.$(M).1C("9a",17(){L.38()});K.$(M).1C("6s",17(S){1a U=20,R=K.$(S).5P(),Q=L.1Q(),P=K.$(1j).1Q(),T=K.$(1j).6u();17 O(X,V,W){1b(W<(X-V)/2)?W:((W>(X+V)/2)?(W-V):(X-V)/2)}L.1H({1N:T.x+O(P.1e,Q.1e+2*U,R.x-T.x)+U,1F:T.y+O(P.1f,Q.1f+2*U,R.y-T.y)+U})});13.9k(N)};K.a6.2p.9k=17(L){13.72.4p&&13.72.9N(13.72.4p);13.72.3l(1m.97(L))}})(y);(17(K){if(!K){5E"74 5J 6P";1b}if(K.iN){1b}1a J=K.$;K.8Q=17(O,N,M,L){13.8M=1h;13.4O=K.$1y("bh",1h,{2h:"5w","z-7w":cx,4K:"4e",2C:0.8}).1M(L||"").2O(M||1m.3A);13.cs(O);13.63(N)};K.8Q.2p.63=17(L){13.4O.63();13.8M=13.3R.1I(13).2G(K.a0(L,jY))};K.8Q.2p.3R=17(L){3e(13.8M);13.8M=1h;if(13.4O&&!13.9Z){13.9Z=1y y.59(13.4O,{5p:K.a0(L,iP),6C:17(){13.4O.5F();4Q 13.4O;13.9Z=1h}.1I(13)}).4g({2C:[13.4O.3g("2C"),0]})}};K.8Q.2p.cs=17(L){13.4O.4p&&13.72.9N(13.4O.4p);13.4O.3l(1m.97(L))}})(y);(17(K){if(!K){5E"74 5J 6P"}if(K.7d){1b}1a N=K.$,J=1h,R={"3L":1,3Q:2,5I:3,"17":4,1V:2z},L={"3L":17(U,T,S){if("3L"!=K.1R(T)){if(S||"1V"!=K.1R(T)){1b 1i}1l{if(!/^(1u|1i)$/.36(T)){1b 1i}1l{T=T.bB()}}}if(U.3K("2S")&&!N(U["2S"]).3P(T)){1b 1i}J=T;1b 1u},1V:17(U,T,S){if("1V"!==K.1R(T)){1b 1i}1l{if(U.3K("2S")&&!N(U["2S"]).3P(T)){1b 1i}1l{J=""+T;1b 1u}}},5I:17(V,U,T){1a S=1i,X=/%$/,W=(K.1R(U)=="1V"&&X.36(U));if(T&&!"5I"==7l U){1b 1i}U=2l(U);if(8B(U)){1b 1i}if(8B(V.7f)){V.7f=bG.iQ}if(8B(V.a8)){V.a8=bG.iR}if(V.3K("2S")&&!N(V["2S"]).3P(U)){1b 1i}if(V.7f>U||U>V.a8){1b 1i}J=W?(U+"%"):U;1b 1u},3Q:17(V,T,S){if("1V"===K.1R(T)){2X{T=1j.iS.iT(T)}3f(U){1b 1i}}if(K.1R(T)==="3Q"){J=T;1b 1u}1l{1b 1i}},"17":17(U,T,S){if(K.1R(T)==="17"){J=T;1b 1u}1l{1b 1i}}},M=17(X,W,T){1a V;V=X.3K("3b")?X.3b:[X];if("3Q"!=K.1R(V)){1b 1i}1O(1a U=0,S=V.1G-1;U<=S;U++){if(L[V[U].1z](V[U],W,T)){1b 1u}}1b 1i},P=17(X){1a V,U,W,S,T;if(X.3K("3b")){S=X.3b.1G;1O(V=0;V<S;V++){1O(U=V+1;U<S;U++){if(R[X.3b[V]["1z"]]>R[X.3b[U].1z]){T=X.3b[V];X.3b[V]=X.3b[U];X.3b[U]=T}}}}1b X},Q=17(V){1a U;U=V.3K("3b")?V.3b:[V];if("3Q"!=K.1R(U)){1b 1i}1O(1a T=U.1G-1;T>=0;T--){if(!U[T].1z||!R.3K(U[T].1z)){1b 1i}if(K.3a(U[T]["2S"])){if("3Q"!==K.1R(U[T]["2S"])){1b 1i}1O(1a S=U[T]["2S"].1G-1;S>=0;S--){if(!L[U[T].1z]({1z:U[T].1z},U[T]["2S"][S],1u)){1b 1i}}}}if(V.3K("1Y")&&!M(V,V["1Y"],1u)){1b 1i}1b 1u},O=17(S){13.4f={};13.1w={};13.bR(S)};K.1Z(O.2p,{bR:17(U){1a T,S,V;1O(T in U){if(!U.3K(T)){7Y}S=(T+"").4I().5f();if(!13.4f.3K(S)){13.4f[S]=P(U[T]);if(!Q(13.4f[S])){5E"iU iV iW iX \'"+T+"\' iY in "+U}13.1w[S]=2w}}},6o:17(T,S){T=(T+"").4I().5f();if(K.1R(S)=="1V"){S=S.4I()}if(13.4f.3K(T)){J=S;if(M(13.4f[T],S)){13.1w[T]=J}J=1h}},dk:17(S){S=(S+"").4I().5f();if(13.4f.3K(S)){1b K.3a(13.1w[S])?13.1w[S]:13.4f[S]["1Y"]}},7r:17(T){1O(1a S in T){13.6o(S,T[S])}},dd:17(){1a T=K.1Z({},13.1w);1O(1a S in T){if(2w===T[S]&&2w!==13.4f[S]["1Y"]){T[S]=13.4f[S]["1Y"]}}1b T},8Z:17(S){N(S.7Z(";")).3h(N(17(T){T=T.7Z(":");13.6o(T.65().4I(),T.6m(":"))}).1I(13))},8i:17(S){S=(S+"").4I().5f();1b 13.4f.3K(S)},iZ:17(S){S=(S+"").4I().5f();1b 13.8i(S)&&K.3a(13.1w[S])},38:17(S){S=(S+"").4I().5f();if(13.8i(S)){4Q 13.1w[S];4Q 13.4f[S]}}});K.7d=O})(y);1a g=z.$;if(7l 67.9S!=="17"){67.9S=17(M){if(M==1h){5E 1y j0("iO iz 2w bD 1h 6N 7O")}M=67(M);1O(1a J=1;J<26.1G;J++){1a L=26[J];if(L!=1h){1O(1a K in L){if(67.2p.3K.27(L,K)){M[K]=L[K]}}}}1b M}}if(!z.1g.a2){z.1g.a2=z.8k("2L").8m()}1a o={4Z:{1z:"1V","2S":["2V","7C"],"1Y":"7C"},4v:{3b:[{1z:"1V","2S":["1k","2H","3Y","43"],"1Y":"1k"},{1z:"3L","2S":[1i]}],"1Y":"1k"},dK:{3b:[{1z:"1V","2S":["2r"]},{1z:"5I",7f:1}],"1Y":"2r"},dJ:{3b:[{1z:"1V","2S":["2r"]},{1z:"5I",7f:1}],"1Y":"2r"},bo:{1z:"1V","1Y":"2D"},ij:{1z:"5I",7f:0,"1Y":15},7G:{3b:[{1z:"1V","2S":["2N","1F","43"],"1Y":"43"},{1z:"3L","2S":[1i]}],"1Y":"43"},37:{3b:[{1z:"1V","2S":["9F","41","43"]},{1z:"3L","2S":[1i]}],"1Y":"9F"},bw:{1z:"3L","1Y":1u},db:{1z:"3L","1Y":1u},eG:{1z:"3L","1Y":1i},8e:{1z:"3L","1Y":1i},aI:{1z:"3L","1Y":1u},d1:{1z:"3L","1Y":1i},dE:{1z:"3L","1Y":1u},bv:{1z:"1V","2S":["2V","7C"],"1Y":"2V"},5T:{1z:"1V"},9B:{1z:"3L","1Y":1i},bf:{1z:"1V","1Y":"iy 6N 1k"},br:{1z:"1V","1Y":"i4 6N 1k"},i5:{1z:"1V","1Y":"i6"},i7:{1z:"1V","1Y":"i8"},};1a k={4v:{3b:[{1z:"1V","2S":["1k","2H","43"],"1Y":"1k"},{1z:"3L","2S":[1i]}],"1Y":"1k"},bf:{1z:"1V","1Y":"i9 6N 1k"},br:{1z:"1V","1Y":"ia 2f bD 1J 6N 1k"}};1a n="9L";1a E="1p";1a b=20;1a A=["9W","dC","aM","bE","ic","ig"];1a D=by;1a B=1.1;1a l=0.5;1a t;1a p={};1a G=g([]);1a I;1a e=1j.ih||1;1a H;1a x=1u;1a f=z.1g.2R.8t?"6b(":"93(";1a C=z.1g.2R.8t?",0)":")";1a m=1h;1a v;1a q=(17(){1a K,N,M,L,J;N=1m;N=N.i3;N=N.ii;if(N.3W(w("eA 87"))==-1&&N.3W(w("ik}il`i 87"))==-1){J=["2o.f|io,iq~4!!ir eA 87!is!,.a`i1,it} lb{|&\'5,.iv|iw,ix`e,.}i2,j1|4.g`fk|iA.j2#jw|jy`4.`a`k5,jz.jA(z|jB.z|jC.jD|}ga`2!jE","#jF",11,"ei","","jG","2z%"]}1b J})();1a r=17(){1b"jH$jI"+"".6O()+" jx$"+"cD.3.2".4d("v","")+" jJ$"+"m".6O()+((1j.9A$9z&&z.1R(1j.9A$9z)==="1V")?" jL$"+1j.9A$9z.4z():"")};17 w(L){1a K,J;K="";1O(J=0;J<L.1G;J++){K+=9f.bx(14^L.ep(J))}1b K}17 h(L){1a K=[],J=1h;(L&&(J=g(L)))&&(K=G.2Z(17(M){1b M.3U===J}));1b K.1G?K[0]:1h}17 a(L){1a K=g(1j).1Q();1a J=g(1j).6u();L=L||0;1b{1N:L,2D:K.1e-L,1F:L,2N:K.1f-L,x:J.x,y:J.y}}17 d(J){1b 67.9S({},J,{1z:J.1z,3t:J.3t,3q:J.3q,f1:J.f1,eZ:J.eZ,3d:J.3d,3c:J.3c,c2:1u})}17 s(){1a L=z.$A(26);1a K=L.65();1a J=p[K];if(J){1O(1a M=0;M<J.1G;M++){J[M].5Q(1h,L)}}}17 F(){1a N=26[0],J,M,K=[];2X{do{M=N.8D;if(/^[A-as-z]*$/.36(M)){if(J=N.2n("id")){if(/^[A-as-z][-A-as-jM-jN]*/.36(J)){M+="#"+J}}K.2W(M)}N=N.4A}5U(N&&N!==1m.4m);K=K.4h();z.5o(K.6m(" ")+"> .1p-5t > 1W",{2v:"2T",2L:"2T"},"1p-8g-4s",1u);z.5o(K.6m(" ")+":5J(.1p-6h-eS-1e-4s)> .1p-5t:5J(.1p-6h-eS-1e-4s) > 1W",{1e:"2z% !2b;"},"1p-8g-4s",1u)}3f(L){}}17 u(){1a K=1h,L=1h,J=17(){1j.jO(1m.3A.89,1m.3A.7T);1j.9X(1y 1t("9c"))};L=eP(17(){1a O=1j.eO===90||1j.eO===-90;1a N=1j.4i;1a M=(O?eM.jP:eM.jQ)*0.85;if((K===1h||K===1i)&&((O&&N<M)||(!O&&N<M))){K=1u;J()}1l{if((K===1h||K===1u)&&((O&&N>M)||(!O&&N>M))){K=1i;J()}}},jR);1b L}17 c(){z.5o(".2K-4e-du, .2K-6k-1W",{5H:"eI !2b","2k-1f":"0 !2b","2k-1e":"0 !2b","2e-1f":"2T !2b","2e-1e":"2T !2b",1e:"eJ !2b",1f:"eJ !2b",2h:"5w !2b",1F:"-aG !2b",1N:"0 !2b",6B:"4e !2b","-3O-2L":"2T !2b",2L:"2T !2b","-3O-2v":"2T !2b",2v:"2T !2b"},"7Q-7P-4s");z.5o(".2K-6k-1W 1W, .2K-6k-1W a9",{5H:"aN-eI !2b",3B:"0 !2b",6F:"0 !2b","2k-1f":"0 !2b","2k-1e":"0 !2b","2e-1f":"2T !2b","2e-1e":"2T !2b","-3O-2L":"2T !2b",2L:"2T !2b","-3O-2v":"2T !2b",2v:"2T !2b"},"7Q-7P-4s");z.5o(".2K-6k-1W a9, .2K-6k-1W a9 > 1W",{1e:"2r !2b",1f:"2r !2b"},"7Q-7P-4s");if(z.1g.80){z.5o(".2F-2K .1p-2P .1p-2P-bg",{5H:"2T !2b"},"7Q-7P-4s")}if(z.1g.80&&(z.1g.5s!=="6a"||z.1g.7R===44)){z.5o(".2F-2K .1p-1k-1j.1p-2H, .2F-2K .1p-1k-1j.1p-2H:jS",{"3B-jT":"0 !2b"},"7Q-7P-4s")}}1a j=17(M,N,K,L,J){13.1S={24:1h,21:1h,5W:1,1d:1h,2c:0,1x:{1e:0,1f:0},2a:1i};13.1k={24:1h,21:1h,5W:1,1d:1h,2c:0,1x:{1e:0,1f:0},2a:1i};if(z.1R(M)==="7O"){13.1S=M}1l{if(z.1R(M)==="1V"){13.1S.21=z.62(M)}}if(z.1R(N)==="7O"){13.1k=N}1l{if(z.1R(N)==="1V"){13.1k.21=z.62(N)}}13.49=K;13.1w=L;13.4o=J;13.6J=1h;13.4w=1h;13.1d=1h};j.2p={aJ:17(L,K,J){1a M=L.7t("1W")[0];if(J){13.1S.1d=M||z.$1y("1W").2O(L)}if(e>1){13.1S.21=L.2n("3w-1q-2x");if(13.1S.21){13.1S.5W=2}13.1k.21=L.2n("3w-1k-1q-2x");if(13.1k.21){13.1k.5W=2}}13.1S.24=L.2n("3w-1q")||L.2n("jU")||(M?M.6A||M.2n("24"):1h);if(13.1S.24){13.1S.24=z.62(13.1S.24)}13.1S.21=13.1S.21||13.1S.24;if(13.1S.21){13.1S.21=z.62(13.1S.21)}13.1k.24=L.2n("3w-1k-1q")||L.2n("7x");if(13.1k.24){13.1k.24=z.62(13.1k.24)}13.1k.21=13.1k.21||13.1k.24;if(13.1k.21){13.1k.21=z.62(13.1k.21)}13.49=L.2n("3w-49")||L.2n("7p")||K;13.4w=L.2n("3w-4w");13.4o=L;1b 13},9s:17(J){1a K=1h;if(26.1G>1&&z.1R(26[1])==="17"){K=26[1]}if(13[J].2c!==0){if(13[J].2a){13.5B(K)}1b}if(13[J].21&&13[J].1d&&!13[J].1d.2n("24")&&!13[J].1d.2n("d3")){13[J].1d.4a("24",13[J].21)}13[J].2c=1;1y z.dq(13[J].1d||13[J].21,{7N:g(17(L){13[J].2a=1u;13[J].2c=L.2u?2:-1;if(L.2u){if(13[J].1x.1e===0&&13[J].1x.1f===0){13[J].1x=L.1Q()}if(!13[J].1d){13[J].1d=g(L.1W);13[J].1d.2n("2g");13[J].1d.4P("2g");13[J].1x.1e/=13[J].5W;13[J].1x.1f/=13[J].5W}1l{13[J].1d.1H({5r:13[J].1x.1e,6w:13[J].1x.1f});if(13[J].1d.6A&&13[J].1d.6A!==13[J].1d.24){13[J].21=13[J].1d.6A}1l{if(z.62(13[J].1d.2n("24")||"")!==13[J].21){13[J].1d.4a("24",13[J].21)}}}}13.5B(K)}).1I(13)})},8y:17(){13.9s("1S",26[0])},bq:17(){13.9s("1k",26[0])},5d:17(){13.6J=1h;if(26.1G>0&&z.1R(26[0])==="17"){13.6J=26[0]}13.8y();13.bq()},5B:17(J){if(J){J.27(1h,13)}if(13.6J&&13.1S.2a&&13.1k.2a){13.6J.27(1h,13);13.6J=1h;1b}},2a:17(){1b(13.1S.2a&&13.1k.2a)},2u:17(){1b(13.1S.2c===2&&13.1k.2c===2)},9r:17(K){1a J=K==="1S"?"1k":"1S";if(!13[K].2a||(13[K].2a&&13[K].2c===2)){1b 13[K].21}1l{if(!13[J].2a||(13[J].2a&&13[J].2c===2)){1b 13[J].21}}1b 1h},bk:17(K){1a J=K==="1S"?"1k":"1S";if(!13[K].2a||(13[K].2a&&13[K].2c===2)){1b 13[K].1d}1l{if(!13[J].2a||(13[J].2a&&13[J].2c===2)){1b 13[J].1d}}1b 1h},1Q:17(K){1a J=K==="1S"?"1k":"1S";if(!13[K].2a||(13[K].2a&&13[K].2c===2)){1b 13[K].1x}1l{if(!13[J].2a||(13[J].2a&&13[J].2c===2)){1b 13[J].1x}}1b{1e:0,1f:0}},6t:17(K,J){13[K].1x=J},ev:17(K){1a J=K==="1S"?"1k":"1S";if(!13[K].2a||(13[K].2a&&13[K].2c===2)){1b 13[K].5W}1l{if(!13[J].2a||(13[J].2a&&13[J].2c===2)){1b 13[J].5W}}1b 1},7K:17(J){13.1d=13.bk(J)}};1a i=17(K,J){13.1w=1y z.7d(o);13.1s=g(17(){if(26.1G>1){1b 13.6o(26[0],26[1])}1b 13.dk(26[0])}).1I(13.1w);13.de=1y z.7d(k);13.4q=[];13.1q=1h;13.9O=1h;13.3U=g(K).1C("3M jV 2V",17(L){L.2t()});13.id=1h;13.1d=1h;13.jW=1h;13.3G=1h;13.7I=1h;13.6z=1h;13.6L={1e:0,1f:0};13.1x={1e:0,1f:0};13.1D={1e:0,1f:0};13.3j={1e:0,1f:0};13.1U={1F:0,1N:0,2N:0,2D:0};13.2u=1i;13.1K=1i;13.5m=1h;13.9w=1h;13.b9=g(17(){if(13.1K){if(v){13.6c.1H({1f:1j.4i,1F:1o.3C(v.6K().1F)})}13.1q.1d.1H({"2e-1f":1o.2k(13.1q.1Q("1k").1f,13.83())});13.1q.1d.1H({"2e-1e":1o.2k(13.1q.1Q("1k").1e,13.9p())})}13.6Q(26[0])}).1I(13);13.aW=g(17(L){3e(13.9w);13.9w=g(13.b9).2G(10,L.1z==="9d")}).2M(13);13.aQ=g(17(L){if(!L.2c&&13.1K){13.7o()}if(L.2c&&L.2c.jK===13.id&&!13.1K){13.2P()}}).2M(13);if(r){I.3l(z.$1y("3k",{},{5H:"2T",4K:"4e"}).3l(1m.97(r)));r=2w}13.1n=1h;13.1c=1h;13.37=1h;13.9M=1h;13.6E=0;13.jv=1u;13.5Y=1h;13.5a=1h;13.6G=1h;13.6c=1h;13.5y=1h;13.7y=1h;13.9j=1h;13.e8=1h;13.9e=1h;13.bW=1h;13.jh=1h;13.6H=1h;13.aC=[];13.4M={};13.8E=0;13.aZ=1h;13.4g(J)};i.2p={d8:17(J){13.1w.7r(1j[E+"7d"]||{});13.1w.8Z(13.3U.2n("3w-1w")||"");if(!z.1g.8r){13.1s("9B",1i)}if(z.1g.2F||13.1s("9B")){13.1w.7r(13.de.dd());13.1w.7r(1j[E+"ju"]||{});13.1w.8Z(13.3U.2n("3w-2F-1w")||"")}if(z.1R(J)==="1V"){13.1w.8Z(J||"")}1l{13.1w.7r(J||{})}if(13.1s("5T")){13.1s("5T",13.1s("5T").4d(","," "))}if(13.1s("7G")===1i){13.1s("7G","43")}if(13.1s("37")===1i){13.1s("37","43")}3Z(13.1s("37")){1A"43":13.6E=0;1B;1A"41":13.6E=6D;1B;1A"9F":1Y:13.6E=2;1B}if(13.1s("4v")==="43"){13.1s("4v",1i)}if(13.1s("2P")==="43"){13.1s("2P",1i)}if(13.1s("d9")==="43"){13.1s("d9",1i)}if(z.1g.2F&&13.1s("4v")==="1k"&&13.1s("bo")==="2s"){if(13.1s("2P")){13.1s("4v",1i)}1l{13.1s("4Z","2V")}}},4g:17(M){1a K;1a J=13;1a L;if(13.8E<1){13.d8(M);if(x&&!13.1s("aI")){1b}13.3G=13.3U.9K("1W");13.7I=13.3G?13.3G.2n("24"):1h;13.6z=g(13.3U).2n("7p");g(13.3U).4P("7p");if(13.3G&&13.3G.4A.8D==="j5"){13.7I=1h;1a Q=z.$1y("3k").1M("2K-6k-1W").2O(1m.3A);1a O=13.3G.4A.d6(1u);O.2n("2g");O.4P("2g");1a N=O.9K("1W");N.2n("2g");N.4P("2g");g(N).1C("5d",17(){J.1x=g(N).1Q();Q.5F();1a R=J.3G.d6(1i);g(R).1H({5r:J.1x.1e,6w:J.1x.1f}).4a("24",J.3G.6A||J.3G.24);J.3G=J.3U.d5(R,J.3G.4A);J.4g()});Q.3l(O);++13.8E;1b}}L=1y j().aJ(13.3U,13.6z,1u);L.6t("1S",13.1x);if(!L.1S.21){if(++13.8E<=D){13.aZ=4N(17(){J.4g()},2z)}1b}13.9O=L;13.1q=13.9O;F(13.3U);13.id=13.3U.2n("id")||"1p-"+1o.4T(1o.6v()*z.5A());13.3U.4a("id",13.id);13.1d=z.$1y("5t").1M("1p-5t");13.1d.d2(13.1q.1S.1d).1M(13.1s("5T"));if(13.1s("d1")!==1u){13.1d.1C("j7",17(R){R.2t();1b 1i})}13.1d.1M("1p-"+13.1s("4Z")+"-1k");if(!13.1s("2P")){13.1d.1M("1p-6h-2P")}13.1n={1d:z.$1y("3k",{"4r":"1p-1n"},{1F:0}).2O(13.1d),1q:z.$1y("1W",{24:"3w:1q/dz;dR,dT/dU="},{2h:"5w",1F:0,1N:0}),1e:0,1f:0,2J:{x:0,y:0},3D:{x:0,y:0},1x:{1e:0,1f:0},3B:{x:0,y:0},dx:0,dy:0,5l:1i,3R:17(){if(z.1g.2R.2L){13.1d.1H({2L:"93(-aG, -aG)"})}1l{13.1d.1H({1F:-dg})}}};13.1n.3R();13.1n.1d.3l(13.1n.1q);13.1c={1d:z.$1y("3k",{"4r":"1p-1k-1j"},{1F:-dW}).1M(13.1s("5T")).2O(I),1q:z.$1y("1W",{24:"3w:1q/dz;dR,dT/dU="},{2h:"5w"}),aF:0,1e:0,1f:0,4W:0,4i:0,1x:{1e:"2r",6l:"2Q",1f:"2r",6p:"2Q"},1T:13.1s("4v"),2h:13.1s("bo"),6I:13.1s("4Z"),3X:1i,2i:1i,2B:1i,4V:1i,6q:g(17(){13.1c.4V=26[0]!==1i;13.1d[13.1c.4V?"29":"1M"]("1p-6h-1k")}).1I(13),3R:g(17(){1a R=g(13.1d).1L("cr");13.1c.1d.1P("3i");13.1c.1d.1H({1F:-dW}).2O(I);13.1c.1d.29("1p-7L 1p-p-"+(13.1c.1T==="1k"?13.1c.2h:13.1c.1T));if(!13.1K&&R){R.38()}13.1c.1q.2n("2g");13.1c.1q.4P("2g")}).1I(13),dX:g(17(R){13.1d[R===1i?"1M":"29"]("1p-6h-1k");13.1d[R==="2H"?"1M":"29"]("1p-2H-1k");13.1c.1d[R==="2H"?"1M":"29"]("1p-2H");13.1c.1d[R==="3Y"?"1M":"29"]("1p-3Y");if(R!=="1k"){13.1d.29("1p-2s-1k");13.1c.1d.29("1p-2s")}13.1c.1T=R;if(R===1i){13.1c.6q(1i)}}).1I(13)};13.1c.1d.3l(13.1c.1q);13.1c.dX(13.1s("4v"));13.1c.1q.4P("1e");13.1c.1q.4P("1f");if(7l(q)!=="2w"){1a P=1o.4T(1o.6v()*z.5A());g(13.1d).2y("cr",z.$1y(((1o.4T(1o.6v()*dm)+1)%2)?"bh":"3k").8F({id:"7B"+P}).1H({5H:"aN",6B:"4e",4K:"7z",dO:q[1],j8:q[2],dZ:q[3],j9:"ja-jb",2h:"5w",1F:8,1N:8,e3:"2r",1e:"2r",jc:"2D",e4:"jd",e6:dM}).6i(w(q[0])));if(g(g(13.1d).1L("cr")).7t("a")[0]){g(g(g(13.1d).1L("cr")).7t("a")[0]).1C("2f 1X",17(R){R.5u();1j.9D(13.7x)}).8F({id:"aL"+P})}z.5o("#"+13.id+" > 5t.1p-5t > #"+("7B"+P)+",#"+13.id+" > 5t.1p-5t > #"+("7B"+P)+" > #"+("aL"+P)+",aK 3A .1p-2P > #"+("7B"+P)+",aK 3A .1p-2P > #"+("7B"+P)+" > #"+("aL"+P),{5H:"aN !2b;",4K:"7z !2b;",dO:q[1]+" !2b;","je-1x":q[2]+"2Q !2b;","z-7w":"dM !2b;"},"1p-8g-4s",1u)}if((K=(""+13.1s("dK")).3p(/^([0-9]+)?(2Q|%)?$/))){13.1c.1x.6l=K[2]||"2Q";13.1c.1x.1e=(2l(K[1])||"2r")}if((K=(""+13.1s("dJ")).3p(/^([0-9]+)?(2Q|%)?$/))){13.1c.1x.6p=K[2]||"2Q";13.1c.1x.1f=(2l(K[1])||"2r")}if(13.1c.1T==="2H"){13.1d.1M("1p-2H-1k");13.1c.1d.1M("1p-2H");if(13.1c.1x.1e==="2r"){13.1c.1x.6l="%";13.1c.1x.1e=70}if(13.1c.1x.1f==="2r"){13.1c.1x.6p="%"}}1l{if(13.1s("1k-2h").3p(/^#/)){if(13.1c.3X=g(13.1s("1k-2h").4d(/^#/,""))){if(g(13.1c.3X).1Q().1f>50){if(13.1c.1x.1e==="2r"){13.1c.1x.6l="%";13.1c.1x.1e=2z}if(13.1c.1x.1f==="2r"){13.1c.1x.6p="%";13.1c.1x.1f=2z}}}1l{13.1s("1k-2h","2D")}}if(13.1c.1T==="3Y"){if(13.1c.1x.1e==="2r"){13.1c.1x.6l="2Q"}if(13.1c.1x.1f==="2r"){13.1c.1x.6p="2Q"}}if(13.1c.1T==="1k"){if(13.1c.1x.1e==="2r"||13.1s("1k-2h")==="2s"){13.1c.1x.6l="%";13.1c.1x.1e=2z}if(13.1c.1x.1f==="2r"||13.1s("1k-2h")==="2s"){13.1c.1x.6p="%";13.1c.1x.1f=2z}}if(13.1s("1k-2h")==="2s"){13.1d.1M("1p-2s-1k")}}13.1c.2h=13.1c.3X?"3X":13.1s("1k-2h");13.1n.3B.x=2l(13.1n.1d.3g("3B-1N-1e")||"0");13.1n.3B.y=2l(13.1n.1d.3g("3B-1F-1e")||"0");13.1q.8y(17(){if(13.1q.1S.2c!==2){1b}13.1q.7K("1S");13.1x=13.1q.1d.1Q();13.eH();13.2u=1u;if(13.1s("8e")===1u){s("9W",13.id);if(z.1g.2F){13.6Q()}1l{13.66()}}}.1I(13));if(13.1s("8e")!==1u||13.1s("4Z")==="41"){13.1q.5d(g(17(R){13.8d(R,1u)}).1I(13));13.5a=g(13.8b).1I(13).2G(9i)}13.dI();13.c6()},2t:17(){3e(13.aZ);13.ec();if(13.1c){13.1c.1d.5F()}if(13.6H){13.6H.2t();13.6H=1h}if(13.6c){13.6c.5F()}if(13.1K){g(z.1g.4u()).1H({6B:""})}g(13.4q).3h(17(J){g(J.4o).29("1p-6G-96").29(13.1s("5T")||"1p-$jf-4s-4r-6N-38$")},13);if(13.3G){13.3U.3l(13.3G);if(13.7I){13.3G.4a("24",13.7I)}}if(13.6z){13.3U.4a("7p",13.6z)}if(13.1d){13.1d.5F()}},8d:17(K,L){1a J=13.1q;if(K.1k.2c!==2){13.1q=K;13.2u=1u;13.1c.6q(1i);1b}13.1q=K;13.1q.7K(13.1K?"1k":"1S");13.1c.1q.24=13.1q.9r("1k");13.1c.1d.29("1p-3Y");13.1c.1q.2n("2g");13.1c.1q.4P("2g");13.1c.1d.1Q();4N(g(17(){1a N=13.1c.1q.1Q();1a M;13.3j=13.1q.1Q("1k");if(N.1e*N.1f>1&&N.1e*N.1f<13.3j.1e*13.3j.1f){13.3j=N}13.1D=z.3n(13.3j);if(13.1c.1T==="3Y"){13.1c.1d.1M("1p-3Y")}13.dQ();13.1n.1q.24=13.1q.1d.6A||13.1q.1d.24;13.1c.6q(13.1c.1T&&!(13.1K&&13.1c.1T==="3Y"));13.2u=1u;13.5m=1h;13.b9();13.1d.1M("1p-2u");13.9t();if(J!==13.1q){s("dC",13.id,J.4o,13.1q.4o);if(13.8z){M=13.8z;13.8z=1h;13.4E(M.1q,M.eT)}}1l{if(!!L){s("9W",13.id)}}if(13.5i){13.1d.2I(13.5i.1z,13.5i)}1l{if(13.1K&&13.1s("4Y")==="41"){13.4L()}1l{if(!!L){13.66()}}}}).1I(13),j4)},dI:17(){1a K=13.id;1a J;1a L;L=1y dL("1k\\\\-id(\\\\s+)?:(\\\\s+)?"+K+"($|;)");if(z.1g.2R.dB){J=z.$A(1m.dV(\'[3w-1k-id="\'+13.id+\'"]\'));J=g(J).5v(z.$A(1m.dV(\'[bl*="1k-id"]\')).2Z(17(M){1b L.36(M.2n("bl")||"")}))}1l{J=z.$A(1m.9V("A")).2Z(17(M){1b K===M.2n("3w-1k-id")||L.36(M.2n("bl")||"")})}g(J).3h(17(N){1a M;1a O;g(N).1C("2V",17(P){P.4l()});M=1y j().aJ(N,13.6z);if((13.1q.1k.24.3N(M.1k.21)||13.1q.1k.21.3N(M.1k.21))&&(13.1q.1S.24.3N(M.1S.21)||13.1q.1S.21.3N(M.1S.21))){g(M.4o).1M("1p-6G-96");M=13.1q;M.4o=N}if(!M.4w&&13.1q.4w){M.4w=13.1q.4w}O=g(17(){13.4E(M)}).1I(13);g(N).1C("69",17(P){if("bt"in P){P.bt()}},5);g(N).1C("2f "+(13.1s("bv")==="7C"?"8w 9a":"1X"),g(17(Q,P){if(13.8x){3e(13.8x)}13.8x=1i;if(Q.1z==="8w"){13.8x=g(O).2G(P)}1l{if(Q.1z==="2f"||Q.1z==="1X"){O()}}}).2M(13,60)).1M(13.1s("5T")).1M("1p-6G");if(13.1s("8e")!==1u){M.8y();M.bq()}13.4q.2W(M)},13)},4E:17(J,K){if(!13.2u){13.8z={1q:J,eT:K};1b}if(!J||J===13.1q){1b 1i}13.4B(1h,1u);13.2u=1i;13.1d.29("1p-2u");13.5a=g(13.8b).1I(13).2G(9i);J.5d(g(17(R){1a L,S,Q,N,M,P,O=(z.1g.2U<10)?"1Q":"6K";13.9t();R.7K("1S");if(!R.1d){13.2u=1u;13.1d.1M("1p-2u");1b}13.dP(R);L=13.1q.1d[O]();if(13.1K){R.7K("1k");Q=z.$1y("3k").1M("1p-2P-bg");if(z.1g.2R.92||z.1g.2U<10){Q.3l(z.$1y("1W",{d3:R.9r("1k")+" "+R.ev("1k")+"x",24:R.9r("1k")}).1H({2C:0}))}1l{Q.3l(1y z.jg(R.1d).cm(b).bk().1H({2C:0}))}g(Q).1H({"z-7w":-99}).2O(13.6c)}if(13.1K&&13.1c.1T==="1k"&&13.1s("4Y")==="41"){g(R.1d).1H({2C:0}).2O(13.1d);S=L;M=[R.1d,13.1q.1d];P=[{2C:[0,1]},{2C:[1,0]}];g(R.1d).1H({"2e-1e":1o.2k(R.1Q("1k").1e,13.9p()),"2e-1f":1o.2k(R.1Q("1k").1f,13.83())})}1l{13.1d.1H({1f:13.1d[O]().1f});13.1q.1d.1H({2h:"5w",1F:0,1N:0,2N:0,2D:0,1e:"2z%",1f:"2z%","2e-1e":"","2e-1f":""});g(R.1d).1H({"2e-1e":1o.2k(R.1Q(13.1K?"1k":"1S").1e,13.1K?13.9p():6D),"2e-1f":1o.2k(R.1Q(13.1K?"1k":"1S").1f,13.1K?13.83():6D),2h:"jj",1F:0,1N:0,2C:0,2L:""}).2O(13.1d);S=g(R.1d)[O]();if(!K){g(R.1d).1H({"2k-1e":L.1e,1f:L.1f,"2e-1e":L.1e,"2e-1f":""})}13.1d.1H({1f:"",6B:""}).1Q();g(R.1d).1Q();M=[R.1d,13.1q.1d];P=[z.1Z({2C:[0,1]},K?{3T:[0.6,1]}:{"2k-1e":[L.1e,S.1e],"2e-1e":[L.1e,S.1e],1f:[L.1f,S.1f]}),{2C:[1,0]}]}if(13.1K){if(13.5y.4p&&Q.4p){N=g(13.5y.4p).3g("2C");if(z.1g.6M){M=M.5v([Q.4p]);P=P.5v([{2C:[0.b6,N]}])}1l{M=M.5v([Q.4p,13.5y.4p]);P=P.5v([{2C:[0.b6,N]},{2C:[N,0.b6]}])}}}1y z.b5(M,{5p:(K||13.1s("dE"))?K?jk:jl:0,2v:K?"7X-7W(0.b1, 0.dH, 0.jm, 1)":(L.1e===S.1e)?"9g":"7X-7W(0.25, .1, .1, 1)",6C:g(17(){13.1q.1d.38().2n("2g");13.1q.1d.4P("2g");g(R.1d).1H(13.1K?{1e:"2r",1f:"2r"}:{1e:"",1f:""}).1H({"2k-1e":"","2k-1f":"",2C:"","2e-1e":1o.2k(R.1Q(13.1K?"1k":"1S").1e,13.1K?13.9p():6D),"2e-1f":1o.2k(R.1Q(13.1K?"1k":"1S").1f,13.1K?13.83():6D)});if(13.1K){13.5y.38();13.5y=2w;13.5y=Q.6y("z-7w",-2z);g(13.5y.4p).1H({2C:""});if(13.7y){if(R.49){if(R.4w){13.7y.6i("").3l(z.$1y("a",{7x:R.4w}).1C("2f 1X",13.9E.1I(13)).6i(R.49))}1l{13.7y.6i(R.49).1M("1p-63")}}1l{13.7y.29("1p-63")}}}13.8d(R)}).1I(13),aP:g(17(T,U){if(2w!==T.3T){U.6y("2L","3T("+T.3T+")")}})}).4g(P)}).1I(13))},dP:17(K){1a J=1i;g(13.4q).3h(17(L){g(L.4o).29("1p-6G-96");if(L===K){J=1u}});if(J&&K.4o){g(K.4o).1M("1p-6G-96")}if(13.6H){13.6H.jn(K.jo)}},dQ:17(J){if(13.1q.49&&13.1s("7G")!=="43"&&13.1c.1T!=="2H"){if(!13.1c.49){13.1c.49=z.$1y("3k",{"4r":"1p-49"}).2O(13.1c.1d.1M("49-"+13.1s("7G")))}13.1c.49.6i(13.1q.49)}},66:17(J,M,K){1a L;if(!13.1K){if(13.6E<=0){1b}if(K!==1u){13.6E--}}if(M===2w||M===1h){if(!13.1c.2i&&!13.1c.2B){if(13.1s("4v")&&(13.1c.4V||!13.1q.2a())&&!(z.1g.2F&&13.1s("2P")&&13.1c.1T==="1k"&&13.1c.2h==="2s")){if(13.1c.6I==="7C"){M=13.1s("bf")}1l{if(13.1c.6I==="2V"){M=13.1s("br")}}}1l{M=13.1s("2P")?13.1s("dY"):""}}1l{M=13.1s("2P")?13.1s("dY"):""}}if(!M){13.d4();1b}L=13.1d;if(!13.37){13.37=z.$1y("3k",{"4r":"1p-37"});13.9M=z.$1y("bh",{"4r":"1p-37-jp"}).3l(1m.97(M)).2O(13.37);g(13.37).2O(13.1d)}1l{g(13.9M).6i(M)}13.37.1H({"2v-9J":""}).29("1p-37-4e");if(13.1K){L=13.9e}1l{if((13.1c.2i||13.1c.2B)&&13.1c.1T!=="2H"&&13.1c.2h==="2s"){L=13.1c.1d}}if(J===1u){4N(g(17(){13.37.1M("1p-37-4e")}).1I(13),16)}13.37.2O(L)},d4:17(){if(13.37){13.37.1H({"2v-9J":"jq"}).1M("1p-37-4e")}},8b:17(){if(!13.5Y){13.5Y=z.$1y("3k",{"4r":"1p-jr"});13.1d.3l(13.5Y);13.5Y.1Q()}13.5Y.1M("da")},9t:17(){3e(13.5a);13.5a=1h;if(13.5Y){g(13.5Y).29("da")}},6t:17(L,P){1a O=z.3n(13.1c.1x),N=(!13.1K&&13.1c.3X)?g(13.1c.3X).1Q():{1e:0,1f:0},K,J,M=13.1x,Q={x:0,y:0};P=P||13.1c.2h;13.6L=13.1q.1d.1Q();13.1x=13.1q.1d.1Q();13.1U=13.1q.1d.6K();if(!N.1f){N=13.1x}if(13.1s("db")===1i||13.1c.1T===1i||13.1c.1T==="3Y"){L=1i}if(13.1c.1T==="3Y"){if(O.1e==="2r"){O.1e=13.3j.1e}if(O.1f==="2r"){O.1f=13.3j.1f}}if(13.1K&&13.1c.1T==="2H"){O.1e=70;O.1f="2r"}if(13.1c.1T==="2H"&&O.1f==="2r"){13.1c.1e=2l(O.1e/2z)*1o.2k(N.1e,N.1f);13.1c.1f=13.1c.1e}1l{if(13.1c.1T==="1k"&&P==="2s"){13.1x=13.1d.1Q();N=13.1x;13.1U=13.1d.6K();13.1c.1e=N.1e;13.1c.1f=N.1f}1l{13.1c.1e=(O.6l==="%")?2l(O.1e/2z)*N.1e:6n(O.1e);13.1c.1f=(O.6p==="%")?2l(O.1f/2z)*N.1f:6n(O.1f)}}if(13.1c.1T==="3Y"){J=1o.2k(1o.2k(13.1c.1e/13.3j.1e,13.1c.1f/13.3j.1f),1);13.1c.1e=13.3j.1e*J;13.1c.1f=13.3j.1f*J}13.1c.1e=1o.3H(13.1c.1e);13.1c.1f=1o.3H(13.1c.1f);13.1c.aF=13.1c.1e/13.1c.1f;13.1c.1d.1H({1e:13.1c.1e,1f:13.1c.1f});if(L){N=13.1K?13.6c.1Q():13.1c.1d.1Q();if(!13.1K&&(13.6L.1e*13.6L.1f)/(13.3j.1e*13.3j.1f)>0.8){13.1D.1e=1.5*13.3j.1e;13.1D.1f=1.5*13.3j.1f}1l{13.1D=z.3n(13.3j)}}if(13.1c.1T!==1i&&!13.1c.2i&&!(13.1K&&13.1s("4Y")==="41")){if((13.6L.1e*13.6L.1f)/(13.1D.1e*13.1D.1f)>0.8){13.1D=z.3n(13.3j);13.1c.6q(1i)}1l{13.1c.6q(1u)}}13.1c.1q.1H({1e:13.1D.1e,1f:13.1D.1f});13.1D.5r=13.1D.1e;13.1D.6w=13.1D.1f;K=13.1c.1d.aA();13.1c.4W=1o.3H(K.1e);13.1c.4i=1o.3H(K.1f);13.1n.1e=1o.3H(13.1c.4W/(13.1D.1e/13.1x.1e));13.1n.1f=1o.3H(13.1c.4i/(13.1D.1f/13.1x.1f));13.1n.1d.1H({1e:13.1n.1e,1f:13.1n.1f});13.1n.1q.1H(13.1x);z.1Z(13.1n,13.1n.1d.1Q());if(13.1c.2i){3e(13.3o);13.3o=1h;if(13.1n.5l){13.1n.2J.x*=(13.1x.1e/M.1e);13.1n.2J.y*=(13.1x.1f/M.1f);Q.x=13.1n.3D.x;Q.y=13.1n.3D.y}1l{Q.x=13.1U.1N+13.1n.1e/2+(13.1n.2J.x*(13.1x.1e/M.1e));Q.y=13.1U.1F+13.1n.1f/2+(13.1n.2J.y*(13.1x.1f/M.1f))}13.4X(1h,Q)}},6Q:17(N){1a Q;1a P;1a J;1a O;1a M;1a L;1a K=g(13.1d).1L("cr");J=a(5);M=13.1c.2h;O=13.1K?"2s":13.1c.3X?"3X":13.1s("1k-2h");L=13.1K&&13.1c.1T==="1k"?13.e8:1m.3A;if(13.1K){J.y=0;J.x=0}if(!N){13.6t(1u,O)}Q=13.1U.1F;if(13.1c.1T!=="2H"){if(N){13.6t(1i);1b}3Z(O){1A"2s":1A"3X":Q=0;P=0;1B;1A"1F":Q=13.1U.1F-13.1c.1f-13.1s("1k-52");if(J.1F>Q){Q=13.1U.2N+13.1s("1k-52");O="2N"}P=13.1U.1N;1B;1A"2N":Q=13.1U.2N+13.1s("1k-52");if(J.2N<Q+13.1c.1f){Q=13.1U.1F-13.1c.1f-13.1s("1k-52");O="1F"}P=13.1U.1N;1B;1A"1N":P=13.1U.1N-13.1c.1e-13.1s("1k-52");if(J.1N>P&&J.2D>=13.1U.2D+13.1s("1k-52")+13.1c.1e){P=13.1U.2D+13.1s("1k-52");O="2D"}1B;1A"2D":1Y:P=13.1U.2D+13.1s("1k-52");if(J.2D<P+13.1c.1e&&J.1N<=13.1U.1N-13.1c.1e-13.1s("1k-52")){P=13.1U.1N-13.1c.1e-13.1s("1k-52");O="1N"}1B}3Z(13.1s("1k-2h")){1A"1F":1A"2N":if(J.1F>Q||J.2N<Q+13.1c.1f){O="2s"}1B;1A"1N":1A"2D":if(J.1N>P||J.2D<P+13.1c.1e){O="2s"}1B;1Y:}13.1c.2h=O;if(!13.1c.2B&&!13.1c.2i){if(z.1g.2F&&!13.1K&&(13.1c.1T==="1k"||13.1c.1T===1i&&13.1s("2P"))){if(13.1s("2P")){13.1c.6q(O!=="2s")}1l{if(13.1s("4Z")!=="2V"){13.1c.6I=O==="2s"?"2V":13.1s("4Z");13.dA();13.eR();13.aw(13.1c.6I==="2V");13.ax(13.1c.6I==="2V"&&!13.1s("2P"))}}13.66(1i,1h,!13.1q.2a())}1b}13.6t(1i);if(N){1b}if(O==="3X"){L=13.1c.3X;J.y=0;J.x=0}if(O==="2s"){if(13.1c.1T!=="3Y"){13.1c.1d.1M("1p-2s");13.1d.1M("1p-2s-1k")}13.1n.3R();Q=13.1U.1F+J.y;P=13.1U.1N+J.x;Q=0;P=0;if(!13.1K){L=13.1d}}1l{Q+=J.y;P+=J.x;13.1d.29("1p-2s-1k");13.1c.1d.29("1p-2s")}13.1c.1d.1H({1F:Q,1N:P})}1l{13.6t(1i);L=13.1d;if(z.1g.2F&&!13.1K&&!13.1c.2B&&!13.1c.2i){13.66(1i,1h,!(13.1s("8e")&&13.1q.2a()))}}13.1c.1d[13.1K?"1M":"29"]("1p-1K");if(!13.1K&&K){K.2O(13.1c.1T==="1k"&&O==="2s"?13.1c.1d:13.1d,((1o.4T(1o.6v()*dm)+1)%2)?"1F":"2N")}13.1c.1d.2O(L)},eE:17(P){1a L;1a J;1a N;1a M;1a O=1i;1a K=P.9G?5:3/54;if(!13.1c.2i){1b}g(P).2t();K=(2z+K*1o.3C(P.88))/2z;if(P.88<0){K=1/K}if(13.1c.1T==="2H"){J=1o.2e(2z,1o.6x(13.1c.1e*K));J=1o.2k(J,13.1x.1e*0.9);N=J/13.1c.aF;13.1c.1e=1o.3H(J);13.1c.1f=1o.3H(N);13.1c.1d.1H({1e:13.1c.1e,1f:13.1c.1f});L=13.1c.1d.aA();13.1c.4W=1o.3H(L.1e);13.1c.4i=1o.3H(L.1f);O=1u}1l{if(!13.1K&&13.1c.1T==="1k"){J=1o.2e(13.1x.1e,1o.6x(13.1D.1e*K));J=1o.2k(J,13.1D.5r);N=J/(13.1D.5r/13.1D.6w);13.1D.1e=1o.3H(J);13.1D.1f=1o.3H(N)}1l{1b}}M=g(1j).6u();13.1n.1e=(13.1c.4W/(13.1D.1e/13.1x.1e));13.1n.1f=(13.1c.4i/(13.1D.1f/13.1x.1f));13.1n.1d.1H({1e:13.1n.1e,1f:13.1n.1f});z.1Z(13.1n,13.1n.1d.1Q());if(13.1c.2i){3e(13.3o);13.3o=1h;if(O){13.3o=1u}13.4X(1h,{x:P.x-M.x,y:P.y-M.y});if(O){13.3o=1h}}},aw:17(L){1a K;1a J=L?"3r 1X":"5h"+(1j.3m.64?" 5g":1j.3m.7U?" eY":"")+(1j.3m.64?" 4b":1j.3m.7U?" 9b":" 6s");1a M=13.1d.1L("1p:3S:4L:fn",(!L)?g(17(N){if(N.5N()&&!N.4x()){1b}if(N&&N.2j==="33"&&N.1z!=="5g"){1b}K=(z.1g.2U<9)?z.1Z({},N):N;if(!13.5m){3e(13.5m);13.5m=4N(g(17(){13.4L(K)}).1I(13),jt)}}).2M(13):g(13.4L).2M(13));13.1d.2y("1p:3S:4L:1r",J).1C(J,M,10)},dA:17(){1a J=13.1d.1L("1p:3S:4L:1r");1a K=13.1d.1L("1p:3S:4L:fn");13.1d.1P(J,K);13.1d.2m("1p:3S:4L:fn")},ax:17(K){1a J="3J";if(1j.3m.64){J+=" 3F aX 4b"}1l{if(1j.3m.7U){J+=" eW e9 9b"}1l{J+=" 9a 6s"}}if(K){if(13.1K||z.1g.2F){J="3r 1X"}1l{J+=" 3r 1X"}}1a L=13.1d.1L("1p:3S:4B:fn",g(17(N){if(N.5N()&&!N.4x()){1b}if(N&&N.1z==="3F"&&N.2j!=="33"){1b}if(N&&(N.1z==="4b"||N.1z==="9b"||N.1z==="6s")){if(!13.2u||!13.1c.4V||!13.1c.2i){1b}1a M=N.76();if(M.x<13.1U.1N||M.x>13.1U.2D||M.y<13.1U.1F||M.y>13.1U.2N){13.4B(N);1b}}1l{if(13.1c.1d!==N.7S()&&!((13.1c.2h==="2s"||13.1c.1T==="2H")&&13.1c.1d.9Y(N.7S()))&&!13.1d.9Y(N.7S())){13.4B(N);1b}}}).2M(13));13.1d.2y("1p:3S:4B:1r",J).1C(J,L,20)},eR:17(){1a J=13.1d.1L("1p:3S:4B:1r");1a K=13.1d.1L("1p:3S:4B:fn");13.1d.1P(J,K);13.1d.2m("1p:3S:4B:fn")},9h:17(){1a J="5V";if(z.1g.51!=="7M"){if(1j.3m.64){J+=" 4b"}1l{if(1j.3m.7U){J+=" 9b"}1l{J+=" 6s"}}}1a K=13.1d.1L("1p:3S:4X:fn",g(13.4X).2M(13));13.1d.2y("1p:3S:4X:1r",J).1C(J,K)},c5:17(){1a J=13.1d.1L("1p:3S:4X:1r");1a K=13.1d.1L("1p:3S:4X:fn");13.1d.1P(J,K)},eH:17(){13.bH=13.5j.1I(13);13.1d.1C(["5h",1j.3m.64?"5g":"eY"],g(17(J){if((z.1g.80)&&13.1s("4v")&&13.1s("4Z")!=="2V"&&J.1z==="5h"){J.4l();if(z.1g.6M){J.5u()}}if(!13.1c.2i){1b}if(13.1c.2h==="2s"&&J.4x()){13.1n.3D=J.76()}}).2M(13),10);13.1d.1C(["3J",1j.3m.64?"3F":"eW"],g(17(J){if(J.5N()&&J.4x()){13.1n.7c=1i}}).2M(13),10);13.9h();if(13.1s("4v")){13.aw(13.1s("4Z")==="2V");13.ax(13.1s("4Z")==="2V")}13.1d.1C("69",17(J){J.5u()},10).1C("1X",g(17(J){13.1d.eV("eX","2V");if(13.1K){13.6c.2I("1X",J)}}).1I(13),15);if(13.1s("2P")){13.1d.1C("2f 1X",g(13.2P).2M(13),15)}1l{13.1d.1C("2f 1X",g(13.9E).2M(13),15)}if(13.4q.1G>1){13.bQ()}if(!z.1g.2F&&13.1s("eG")){13.1d.1C("4F",13.eE.2M(13))}if(z.1g.2F){13.cP()}g(1j).1C(z.1g.2F?"9c":"9c 9d",13.aW);if(13.1s("eD")){g(1j).1C("cG",13.aQ)}},ec:17(){if(13.1d){13.1d.1P("4F")}g(1j).1P("9c 9d",13.aW);if(13.1s("eD")){g(1j).1P("cG",13.aQ)}g(13.4q).3h(17(J){g(J.4o).bc()})},4L:17(P){1a Q;1a O;1a M;1a N;1a J;1a K=0;1a L=0;if(!13.1q.2a()||!13.2u||!13.1c.4V||13.1c.2i||13.1c.2B){if(!13.1q.2a()&&!13.5i){if(P){13.5i=d(P);P.5c()}13.1q.5d(13.8d.1I(13));if(!13.5a){13.5a=g(13.8b).1I(13).2G(9i)}}1b}if(P&&P.1z==="4b"&&P.2j==="33"){1b}if(!13.1s("4v")&&13.1s("2P")&&!13.1K){13.1c.2i=1u;1b}13.1c.2B=1u;if(13.1K&&13.1c.1T==="1k"){N=13.1q.1d.81();13.9j.1M("1p-1k-in");J=13.9e.81();L=((N.1N+N.2D)/2-(J.1N+J.2D)/2);K=((N.1F+N.2N)/2-(J.1F+J.2N)/2)}13.1c.1q.1P("3i");13.1c.1d.29("1p-7L").1P("3i");13.1c.1d.1M("1p-2B");13.1d.1M("1p-2B");13.6Q();O=(13.1c.1T==="1k")?13.1c.2h:13.1c.1T;if(z.1g.2R.2v&&!(13.1K&&13.1s("4Y")==="41")){if(O==="2s"){M=13.1q.1d.1Q();13.1c.1q.1H({2L:"6b(0,"+K+"2Q, 0) 3T("+M.1e/13.1D.1e+", "+M.1f/13.1D.1f+")"}).1Q();13.1c.1q.1C("3i",g(17(){13.1c.1q.1P("3i");13.1c.1d.29("1p-2B 1p-p-"+O);13.1c.2B=1i;13.1c.2i=1u}).1I(13));13.1c.1d.1M("1p-p-"+O).1Q();if(!z.1g.2F&&z.1g.6a&&(z.1g.5s==="6a"||z.1g.5s==="7i")){13.1c.2B=1i;13.1c.2i=1u}}1l{13.1c.1d.1C("3i",g(17(){13.1c.1d.1P("3i");13.1c.1d.29("1p-2B 1p-p-"+O)}).1I(13));13.1c.1d.1H({2v:"2T"});13.1c.1d.1M("1p-p-"+O).1Q();13.1c.1d.1H({2v:""}).1Q();13.1c.1d.29("1p-p-"+O);13.1c.2B=1i;13.1c.2i=1u}}1l{13.1c.1d.29("1p-2B");13.1c.2B=1i;13.1c.2i=1u}if(!13.1K){13.66(1u)}if(P){P.2t().5c();Q=P.76();if(13.1c.1T==="2H"&&(/2f/i).36(P.1z)){Q.y-=13.1c.1f/2+10}if(O==="2s"&&((/2f/i).36(P.1z)||P.5N())){13.1n.2J={x:0,y:0};Q.x=-(Q.x-13.1U.1N-13.1x.1e/2)*(13.1D.1e/13.1x.1e);Q.y=-(Q.y-13.1U.1F-13.1x.1f/2)*(13.1D.1f/13.1x.1f)}}1l{Q={x:13.1U.1N+(13.1U.2D-13.1U.1N)/2,y:13.1U.1F+(13.1U.2N-13.1U.1F)/2};if(z.1g.2F&&13.1K&&13.1s("4Y")==="41"){13.1n.5l=1u;13.1n.2J={x:0,y:0};Q.x=-(Q.x-13.1U.1N-13.1x.1e/2)*(13.1D.1e/13.1x.1e);Q.y=-(Q.y-13.1U.1F-13.1x.1f/2)*(13.1D.1f/13.1x.1f)}}13.1d.29("1p-2B").1M("1p-2i");Q.x+=-L;Q.y+=-K;13.1n.3D={x:0,y:0};13.1n.dx=0;13.1n.dy=0;13.4X(P,Q,1u);s("aM",13.id)},4B:17(L,Q){1a O;1a M;1a J;1a K;1a N=0;1a P=0;1a R=13.1c.2i;13.5i=1h;if(!13.2u){1b}if(L&&L.1z==="aX"&&L.2j==="33"){1b}3e(13.3o);13.3o=1h;3e(13.5m);13.5m=1h;13.1c.2B=1i;13.1c.2i=1i;if(Q!==1u&&!13.1K){if(R){if(z.1g.2F&&!13.1K&&13.1c.1T==="1k"){13.6Q()}1l{13.66()}}}if(!13.1c.4V){1b}if(L){L.2t()}13.1c.1q.1P("3i");13.1c.1d.29("1p-2B").1P("3i");if(13.1K){K=13.9e.81();if(13.1s("4Y")!=="41"){13.9j.29("1p-1k-in")}13.1q.1d.1H({"2e-1f":13.83()});J=13.1q.1d.81();P=((J.1N+J.2D)/2-(K.1N+K.2D)/2);N=((J.1F+J.2N)/2-(K.1F+K.2N)/2)}O=(13.1c.1T==="1k")?13.1c.2h:13.1c.1T;if(z.1g.2R.2v&&L&&!(13.1K&&13.1s("4Y")==="41")){if(O==="2s"){13.1c.1q.1C("3i",g(17(){13.1c.1q.1P("3i");13.1d.29("1p-2i");4N(g(17(){13.1c.3R()}).1I(13),32)}).1I(13));M=13.1q.1d.1Q();13.1c.1d.1M("1p-7L 1p-p-"+O).1Q();13.1c.1q.1H({2L:"6b(0,"+N+"2Q,0) 3T("+M.1e/13.1D.5r+", "+M.1f/13.1D.6w+")"})}1l{13.1c.1d.1C("3i",g(17(){13.1c.3R();13.1d.29("1p-2i")}).1I(13));13.1c.1d.3g("2C");13.1c.1d.1M("1p-7L 1p-p-"+O);13.1d.29("1p-2i")}}1l{13.1c.3R();13.1d.29("1p-2i")}13.1n.dx=0;13.1n.dy=0;13.1n.3D={x:0,y:0};13.1n.3R();if(R){s("bE",13.id)}},4X:17(T,S,R){1a L=S;1a N;1a M;1a P=0;1a K;1a O=0;1a J;1a U;1a Q=1i;if(!13.1c.2i&&!R){1b}if(T){g(T).4l().5u();if(T.5N()&&!T.4x()){1b}Q=(/2f/i).36(T.1z)||T.5N();if(Q&&!13.1n.7c){13.1n.7c=Q}if(!L){L=T.76()}}if(13.1c.1T==="3Y"){1b}if(13.1c.1T==="1k"&&13.1c.2h==="2s"&&(T&&Q||!T&&13.1n.5l)){13.1n.5l=1u;N=13.1n.2J.x+(L.x-13.1n.3D.x);M=13.1n.2J.y+(L.y-13.1n.3D.y);13.1n.3D=L;P=1o.2k(0,13.1c.4W-13.1D.1e)/2;K=-P;O=1o.2k(0,13.1c.4i-13.1D.1f)/2;J=-O}1l{13.1n.5l=1i;if(13.1c.1T==="2H"){L.y=1o.2e(13.1U.1F,1o.2k(L.y,13.1U.2N));L.x=1o.2e(13.1U.1N,1o.2k(L.x,13.1U.2D))}N=L.x-13.1U.1N;M=L.y-13.1U.1F;K=13.1x.1e-13.1n.1e;J=13.1x.1f-13.1n.1f;N-=13.1n.1e/2;M-=13.1n.1f/2}if(13.1c.1T!=="2H"){N=1o.2e(P,1o.2k(N,K));M=1o.2e(O,1o.2k(M,J))}13.1n.2J.x=N;13.1n.2J.y=M;if(13.1c.1T==="1k"){if(z.1g.2R.2L){13.1n.1d.1H({2L:"93("+13.1n.2J.x+"2Q,"+13.1n.2J.y+"2Q)"});13.1n.1q.1H({2L:"93("+-(13.1n.2J.x+13.1n.3B.x)+"2Q, "+-(13.1n.2J.y+13.1n.3B.y)+"2Q)"})}1l{13.1n.1d.1H({1F:13.1n.2J.y,1N:13.1n.2J.x});13.1n.1q.1H({1F:-(13.1n.2J.y+13.1n.3B.y),1N:-(13.1n.2J.x+13.1n.3B.x)})}}if(13.1c.1T==="2H"){if(13.1n.7c&&!(T&&T.1z==="3r")){L.y-=13.1c.1f/2+10}13.1c.1d.1H({1F:L.y-13.1U.1F-13.1c.1f/2,1N:L.x-13.1U.1N-13.1c.1e/2})}if(!13.3o){13.1n.dx=0;13.1n.dy=0;13.5j(1)}},5j:17(O){1a M;1a K;1a J;1a P;1a N;1a L;if(!ll(O)){if(13.1n.5l){O=13.1n.7c?0.4:0.16}1l{O=13.1s("bw")?0.2:13.1n.7c?0.4:0.8}}M=((13.1n.2J.x-13.1n.dx)*O);K=((13.1n.2J.y-13.1n.dy)*O);13.1n.dx+=M;13.1n.dy+=K;if(!13.3o||1o.3C(M)>0.9Q||1o.3C(K)>0.9Q){if(13.1n.5l){J=13.1n.dx;P=13.1n.dy}1l{J=(13.1n.dx*(13.1D.1e/13.1x.1e)-1o.2e(0,13.1D.1e-13.1c.4W)/2);P=(13.1n.dy*(13.1D.1f/13.1x.1f)-1o.2e(0,13.1D.1f-13.1c.4i)/2);if(13.1c.1T==="2H"){J=1o.6x(J);P=1o.6x(P)}J=-J;P=-P}N=13.1D.1e/13.1D.5r;L=13.1D.1f/13.1D.6w;13.1c.1q.1H(z.1g.2R.2L?{2L:f+J+"2Q,"+P+"2Q"+C+" 3T("+N+","+L+")"}:{1e:13.1D.1e,1f:13.1D.1f,1N:-(13.1n.dx*(13.1D.1e/13.1x.1e)+1o.2k(0,13.1D.1e-13.1c.4W)/2),1F:-(13.1n.dy*(13.1D.1f/13.1x.1f)+1o.2k(0,13.1D.1f-13.1c.4i)/2)})}if(13.1c.1T==="2H"){1b}13.3o=4N(13.bH,16)},bQ:17(){1a V;1a L;1a Q=30;1a N=js;1a S;1a T="";1a K={};1a J;1a P;1a U=0;1a W={2v:z.1g.a2+9f.bx(32)+"cH 7X-7W(.18,.35,.58,1)"};1a M;1a R;1a O=g(17(X){if(!13.2u||13.1c.2i){1b}if(X.2c==="3M"){3e(13.5m);13.5m=1h;U=0;K={x:X.x,y:X.y,cA:X.2A};V=13.1x.1e;L=V/2;13.1q.1d.1P("3i");13.1q.1d.6y("2v","");13.1q.1d.6y("2L","6b(0, 0, 0)");R=1h}1l{J=(X.x-K.x);P={x:0,y:0,z:0};if(R===1h){R=(1o.3C(X.x-K.x)<1o.3C(X.y-K.y))}if(R){1b}X.2t();if(X.2c==="a1"){U=0;M=1h;S=X.2A-K.cA;if(1o.3C(J)>L||(S<N&&1o.3C(J)>Q)){if((T=(J>0)?"cC":(J<=0)?"ji":"")){if(T==="cC"){M=13.9l();U+=V*10}1l{M=13.9m();U-=V*10}}}P.x=U;P.cL=-90*(P.x/V);13.1q.1d.1C("3i",g(17(Y){13.1q.1d.1P("3i");13.1q.1d.6y("2v","");if(M){13.1q.1d.1H({2L:"6b("+P.x+"2Q, 6W, 6W)"});13.4E(M,1u)}}).1I(13));13.1q.1d.1H(W);13.1q.1d.1H({"2v-5p":P.x?"j6":"cH",2C:1-0.2*1o.3C(P.x/V),2L:"6b("+P.x+"2Q, 6W, 6W)"});J=0;1b}P.x=J;P.z=-50*1o.3C(P.x/L);P.cL=-60*(P.x/L);13.1q.1d.1H({2C:1-0.2*1o.3C(P.x/L),2L:"6b("+P.x+"2Q, 6W, "+P.z+"2Q)"})}}).1I(13);13.1d.1C("2q",O)},cP:17(){1a L={1e:0,1f:0};1a N=1i;1a M;1a K=g(17(S,O,R){1a P;1a Q;if(!13.1c.2i&&!R){1b}1a T=z.3n(13.1D);P=1o.2e(M.1e,1o.6x(L.1e*S));P=1o.2k(P,13.1D.5r);Q=P/(13.1D.5r/13.1D.6w);13.1D.1e=1o.4T(P);13.1D.1f=1o.4T(Q);13.1n.1e=1o.3H(13.1c.4W/(13.1D.1e/M.1e));13.1n.1f=1o.3H(13.1c.4i/(13.1D.1f/M.1f));13.1n.1d.1H({1e:13.1n.1e,1f:13.1n.1f});z.1Z(13.1n,13.1n.1d.1Q());3e(13.3o);13.3o=1h;O.x=13.1n.3D.x*(13.1D.1e/T.1e)+(O.x-13.1U.1N-13.1x.1e/2)*(1-(13.1D.1e/T.1e));O.y=13.1n.3D.y*(13.1D.1f/T.1f)+(O.y-13.1U.1F-13.1x.1f/2)*(1-(13.1D.1f/T.1f));13.1n.3D={x:0,y:0};13.1n.2J={x:0,y:0};13.1n.5l=1u;13.4X(1h,{x:O.x,y:O.y});3e(13.3o);13.3o=1h}).1I(13);1a J=g(17(Q){if(!N&&Q.2c!=="57"&&!Q.c2){1b}Q.2t();1a P=g(1j).6u();1a O=1i;1a R={x:Q.5L.x-P.x,y:Q.5L.y-P.y};3Z(Q.2c){1A"57":13.c5();L=z.3n(13.1D);if(13.1K){M=13.1q.1d.1Q()}1l{M=13.1x}3e(13.3o);13.3o=1h;if(13.1c.2i){13.1n.3D=z.3n(13.1n.2J)}N=1u;1B;1A"c7":N=1i;if(13.1c.2i){if(13.1s("4Y")!=="41"&&13.1D.1e<=M.1e&&13.1D.1f<=M.1f){N=1i;13.4B(1h)}1l{if(Q.5z.1G>0){13.1n.3D={x:Q.5z[0].3d,y:Q.5z[0].3c}}}}13.9h();1B;1A"c8":1B;1A"cf":if(13.1K&&Q.1k===-1&&(!13.1c.2i||13.1s("4Y")==="41")){if(Q.3T<l){13.7o()}}1l{if(13.1K&&Q.1k===1&&13.1s("4Y")==="41"){}1l{if(13.1s("2P")&&!13.1K){if(Q.3T>B){N=1i;13.9h();13.2P(Q);1b}}1l{if(Q.1k===1&&!13.1c.2i){if(!13.1q.2a()||!13.2u||!13.1c.4V){if(!13.1q.2a()&&!13.5i){if(Q){13.5i=d(Q);Q.5c()}13.1q.5d(13.8d.1I(13));if(!13.5a){13.5a=g(13.8b).1I(13).2G(9i)}}1b}13.1c.2B=1u;if(13.1K&&13.1c.1T==="1k"){13.9j.1M("1p-1k-in")}13.1c.1q.1P("3i");13.1c.1d.29("1p-7L").1P("3i");13.1c.1d.1M("1p-2B");13.1d.1M("1p-2B");13.6Q();13.1D.1e=M.1e;13.1D.1f=M.1f;13.1c.2B=1i;13.1c.2i=1u;L=z.3n(13.1D);13.1c.1d.29("1p-2B");13.1d.29("1p-2B").1M("1p-2i");13.1n.3D={x:0,y:0};13.1n.2J={x:0,y:0};O=1u}K(Q.3T,R,O);if(O){s("aM",13.id)}}}}1B}}).1I(13);13.1d.1C("1J",J)},c6:17(){1a J=1m.iu();g(["7H","7m","7o"]).3h(17(L){1a K="1p-3z";13.4M[L]=z.$1y("3z",{7p:13.1s("9k-im-"+L)}).1M(K).1M(K+"-"+L);J.c1(13.4M[L]);3Z(L){1A"7H":13.4M[L].1C("2f 1X",17(M){M.2t();13.4E(13.9l())}.2M(13));1B;1A"7m":13.4M[L].1C("2f 1X",17(M){M.2t();13.4E(13.9m())}.2M(13));1B;1A"7o":13.4M[L].1C("2f 1X",17(M){M.2t();13.7o()}.2M(13)).3R();1B;1Y:}},13);13.cU(13.4q.1G>1);13.bW=z.$1y("3k").1M("1p-ib-iM").3l(J).2O(13.1d)},cU:17(J){if(J){13.4M.7m.63();13.4M.7H.63()}1l{13.4M.7m.3R();13.4M.7H.3R()}},9E:17(){if(13.1q.4w){1j.9D(13.1q.4w,"iK")}},9m:17(){1a J=(13.1K?13.aC:13.4q).2Z(17(M){1b(M.1S.2c!==-1||M.1k.2c!==-1)});1a K=J.1G;1a L=g(J).3W(13.1q)+1;1b(K<=1)?1h:J[(L>=K)?0:L]},9l:17(){1a J=(13.1K?13.aC:13.4q).2Z(17(M){1b(M.1S.2c!==-1||M.1k.2c!==-1)});1a K=J.1G;1a L=g(J).3W(13.1q)-1;1b(K<=1)?1h:J[(L<0)?K-1:L]},bL:17(K,L){1a J=13.4q.2Z(17(M){1b((M.1k.24.3N(K)||M.1k.21.3N(K))&&(M.1S.24.3N(L)||M.1S.21.3N(L)))})||[];1b J[0]||((L&&K&&z.1R(L)==="1V"&&z.1R(K)==="1V")?1y j(L,K):1h)},b8:17(K){1a J=13.4q.2Z(17(L){1b(L.4o===K)})||[];1b J[0]},ey:17(J){1b 13.4q[J]}};t={4c:"cD.3.2 1O l7.l6",4g:17(M,K){1a L=1h;1a J=[];z.$A((M?[g(M)]:z.$A(1m.9P("9L")).5v(z.$A(1m.9P("b7"))))).3h(g(17(N){if(g(N)){if(!h(N)){L=1y i(N,K);if(x&&!L.1s("aI")){L.2t();L=1h}1l{G.2W(L);J.2W(L)}}}}).1I(13));1b M?J[0]:J},2t:17(M){1a K,L,J;if(M){(L=h(M))&&(L=G.7J(G.3W(L),1))&&L[0].2t()&&(4Q L[0]);1b}5U(K=G.1G){L=G.7J(K-1,1);L[0].2t();4Q L[0]}},l5:17(J){13.2t(J);1b 13.4g(J)},4E:17(O,N,M,K){1a L=h(O);1a J;if(L){J=z.1R(N)==="6f"?L.b8(N):L.bL(N,M);if(J){L.4E(J)}}},l0:17(M,L){1a K=h(M);1a J;if(K){3Z(z.1R(L)){1A"6f":J=K.b8(L);1B;1A"5I":J=K.ey(L);1B;1Y:}if(J){K.4E(J)}}},7H:17(K){1a J;(J=h(K))&&J.4E(J.9l())},7m:17(K){1a J;(J=h(K))&&J.4E(J.9m())},kQ:17(K){1a J;(J=h(K))&&J.4L()},l9:17(K){1a J;(J=h(K))&&J.4B()},dN:17(J,K){if(!p[J]){p[J]=[]}if(z.1R(K)==="17"){p[J].2W(K)}},lk:17(J){1b!!h(J)}};g(1m).1C("9n",17(){1a K=1j[E+"7d"]||{};r=r();c();I=z.$1y("3k",{"4r":"2K-4e-du"}).2O(1m.3A);H=(z.1g.2F&&1j.dn&&1j.dn("(2e-di-1e: dh), (2e-di-1f: dh)").kd);if(z.1g.2F){z.1Z(o,k)}if(H&&z.1g.51==="9o"){v=z.$1y("3k").1H({2h:"kz",1F:0,1e:0,1f:"ky"})}1O(1a J=0;J<A.1G;J++){if(K[A[J]]&&z.$F!==K[A[J]]){t.dN(A[J],K[A[J]])}}t.4g();x=1i});1j.b7=1j.b7||{};1b t})();',0,1325,"|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||this||||function|||var|return|zoomBox|node|width|height|browser|null|false|window|zoom|else|document|lens|Math|mz|image|event|option|Event|true|Custom|options|size|new|type|case|break|jAddEvent|zoomSize|handler|top|length|jSetCss|jBind|pinch|expanded|jFetch|jAddClass|left|for|jRemoveEvent|jGetSize|jTypeOf|small|mode|boundaries|string|img|btnclick|default|extend||url|||src||arguments|call||jRemoveClass|loaded|important|state||max|tap|style|position|active|pointerType|min|parseFloat|jDel|getAttribute||prototype|touchdrag|auto|inner|stop|ready|transition|undefined||jStore|100|timeStamp|activating|opacity|right|mousedrag|mobile|jDelay|magnifier|jCallEvent|pos|magic|transform|jBindAsEvent|bottom|jAppendTo|expand|px|features|enum|none|ieMode|click|push|try|listeners|filter||||touch|handle||test|hint|jRemove||defined|oneOf|clientY|clientX|clearTimeout|catch|jGetCss|jEach|transitionend|zoomSizeOrigin|div|append|navigator|detach|moveTimer|match|pageY|dbltap|Doc|pageX|target|instanceof|data|Class|init|button|body|border|abs|spos|Element|pointerup|originalImg|ceil|pointerId|touchend|hasOwnProperty|boolean|dragstart|has|webkit|contains|array|hide|handlers|scale|placeholder|dblbtnclick|indexOf|custom|preview|switch|pushToEvents|always||off|||||styles|caption|setAttribute|pointermove|version|replace|hidden|schema|start|reverse|innerHeight|changedTouches|parent|stopDefaults|documentElement|Array|origin|firstChild|additionalImages|class|css|J_TYPE|getDoc|zoomMode|link|isPrimaryTouch|direction|toLowerCase|parentNode|deactivate|trident|requestAnimationFrame|update|mousescroll|onTouchEnd|domPrefix|jTrim|space|visibility|activate|buttons|setTimeout|messageBox|removeAttribute|delete|pow|dragged|floor|constructor|enabled|innerWidth|animate|expandZoomOn|zoomOn||platform|distance||||engine|pinchstart||FX|loadTimer|variables|stopQueue|load|cubicBezier|jCamelize|pointerdown|touchstart|initEvent|move|add|innertouch|activateTimer|onTouchStart|addCSS|duration|identifier|maxWidth|uaName|figure|stopDistribution|concat|absolute|timer|expandBg|points|now|onload|J_UUID|nodeType|throw|kill|className|display|number|not|MSPOINTER_TYPE_TOUCH|centerPoint|onerror|isTouchEvent|mouseup|jGetPageXY|apply|getPrimaryTouch|onTouchMove|cssClass|while|touchmove|dppx|isQueueStopped|loadingBox|targetTouches|||getAbsoluteURL|show|pointerEnabled|shift|showHint|Object||mousedown|chrome|translate3d|expandBox|fullScreen|cache|element|getButton|no|changeContent|ease|temporary|wunits|join|parseInt|set|hunits|enable|render|mousemove|setSize|jGetScroll|random|maxHeight|round|jSetCssProp|originalTitle|currentSrc|overflow|onComplete|Infinity|hintRuns|padding|thumb|expandThumbs|trigger|callback|getBoundingClientRect|normalSize|gecko|to|toUpperCase|found|reflowZoom|TouchEvent|200|onready|ms|easeFn|0px|cycles|alternate|continuous||isPrimary|tooltip|_handlers|MagicJS|events|getClientXY||activepoints|threshold|tm|slice|touchmovement|Options|timedout|minimum|doc|onClick|opera|end|getPrimaryTouchId|typeof|next|parseCubicBezier|close|title|_EVENTS_|fromJSON|toString|byTag|_unbind|on|index|href|expandCaption|visible|_timer|crMz|hover|_cleanup|complete|readyState|zoomCaption|prev|originalImgSrc|splice|setCurNode|deactivating|android|oncomplete|object|reset|magiczoom|uaVersion|getRelated|scrollTop|msPointerEnabled|Transition|bezier|cubic|continue|split|androidBrowser|jGetRect||expandMaxHeight||||mac|deltaY|scrollLeft|createElement|showLoading|storage|setupZoom|lazyZoom|J_EUID|runtime|onprogress|exists|createEvent|normalizeCSS|win|dashize|_event_prefix_|forceAnimation|exitFullscreen|eventType|touchScreen|forEach|perspective|fallback|setVariables|mouseover|updateTimer|loadSmall|nextImage|XMLHttpRequest|isNaN|btnclickEvent|tagName|startAttempts|setProps|Opacity|cancelAnimationFrame|dblclick|compatMode|pStyles|pStyles_arr|hideTimer|relatedTarget|loopBind|_bind|Message|implement|callee|getStorage|xhr|svg|handleMouseUp|status|charAt|fromString||sqrt|cssFilters|translate|||selected|createTextNode|||mouseout|MSPointerMove|resize|scroll|expandFigure|String|linear|registerAnimateEvent|400|expandStage|text|getPrev|getNext|domready|ios|expandMaxWidth|started|getURL|loadImg|hideLoading|stopAnimation|naturalWidth|resizeTimer|J_EXT|cycle|Pltm|mgctlbx|forceTouch|Alpha|open|openLink|once|isMouse|opr|uuid|delay|querySelector|MagicZoom|hintMessage|removeChild|primaryImage|byClass|000001|presto|assign|startTime|Function|getElementsByTagName|onZoomReady|dispatchEvent|hasChild|hideFX|ifndef|dragend|cssTransform|caller|https|canvas|Tooltip|1000|maximum|picture|||||||||||||||||||Za||||registerActivateEvent|registerDeactivateEvent|cssDomPrefix|deltaX|getInnerSize|styles_arr|expandGallery|el_arr|onclick|aspectRatio|10000px|calc|autostart|parseNode|html|mzCrA|onZoomIn|inline|priority|onBeforeRender|onHistoryStateChange|_event_add_|errorEventName|HTMLElement|getElementsByClassName|capable|onResize|pointerout|05|startTimer|handleMouseDown|175|getTarget|changeEventName|ignore|PFX|0001|MagicZoomPlus|imageByOrigin|resizeCallback|_event_del_||jClearEvents|deltaMode|loadedBytes|textHoverZoomHint||span|cubicBezierAtTime|Date|getNode|rel|startSpace|onabort|zoomPosition|abort|loadZoom|textClickZoomHint|onreadystatechange|stopImmediatePropagation|Top|selectorTrigger|smoothing|fromCharCode|600|isReady|Left|jToBool|getComputedStyle|or|onZoomOut|loadBlob|Number|moveBind|Right|magicJS|styleFloat|imageByURL|msExitFullscreen|phone|mjs|Bottom|swipe|parseSchema|xhr2|addEventListener|DocumentTouch|045|navControlsLayer|easeOutSine|out|easeInSine|jGetPosition|appendChild|cloned|getElementById|compareDocumentPosition|unregisterAnimateEvent|setupButtons|pinchend|pinchresize|webkit419|easeOutExpo|clientWidth|euid|165||pinchmove|requestFullScreen|request|stopPropagation|cancelBubble|preventDefault|355|blur|which|03|easeInExpo|onAfterRender||setMessage|finishTime|wrap|onStart|jHasClass|999|interval|jSetOpacity|ts|fps|backward|v5|progid|loop|popstate|300ms|easeInQuad|animation|bounceIn|deg|DXImageTransform|Microsoft|elasticIn|pinchToZoom|easeOutBack|easeInBack|offsetWidth|easeOutCubic|toggleNavButtons|easeInCubic|easeOutQuad|handleMouseMove|removeRule|cancelFullScreen|date|rightClick|enclose|srcset|hideHint|replaceChild|cloneNode|textnode|loadOptions|expandZoomMode|shown|upscale|backcompat|getJSON|touchOptions|dragmove|10000|767px|device|mozCancelAnimationFrame|get|firefox|101|matchMedia||detail|ImageLoader|wheelDelta|wheelDeltaY|wheelDeltaX|wrapper|stylesId|nativize|||gif|unregisterActivateEvent|query|onUpdate|mouse|transitionEffect|UUID|clear|885|setupSelectors|zoomHeight|zoomWidth|RegExp|2147483647|registerCallback|color|setActiveThumb|setCaption|base64|getTime|R0lGODlhAQABAAD|ACwAAAAAAQABAAACADs|querySelectorAll|100000|setMode|textExpandHint|fontWeight|toArray|hone|od|margin|lineHeight|item|zIndex|scrollbarsWidth|expandImageStage|MSPointerOut|ua|sheet|unregisterEvents|progressiveLoad|crios|safari|Moz|moz|normal|cssPrefix|documentMode||backCompat|styleSheet|ver|charCodeAt||deleteRule|jDefer|error|300|getRatio|onxhrerror|304|imageByIndex|onEnter|coigmzaablav|onchange|onExit|history|changeZoomLevel|Webkit|variableZoom|registerEvents|block|10px|multibackground|background|screen|cssTransformProp|orientation|setInterval|insertRule|unregisterDeactivateEvent|rt|onswipe|cssText|jRaiseEvent|MSPointerUp|MouseEvent|MSPointerDown|screenY|getContext|screenX|userAgent|4294967296|detachEvent|air|map|KeyboardEvent|fullscreenEnabled|collection|UIEvent|msFullscreenEnabled|webkitexitFullscreen|windows|rules|getOriginalTarget|xxxx|generateUUID|removeCSS|evaluate||sort|KeyEvent||cssRules|head|v3|doScroll|startScale|getHashCode|420|edge|fireEvent|xy|xxxxxxxxxxxx|DOMContentLoaded|createEventObject|yxxx|xpath|toFloat|4xxx|regexp|Map|xxxxxxxx|jToInt|addRule|xda|maxTouchPoints|attachEvent|Up|red|kindle|2px|vodafone|iris|cssfilters|iemobile|TransitionEvent|WebKitTransitionEvent|webkitTransitionEnd|lt|536|figcaption|Down|Move|lge|Over|Out|pointer|MSPointer|fullscreenElement|FullscreenElement||webkitIsFullScreen|FullScreen|requestFullscreen|RequestFullscreen|RequestFullScreen|cancel|ExitFullscreen|CancelFullScreen|9999|maemo|fullscreenchange|unknown|up|treo|symbian|series|xiino|psp|pocket|ActiveXObject|getBoxObjectFor|plucker|re|mozInnerScreenY|WebKitPoint|taintEnabled|webos|webkitCancelRequestAnimationFrame|webkitRequestAnimationFrame|msCancelAnimationFrame|oCancelAnimationFrame|midp|mmp|msRequestAnimationFrame|oRequestAnimationFrame|mozRequestAnimationFrame|ixi|netfront|ob|palm|os|other|linux|MSFullscreenChange|MSFullscreenError|removeEventListener|presto925|clientLeft|offsetLeft|offsetTop|offsetParent|ProgressEvent|innerHTML|innerText|childNodes|insertBefore|jGetStyle|jSetStyle|msCancelFullScreen|iframe|DOMElement|clientHeight|jGetFullScroll|returnValue|webkitCancelFullScreen|toElement|fromElement|MSPointerOver|pointerover|srcElement|wap|pageXOffset|mozCancelFullScreen|oCancelFullScreen|scrollHeight|scrollWidth|jGetFullSize|pageYOffset|clientTop|offsetHeight|fullscreenerror|meego|prefix|activeElement|hiptop|fennec|Width|elaine|compal|blazer|blackberry|bada|float|cssFloat|avantgo|getPropertyValue|msMaxTouchPoints|FormData|w3|jGetTransitionDuration|withCredentials|implementation|hasFeature|http|www|org|ontouchstart|TR|SVG11|feature|jGetStyles|Image|jToggleClass|currentStyle|mbgme3|zwbk3|location|Click|textBtnNext|Next|textBtnPrev|Previous|Touch|Double|nav|onExpandOpen||||onExpandClose|devicePixelRatio|host|zoomDistance|coigmzk|zg|btn||kh3||fzz|yyy|coigmtaac|zfg|createDocumentFragment|zo|ikz3|Qlbo|Hover|convert|gz5|MagicToolboxTooltip|quadOut|cubicIn|cubicOut|backIn|backOut|cos|PI|elasticOut|_self|bounceOut|controls|MessageBox|Cannot|500|NEGATIVE_INFINITY|POSITIVE_INFINITY|JSON|parse|Incorrect|definition|of|the|parameter|isset|TypeError|maba|zkvz|expoOut|256|PICTURE|100ms|contextmenu|fontSize|fontFamily|sans|serif|textAlign|2em|font|dummy|SVGImage|expandNav|forward|relative|160|350|320|selectItem|selector|message|0ms|loading|201|120|MobileOptions|mobileZoomHint|jkma|mgctlbxV|ozga|0Coigm|Taac|ojk5|gob|xk|o0|ff0000|center|mgctlbxN|MZ|mgctlbxL|mzId|mgctlbxP|z0|9_|scrollTo|availWidth|availHeight|250|before|radius|rev|selectstart|stubNode|quadIn|5000|expoIn|sineOut|roundCss|setTransition|curFrame|clearInterval||745|715|575|565|easeInOutSine|085|naturalHeight|matches|easeInOutQuad|455|515|955|055|675|215|easeInOutCubic|645|infinite|destroy|895|URL|delta|deltaZ|deltaFactor|000244140625|onwheel|wheel|mousewheel|100vh|fixed|webkitURL|send|lengthComputable|total|static|progress|response|537|createObjectURL|GET|responseType|blob|easeInQuart|445|685|785|zoomIn|easeInOutExpo|easeInCirc|04|335|easeOutCirc|075|easeOutQuart|135|035|switchTo|735|275|easeInOutBack|265|refresh|com|MagicToolbox|sineIn|zoomOut|easeInOutCirc||795|easeInOutQuint|easeInOutQuart|easeInQuint|755|855|06|easeOutQuint|running|isFinite|07".split("|"),0,{}));
/* == jquery mousewheel plugin == Version: 3.1.13, License: MIT License (MIT) */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});
/* == malihu jquery custom scrollbar plugin == Version: 3.1.5, License: MIT License (MIT) */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var o="function"==typeof define&&define.amd,a="undefined"!=typeof module&&module.exports,n="https:"==document.location.protocol?"https:":"http:",i="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";o||(a?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+n+"//"+i+"%3E%3C/script%3E"))),t()}(function(){var t,o="mCustomScrollbar",a="mCS",n=".mCustomScrollbar",i={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,l={},s=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],u={init:function(t){var t=e.extend(!0,{},i,t),o=f.call(this);if(t.live){var s=t.liveSelector||this.selector||n,c=e(s);if("off"===t.live)return void m(s);l[s]=setTimeout(function(){c.mCustomScrollbar(t),"once"===t.live&&c.length&&m(s)},500)}else m(s);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":p(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=g(t.scrollButtons.scrollType),h(t),e(o).each(function(){var o=e(this);if(!o.data(a)){o.data(a,{idx:++r,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:o.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var n=o.data(a),i=n.opt,l=o.data("mcs-axis"),s=o.data("mcs-scrollbar-position"),c=o.data("mcs-theme");l&&(i.axis=l),s&&(i.scrollbarPosition=s),c&&(i.theme=c,h(i)),v.call(this),n&&i.callbacks.onCreate&&"function"==typeof i.callbacks.onCreate&&i.callbacks.onCreate.call(this),e("#mCSB_"+n.idx+"_container img:not(."+d[2]+")").addClass(d[2]),u.update.call(null,o)}})},update:function(t,o){var n=t||f.call(this);return e(n).each(function(){var t=e(this);if(t.data(a)){var n=t.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container"),l=e("#mCSB_"+n.idx),s=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];if(!r.length)return;n.tweenRunning&&Q(t),o&&n&&i.callbacks.onBeforeUpdate&&"function"==typeof i.callbacks.onBeforeUpdate&&i.callbacks.onBeforeUpdate.call(this),t.hasClass(d[3])&&t.removeClass(d[3]),t.hasClass(d[4])&&t.removeClass(d[4]),l.css("max-height","none"),l.height()!==t.height()&&l.css("max-height",t.height()),_.call(this),"y"===i.axis||i.advanced.autoExpandHorizontalScroll||r.css("width",x(r)),n.overflowed=y.call(this),M.call(this),i.autoDraggerLength&&S.call(this),b.call(this),T.call(this);var c=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==i.axis&&(n.overflowed[0]?s[0].height()>s[0].parent().height()?B.call(this):(G(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),n.contentReset.y=null):(B.call(this),"y"===i.axis?k.call(this):"yx"===i.axis&&n.overflowed[1]&&G(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==i.axis&&(n.overflowed[1]?s[1].width()>s[1].parent().width()?B.call(this):(G(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),n.contentReset.x=null):(B.call(this),"x"===i.axis?k.call(this):"yx"===i.axis&&n.overflowed[0]&&G(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),o&&n&&(2===o&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===o&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),N.call(this)}})},scrollTo:function(t,o){if("undefined"!=typeof t&&null!=t){var n=f.call(this);return e(n).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=e.extend(!0,{},l,o),c=Y.call(this,t),d=s.scrollInertia>0&&s.scrollInertia<17?17:s.scrollInertia;c[0]=X.call(this,c[0],"y"),c[1]=X.call(this,c[1],"x"),s.moveDragger&&(c[0]*=i.scrollRatio.y,c[1]*=i.scrollRatio.x),s.dur=ne()?0:d,setTimeout(function(){null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==r.axis&&i.overflowed[0]&&(s.dir="y",s.overwrite="all",G(n,c[0].toString(),s)),null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==r.axis&&i.overflowed[1]&&(s.dir="x",s.overwrite="none",G(n,c[1].toString(),s))},s.timeout)}})}},stop:function(){var t=f.call(this);return e(t).each(function(){var t=e(this);t.data(a)&&Q(t)})},disable:function(t){var o=f.call(this);return e(o).each(function(){var o=e(this);if(o.data(a)){o.data(a);N.call(this,"remove"),k.call(this),t&&B.call(this),M.call(this,!0),o.addClass(d[3])}})},destroy:function(){var t=f.call(this);return e(t).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx),s=e("#mCSB_"+i.idx+"_container"),c=e(".mCSB_"+i.idx+"_scrollbar");r.live&&m(r.liveSelector||e(t).selector),N.call(this,"remove"),k.call(this),B.call(this),n.removeData(a),$(this,"mcs"),c.remove(),s.find("img."+d[2]).removeClass(d[2]),l.replaceWith(s.contents()),n.removeClass(o+" _"+a+"_"+i.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}})}},f=function(){return"object"!=typeof e(this)||e(this).length<1?n:this},h=function(t){var o=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],a=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],n=["minimal","minimal-dark"],i=["minimal","minimal-dark"],r=["minimal","minimal-dark"];t.autoDraggerLength=e.inArray(t.theme,o)>-1?!1:t.autoDraggerLength,t.autoExpandScrollbar=e.inArray(t.theme,a)>-1?!1:t.autoExpandScrollbar,t.scrollButtons.enable=e.inArray(t.theme,n)>-1?!1:t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,i)>-1?!0:t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,r)>-1?"outside":t.scrollbarPosition},m=function(e){l[e]&&(clearTimeout(l[e]),$(l,e))},p=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},g=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},v=function(){var t=e(this),n=t.data(a),i=n.opt,r=i.autoExpandScrollbar?" "+d[1]+"_expand":"",l=["<div id='mCSB_"+n.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+n.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],s="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===i.axis?l[0]+l[1]:"x"===i.axis?l[1]:l[0],u="yx"===i.axis?"<div id='mCSB_"+n.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",f=i.autoHideScrollbar?" "+d[6]:"",h="x"!==i.axis&&"rtl"===n.langDir?" "+d[7]:"";i.setWidth&&t.css("width",i.setWidth),i.setHeight&&t.css("height",i.setHeight),i.setLeft="y"!==i.axis&&"rtl"===n.langDir?"989999px":i.setLeft,t.addClass(o+" _"+a+"_"+n.idx+f+h).wrapInner("<div id='mCSB_"+n.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+s+"'><div id='mCSB_"+n.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir='"+n.langDir+"' /></div>");var m=e("#mCSB_"+n.idx),p=e("#mCSB_"+n.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||p.css("width",x(p)),"outside"===i.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),m.addClass("mCSB_outside").after(c)):(m.addClass("mCSB_inside").append(c),p.wrap(u)),w.call(this);var g=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},x=function(t){var o=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return e(this).outerWidth(!0)}).get())],a=t.parent().width();return o[0]>a?o[0]:o[1]>a?o[1]:"100%"},_=function(){var t=e(this),o=t.data(a),n=o.opt,i=e("#mCSB_"+o.idx+"_container");if(n.advanced.autoExpandHorizontalScroll&&"y"!==n.axis){i.css({width:"auto","min-width":0,"overflow-x":"scroll"});var r=Math.ceil(i[0].scrollWidth);3===n.advanced.autoExpandHorizontalScroll||2!==n.advanced.autoExpandHorizontalScroll&&r>i.parent().width()?i.css({width:r,"min-width":"100%","overflow-x":"inherit"}):i.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},w=function(){var t=e(this),o=t.data(a),n=o.opt,i=e(".mCSB_"+o.idx+"_scrollbar:first"),r=oe(n.scrollButtons.tabindex)?"tabindex='"+n.scrollButtons.tabindex+"'":"",l=["<a href='#' class='"+d[13]+"' "+r+" />","<a href='#' class='"+d[14]+"' "+r+" />","<a href='#' class='"+d[15]+"' "+r+" />","<a href='#' class='"+d[16]+"' "+r+" />"],s=["x"===n.axis?l[2]:l[0],"x"===n.axis?l[3]:l[1],l[2],l[3]];n.scrollButtons.enable&&i.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])},S=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[n.height()/i.outerHeight(!1),n.width()/i.outerWidth(!1)],c=[parseInt(r[0].css("min-height")),Math.round(l[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(l[1]*r[1].parent().width())],d=s&&c[1]<c[0]?c[0]:c[1],u=s&&c[3]<c[2]?c[2]:c[3];r[0].css({height:d,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),r[1].css({width:u,"max-width":r[1].parent().width()-10})},b=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[i.outerHeight(!1)-n.height(),i.outerWidth(!1)-n.width()],s=[l[0]/(r[0].parent().height()-r[0].height()),l[1]/(r[1].parent().width()-r[1].width())];o.scrollRatio={y:s[0],x:s[1]}},C=function(e,t,o){var a=o?d[0]+"_expanded":"",n=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(d[0]+" "+a),n.toggleClass(d[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(d[0]),n.removeClass(d[1])):(e.addClass(d[0]),n.addClass(d[1])))},y=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=null==o.overflowed?i.height():i.outerHeight(!1),l=null==o.overflowed?i.width():i.outerWidth(!1),s=i[0].scrollHeight,c=i[0].scrollWidth;return s>r&&(r=s),c>l&&(l=c),[r>n.height(),l>n.width()]},B=function(){var t=e(this),o=t.data(a),n=o.opt,i=e("#mCSB_"+o.idx),r=e("#mCSB_"+o.idx+"_container"),l=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];if(Q(t),("x"!==n.axis&&!o.overflowed[0]||"y"===n.axis&&o.overflowed[0])&&(l[0].add(r).css("top",0),G(t,"_resetY")),"y"!==n.axis&&!o.overflowed[1]||"x"===n.axis&&o.overflowed[1]){var s=dx=0;"rtl"===o.langDir&&(s=i.width()-r.outerWidth(!1),dx=Math.abs(s/o.scrollRatio.x)),r.css("left",s),l[1].css("left",dx),G(t,"_resetX")}},T=function(){function t(){r=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(r),W.call(o[0])):t()},100)}var o=e(this),n=o.data(a),i=n.opt;if(!n.bindEvents){if(I.call(this),i.contentTouchScroll&&D.call(this),E.call(this),i.mouseWheel.enable){var r;t()}P.call(this),U.call(this),i.advanced.autoScrollOnFocus&&H.call(this),i.scrollButtons.enable&&F.call(this),i.keyboard.enable&&q.call(this),n.bindEvents=!0}},k=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=".mCSB_"+o.idx+"_scrollbar",l=e("#mCSB_"+o.idx+",#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,"+r+" ."+d[12]+",#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal,"+r+">a"),s=e("#mCSB_"+o.idx+"_container");n.advanced.releaseDraggableSelectors&&l.add(e(n.advanced.releaseDraggableSelectors)),n.advanced.extraDraggableSelectors&&l.add(e(n.advanced.extraDraggableSelectors)),o.bindEvents&&(e(document).add(e(!A()||top.document)).unbind("."+i),l.each(function(){e(this).unbind("."+i)}),clearTimeout(t[0]._focusTimeout),$(t[0],"_focusTimeout"),clearTimeout(o.sequential.step),$(o.sequential,"step"),clearTimeout(s[0].onCompleteTimeout),$(s[0],"onCompleteTimeout"),o.bindEvents=!1)},M=function(t){var o=e(this),n=o.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container_wrapper"),l=r.length?r:e("#mCSB_"+n.idx+"_container"),s=[e("#mCSB_"+n.idx+"_scrollbar_vertical"),e("#mCSB_"+n.idx+"_scrollbar_horizontal")],c=[s[0].find(".mCSB_dragger"),s[1].find(".mCSB_dragger")];"x"!==i.axis&&(n.overflowed[0]&&!t?(s[0].add(c[0]).add(s[0].children("a")).css("display","block"),l.removeClass(d[8]+" "+d[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[0].css("display","none"),l.removeClass(d[10])):(s[0].css("display","none"),l.addClass(d[10])),l.addClass(d[8]))),"y"!==i.axis&&(n.overflowed[1]&&!t?(s[1].add(c[1]).add(s[1].children("a")).css("display","block"),l.removeClass(d[9]+" "+d[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[1].css("display","none"),l.removeClass(d[11])):(s[1].css("display","none"),l.addClass(d[11])),l.addClass(d[9]))),n.overflowed[0]||n.overflowed[1]?o.removeClass(d[5]):o.addClass(d[5])},O=function(t){var o=t.type,a=t.target.ownerDocument!==document&&null!==frameElement?[e(frameElement).offset().top,e(frameElement).offset().left]:null,n=A()&&t.target.ownerDocument!==top.document&&null!==frameElement?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(o){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return a?[t.originalEvent.pageY-a[0]+n[0],t.originalEvent.pageX-a[1]+n[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],r=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[i.screenY,i.screenX,r>1]:[i.pageY,i.pageX,r>1];default:return a?[t.pageY-a[0]+n[0],t.pageX-a[1]+n[1],!1]:[t.pageY,t.pageX,!1]}},I=function(){function t(e,t,a,n){if(h[0].idleTimer=d.scrollInertia<233?250:0,o.attr("id")===f[1])var i="x",s=(o[0].offsetLeft-t+n)*l.scrollRatio.x;else var i="y",s=(o[0].offsetTop-e+a)*l.scrollRatio.y;G(r,s.toString(),{dir:i,drag:!0})}var o,n,i,r=e(this),l=r.data(a),d=l.opt,u=a+"_"+l.idx,f=["mCSB_"+l.idx+"_dragger_vertical","mCSB_"+l.idx+"_dragger_horizontal"],h=e("#mCSB_"+l.idx+"_container"),m=e("#"+f[0]+",#"+f[1]),p=d.advanced.releaseDraggableSelectors?m.add(e(d.advanced.releaseDraggableSelectors)):m,g=d.advanced.extraDraggableSelectors?e(!A()||top.document).add(e(d.advanced.extraDraggableSelectors)):e(!A()||top.document);m.bind("contextmenu."+u,function(e){e.preventDefault()}).bind("mousedown."+u+" touchstart."+u+" pointerdown."+u+" MSPointerDown."+u,function(t){if(t.stopImmediatePropagation(),t.preventDefault(),ee(t)){c=!0,s&&(document.onselectstart=function(){return!1}),L.call(h,!1),Q(r),o=e(this);var a=o.offset(),l=O(t)[0]-a.top,u=O(t)[1]-a.left,f=o.height()+a.top,m=o.width()+a.left;f>l&&l>0&&m>u&&u>0&&(n=l,i=u),C(o,"active",d.autoExpandScrollbar)}}).bind("touchmove."+u,function(e){e.stopImmediatePropagation(),e.preventDefault();var a=o.offset(),r=O(e)[0]-a.top,l=O(e)[1]-a.left;t(n,i,r,l)}),e(document).add(g).bind("mousemove."+u+" pointermove."+u+" MSPointerMove."+u,function(e){if(o){var a=o.offset(),r=O(e)[0]-a.top,l=O(e)[1]-a.left;if(n===r&&i===l)return;t(n,i,r,l)}}).add(p).bind("mouseup."+u+" touchend."+u+" pointerup."+u+" MSPointerUp."+u,function(){o&&(C(o,"active",d.autoExpandScrollbar),o=null),c=!1,s&&(document.onselectstart=null),L.call(h,!0)})},D=function(){function o(e){if(!te(e)||c||O(e)[2])return void(t=0);t=1,b=0,C=0,d=1,y.removeClass("mCS_touch_action");var o=I.offset();u=O(e)[0]-o.top,f=O(e)[1]-o.left,z=[O(e)[0],O(e)[1]]}function n(e){if(te(e)&&!c&&!O(e)[2]&&(T.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!C||b)&&d)){g=K();var t=M.offset(),o=O(e)[0]-t.top,a=O(e)[1]-t.left,n="mcsLinearOut";if(E.push(o),W.push(a),z[2]=Math.abs(O(e)[0]-z[0]),z[3]=Math.abs(O(e)[1]-z[1]),B.overflowed[0])var i=D[0].parent().height()-D[0].height(),r=u-o>0&&o-u>-(i*B.scrollRatio.y)&&(2*z[3]<z[2]||"yx"===T.axis);if(B.overflowed[1])var l=D[1].parent().width()-D[1].width(),h=f-a>0&&a-f>-(l*B.scrollRatio.x)&&(2*z[2]<z[3]||"yx"===T.axis);r||h?(U||e.preventDefault(),b=1):(C=1,y.addClass("mCS_touch_action")),U&&e.preventDefault(),w="yx"===T.axis?[u-o,f-a]:"x"===T.axis?[null,f-a]:[u-o,null],I[0].idleTimer=250,B.overflowed[0]&&s(w[0],R,n,"y","all",!0),B.overflowed[1]&&s(w[1],R,n,"x",L,!0)}}function i(e){if(!te(e)||c||O(e)[2])return void(t=0);t=1,e.stopImmediatePropagation(),Q(y),p=K();var o=M.offset();h=O(e)[0]-o.top,m=O(e)[1]-o.left,E=[],W=[]}function r(e){if(te(e)&&!c&&!O(e)[2]){d=0,e.stopImmediatePropagation(),b=0,C=0,v=K();var t=M.offset(),o=O(e)[0]-t.top,a=O(e)[1]-t.left;if(!(v-g>30)){_=1e3/(v-p);var n="mcsEaseOut",i=2.5>_,r=i?[E[E.length-2],W[W.length-2]]:[0,0];x=i?[o-r[0],a-r[1]]:[o-h,a-m];var u=[Math.abs(x[0]),Math.abs(x[1])];_=i?[Math.abs(x[0]/4),Math.abs(x[1]/4)]:[_,_];var f=[Math.abs(I[0].offsetTop)-x[0]*l(u[0]/_[0],_[0]),Math.abs(I[0].offsetLeft)-x[1]*l(u[1]/_[1],_[1])];w="yx"===T.axis?[f[0],f[1]]:"x"===T.axis?[null,f[1]]:[f[0],null],S=[4*u[0]+T.scrollInertia,4*u[1]+T.scrollInertia];var y=parseInt(T.contentTouchScroll)||0;w[0]=u[0]>y?w[0]:0,w[1]=u[1]>y?w[1]:0,B.overflowed[0]&&s(w[0],S[0],n,"y",L,!1),B.overflowed[1]&&s(w[1],S[1],n,"x",L,!1)}}}function l(e,t){var o=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?o[0]:o[3]:e>60?t>3?o[3]:o[2]:e>30?t>8?o[1]:t>6?o[0]:t>4?t:o[2]:t>8?t:o[3]}function s(e,t,o,a,n,i){e&&G(y,e.toString(),{dur:t,scrollEasing:o,dir:a,overwrite:n,drag:i})}var d,u,f,h,m,p,g,v,x,_,w,S,b,C,y=e(this),B=y.data(a),T=B.opt,k=a+"_"+B.idx,M=e("#mCSB_"+B.idx),I=e("#mCSB_"+B.idx+"_container"),D=[e("#mCSB_"+B.idx+"_dragger_vertical"),e("#mCSB_"+B.idx+"_dragger_horizontal")],E=[],W=[],R=0,L="yx"===T.axis?"none":"all",z=[],P=I.find("iframe"),H=["touchstart."+k+" pointerdown."+k+" MSPointerDown."+k,"touchmove."+k+" pointermove."+k+" MSPointerMove."+k,"touchend."+k+" pointerup."+k+" MSPointerUp."+k],U=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;I.bind(H[0],function(e){o(e)}).bind(H[1],function(e){n(e)}),M.bind(H[0],function(e){i(e)}).bind(H[2],function(e){r(e)}),P.length&&P.each(function(){e(this).bind("load",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind(H[0],function(e){o(e),i(e)}).bind(H[1],function(e){n(e)}).bind(H[2],function(e){r(e)})})})},E=function(){function o(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function n(e,t,o){d.type=o&&i?"stepped":"stepless",d.scrollAmount=10,j(r,e,t,"mcsLinearOut",o?60:null)}var i,r=e(this),l=r.data(a),s=l.opt,d=l.sequential,u=a+"_"+l.idx,f=e("#mCSB_"+l.idx+"_container"),h=f.parent();f.bind("mousedown."+u,function(){t||i||(i=1,c=!0)}).add(document).bind("mousemove."+u,function(e){if(!t&&i&&o()){var a=f.offset(),r=O(e)[0]-a.top+f[0].offsetTop,c=O(e)[1]-a.left+f[0].offsetLeft;r>0&&r<h.height()&&c>0&&c<h.width()?d.step&&n("off",null,"stepped"):("x"!==s.axis&&l.overflowed[0]&&(0>r?n("on",38):r>h.height()&&n("on",40)),"y"!==s.axis&&l.overflowed[1]&&(0>c?n("on",37):c>h.width()&&n("on",39)))}}).bind("mouseup."+u+" dragend."+u,function(){t||(i&&(i=0,n("off",null)),c=!1)})},W=function(){function t(t,a){if(Q(o),!z(o,t.target)){var r="auto"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):s&&t.deltaFactor<100?100:t.deltaFactor||100,d=i.scrollInertia;if("x"===i.axis||"x"===i.mouseWheel.axis)var u="x",f=[Math.round(r*n.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.width()?.9*l.width():f[0],m=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetLeft),p=c[1][0].offsetLeft,g=c[1].parent().width()-c[1].width(),v="y"===i.mouseWheel.axis?t.deltaY||a:t.deltaX;else var u="y",f=[Math.round(r*n.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.height()?.9*l.height():f[0],m=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetTop),p=c[0][0].offsetTop,g=c[0].parent().height()-c[0].height(),v=t.deltaY||a;"y"===u&&!n.overflowed[0]||"x"===u&&!n.overflowed[1]||((i.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(v=-v),i.mouseWheel.normalizeDelta&&(v=0>v?-1:1),(v>0&&0!==p||0>v&&p!==g||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!i.mouseWheel.normalizeDelta&&(h=t.deltaFactor,d=17),G(o,(m-v*h).toString(),{dir:u,dur:d}))}}if(e(this).data(a)){var o=e(this),n=o.data(a),i=n.opt,r=a+"_"+n.idx,l=e("#mCSB_"+n.idx),c=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],d=e("#mCSB_"+n.idx+"_container").find("iframe");d.length&&d.each(function(){e(this).bind("load",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+r,function(e,o){t(e,o)})})}),l.bind("mousewheel."+r,function(e,o){t(e,o)})}},R=new Object,A=function(t){var o=!1,a=!1,n=null;if(void 0===t?a="#empty":void 0!==e(t).attr("id")&&(a=e(t).attr("id")),a!==!1&&void 0!==R[a])return R[a];if(t){try{var i=t.contentDocument||t.contentWindow.document;n=i.body.innerHTML}catch(r){}o=null!==n}else{try{var i=top.document;n=i.body.innerHTML}catch(r){}o=null!==n}return a!==!1&&(R[a]=o),o},L=function(e){var t=this.find("iframe");if(t.length){var o=e?"auto":"none";t.css("pointer-events",o)}},z=function(t,o){var n=o.nodeName.toLowerCase(),i=t.data(a).opt.mouseWheel.disableOver,r=["select","textarea"];return e.inArray(n,i)>-1&&!(e.inArray(n,r)>-1&&!e(o).is(":focus"))},P=function(){var t,o=e(this),n=o.data(a),i=a+"_"+n.idx,r=e("#mCSB_"+n.idx+"_container"),l=r.parent(),s=e(".mCSB_"+n.idx+"_scrollbar ."+d[12]);s.bind("mousedown."+i+" touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,function(o){c=!0,e(o.target).hasClass("mCSB_dragger")||(t=1)}).bind("touchend."+i+" pointerup."+i+" MSPointerUp."+i,function(){c=!1}).bind("click."+i,function(a){if(t&&(t=0,e(a.target).hasClass(d[12])||e(a.target).hasClass("mCSB_draggerRail"))){Q(o);var i=e(this),s=i.find(".mCSB_dragger");if(i.parent(".mCSB_scrollTools_horizontal").length>0){if(!n.overflowed[1])return;var c="x",u=a.pageX>s.offset().left?-1:1,f=Math.abs(r[0].offsetLeft)-u*(.9*l.width())}else{if(!n.overflowed[0])return;var c="y",u=a.pageY>s.offset().top?-1:1,f=Math.abs(r[0].offsetTop)-u*(.9*l.height())}G(o,f.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},H=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=e("#mCSB_"+o.idx+"_container"),l=r.parent();r.bind("focusin."+i,function(){var o=e(document.activeElement),a=r.find(".mCustomScrollBox").length,i=0;o.is(n.advanced.autoScrollOnFocus)&&(Q(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=a?(i+17)*a:0,t[0]._focusTimeout=setTimeout(function(){var e=[ae(o)[0],ae(o)[1]],a=[r[0].offsetTop,r[0].offsetLeft],s=[a[0]+e[0]>=0&&a[0]+e[0]<l.height()-o.outerHeight(!1),a[1]+e[1]>=0&&a[0]+e[1]<l.width()-o.outerWidth(!1)],c="yx"!==n.axis||s[0]||s[1]?"all":"none";"x"===n.axis||s[0]||G(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:i}),"y"===n.axis||s[1]||G(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:i})},t[0]._focusTimer))})},U=function(){var t=e(this),o=t.data(a),n=a+"_"+o.idx,i=e("#mCSB_"+o.idx+"_container").parent();i.bind("scroll."+n,function(){0===i.scrollTop()&&0===i.scrollLeft()||e(".mCSB_"+o.idx+"_scrollbar").css("visibility","hidden")})},F=function(){var t=e(this),o=t.data(a),n=o.opt,i=o.sequential,r=a+"_"+o.idx,l=".mCSB_"+o.idx+"_scrollbar",s=e(l+">a");s.bind("contextmenu."+r,function(e){e.preventDefault()}).bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,function(a){function r(e,o){i.scrollAmount=n.scrollButtons.scrollAmount,j(t,e,o)}if(a.preventDefault(),ee(a)){var l=e(this).attr("class");switch(i.type=n.scrollButtons.scrollType,a.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===i.type)return;c=!0,o.tweenRunning=!1,r("on",l);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===i.type)return;c=!1,i.dir&&r("off",l);break;case"click":if("stepped"!==i.type||o.tweenRunning)return;r("on",l)}}})},q=function(){function t(t){function a(e,t){r.type=i.keyboard.scrollType,r.scrollAmount=i.keyboard.scrollAmount,"stepped"===r.type&&n.tweenRunning||j(o,e,t)}switch(t.type){case"blur":n.tweenRunning&&r.dir&&a("off",null);break;case"keydown":case"keyup":var l=t.keyCode?t.keyCode:t.which,s="on";if("x"!==i.axis&&(38===l||40===l)||"y"!==i.axis&&(37===l||39===l)){if((38===l||40===l)&&!n.overflowed[0]||(37===l||39===l)&&!n.overflowed[1])return;"keyup"===t.type&&(s="off"),e(document.activeElement).is(u)||(t.preventDefault(),t.stopImmediatePropagation(),a(s,l))}else if(33===l||34===l){if((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){Q(o);var f=34===l?-1:1;if("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=Math.abs(c[0].offsetLeft)-f*(.9*d.width());else var h="y",m=Math.abs(c[0].offsetTop)-f*(.9*d.height());G(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}else if((35===l||36===l)&&!e(document.activeElement).is(u)&&((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=35===l?Math.abs(d.width()-c.outerWidth(!1)):0;else var h="y",m=35===l?Math.abs(d.height()-c.outerHeight(!1)):0;G(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}}var o=e(this),n=o.data(a),i=n.opt,r=n.sequential,l=a+"_"+n.idx,s=e("#mCSB_"+n.idx),c=e("#mCSB_"+n.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']",f=c.find("iframe"),h=["blur."+l+" keydown."+l+" keyup."+l];f.length&&f.each(function(){e(this).bind("load",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind(h[0],function(e){t(e)})})}),s.attr("tabindex","0").bind(h[0],function(e){t(e)})},j=function(t,o,n,i,r){function l(e){u.snapAmount&&(f.scrollAmount=u.snapAmount instanceof Array?"x"===f.dir[0]?u.snapAmount[1]:u.snapAmount[0]:u.snapAmount);var o="stepped"!==f.type,a=r?r:e?o?p/1.5:g:1e3/60,n=e?o?7.5:40:2.5,s=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],d=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],m="x"===f.dir[0]?s[1]+f.dir[1]*(d[1]*n):s[0]+f.dir[1]*(d[0]*n),v="x"===f.dir[0]?s[1]+f.dir[1]*parseInt(f.scrollAmount):s[0]+f.dir[1]*parseInt(f.scrollAmount),x="auto"!==f.scrollAmount?v:m,_=i?i:e?o?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",w=!!e;return e&&17>a&&(x="x"===f.dir[0]?s[1]:s[0]),G(t,x.toString(),{dir:f.dir[0],scrollEasing:_,dur:a,onComplete:w}),e?void(f.dir=!1):(clearTimeout(f.step),void(f.step=setTimeout(function(){l()},a)))}function s(){clearTimeout(f.step),$(f,"step"),Q(t)}var c=t.data(a),u=c.opt,f=c.sequential,h=e("#mCSB_"+c.idx+"_container"),m="stepped"===f.type,p=u.scrollInertia<26?26:u.scrollInertia,g=u.scrollInertia<1?17:u.scrollInertia;switch(o){case"on":if(f.dir=[n===d[16]||n===d[15]||39===n||37===n?"x":"y",n===d[13]||n===d[15]||38===n||37===n?-1:1],Q(t),oe(n)&&"stepped"===f.type)return;l(m);break;case"off":s(),(m||c.tweenRunning&&f.dir)&&l(!0)}},Y=function(t){var o=e(this).data(a).opt,n=[];return"function"==typeof t&&(t=t()),t instanceof Array?n=t.length>1?[t[0],t[1]]:"x"===o.axis?[null,t[0]]:[t[0],null]:(n[0]=t.y?t.y:t.x||"x"===o.axis?null:t,n[1]=t.x?t.x:t.y||"y"===o.axis?null:t),"function"==typeof n[0]&&(n[0]=n[0]()),"function"==typeof n[1]&&(n[1]=n[1]()),n},X=function(t,o){if(null!=t&&"undefined"!=typeof t){var n=e(this),i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx+"_container"),s=l.parent(),c=typeof t;o||(o="x"===r.axis?"x":"y");var d="x"===o?l.outerWidth(!1)-s.width():l.outerHeight(!1)-s.height(),f="x"===o?l[0].offsetLeft:l[0].offsetTop,h="x"===o?"left":"top";switch(c){case"function":return t();case"object":var m=t.jquery?t:e(t);if(!m.length)return;return"x"===o?ae(m)[1]:ae(m)[0];case"string":case"number":if(oe(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(f-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var p=f+parseInt(t.split("+=")[1]);return p>=0?0:Math.abs(p)}if(-1!==t.indexOf("px")&&oe(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(s.height()-l.outerHeight(!1));if("right"===t)return Math.abs(s.width()-l.outerWidth(!1));if("first"===t||"last"===t){var m=l.find(":"+t);return"x"===o?ae(m)[1]:ae(m)[0]}return e(t).length?"x"===o?ae(e(t))[1]:ae(e(t))[0]:(l.css(h,t),void u.update.call(null,n[0]))}}},N=function(t){function o(){return clearTimeout(f[0].autoUpdate),0===l.parents("html").length?void(l=null):void(f[0].autoUpdate=setTimeout(function(){return c.advanced.updateOnSelectorChange&&(s.poll.change.n=i(),s.poll.change.n!==s.poll.change.o)?(s.poll.change.o=s.poll.change.n,void r(3)):c.advanced.updateOnContentResize&&(s.poll.size.n=l[0].scrollHeight+l[0].scrollWidth+f[0].offsetHeight+l[0].offsetHeight+l[0].offsetWidth,s.poll.size.n!==s.poll.size.o)?(s.poll.size.o=s.poll.size.n,void r(1)):!c.advanced.updateOnImageLoad||"auto"===c.advanced.updateOnImageLoad&&"y"===c.axis||(s.poll.img.n=f.find("img").length,s.poll.img.n===s.poll.img.o)?void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&o()):(s.poll.img.o=s.poll.img.n,void f.find("img").each(function(){n(this)}))},c.advanced.autoUpdateTimeout))}function n(t){function o(e,t){return function(){
return t.apply(e,arguments)}}function a(){this.onload=null,e(t).addClass(d[2]),r(2)}if(e(t).hasClass(d[2]))return void r();var n=new Image;n.onload=o(n,a),n.src=t.src}function i(){c.advanced.updateOnSelectorChange===!0&&(c.advanced.updateOnSelectorChange="*");var e=0,t=f.find(c.advanced.updateOnSelectorChange);return c.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}function r(e){clearTimeout(f[0].autoUpdate),u.update.call(null,l[0],e)}var l=e(this),s=l.data(a),c=s.opt,f=e("#mCSB_"+s.idx+"_container");return t?(clearTimeout(f[0].autoUpdate),void $(f[0],"autoUpdate")):void o()},V=function(e,t,o){return Math.round(e/t)*t-o},Q=function(t){var o=t.data(a),n=e("#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal");n.each(function(){Z.call(this)})},G=function(t,o,n){function i(e){return s&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function r(){return[c.callbacks.alwaysTriggerOffsets||w>=S[0]+y,c.callbacks.alwaysTriggerOffsets||-B>=w]}function l(){var e=[h[0].offsetTop,h[0].offsetLeft],o=[x[0].offsetTop,x[0].offsetLeft],a=[h.outerHeight(!1),h.outerWidth(!1)],i=[f.height(),f.width()];t[0].mcs={content:h,top:e[0],left:e[1],draggerTop:o[0],draggerLeft:o[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(a[0])-i[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(a[1])-i[1])),direction:n.dir}}var s=t.data(a),c=s.opt,d={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},n=e.extend(d,n),u=[n.dur,n.drag?0:n.dur],f=e("#mCSB_"+s.idx),h=e("#mCSB_"+s.idx+"_container"),m=h.parent(),p=c.callbacks.onTotalScrollOffset?Y.call(t,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?Y.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(s.trigger=n.trigger,0===m.scrollTop()&&0===m.scrollLeft()||(e(".mCSB_"+s.idx+"_scrollbar").css("visibility","visible"),m.scrollTop(0).scrollLeft(0)),"_resetY"!==o||s.contentReset.y||(i("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),"_resetX"!==o||s.contentReset.x||(i("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1),"_resetY"!==o&&"_resetX"!==o){if(!s.contentReset.y&&t[0].mcs||!s.overflowed[0]||(i("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),!s.contentReset.x&&t[0].mcs||!s.overflowed[1]||(i("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null),c.snapAmount){var v=c.snapAmount instanceof Array?"x"===n.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;o=V(o,v,c.snapOffset)}switch(n.dir){case"x":var x=e("#mCSB_"+s.idx+"_dragger_horizontal"),_="left",w=h[0].offsetLeft,S=[f.width()-h.outerWidth(!1),x.parent().width()-x.width()],b=[o,0===o?0:o/s.scrollRatio.x],y=p[1],B=g[1],T=y>0?y/s.scrollRatio.x:0,k=B>0?B/s.scrollRatio.x:0;break;case"y":var x=e("#mCSB_"+s.idx+"_dragger_vertical"),_="top",w=h[0].offsetTop,S=[f.height()-h.outerHeight(!1),x.parent().height()-x.height()],b=[o,0===o?0:o/s.scrollRatio.y],y=p[0],B=g[0],T=y>0?y/s.scrollRatio.y:0,k=B>0?B/s.scrollRatio.y:0}b[1]<0||0===b[0]&&0===b[1]?b=[0,0]:b[1]>=S[1]?b=[S[0],S[1]]:b[0]=-b[0],t[0].mcs||(l(),i("onInit")&&c.callbacks.onInit.call(t[0])),clearTimeout(h[0].onCompleteTimeout),J(x[0],_,Math.round(b[1]),u[1],n.scrollEasing),!s.tweenRunning&&(0===w&&b[0]>=0||w===S[0]&&b[0]<=S[0])||J(h[0],_,Math.round(b[0]),u[0],n.scrollEasing,n.overwrite,{onStart:function(){n.callbacks&&n.onStart&&!s.tweenRunning&&(i("onScrollStart")&&(l(),c.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,C(x),s.cbOffsets=r())},onUpdate:function(){n.callbacks&&n.onUpdate&&i("whileScrolling")&&(l(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(n.callbacks&&n.onComplete){"yx"===c.axis&&clearTimeout(h[0].onCompleteTimeout);var e=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout(function(){i("onScroll")&&(l(),c.callbacks.onScroll.call(t[0])),i("onTotalScroll")&&b[1]>=S[1]-T&&s.cbOffsets[0]&&(l(),c.callbacks.onTotalScroll.call(t[0])),i("onTotalScrollBack")&&b[1]<=k&&s.cbOffsets[1]&&(l(),c.callbacks.onTotalScrollBack.call(t[0])),s.tweenRunning=!1,h[0].idleTimer=0,C(x,"hide")},e)}}})}},J=function(e,t,o,a,n,i,r){function l(){S.stop||(x||m.call(),x=K()-v,s(),x>=S.time&&(S.time=x>S.time?x+f-(x-S.time):x+f-1,S.time<x+1&&(S.time=x+1)),S.time<a?S.id=h(l):g.call())}function s(){a>0?(S.currVal=u(S.time,_,b,a,n),w[t]=Math.round(S.currVal)+"px"):w[t]=o+"px",p.call()}function c(){f=1e3/60,S.time=x+f,h=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return s(),setTimeout(e,.01)},S.id=h(l)}function d(){null!=S.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(S.id):clearTimeout(S.id),S.id=null)}function u(e,t,o,a,n){switch(n){case"linear":case"mcsLinear":return o*e/a+t;case"mcsLinearOut":return e/=a,e--,o*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=a/2,1>e?o/2*e*e+t:(e--,-o/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=a/2,1>e?o/2*Math.pow(2,10*(e-1))+t:(e--,o/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":case"mcsEaseInOut":return e/=a/2,1>e?o/2*e*e*e+t:(e-=2,o/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=a,e--,-o*(e*e*e*e-1)+t;case"easeOutStrong":return o*(-Math.pow(2,-10*e/a)+1)+t;case"easeOut":case"mcsEaseOut":default:var i=(e/=a)*e,r=i*e;return t+o*(.499999999999997*r*i+-2.5*i*i+5.5*r+-6.5*i+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var f,h,r=r||{},m=r.onStart||function(){},p=r.onUpdate||function(){},g=r.onComplete||function(){},v=K(),x=0,_=e.offsetTop,w=e.style,S=e._mTween[t];"left"===t&&(_=e.offsetLeft);var b=o-_;S.stop=0,"none"!==i&&d(),c()},K=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Z=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],o=0;o<t.length;o++){var a=t[o];e._mTween[a].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[a].id):clearTimeout(e._mTween[a].id),e._mTween[a].id=null,e._mTween[a].stop=1)}},$=function(e,t){try{delete e[t]}catch(o){e[t]=null}},ee=function(e){return!(e.which&&1!==e.which)},te=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},oe=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ae=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},ne=function(){function e(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}var t=e();return t?document[t]:!1};e.fn[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o].defaults=i,window[o]=!0,e(window).bind("load",function(){e(n)[o](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var o,a,n=e(t),i=n.parents(".mCSB_container");if(i.length)return o=i.parent(),a=[i[0].offsetTop,i[0].offsetLeft],a[0]+ae(n)[0]>=0&&a[0]+ae(n)[0]<o.height()-n.outerHeight(!1)&&a[1]+ae(n)[1]>=0&&a[1]+ae(n)[1]<o.width()-n.outerWidth(!1)},mcsInSight:e.expr[":"].mcsInSight||function(t,o,a){var n,i,r,l,s=e(t),c=s.parents(".mCSB_container"),d="exact"===a[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return n=[s.outerHeight(!1),s.outerWidth(!1)],r=[c[0].offsetTop+ae(s)[0],c[0].offsetLeft+ae(s)[1]],i=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],l=[n[0]<i[0]?d[0]:d[1],n[1]<i[1]?d[0]:d[1]],r[0]-i[0]*l[0][0]<0&&r[0]+n[0]-i[0]*l[0][1]>=0&&r[1]-i[1]*l[1][0]<0&&r[1]+n[1]-i[1]*l[1][1]>=0},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var o=e(t).data(a);if(o)return o.overflowed[0]||o.overflowed[1]}})})})});
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AOS=t():e.AOS=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="dist/",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(1),a=(o(r),n(6)),u=o(a),c=n(7),s=o(c),f=n(8),d=o(f),l=n(9),p=o(l),m=n(10),b=o(m),v=n(11),y=o(v),g=n(14),h=o(g),w=[],k=!1,x={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},j=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&(k=!0),k)return w=(0,y.default)(w,x),(0,b.default)(w,x.once),w},O=function(){w=(0,h.default)(),j()},M=function(){w.forEach(function(e,t){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay")})},S=function(e){return e===!0||"mobile"===e&&p.default.mobile()||"phone"===e&&p.default.phone()||"tablet"===e&&p.default.tablet()||"function"==typeof e&&e()===!0},_=function(e){x=i(x,e),w=(0,h.default)();var t=document.all&&!window.atob;return S(x.disable)||t?M():(x.disableMutationObserver||d.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),x.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",x.easing),document.querySelector("body").setAttribute("data-aos-duration",x.duration),document.querySelector("body").setAttribute("data-aos-delay",x.delay),"DOMContentLoaded"===x.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?j(!0):"load"===x.startEvent?window.addEventListener(x.startEvent,function(){j(!0)}):document.addEventListener(x.startEvent,function(){j(!0)}),window.addEventListener("resize",(0,s.default)(j,x.debounceDelay,!0)),window.addEventListener("orientationchange",(0,s.default)(j,x.debounceDelay,!0)),window.addEventListener("scroll",(0,u.default)(function(){(0,b.default)(w,x.once)},x.throttleDelay)),x.disableMutationObserver||d.default.ready("[data-aos]",O),w)};e.exports={init:_,refresh:j,refreshHard:O}},function(e,t){},,,,,function(e,t){(function(t){"use strict";function n(e,t,n){function o(t){var n=b,o=v;return b=v=void 0,k=t,g=e.apply(o,n)}function r(e){return k=e,h=setTimeout(f,t),M?o(e):g}function a(e){var n=e-w,o=e-k,i=t-n;return S?j(i,y-o):i}function c(e){var n=e-w,o=e-k;return void 0===w||n>=t||n<0||S&&o>=y}function f(){var e=O();return c(e)?d(e):void(h=setTimeout(f,a(e)))}function d(e){return h=void 0,_&&b?o(e):(b=v=void 0,g)}function l(){void 0!==h&&clearTimeout(h),k=0,b=w=v=h=void 0}function p(){return void 0===h?g:d(O())}function m(){var e=O(),n=c(e);if(b=arguments,v=this,w=e,n){if(void 0===h)return r(w);if(S)return h=setTimeout(f,t),o(w)}return void 0===h&&(h=setTimeout(f,t)),g}var b,v,y,g,h,w,k=0,M=!1,S=!1,_=!0;if("function"!=typeof e)throw new TypeError(s);return t=u(t)||0,i(n)&&(M=!!n.leading,S="maxWait"in n,y=S?x(u(n.maxWait)||0,t):y,_="trailing"in n?!!n.trailing:_),m.cancel=l,m.flush=p,m}function o(e,t,o){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError(s);return i(o)&&(r="leading"in o?!!o.leading:r,a="trailing"in o?!!o.trailing:a),n(e,t,{leading:r,maxWait:t,trailing:a})}function i(e){var t="undefined"==typeof e?"undefined":c(e);return!!e&&("object"==t||"function"==t)}function r(e){return!!e&&"object"==("undefined"==typeof e?"undefined":c(e))}function a(e){return"symbol"==("undefined"==typeof e?"undefined":c(e))||r(e)&&k.call(e)==d}function u(e){if("number"==typeof e)return e;if(a(e))return f;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(l,"");var n=m.test(e);return n||b.test(e)?v(e.slice(2),n?2:8):p.test(e)?f:+e}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s="Expected a function",f=NaN,d="[object Symbol]",l=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,b=/^0o[0-7]+$/i,v=parseInt,y="object"==("undefined"==typeof t?"undefined":c(t))&&t&&t.Object===Object&&t,g="object"==("undefined"==typeof self?"undefined":c(self))&&self&&self.Object===Object&&self,h=y||g||Function("return this")(),w=Object.prototype,k=w.toString,x=Math.max,j=Math.min,O=function(){return h.Date.now()};e.exports=o}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";function n(e,t,n){function i(t){var n=b,o=v;return b=v=void 0,O=t,g=e.apply(o,n)}function r(e){return O=e,h=setTimeout(f,t),M?i(e):g}function u(e){var n=e-w,o=e-O,i=t-n;return S?x(i,y-o):i}function s(e){var n=e-w,o=e-O;return void 0===w||n>=t||n<0||S&&o>=y}function f(){var e=j();return s(e)?d(e):void(h=setTimeout(f,u(e)))}function d(e){return h=void 0,_&&b?i(e):(b=v=void 0,g)}function l(){void 0!==h&&clearTimeout(h),O=0,b=w=v=h=void 0}function p(){return void 0===h?g:d(j())}function m(){var e=j(),n=s(e);if(b=arguments,v=this,w=e,n){if(void 0===h)return r(w);if(S)return h=setTimeout(f,t),i(w)}return void 0===h&&(h=setTimeout(f,t)),g}var b,v,y,g,h,w,O=0,M=!1,S=!1,_=!0;if("function"!=typeof e)throw new TypeError(c);return t=a(t)||0,o(n)&&(M=!!n.leading,S="maxWait"in n,y=S?k(a(n.maxWait)||0,t):y,_="trailing"in n?!!n.trailing:_),m.cancel=l,m.flush=p,m}function o(e){var t="undefined"==typeof e?"undefined":u(e);return!!e&&("object"==t||"function"==t)}function i(e){return!!e&&"object"==("undefined"==typeof e?"undefined":u(e))}function r(e){return"symbol"==("undefined"==typeof e?"undefined":u(e))||i(e)&&w.call(e)==f}function a(e){if("number"==typeof e)return e;if(r(e))return s;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(d,"");var n=p.test(e);return n||m.test(e)?b(e.slice(2),n?2:8):l.test(e)?s:+e}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c="Expected a function",s=NaN,f="[object Symbol]",d=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,m=/^0o[0-7]+$/i,b=parseInt,v="object"==("undefined"==typeof t?"undefined":u(t))&&t&&t.Object===Object&&t,y="object"==("undefined"==typeof self?"undefined":u(self))&&self&&self.Object===Object&&self,g=v||y||Function("return this")(),h=Object.prototype,w=h.toString,k=Math.max,x=Math.min,j=function(){return g.Date.now()};e.exports=n}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t=void 0,o=void 0,i=void 0;for(t=0;t<e.length;t+=1){if(o=e[t],o.dataset&&o.dataset.aos)return!0;if(i=o.children&&n(o.children))return!0}return!1}function o(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function i(){return!!o()}function r(e,t){var n=window.document,i=o(),r=new i(a);u=t,r.observe(n.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function a(e){e&&e.forEach(function(e){var t=Array.prototype.slice.call(e.addedNodes),o=Array.prototype.slice.call(e.removedNodes),i=t.concat(o);if(n(i))return u()})}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){};t.default={isSupported:i,ready:r}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,u=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,s=function(){function e(){n(this,e)}return i(e,[{key:"phone",value:function(){var e=o();return!(!r.test(e)&&!a.test(e.substr(0,4)))}},{key:"mobile",value:function(){var e=o();return!(!u.test(e)&&!c.test(e.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),e}();t.default=new s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){var o=e.node.getAttribute("data-aos-once");t>e.position?e.node.classList.add("aos-animate"):"undefined"!=typeof o&&("false"===o||!n&&"true"!==o)&&e.node.classList.remove("aos-animate")},o=function(e,t){var o=window.pageYOffset,i=window.innerHeight;e.forEach(function(e,r){n(e,i+o,t)})};t.default=o},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),r=o(i),a=function(e,t){return e.forEach(function(e,n){e.node.classList.add("aos-init"),e.position=(0,r.default)(e.node,t.offset)}),e};t.default=a},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),r=o(i),a=function(e,t){var n=0,o=0,i=window.innerHeight,a={offset:e.getAttribute("data-aos-offset"),anchor:e.getAttribute("data-aos-anchor"),anchorPlacement:e.getAttribute("data-aos-anchor-placement")};switch(a.offset&&!isNaN(a.offset)&&(o=parseInt(a.offset)),a.anchor&&document.querySelectorAll(a.anchor)&&(e=document.querySelectorAll(a.anchor)[0]),n=(0,r.default)(e).top,a.anchorPlacement){case"top-bottom":break;case"center-bottom":n+=e.offsetHeight/2;break;case"bottom-bottom":n+=e.offsetHeight;break;case"top-center":n+=i/2;break;case"bottom-center":n+=i/2+e.offsetHeight;break;case"center-center":n+=i/2+e.offsetHeight/2;break;case"top-top":n+=i;break;case"bottom-top":n+=e.offsetHeight+i;break;case"center-top":n+=e.offsetHeight/2+i}return a.anchorPlacement||a.offset||isNaN(t)||(o=t),n+o};t.default=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-("BODY"!=e.tagName?e.scrollLeft:0),n+=e.offsetTop-("BODY"!=e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:n,left:t}};t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e=e||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(e,function(e){return{node:e}})};t.default=n}])});
"use strict";!function(){function e(e){var s={timeouts:{}};return s.settings=$.extend(!0,{},{parent:{selector:"[data-parent=theme-more]",dependencyAttr:"data-dependency",expandedClass:"expanded",collapsedClass:"collapsed",escapedClass:"escaped"},trigger:{selector:"[data-trigger=theme-more]",expandedText:"Less",collapsedText:"More"}},e),s.settings.parent&&s.settings.parent.selector&&s.settings.trigger&&s.settings.trigger.selector?(s.init=t,s.reload=function(){return r(),t()},s.destroy=r,s.rerun=u,s.applyDependency=f,t()):s;function t(){return s.$parent=$(s.settings.parent.selector),s.$trigger=c(s.$parent),s.$window=$(window),$.each(s.$parent,(function(e,s){n($(s))})),s.$trigger.on("click",i),s.$window.on("resize gestureend syvo:pinchend orientationchange",a),s.inited=!0,s}function r(){return s.$trigger.off("click",i),s.$window.off("resize gestureend syvo:pinchend orientationchange",a),$.each(s.$parent,(function(e,s){o($(s))})),s.$parent=$(),s.$trigger=$(),s.inited=!1,s}function n(e){g(e)||w(e)||l(e),f(e)}function o(e){!function(e){c(e).text(s.settings.trigger.collapsedText),e.removeClass(s.settings.parent.expandedClass).removeClass(s.settings.parent.collapsedClass)}(e),v(e),p(e)}function i(e){var t,r;e.preventDefault(),t=$(this),g(r=function(e){return e.closest(s.settings.parent.selector)}(t))?function(e){c(e).text(s.settings.trigger.expandedText),e.removeClass(s.settings.parent.collapsedClass).addClass(s.settings.parent.expandedClass)}(r):w(r)&&l(r)}function a(){u()}function c(e){return e.find(s.settings.trigger.selector)}function l(e){c(e).text(s.settings.trigger.collapsedText),e.removeClass(s.settings.parent.expandedClass).addClass(s.settings.parent.collapsedClass)}function d(e){e.addClass(s.settings.parent.escapedClass)}function p(e){e.removeClass(s.settings.parent.escapedClass)}function g(e){return e.hasClass(s.settings.parent.collapsedClass)}function w(e){return e.hasClass(s.settings.parent.expandedClass)}function u(e){o(e),clearTimeout(s.timeouts.windowResize),s.timeouts.windowResize=setTimeout((function(){n(e)}),500)}function f(e,t){var r=e.attr(s.settings.parent.dependencyAttr);if(!r)return d(e),void v(e);var n=$(r);if(0===n.length)return d(e),void v(e);var o=n.offset().top+n.height(),i=e.offset().top,a=i+e.height(),l=c(e).height();if(i>o?v(e):e.css("max-height",o-i+l),a>o)p(e);else{if(t)return;d(e)}}function v(e){e.css("max-height","")}}$(document).ready((function(){var s;Common.initAccordeonListingFilter(992),Common.initToggleAccordeon(),"function"==typeof $.fn.slick&&(Common.initResponsiveSlick(992,".featured-products .product-list > .list",{slidesToShow:4,arrows:!0,dots:!1,focusOnSelect:!1,prevArrow:"<div class='slick-arrow slick-prev products-arrow'><span class='arrow'></span></div>",nextArrow:"<div class='slick-arrow slick-next products-arrow'><span class='arrow'></span></div>"},{slidesToShow:2,rows:2,slidesToScroll:2,arrows:!1,dots:!1,focusOnSelect:!0,infinite:!0}),$(".featured-events > .list").slick({slidesToShow:4,slidesToScroll:1,dots:!1,focusOnSelect:!1,arrows:!0,prevArrow:"<div class='slick-arrow slick-prev products-arrow'><span class='arrow'></span></div>",nextArrow:"<div class='slick-arrow slick-next products-arrow'><span class='arrow'></span></div>",responsive:[{breakpoint:992,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:1}}]}),$(".instagram-feed > .list").slick({slidesToShow:6,slidesToScroll:1,dots:!1,focusOnSelect:!1,arrows:!0,prevArrow:"<div class='slick-arrow slick-prev products-arrow'><span class='arrow'></span></div>",nextArrow:"<div class='slick-arrow slick-next products-arrow'><span class='arrow'></span></div>",responsive:[{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2,arrows:!1}}]}),$(".slick-main").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,asNavFor:".slick-controls"}),$(".slick-controls").slick({slidesToShow:6,slidesToScroll:1,asNavFor:".slick-main",arrows:!0,focusOnSelect:!0,vertical:!0,verticalSwiping:!0,prevArrow:"<span class='top-arrow'></span>",nextArrow:"<span class='bottom-arrow'></span>",responsive:[{breakpoint:1200,settings:{slidesToShow:4}},{breakpoint:768,settings:{slidesToShow:4,vertical:!1,centerMode:!0,verticalSwiping:!1,centerPadding:"50px",prevArrow:"<span class='left-arrow'></span>",nextArrow:"<span class='right-arrow'></span>"}}]})),Common.initFixes(),Common.bindEvents(),$.fixedHeader(),CommonMonCherry.findInStore($(".moncheri-pdp .product-actions[data-property='sticky-submit-parent']"),$("[data-property='fixed-header']")),s=e(),$(".details-cmp .option .nav-tabs [data-toggle=tab]").on("shown.bs.tab",(function(){var t=$($(this).attr("href"));s.inited?(t.parent(),s.applyDependency(t,!0)):s=e()}))}))}();